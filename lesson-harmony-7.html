<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title id="mpl-page-title">Lesson 7 · Harmony & Melody · Stepwise Melody | Music Producer Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" id="mpl-meta-description" content="Lesson 7 from Music Producer Lab: expand beyond chord tones using the C major scale safely. Learn to add passing tones for smooth, professional-sounding melodies." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>

    <main class="main-content container">

        <!-- HERO SECTION -->
        <section class="hero" id="mpl-hero" aria-label="Lesson hero">
          <div class="hero-copy">
            <div class="hero-copy-eyebrow">Harmony & Melody · Lesson 7</div>
            <h1 class="hero-title">
              <span>Stepwise Melody:</span>
              <span id="mpl-hero-title-highlight">Use the Scale</span>
            </h1>
            <p class="hero-subtitle">
              Expand beyond chord tones using the C major scale safely. You'll add "passing tones" between chord tones to create smooth, flowing melodies with professional stepwise motion. This teaches you how to use scale notes as travel notes between your stable anchor points.
            </p>
          </div>

          <aside class="hero-visual" aria-hidden="true">
            <div class="hero-visual-header">
              <div class="hero-visual-title">Premium lesson</div>
              <div class="hero-visual-pill">Scale melody</div>
            </div>
            <div class="hero-visual-grid">
              <div class="hero-visual-main">
                <div class="hero-visual-main-title"><span>Passing Tones</span> · 110 BPM</div>
                <div class="hero-visual-waves">
                  <div class="hero-visual-wave"></div>
                  <div class="hero-visual-wave"></div>
                  <div class="hero-visual-wave"></div>
                </div>
                <div class="hero-visual-metrics">
                  <div class="hero-visual-metric">
                    <span>Scale</span>
                    <strong>C Major</strong>
                  </div>
                  <div class="hero-visual-metric">
                    <span>Time</span>
                    <strong>12–18 min</strong>
                  </div>
                </div>
              </div>
              <div class="hero-visual-side-card">
                <div class="hero-visual-side-label">Goal</div>
                <div class="hero-visual-pill-list">
                  <div class="hero-visual-pill-tag">Add passing tones</div>
                  <div class="hero-visual-pill-tag">Smooth motion</div>
                </div>
                <div class="hero-visual-footer">
                  <span>Works in any DAW</span>
                  <span>Ableton · FL · Logic · others</span>
                </div>
              </div>
            </div>
          </aside>
        </section>

        <!-- THEORY CONTENT SECTION -->
        <section class="theory-section" style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);">
          <div class="section-eyebrow">Theory</div>
          <h2 class="section-title">Adding Smoothness: Scale Tones as Passing Notes</h2>
          <p class="section-body" style="margin-bottom: var(--space-xl);">
            In Lesson 6, you wrote melodies using only chord tones. Now you'll expand your palette by using the <strong>C major scale</strong> (C-D-E-F-G-A-B) as "passing tones" - travel notes that connect chord tones smoothly. This creates melodies that flow naturally while staying grounded in the harmony.
          </p>

          <!-- Theory Cards Grid -->
          <div style="display: grid; gap: var(--space-lg); margin-bottom: var(--space-xl);">

            <!-- Card: What are passing tones -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Chord Tones vs Passing Tones</h3>
              <p class="section-body">
                Now you have two types of notes in your melodic toolbox:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0;">
                <div style="margin-bottom: var(--space-sm);">
                  <strong style="color: var(--accent-cyan);">Chord Tones (Anchor Points):</strong><br>
                  The notes inside the current chord (root, third, fifth). These sound stable and resolved. Use these on strong beats (beats 1 and 3).
                </div>
                <div>
                  <strong style="color: var(--accent-purple);">Passing Tones (Travel Notes):</strong><br>
                  Other notes from the C major scale (C-D-E-F-G-A-B) that connect chord tones smoothly. These add movement and interest. Use these on weak beats or between chord tones.
                </div>
              </div>
              <p class="section-body" style="margin-bottom: 0;">
                Think of chord tones as destinations and passing tones as the path between them. Good melodies use both: stable anchor points plus smooth connecting motion.
              </p>
            </div>

            <!-- Card: The C major scale -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(95,77,255,0.08), rgba(138,155,255,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">The C Major Scale: Your Full Palette</h3>
              <p class="section-body">
                The <strong>C major scale</strong> contains seven notes:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0; font-family: monospace; text-align: center;">
                <div style="font-size: 1.2em; letter-spacing: 8px; margin-bottom: var(--space-sm);">
                  <strong>C  D  E  F  G  A  B</strong>
                </div>
                <div style="color: rgba(255,255,255,0.7); font-size: 0.9em;">
                  (then repeats: C  D  E  F  G  A  B  C...)
                </div>
              </div>
              <p class="section-body">
                Notice that this scale includes <strong>all the chord tones</strong> from your progression plus some extras:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-xs);">
                <li>C major chord: C, E, G (✓ in the scale)</li>
                <li>G major chord: G, B, D (✓ in the scale)</li>
                <li>A minor chord: A, C, E (✓ in the scale)</li>
                <li>F major chord: F, A, C (✓ in the scale)</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                The extra notes (D, F, A, B when they're not chord tones) are your passing tones. They're "safe" because they're all from the same key as your chords.
              </p>
            </div>

            <!-- Card: How passing tones work -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">How to Use Passing Tones</h3>
              <p class="section-body">
                The secret to using passing tones successfully is <strong>strong beat vs weak beat</strong>:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0;">
                <div style="margin-bottom: var(--space-sm);">
                  <strong style="color: var(--accent-cyan);">Strong Beats (1 and 3):</strong><br>
                  Use chord tones for stability and harmonic strength
                </div>
                <div>
                  <strong style="color: var(--accent-purple);">Weak Beats (2 and 4) / Off-beats:</strong><br>
                  You can use any C major scale note, including passing tones
                </div>
              </div>
              <p class="section-body">
                Example over C major (bar 1):
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0; font-family: monospace;">
                Beat 1: <strong style="color: var(--accent-cyan);">C</strong> (chord tone - strong)<br>
                &nbsp;&nbsp;&nbsp;&nbsp;+: <strong style="color: var(--accent-purple);">D</strong> (passing tone - off-beat)<br>
                Beat 2: <strong style="color: var(--accent-cyan);">E</strong> (chord tone)<br>
                &nbsp;&nbsp;&nbsp;&nbsp;+: <strong style="color: var(--accent-purple);">F</strong> (passing tone - off-beat)<br>
                Beat 3: <strong style="color: var(--accent-cyan);">G</strong> (chord tone - strong)<br>
                &nbsp;&nbsp;&nbsp;&nbsp;+: <strong style="color: var(--accent-purple);">A</strong> (passing tone - off-beat)<br>
                Beat 4: <strong style="color: var(--accent-cyan);">G</strong> (chord tone)
              </div>
              <p class="section-body" style="margin-bottom: 0;">
                Notice how the chord tones anchor the melody on important beats, while passing tones create smooth motion between them. This is the foundation of professional melody writing.
              </p>
            </div>

            <!-- Card: Stepwise motion -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(95,77,255,0.08), rgba(138,155,255,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Stepwise Motion: The Pro Sound</h3>
              <p class="section-body">
                <strong>Stepwise motion</strong> means moving from one note to an adjacent note in the scale (C → D, E → F, etc.) rather than jumping around:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0;">
                <div style="margin-bottom: var(--space-sm);">
                  <strong style="color: var(--accent-cyan);">Stepwise motion (smooth):</strong><br>
                  C → D → E → F → G (each note is next to the previous one)
                </div>
                <div>
                  <strong style="color: rgba(255,255,255,0.5);">Leaps (more dramatic):</strong><br>
                  C → G → E → C (jumping between notes)
                </div>
              </div>
              <p class="section-body">
                Professional melodies use a mix:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-xs);">
                <li><strong>Stepwise motion</strong> for smooth, flowing phrases</li>
                <li><strong>Leaps</strong> for drama, emphasis, or to reach high/low notes</li>
              </ul>
              <p class="section-body">
                Passing tones enable stepwise motion - they let you move smoothly from one chord tone to another instead of jumping. This creates melodies that feel natural and singable.
              </p>
              <p class="section-body" style="margin-bottom: 0;">
                Try this: Instead of jumping C → E (chord tones), use C → D → E (chord tone → passing tone → chord tone). Much smoother!
              </p>
            </div>

            <!-- Card: Scale degrees -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(0,240,255,0.08), rgba(138,255,255,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Scale Degrees: Naming the Notes</h3>
              <p class="section-body">
                Each note in the scale has a number called a <strong>scale degree</strong>:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0; font-family: monospace; text-align: center;">
                <div style="margin-bottom: var(--space-xs);">
                  <strong>C   D   E   F   G   A   B   C</strong>
                </div>
                <div style="color: var(--accent-cyan);">
                  1   2   3   4   5   6   7   1
                </div>
              </div>
              <p class="section-body">
                Musicians use these numbers to talk about melodies:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-xs);">
                <li><strong>1 (C):</strong> "Home" or "tonic" - the most stable note</li>
                <li><strong>3 (E):</strong> Chord tone in C major, gives brightness</li>
                <li><strong>5 (G):</strong> Chord tone, very stable</li>
                <li><strong>2, 4, 6, 7 (D, F, A, B):</strong> Often used as passing tones</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                You don't need to memorize this yet, but understanding scale degrees helps you communicate with other musicians and understand music theory discussions.
              </p>
            </div>

            <!-- Card: What it sounds like -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">What You Should Hear</h3>
              <p class="section-body">
                When you use passing tones correctly, your melody should sound:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>Smooth and flowing:</strong> Notes connect naturally, not just jumping around</li>
                <li><strong>Stable on strong beats:</strong> Beats 1 and 3 feel grounded (chord tones)</li>
                <li><strong>Dynamic on weak beats:</strong> Movement and interest between the anchors</li>
                <li><strong>Natural and singable:</strong> Easy to hum or sing</li>
              </ul>
              <p class="section-body">
                If your melody sounds "off," check:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-xs);">
                <li>Are strong beats (1 and 3) using chord tones?</li>
                <li>Are all notes from the C major scale (no accidentals yet)?</li>
                <li>Does the melody have a clear shape (peaks and valleys)?</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                The beauty of this approach is that you can experiment freely with passing tones on weak beats while keeping your melody harmonically grounded with chord tones on strong beats.
              </p>
            </div>

            <!-- Card: Why this matters -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(255,90,61,0.08), rgba(255,178,138,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Completing Your Beginner Toolkit</h3>
              <p class="section-body">
                With this lesson, you now have a complete system for melody writing:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>Chord tones</strong> for stable anchor points (strong beats)</li>
                <li><strong>Passing tones</strong> for smooth motion and interest (weak beats)</li>
                <li><strong>Scale thinking</strong> to ensure all notes fit the key</li>
                <li><strong>Stepwise motion</strong> for professional-sounding phrases</li>
              </ul>
              <p class="section-body">
                This is the foundation that professional songwriters use:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-xs);">
                <li>Target chord tones for harmonic strength</li>
                <li>Use scale notes as connecting tissue</li>
                <li>Create motion through stepwise phrases</li>
                <li>Build melodic shape with peaks and valleys</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                You've completed the beginner lessons! You can now build chord progressions and write melodies that work together. The next lessons will add more sophisticated harmony (7th chords, inversions, voice leading) and advanced melodic techniques.
              </p>
            </div>

          </div>
        </section>

        <!-- EXERCISE INSTRUCTIONS (populated by JS) -->
        <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
          <div class="exercise-box">
            <div class="section-eyebrow">Exercise</div>
            <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
            <p class="section-body" id="mpl-exercise-description"></p>

            <div class="exercise-steps" id="mpl-exercise-steps-wrap">
              <h3>What to do:</h3>
              <ol class="exercise-checklist" id="mpl-exercise-steps"></ol>
            </div>

            <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;">
              <strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span>
            </div>
          </div>
        </section>

        <!-- PIANO ROLL SEQUENCER SECTION -->
        <section class="sequencer-section" id="mpl-sequencer-section" style="margin-top: var(--space-xl);">
          <div class="section-eyebrow" style="margin-bottom: var(--space-sm);">Interactive Piano Roll</div>
          <h2 class="section-title" style="margin-bottom: var(--space-lg);">Build Your Chord</h2>

          <div class="sequencer" id="mpl-sequencer-collection">
            <!-- Piano roll will be created by JS -->
          </div>

          <!-- CONTROLS -->
          <div class="sequencer-controls" style="display:flex;gap:0.75rem;margin-top:1.5rem;flex-wrap:wrap;align-items:center;">
            <button type="button" class="btn btn-outline" id="mpl-seq-play-all">
              <img src="images/PLAY.png" alt="Play" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Play</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-stop-all">
              <img src="images/STOP.png" alt="Stop" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Stop</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-clear-all">
              <img src="images/CLEAR.png" alt="Clear" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Clear</span>
            </button>
            <button type="button" class="btn btn-primary" id="mpl-seq-check-all">
              <span>Check Exercise</span>
            </button>

            <div style="margin-left:auto;display:flex;gap:0.75rem;">
              <div id="mpl-seq-prev-lesson-wrap">
                <button class="btn btn-secondary" id="mpl-prev-lesson">
                  <span>&larr; Previous Lesson</span>
                </button>
              </div>
              <div id="mpl-seq-next-lesson-wrap">
                <button class="btn btn-primary" id="mpl-next-lesson" disabled title="Complete exercise to unlock">
                  <span>Next Lesson &rarr;</span>
                </button>
              </div>
            </div>
          </div>

          <div class="sequencer-status" id="mpl-seq-status" aria-live="polite" style="margin-top:1rem;">
            <span>Click on the piano roll to place notes.</span>
          </div>
        </section>

        <!-- NAVIGATION -->
        <section style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);">
          <div style="display: flex; gap: var(--space-md); justify-content: space-between; flex-wrap: wrap;">
            <a href="lesson-harmony-6.html" class="btn btn-secondary">
              &larr; Previous: Melody from Chord Tones
            </a>
            <a href="labs.html" class="btn btn-primary">
              Back to Labs &rarr;
            </a>
          </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-grid">
        <p class="copyright">© <span id="mpl-year">2025</span> Music Producer Lab</p>
        <nav class="footer-nav">
          <a href="labs.html">Labs</a>
          <a href="index.html">Home</a>
        </nav>
      </div>
    </footer>

    <!-- MODULAR LESSON ENGINE -->
    <script type="module">
      // Import lesson config and engine
      import { lessonConfig } from './configs/lesson-harmony-7.config.js';
      import { initLessonFromConfig } from './lesson-engine.js';

      // Initialize lesson from config
      initLessonFromConfig(lessonConfig);

      // Set year in footer
      document.getElementById("mpl-year").textContent = new Date().getFullYear();
    </script>
    <script src="navbar.js"></script>
  </body>
</html>
