<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title id="mpl-page-title">Lesson 6 · Harmony & Melody · Melody from Chord Tones | Music Producer Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" id="mpl-meta-description" content="Free Lesson 6 from Music Producer Lab: write melodies using chord tones. Learn to create simple melodies that harmonize perfectly with your chord progressions." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>

    <main class="main-content container">

        <!-- HERO SECTION -->
        <section class="hero" id="mpl-hero" aria-label="Lesson hero">
          <div class="hero-copy">
            <div class="hero-copy-eyebrow">Harmony & Melody · Lesson 6</div>
            <h1 class="hero-title">
              <span>Melody from</span>
              <span id="mpl-hero-title-highlight">Chord Tones</span>
            </h1>
            <p class="hero-subtitle">
              Write a simple melody that "fits" perfectly by targeting chord tones. You'll create melodic lines using only the notes from each chord (root, third, fifth), ensuring every note harmonizes beautifully. This teaches you the safest, most effective way to write melodies over any progression.
            </p>
          </div>

          <aside class="hero-visual" aria-hidden="true">
            <div class="hero-visual-header">
              <div class="hero-visual-title">Free lesson</div>
              <div class="hero-visual-pill">Melody writing</div>
            </div>
            <div class="hero-visual-grid">
              <div class="hero-visual-main">
                <div class="hero-visual-main-title"><span>Chord Tone Melody</span> · 100 BPM</div>
                <div class="hero-visual-waves">
                  <div class="hero-visual-wave"></div>
                  <div class="hero-visual-wave"></div>
                  <div class="hero-visual-wave"></div>
                </div>
                <div class="hero-visual-metrics">
                  <div class="hero-visual-metric">
                    <span>Method</span>
                    <strong>1-3-5 only</strong>
                  </div>
                  <div class="hero-visual-metric">
                    <span>Time</span>
                    <strong>12–16 min</strong>
                  </div>
                </div>
              </div>
              <div class="hero-visual-side-card">
                <div class="hero-visual-side-label">Goal</div>
                <div class="hero-visual-pill-list">
                  <div class="hero-visual-pill-tag">Write melody</div>
                  <div class="hero-visual-pill-tag">Use chord tones</div>
                </div>
                <div class="hero-visual-footer">
                  <span>Works in any DAW</span>
                  <span>Ableton · FL · Logic · others</span>
                </div>
              </div>
            </div>
          </aside>
        </section>

        <!-- THEORY CONTENT SECTION -->
        <section class="theory-section" style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);">
          <div class="section-eyebrow">Theory</div>
          <h2 class="section-title">Writing Melodies That Always Fit</h2>
          <p class="section-body" style="margin-bottom: var(--space-xl);">
            Now that you can build chord progressions, it's time to write melodies. The safest way to create melodies that harmonize perfectly is to use <strong>chord tones</strong> - the notes that make up each chord. This lesson teaches you to target these stable notes, ensuring your melody never clashes.
          </p>

          <!-- Theory Cards Grid -->
          <div style="display: grid; gap: var(--space-lg); margin-bottom: var(--space-xl);">

            <!-- Card: What are chord tones -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">What Are Chord Tones?</h3>
              <p class="section-body">
                <strong>Chord tones</strong> are simply the notes that make up a chord. For any triad, these are:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0;">
                <div style="margin-bottom: var(--space-sm);">
                  <strong style="color: var(--accent-cyan);">Root (1):</strong> The foundation note, gives the chord its name
                </div>
                <div style="margin-bottom: var(--space-sm);">
                  <strong style="color: var(--accent-purple);">Third (3):</strong> The middle note, determines major vs minor
                </div>
                <div>
                  <strong style="color: var(--accent-orange);">Fifth (5):</strong> The top note, adds stability
                </div>
              </div>
              <p class="section-body">
                When you write a melody using <em>only</em> chord tones, every note you play will be inside the current chord. This means your melody will always harmonize perfectly - no clashing, no "wrong notes."
              </p>
              <p class="section-body" style="margin-bottom: 0;">
                This is exactly how professional topline writers start: they aim for chord tones on important beats, then fill in other notes later.
              </p>
            </div>

            <!-- Card: Chord tones for each chord -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(95,77,255,0.08), rgba(138,155,255,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Chord Tones for Your Progression</h3>
              <p class="section-body">
                You'll use the I–V–vi–IV progression from Lesson 5. Here are the available chord tones for each bar:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0; font-family: monospace;">
                <div style="margin-bottom: var(--space-sm);">
                  <strong style="color: var(--accent-cyan);">Bar 1: C major</strong><br>
                  Available notes: <strong>C, E, G</strong> (any octave)
                </div>
                <div style="margin-bottom: var(--space-sm);">
                  <strong style="color: var(--accent-orange);">Bar 2: G major</strong><br>
                  Available notes: <strong>G, B, D</strong> (any octave)
                </div>
                <div style="margin-bottom: var(--space-sm);">
                  <strong style="color: var(--accent-purple);">Bar 3: A minor</strong><br>
                  Available notes: <strong>A, C, E</strong> (any octave)
                </div>
                <div>
                  <strong style="color: var(--accent-pink);">Bar 4: F major</strong><br>
                  Available notes: <strong>F, A, C</strong> (any octave)
                </div>
              </div>
              <p class="section-body" style="margin-bottom: 0;">
                Your melody can only use these notes while each chord is playing. This restriction might seem limiting, but it actually makes melody writing much easier - you can't pick "wrong" notes.
              </p>
            </div>

            <!-- Card: Why this works -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Why Chord Tones Always Sound Good</h3>
              <p class="section-body">
                Think of chord tones as <strong>anchor points</strong>:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li>They're already part of the harmony, so they <strong>reinforce the chord</strong> instead of fighting it</li>
                <li>They sound <strong>stable and resolved</strong> - like they "belong"</li>
                <li>They give your melody a <strong>strong harmonic foundation</strong></li>
                <li>They're the notes listeners expect to hear at important moments</li>
              </ul>
              <p class="section-body">
                Professional melodies often hit chord tones on:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-xs);">
                <li><strong>Beat 1</strong> (the downbeat) - the most important beat</li>
                <li><strong>Long notes</strong> - sustained notes need to be stable</li>
                <li><strong>Phrase endings</strong> - landing on chord tones creates resolution</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                Later you'll learn to use "passing tones" (non-chord tones) to connect these anchor points, but starting with chord tones ensures your melody has a solid foundation.
              </p>
            </div>

            <!-- Card: How to write the melody -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(95,77,255,0.08), rgba(138,155,255,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Building Your Melody</h3>
              <p class="section-body">
                You'll create a simple melody using 8th notes (2 notes per beat) restricted to chord tones:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0;">
                <div style="margin-bottom: var(--space-sm);">
                  <strong>Example for Bar 1 (C major):</strong><br>
                  Beat 1: E → G<br>
                  Beat 2: C → E<br>
                  Beat 3: G → E<br>
                  Beat 4: C → C
                </div>
                <div style="color: rgba(255,255,255,0.7); font-size: 0.9em;">
                  (All these notes are chord tones: C, E, or G)
                </div>
              </div>
              <p class="section-body">
                You can:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-xs);">
                <li>Use any rhythm you want (quarter notes, 8th notes, mix of both)</li>
                <li>Repeat notes for emphasis</li>
                <li>Jump between different chord tones</li>
                <li>Use different octaves of the same note</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                The goal is to create a simple, singable melody that moves through the chord tones naturally. Don't overthink it - just experiment with different patterns.
              </p>
            </div>

            <!-- Card: Creating melodic shape -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(0,240,255,0.08), rgba(138,255,255,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Creating Melodic Shape and Motion</h3>
              <p class="section-body">
                Even with just chord tones, you can create interesting melodies by using:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>Direction:</strong> Move up, move down, or stay on the same note</li>
                <li><strong>Contour:</strong> Create peaks (high notes) and valleys (low notes)</li>
                <li><strong>Repetition:</strong> Repeat a short pattern, then change it slightly</li>
                <li><strong>Range:</strong> Jump to different octaves for contrast</li>
              </ul>
              <p class="section-body">
                Good melodies have a <strong>shape</strong> - they don't just wander randomly. Try creating a melody that:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-xs);">
                <li>Starts in the middle range</li>
                <li>Reaches a high point somewhere in the middle (bar 2 or 3)</li>
                <li>Settles back down at the end (bar 4)</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                This arc creates natural tension and release, making your melody feel complete even without any fancy techniques.
              </p>
            </div>

            <!-- Card: What to listen for -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">What You Should Hear</h3>
              <p class="section-body">
                When you play your chord-tone melody over the progression, you should experience:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>Perfect harmony:</strong> No notes that sound "wrong" or clash</li>
                <li><strong>Melodic flow:</strong> The melody should feel connected, not random</li>
                <li><strong>Stability:</strong> Every note feels like it belongs right where it is</li>
                <li><strong>Singability:</strong> You should be able to hum or sing it easily</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                If any note sounds off, check that it's actually a chord tone for the current chord. The beauty of this approach is that if you follow the rules, you literally cannot make a mistake.
              </p>
            </div>

            <!-- Card: Why this matters -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(255,90,61,0.08), rgba(255,178,138,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Your Foundation for Melody Writing</h3>
              <p class="section-body">
                Learning chord-tone melody gives you:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li>A <strong>foolproof method</strong> for writing melodies that always fit</li>
                <li>Understanding of the <strong>melody-harmony relationship</strong></li>
                <li>The ability to write <strong>toplines</strong> over any chord progression</li>
                <li>A solid foundation for more advanced techniques (coming in the next lesson)</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                This is how every professional songwriter starts. You build the harmonic skeleton (chord tones), then add flesh and detail (passing tones, ornaments) later. Master this first step, and melody writing becomes systematic rather than mysterious.
              </p>
            </div>

          </div>
        </section>

        <!-- EXERCISE INSTRUCTIONS (populated by JS) -->
        <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
          <div class="exercise-box">
            <div class="section-eyebrow">Exercise</div>
            <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
            <p class="section-body" id="mpl-exercise-description"></p>

            <div class="exercise-steps" id="mpl-exercise-steps-wrap">
              <h3>What to do:</h3>
              <ol class="exercise-checklist" id="mpl-exercise-steps"></ol>
            </div>

            <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;">
              <strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span>
            </div>
          </div>
        </section>

        <!-- PIANO ROLL SEQUENCER SECTION -->
        <section class="sequencer-section" id="mpl-sequencer-section" style="margin-top: var(--space-xl);">
          <div class="section-eyebrow" style="margin-bottom: var(--space-sm);">Interactive Piano Roll</div>
          <h2 class="section-title" style="margin-bottom: var(--space-lg);">Build Your Chord</h2>

          <div class="sequencer" id="mpl-sequencer-collection">
            <!-- Piano roll will be created by JS -->
          </div>

          <!-- CONTROLS -->
          <div class="sequencer-controls" style="display:flex;gap:0.75rem;margin-top:1.5rem;flex-wrap:wrap;align-items:center;">
            <button type="button" class="btn btn-outline" id="mpl-seq-play-all">
              <img src="images/PLAY.png" alt="Play" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Play</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-stop-all">
              <img src="images/STOP.png" alt="Stop" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Stop</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-clear-all">
              <img src="images/CLEAR.png" alt="Clear" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Clear</span>
            </button>
            <button type="button" class="btn btn-primary" id="mpl-seq-check-all">
              <span>Check Exercise</span>
            </button>

            <div style="margin-left:auto;display:flex;gap:0.75rem;">
              <div id="mpl-seq-prev-lesson-wrap">
                <button class="btn btn-secondary" id="mpl-prev-lesson">
                  <span>&larr; Previous Lesson</span>
                </button>
              </div>
              <div id="mpl-seq-next-lesson-wrap">
                <button class="btn btn-primary" id="mpl-next-lesson" disabled title="Complete exercise to unlock">
                  <span>Next Lesson &rarr;</span>
                </button>
              </div>
            </div>
          </div>

          <div class="sequencer-status" id="mpl-seq-status" aria-live="polite" style="margin-top:1rem;">
            <span>Click on the piano roll to place notes.</span>
          </div>
        </section>

        <!-- NAVIGATION -->
        <section style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);">
          <div style="display: flex; gap: var(--space-md); justify-content: space-between; flex-wrap: wrap;">
            <a href="lesson-harmony-5.html" class="btn btn-secondary">
              &larr; Previous: Pop Loop (I–V–vi–IV)
            </a>
            <a href="lesson-harmony-7.html" class="btn btn-primary">
              Next Lesson: Stepwise Melody &rarr;
            </a>
          </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-grid">
        <p class="copyright">© <span id="mpl-year">2025</span> Music Producer Lab</p>
        <nav class="footer-nav">
          <a href="labs.html">Labs</a>
          <a href="index.html">Home</a>
        </nav>
      </div>
    </footer>

    <!-- MODULAR LESSON ENGINE -->
    <script type="module">
      // Import lesson config and engine
      import { lessonConfig } from './configs/lesson-harmony-6.config.js';
      import { initLessonFromConfig } from './lesson-engine.js';

      // Initialize lesson from config
      initLessonFromConfig(lessonConfig);

      // Set year in footer
      document.getElementById("mpl-year").textContent = new Date().getFullYear();
    </script>
    <script src="navbar.js"></script>
  <script src="js/theme-switcher.js"></script>
</body>
</html>
