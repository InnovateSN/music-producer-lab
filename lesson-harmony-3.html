<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title id="mpl-page-title">Lesson 3 · Harmony & Melody · Tension & Resolution | Music Producer Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" id="mpl-meta-description" content="Free Lesson 3 from Music Producer Lab: discover how the I to V chord progression creates tension and release. Learn tonic and dominant chord functions through hands-on practice." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>

    <main class="main-content container">

        <!-- HERO SECTION -->
        <section class="hero" id="mpl-hero" aria-label="Lesson hero" style="display: flex; align-items: center; gap: var(--space-3xl);">
          <div class="hero-copy" style="flex: 1; max-width: none;">
            <div class="hero-copy-eyebrow">Harmony & Melody · Lesson 3</div>
            <h1 class="hero-title">
              <span>Feel Tension:</span>
              <span id="mpl-hero-title-highlight">I to V</span>
            </h1>
            <p class="hero-subtitle">
              Create a two-chord loop that feels like "home → pull → home." You'll build the I (tonic) to V (dominant) progression that drives countless songs. This teaches you how chords don't just sit there - they move with purpose, creating tension and resolution that listeners crave.
            </p>
          </div>

          <aside class="hero-visual" aria-hidden="true">
            <div class="hero-visual-header">
              <div class="hero-visual-title">Free lesson</div>
              <div class="hero-visual-pill">Chord movement</div>
            </div>
            <div class="hero-visual-grid">
              <div class="hero-visual-main">
                <div class="hero-visual-main-title"><span>I to V</span> · 90 BPM</div>
                <div class="hero-visual-waves">
                  <div class="hero-visual-wave"></div>
                  <div class="hero-visual-wave"></div>
                  <div class="hero-visual-wave"></div>
                </div>
                <div class="hero-visual-metrics">
                  <div class="hero-visual-metric">
                    <span>Chords</span>
                    <strong>C → G</strong>
                  </div>
                  <div class="hero-visual-metric">
                    <span>Time</span>
                    <strong>10–12 min</strong>
                  </div>
                </div>
              </div>
              <div class="hero-visual-side-card">
                <div class="hero-visual-side-label">Goal</div>
                <div class="hero-visual-pill-list">
                  <div class="hero-visual-pill-tag">Build two chords</div>
                  <div class="hero-visual-pill-tag">Hear tension & release</div>
                </div>
                <div class="hero-visual-footer">
                  <span>Works in any DAW</span>
                  <span>Ableton · FL · Logic · others</span>
                </div>
              </div>
            </div>
          </aside>
        </section>

        <!-- THEORY CONTENT SECTION -->
        <section class="theory-section" style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);">
          <div class="section-eyebrow">Theory</div>
          <h2 class="section-title">Chord Movement: Tonic to Dominant</h2>
          <p class="section-body" style="margin-bottom: var(--space-xl);">
            In the previous lessons, you learned to build individual chords. Now you'll discover that chords have <strong>relationships</strong> - some feel stable (like home base), while others create tension that wants to resolve. The I to V progression is the most fundamental movement in Western music.
          </p>

          <!-- Theory Cards Grid -->
          <div style="display: grid; gap: var(--space-lg); margin-bottom: var(--space-xl);">

            <!-- Card: What you're building -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">What You're Building</h3>
              <p class="section-body">
                You're creating a two-chord progression: <strong>C major (I) to G major (V)</strong>. When you play these chords in sequence, you'll hear a clear sense of movement - the G chord creates tension that wants to resolve back to C.
              </p>
              <p class="section-body" style="margin-bottom: 0;">
                This isn't random. The relationship between these two chords is built into the physics of sound and has been used for centuries in everything from classical music to modern pop, house, and hip-hop.
              </p>
            </div>

            <!-- Card: Chord functions -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(95,77,255,0.08), rgba(138,155,255,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Tonic (I) vs Dominant (V)</h3>
              <p class="section-body">
                Chords have <strong>functions</strong> - roles they play in a key. The two most important are:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0;">
                <div style="margin-bottom: var(--space-sm);">
                  <strong style="color: var(--accent-cyan);">I (Tonic) - C Major (C-E-G)</strong><br>
                  Home base. Stable. Complete. Feels like "we've arrived."
                </div>
                <div>
                  <strong style="color: var(--accent-purple);">V (Dominant) - G Major (G-B-D)</strong><br>
                  Tension. Pull. Unstable. Feels like "we need to go somewhere."
                </div>
              </div>
              <p class="section-body" style="margin-bottom: 0;">
                The dominant chord naturally wants to resolve to the tonic. This "pull" is what creates musical momentum and keeps listeners engaged.
              </p>
            </div>

            <!-- Card: Why V pulls to I -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Why Does G Want to Resolve to C?</h3>
              <p class="section-body">
                The technical explanation (don't worry if this feels abstract - you'll hear it clearly):
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li>The note <strong>B</strong> in G major is only one semitone away from <strong>C</strong> - it naturally wants to step up</li>
                <li>The note <strong>D</strong> in G major can resolve down to <strong>C</strong></li>
                <li>When you move from G back to C, these notes settle into place and the tension releases</li>
              </ul>
              <p class="section-body">
                Think of it like a question and answer: "Where are we going?" (V) → "We're home." (I)
              </p>
              <p class="section-body" style="margin-bottom: 0;">
                This is the engine behind chord progressions. Without tension and release, music would just sit there. The V to I movement is what makes music feel alive.
              </p>
            </div>

            <!-- Card: How to build each chord -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(95,77,255,0.08), rgba(138,155,255,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Building Both Chords</h3>
              <p class="section-body">
                Here's what you'll place in your piano roll:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0;">
                <div style="margin-bottom: var(--space-md); padding-bottom: var(--space-md); border-bottom: 1px solid rgba(255,255,255,0.1);">
                  <div style="color: var(--accent-cyan); margin-bottom: var(--space-xs);"><strong>Bar 1: C Major (I)</strong></div>
                  <div>C4 + E4 + G4 (all on beat 1)</div>
                  <div style="color: rgba(255,255,255,0.6); font-size: 0.9em; margin-top: var(--space-xs);">The home base - feels complete</div>
                </div>
                <div>
                  <div style="color: var(--accent-purple); margin-bottom: var(--space-xs);"><strong>Bar 2: G Major (V)</strong></div>
                  <div>G4 + B4 + D5 (all on beat 1)</div>
                  <div style="color: rgba(255,255,255,0.6); font-size: 0.9em; margin-top: var(--space-xs);">The tension - wants to resolve back to C</div>
                </div>
              </div>
              <p class="section-body" style="margin-bottom: 0;">
                Notice that we're building G major higher (G4-B4-D5) instead of lower. This keeps the chords in a similar range and sounds more cohesive. You can also try G3-B3-D4 for a lower voicing.
              </p>
            </div>

            <!-- Card: What it sounds like -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(0,240,255,0.08), rgba(138,255,255,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Listening for Tension and Release</h3>
              <p class="section-body">
                When you loop these two chords, pay attention to:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>Bar 1 (C major):</strong> Should feel settled, stable, like you could end the song here</li>
                <li><strong>Bar 2 (G major):</strong> Should feel like it's leaning forward, creating anticipation</li>
                <li><strong>Back to Bar 1:</strong> When it loops to C, you should feel a sense of "arrival" or "resolution"</li>
              </ul>
              <p class="section-body">
                If you stop the loop on the G chord, it will feel incomplete - like a sentence without a period. This is exactly the tension you want to create and release in your productions.
              </p>
              <p class="section-body" style="margin-bottom: 0;">
                This is how music creates emotional movement without words. The I-V relationship is pure physics and psychology working together.
              </p>
            </div>

            <!-- Card: Real-world use -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Where You Hear This</h3>
              <p class="section-body">
                The I-V movement appears everywhere in music:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>Song endings:</strong> Most songs end with V → I to create a satisfying conclusion</li>
                <li><strong>Verse-to-chorus transitions:</strong> Build tension before the drop</li>
                <li><strong>House music builds:</strong> Create anticipation before the beat drops</li>
                <li><strong>Pop choruses:</strong> Keep listeners engaged with constant tension/release cycles</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                Understanding this movement gives you control over how your music makes listeners feel. You're not just placing chords randomly - you're guiding emotion.
              </p>
            </div>

            <!-- Card: Why this matters -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(255,90,61,0.08), rgba(255,178,138,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Why This Lesson Is Essential</h3>
              <p class="section-body">
                This is the moment harmony becomes <em>dynamic</em>:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li>You learn that chords have <strong>relationships and functions</strong>, not just sounds</li>
                <li>You can create <strong>tension and resolution</strong> - the core of musical storytelling</li>
                <li>You understand why some chord changes feel "right" while others feel random</li>
                <li>You have the foundation for longer progressions (coming in the next lessons)</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                This isn't abstract music theory - it's a practical tool you'll use every time you write a chord progression.
              </p>
            </div>

          </div>
        </section>

        <!-- EXERCISE INSTRUCTIONS (populated by JS) -->
        <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
          <div class="exercise-box">
            <div class="section-eyebrow">Exercise</div>
            <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
            <p class="section-body" id="mpl-exercise-description"></p>

            <div class="exercise-steps" id="mpl-exercise-steps-wrap">
              <h3>What to do:</h3>
              <ol class="exercise-checklist" id="mpl-exercise-steps"></ol>
            </div>

            <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;">
              <strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span>
            </div>
          </div>
        </section>

        <!-- PIANO ROLL SEQUENCER SECTION -->
        <section class="sequencer-section" id="mpl-sequencer-section" style="margin-top: var(--space-xl);">
          <div class="section-eyebrow" style="margin-bottom: var(--space-sm);">Interactive Piano Roll</div>
          <h2 class="section-title" style="margin-bottom: var(--space-lg);">Build Your Chord</h2>

          <div class="sequencer" id="mpl-sequencer-collection">
            <!-- Piano roll will be created by JS -->
          </div>

          <!-- CONTROLS -->
          <div class="sequencer-controls" style="display:flex;gap:0.75rem;margin-top:1.5rem;flex-wrap:wrap;align-items:center;">
            <button type="button" class="btn btn-outline" id="mpl-seq-play-all">
              <img src="images/PLAY.png" alt="Play" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Play</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-stop-all">
              <img src="images/STOP.png" alt="Stop" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Stop</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-clear-all">
              <img src="images/CLEAR.png" alt="Clear" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Clear</span>
            </button>
            <button type="button" class="btn btn-primary" id="mpl-seq-check-all">
              <span>Check Exercise</span>
            </button>

            <div style="margin-left:auto;display:flex;gap:0.75rem;">
              <div id="mpl-seq-prev-lesson-wrap">
                <button class="btn btn-secondary" id="mpl-prev-lesson">
                  <span>&larr; Previous Lesson</span>
                </button>
              </div>
              <div id="mpl-seq-next-lesson-wrap">
                <button class="btn btn-primary" id="mpl-next-lesson" disabled title="Complete exercise to unlock">
                  <span>Next Lesson &rarr;</span>
                </button>
              </div>
            </div>
          </div>

          <div class="sequencer-status" id="mpl-seq-status" aria-live="polite" style="margin-top:1rem;">
            <span>Click on the piano roll to place notes.</span>
          </div>
        </section>

        <!-- NAVIGATION -->
        <section style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);">
          <div style="display: flex; gap: var(--space-md); justify-content: space-between; flex-wrap: wrap;">
            <a href="lesson-harmony-2.html" class="btn btn-secondary">
              &larr; Previous: Major vs Minor
            </a>
            <a href="lesson-harmony-4.html" class="btn btn-primary">
              Next Lesson: I–IV–V Progression &rarr;
            </a>
          </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-grid">
        <p class="copyright">© <span id="mpl-year">2025</span> Music Producer Lab</p>
        <nav class="footer-nav">
          <a href="labs.html">Labs</a>
          <a href="index.html">Home</a>
        </nav>
      </div>
    </footer>

    <!-- MODULAR LESSON ENGINE -->
    <script type="module">
      // Import lesson config and engine
      import { lessonConfig } from './configs/lesson-harmony-3.config.js';
      import { initLessonFromConfig } from './lesson-engine.js';

      // Initialize lesson from config
      initLessonFromConfig(lessonConfig);

      // Set year in footer
      document.getElementById("mpl-year").textContent = new Date().getFullYear();
    </script>
  <script src="theme-registry.js"></script>
  <script src="theme-manager.js"></script>
    <script src="navbar.js"></script>
  </body>
</html>
