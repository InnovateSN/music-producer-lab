<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Lesson · Music Producer Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" content="Interactive music production lesson from Music Producer Lab." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>

    <main class="main-content container">

        <!-- HERO SECTION (populated by JS) -->
        <section class="hero" id="mpl-hero" aria-label="Lesson hero" style="display: flex; align-items: center; gap: var(--space-3xl);">
          <div class="hero-copy" style="flex: 1; max-width: none;">
            <div class="hero-copy-eyebrow" id="mpl-hero-eyebrow">Loading...</div>
            <h1 class="hero-title" id="mpl-hero-title">
              <span id="mpl-hero-title-main">Lesson</span>
              <span id="mpl-hero-title-highlight"></span>
            </h1>
            <p class="hero-subtitle" id="mpl-hero-subtitle"></p>
            <div id="mpl-hero-nav-btns" style="margin-top:1rem;display:flex;gap:0.6rem;flex-wrap:wrap;"></div>
          </div>

          <div class="hero-visual" style="flex: 1; display: flex; align-items: center; justify-content: center;">
            <img src="images/mpl_hero_rightside.png" alt="Music Production" style="width: 100%; max-width: 500px; height: auto; object-fit: contain; filter: drop-shadow(0 0 40px rgba(0, 212, 255, 0.3));">
          </div>
          </div>
        </section>

        <!-- EDUCATIONAL CONTENT -->
        <section style="margin-top: var(--space-3xl); margin-bottom: var(--space-3xl);">
          <div class="card" style="padding: var(--space-2xl); background: var(--bg-card); border: 1px solid var(--border-subtle);">

            <!-- INTRODUCTION -->
            <div class="section-eyebrow" style="margin-bottom: var(--space-md);">What You'll Learn</div>
            <h2 style="font-size: 2rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Automation Basics: Shape a Dynamic Mix Over Time</h2>

            <p style="font-size: 1.1rem; line-height: 1.8; color: var(--text-secondary); margin-bottom: var(--space-xl);">
              <strong>Automation</strong> is time-based control of mix parameters—your mix becomes a performance that evolves with the song rather than a static snapshot. A static balance can sound acceptable, but professional productions need moment-to-moment decisions: vocals dip behind a dense chord, a chorus needs a lift, a <a href="glossary.html#delay" style="color: var(--accent-cyan); text-decoration: underline;">delay throw</a> highlights a lyric. <a href="glossary.html#compression" style="color: var(--accent-cyan); text-decoration: underline;">Compression</a> reacts to signal level, but it cannot "know" the arrangement. Automation is how you translate arrangement intent into mix reality—the difference between a mix that sounds "done" and one that feels <em>alive</em>.
            </p>

            <!-- KEY CONCEPTS GRID -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-lg); margin-bottom: var(--space-2xl);">

              <!-- Concept 1: Automation Targets -->
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(255, 90, 61, 0.1), rgba(255, 178, 138, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(255, 90, 61, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/planet.png" alt="Targets" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-orange); margin: 0;">Automation Targets</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">
                  The essential targets: <strong>Volume</strong> (vocal rides, section lifts), <strong>Pan</strong> (subtle movement, ear candy), <strong>Mute</strong> (clean dropouts, noise removal), <strong>Send levels</strong> (FX throws, depth changes), and <strong>Plugin parameters</strong> (threshold, EQ gain, drive, feedback). Track automation gives micro control; bus automation gives macro control.
                </p>
              </div>

              <!-- Concept 2: Automation Modes -->
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(95, 77, 255, 0.1), rgba(138, 155, 255, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(95, 77, 255, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/orologio.png" alt="Modes" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-purple); margin: 0;">Read, Write, Touch, Latch</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">
                  <strong>Read</strong>: plays existing automation (safe). <strong>Write</strong>: overwrites continuously (high risk). <strong>Touch</strong>: writes while you touch the control, returns to previous on release (great for rides). <strong>Latch</strong>: writes after first touch until you stop playback. Keep most channels in Read; use Touch for refinements.
                </p>
              </div>

              <!-- Concept 3: Vocal Rides & Section Lifts -->
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(184, 255, 221, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(0, 212, 255, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/clock_anticlockwise.png" alt="Rides" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-cyan); margin: 0;">Vocal Rides & Section Lifts</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">
                  Small moves like <strong>±1 dB</strong> keep vocal intelligibility consistent. Lift the Vocal Bus or Music Bus by <strong>+0.5 to +1.0 dB</strong> in choruses for energy. Use short ramps (<strong>20–100 ms</strong>) for musical changes and S-curves (<strong>100–500 ms</strong>) for natural fades—avoid sudden vertical jumps that click.
                </p>
              </div>

              <!-- Concept 4: FX Throws -->
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(179, 102, 255, 0.1), rgba(255, 102, 178, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(179, 102, 255, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/mixer.png" alt="FX Throws" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-magenta); margin: 0;">FX Throws & Plugin Automation</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">
                  Automate delay send up for a single word (the "throw"), then ramp back down within <strong>200–600 ms</strong>. Optionally increase feedback from <strong>20%</strong> to <strong>35–45%</strong> during the throw. For plugins: automate saturator drive for chorus energy or reduce reverb sends in dense sections. Always level-match after.
                </p>
              </div>

            </div>

            <!-- VISUAL: AUTOMATION WORKFLOW -->
            <div style="padding: var(--space-xl); background: var(--bg-secondary); border-radius: var(--radius-lg); margin-bottom: var(--space-2xl);">
              <h3 style="font-size: 1.5rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Automation Workflow: Touch, Edit, Read</h3>

              <div style="font-family: monospace; color: var(--text-secondary);">
                <div style="display: flex; flex-direction: column; gap: var(--space-md); margin-bottom: var(--space-lg);">
                  <!-- Step 1 -->
                  <div style="display: flex; align-items: center; gap: var(--space-md);">
                    <div style="width: 40px; height: 40px; background: var(--accent-orange); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--bg-primary);">1</div>
                    <div style="flex: 1; padding: var(--space-md); background: rgba(255, 90, 61, 0.1); border-radius: var(--radius-sm); border-left: 3px solid var(--accent-orange);">
                      <strong style="color: var(--accent-orange);">Touch Mode</strong> — Write rough pass: vocal rides, section lifts, FX throws
                    </div>
                  </div>
                  <!-- Step 2 -->
                  <div style="display: flex; align-items: center; gap: var(--space-md);">
                    <div style="width: 40px; height: 40px; background: var(--accent-purple); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--bg-primary);">2</div>
                    <div style="flex: 1; padding: var(--space-md); background: rgba(95, 77, 255, 0.1); border-radius: var(--radius-sm); border-left: 3px solid var(--accent-purple);">
                      <strong style="color: var(--accent-purple);">Edit Curves</strong> — Smooth jumps with ramps (20–100 ms), create S-curves for natural fades
                    </div>
                  </div>
                  <!-- Step 3 -->
                  <div style="display: flex; align-items: center; gap: var(--space-md);">
                    <div style="width: 40px; height: 40px; background: var(--accent-cyan); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--bg-primary);">3</div>
                    <div style="flex: 1; padding: var(--space-md); background: rgba(0, 212, 255, 0.1); border-radius: var(--radius-sm); border-left: 3px solid var(--accent-cyan);">
                      <strong style="color: var(--accent-cyan);">Read Mode</strong> — Return to Read before continuing; prevents accidental overwrites
                    </div>
                  </div>
                  <!-- Step 4 -->
                  <div style="display: flex; align-items: center; gap: var(--space-md);">
                    <div style="width: 40px; height: 40px; background: var(--accent-magenta); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--bg-primary);">4</div>
                    <div style="flex: 1; padding: var(--space-md); background: rgba(179, 102, 255, 0.1); border-radius: var(--radius-sm); border-left: 3px solid var(--accent-magenta);">
                      <strong style="color: var(--accent-magenta);">Validate</strong> — Level-matched A/B, mono check, headroom verification (≤ -6 dBFS peak)
                    </div>
                  </div>
                </div>
                <div style="display: flex; justify-content: space-around; font-size: 0.8rem; padding-top: var(--space-md); border-top: 1px solid var(--border-subtle);">
                  <span><span style="color: var(--accent-orange);">●</span> Track = micro control</span>
                  <span><span style="color: var(--accent-purple);">●</span> Bus = macro control</span>
                  <span><span style="color: var(--accent-cyan);">●</span> Micro then macro</span>
                </div>
              </div>
            </div>

            <!-- COMMON MISTAKES -->
            <h3 style="font-size: 1.5rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Common Mistakes to Avoid</h3>
            <div style="display: grid; gap: var(--space-md); margin-bottom: var(--space-2xl);">
              <div style="padding: var(--space-md); background: rgba(255, 90, 61, 0.05); border-left: 3px solid var(--accent-orange); border-radius: 0 var(--radius-sm) var(--radius-sm) 0;">
                <strong style="color: var(--accent-orange);">Leaving Tracks in Write/Latch Mode:</strong>
                <span style="color: var(--text-secondary);"> The classic failure: you hit play and unknowingly overwrite your carefully edited curves. Always return to Read after writing automation. Make it a reflex: Touch → Edit → Read.</span>
              </div>
              <div style="padding: var(--space-md); background: rgba(95, 77, 255, 0.05); border-left: 3px solid var(--accent-purple); border-radius: 0 var(--radius-sm) var(--radius-sm) 0;">
                <strong style="color: var(--accent-purple);">Sudden Vertical Jumps:</strong>
                <span style="color: var(--text-secondary);"> Instant level changes can click or feel unnatural. Replace vertical steps with short ramps (20–100 ms for fast moves, 100–500 ms for fades). Your ear will thank you.</span>
              </div>
              <div style="padding: var(--space-md); background: rgba(0, 212, 255, 0.05); border-left: 3px solid var(--accent-cyan); border-radius: 0 var(--radius-sm) var(--radius-sm) 0;">
                <strong style="color: var(--accent-cyan);">Over-Automating Everything:</strong>
                <span style="color: var(--text-secondary);"> Good automation is often stability and focus, not constant movement. Automate when the song demands it—a phrase that disappears, a chorus that needs lift, an FX throw for a moment. Resist the urge to automate for the sake of it.</span>
              </div>
              <div style="padding: var(--space-md); background: rgba(179, 102, 255, 0.05); border-left: 3px solid var(--accent-magenta); border-radius: 0 var(--radius-sm) var(--radius-sm) 0;">
                <strong style="color: var(--accent-magenta);">Skipping Level-Matched A/B:</strong>
                <span style="color: var(--text-secondary);"> If your automated version is simply louder overall, your brain will prefer it even if it's worse. Always match perceived loudness before comparing pre-automation vs post-automation.</span>
              </div>
            </div>

            <!-- WHY THIS MATTERS -->
            <div style="padding: var(--space-xl); background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(179, 102, 255, 0.1)); border-radius: var(--radius-lg); border: 1px solid rgba(0, 212, 255, 0.2);">
              <h3 style="font-size: 1.5rem; margin-bottom: var(--space-md); color: var(--text-primary);">Why This Matters</h3>
              <ul style="color: var(--text-secondary); line-height: 1.8; padding-left: var(--space-lg);">
                <li><strong>Professional Polish:</strong> Automation is why mixes feel "alive"—static mixes sound amateur. Small, intentional moves accumulate into a mix that feels effortless.</li>
                <li><strong>Arrangement Intent:</strong> Compression reacts to level; automation responds to meaning. You decide the chorus gets a lift, the bridge gets intimate, the throw highlights a lyric.</li>
                <li><strong>Headroom Protection:</strong> Instead of pushing the master limiter, automate the right elements so energy changes feel bigger without adding uncontrolled peaks (builds on Lesson 2).</li>
                <li><strong>Bus Architecture Payoff:</strong> Your Lesson 10 buses become automation targets—one fader move lifts all vocals in a chorus, one send automation creates a throw on the whole vocal group.</li>
              </ul>
            </div>

          </div>
        </section>

        <!-- EXERCISE INSTRUCTIONS (populated by JS) -->
        <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
          <div class="exercise-box">
            <div class="section-eyebrow">Exercise</div>
            <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
            <p class="section-body" id="mpl-exercise-description"></p>

            <div class="exercise-steps" id="mpl-exercise-steps-wrap">
              <h3>What to do:</h3>
              <ol class="exercise-checklist" id="mpl-exercise-steps"></ol>
            </div>

            <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;">
              <strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span>
            </div>

            <!-- PATTERN HINT (populated by JS) -->
            <div class="pattern-hint" id="mpl-pattern-hint" style="display:none;">
              <div class="pattern-hint-label">Target Pattern:</div>
              <div id="mpl-pattern-hint-grid"></div>
              <div id="mpl-pattern-hint-note"></div>
            </div>
          </div>
        </section>

        <!-- SEQUENCER CONTAINER (populated by JS) -->
        <section id="mpl-sequencer-container" style="margin-top: var(--space-2xl);"></section>

        <!-- COMPLETION MESSAGE (populated by JS) -->
        <div id="mpl-completion-message" class="completion-message" style="display:none;"></div>


      <!-- SCRIPT IMPORTS -->
      <script type="module">
        import { lessonConfig } from './configs/lesson-mixing-11.config.js';
        import { initLessonFromConfig } from './lesson-engine.js';

        // Initialize lesson with config
        if (window.LESSON_CONFIG) {
          initLessonFromConfig(window.LESSON_CONFIG);
        } else {
          initLessonFromConfig(lessonConfig);
        }
      </script>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-grid">
        <p class="copyright">&copy; <span id="mpl-year">2025</span> Music Producer Lab</p>
        <nav class="footer-nav">
          <a href="labs.html">Labs</a>
          <a href="index.html">Home</a>
        </nav>
      </div>
    </footer>
    <script>document.getElementById("mpl-year").textContent = new Date().getFullYear();</script>
  <script src="theme-registry.js"></script>
  <script src="theme-manager.js"></script>
    <script src="navbar.js"></script>
  </body>
</html>
