<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title id="mpl-page-title">Lesson · Music Producer Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" id="mpl-meta-description" content="Interactive music production lesson from Music Producer Lab." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>

    <main class="main-content container">

        <!-- HERO SECTION (populated by JS) -->
        <section class="hero" id="mpl-hero" aria-label="Lesson hero" style="display: flex; align-items: center; gap: var(--space-3xl);">
          <div class="hero-copy" style="flex: 1; max-width: none;">
            <div class="hero-copy-eyebrow" id="mpl-hero-eyebrow">Loading...</div>
            <h1 class="hero-title" id="mpl-hero-title">
              <span id="mpl-hero-title-main">Lesson</span>
              <span id="mpl-hero-title-highlight"></span>
            </h1>
            <p class="hero-subtitle" id="mpl-hero-subtitle"></p>
            <div id="mpl-hero-nav-btns" style="margin-top:1rem;display:flex;gap:0.6rem;flex-wrap:wrap;"></div>
          </div>

          <div class="hero-visual" style="flex: 1; display: flex; align-items: center; justify-content: center;">
            <img src="images/mpl_hero_rightside.png" alt="Music Production" style="width: 100%; max-width: 500px; height: auto; object-fit: contain; filter: drop-shadow(0 0 40px rgba(0, 212, 255, 0.3));">
          </div>
          </div>
        </section>

        <!-- EDUCATIONAL CONTENT -->
        <section style="margin-top: var(--space-3xl); margin-bottom: var(--space-3xl);">
          <div class="card" style="padding: var(--space-2xl); background: var(--bg-card); border: 1px solid var(--border-subtle);">
            <div class="section-eyebrow" style="margin-bottom: var(--space-md);">What You'll Learn</div>
            <h2 style="font-size: 2rem; margin-bottom: var(--space-lg); color: var(--text-primary);">FX Sound Design: Impacts, Risers & Transitions</h2>

            <p style="font-size: 1.1rem; line-height: 1.8; color: var(--text-secondary); margin-bottom: var(--space-xl);">
              <strong>FX sounds</strong> are the secret weapons of modern production—they build anticipation, mark transitions, and add drama. <strong>Risers</strong> build energy leading into drops, <strong>impacts</strong> punctuate key moments, <strong>downlifters</strong> release tension, and <strong>sweeps</strong> provide movement between sections. Every electronic track, trailer, and film uses these sounds extensively. Master their creation and you'll never need to rely on sample packs again—design exactly what your track needs.
            </p>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-lg); margin-bottom: var(--space-2xl);">
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(255, 90, 61, 0.1), rgba(255, 178, 138, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(255, 90, 61, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/planet.png" alt="Risers" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-orange); margin: 0;">Risers & Uplifters</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">Build with: <strong>Rising noise sweeps</strong> (filter opening over time), <strong>pitch-ascending synths</strong>, <strong>reverse cymbals/reverb tails</strong>. Automate filter cutoff, pitch, and volume upward. Layer multiple elements for complexity. Time to hit peak exactly at the drop.</p>
              </div>
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(95, 77, 255, 0.1), rgba(138, 155, 255, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(95, 77, 255, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/orologio.png" alt="Impacts" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-purple); margin: 0;">Impacts & Hits</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">Layer: <strong>Sub boom</strong> (sine wave with fast decay), <strong>mid crack</strong> (noise burst), <strong>high transient</strong> (click/snap). Add <strong>long reverb tail</strong> for cinematic depth. Compress hard for punch. Use at drop moments, section starts, and dramatic beats.</p>
              </div>
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(184, 255, 221, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(0, 212, 255, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/clock_anticlockwise.png" alt="Downlifters" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-cyan); margin: 0;">Downlifters & Falls</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">Opposite of risers: <strong>descending pitch</strong>, <strong>closing filters</strong>, <strong>falling noise sweeps</strong>. Use after drops to release energy, or during breakdowns. Reverse a riser for instant downlifter. Add sub bass for weight in the tail.</p>
              </div>
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(179, 102, 255, 0.1), rgba(255, 102, 178, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(179, 102, 255, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/mixer.png" alt="Sweeps" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-magenta); margin: 0;">Sweeps & Transitions</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;"><strong>White/pink noise</strong> through a sweeping filter creates classic transitions. <strong>Phasers and flangers</strong> add movement. Use <strong>short sweeps</strong> (1-2 bars) for subtle transitions, <strong>long builds</strong> (8-16 bars) for major moments. Sidechain to the kick for rhythmic pumping.</p>
              </div>
            </div>

            <!-- VISUAL REFERENCE: FX Categories Grid -->
            <h3 style="font-size: 1.5rem; margin-bottom: var(--space-lg); color: var(--text-primary);">FX Categories Reference</h3>
            <div style="overflow-x: auto; margin-bottom: var(--space-2xl);">
              <table style="width: 100%; border-collapse: collapse; font-size: 0.95rem;">
                <thead>
                  <tr style="border-bottom: 2px solid var(--border-subtle);">
                    <th style="text-align: left; padding: var(--space-sm) var(--space-md); color: var(--text-primary); font-weight: 700;">FX Type</th>
                    <th style="text-align: left; padding: var(--space-sm) var(--space-md); color: var(--text-primary); font-weight: 700;">Duration</th>
                    <th style="text-align: left; padding: var(--space-sm) var(--space-md); color: var(--text-primary); font-weight: 700;">Automation Target</th>
                    <th style="text-align: left; padding: var(--space-sm) var(--space-md); color: var(--text-primary); font-weight: 700;">Common Source</th>
                  </tr>
                </thead>
                <tbody>
                  <tr style="border-bottom: 1px solid var(--border-subtle);">
                    <td style="padding: var(--space-sm) var(--space-md); color: var(--accent-orange); font-weight: 600;">Risers</td>
                    <td style="padding: var(--space-sm) var(--space-md); color: var(--text-secondary);">4 - 16 bars</td>
                    <td style="padding: var(--space-sm) var(--space-md); color: var(--text-secondary);"><a href="glossary.html#filter" style="color: var(--accent-cyan);">Filter</a> cutoff, pitch, volume (ascending)</td>
                    <td style="padding: var(--space-sm) var(--space-md); color: var(--text-secondary);">White noise, reverse cymbal, synth sweep</td>
                  </tr>
                  <tr style="border-bottom: 1px solid var(--border-subtle);">
                    <td style="padding: var(--space-sm) var(--space-md); color: var(--accent-purple); font-weight: 600;">Impacts</td>
                    <td style="padding: var(--space-sm) var(--space-md); color: var(--text-secondary);">0.5 - 4 bars (with tail)</td>
                    <td style="padding: var(--space-sm) var(--space-md); color: var(--text-secondary);">Volume <a href="glossary.html#envelope" style="color: var(--accent-cyan);">envelope</a>, reverb send, distortion</td>
                    <td style="padding: var(--space-sm) var(--space-md); color: var(--text-secondary);">Sub boom + noise burst + transient layer</td>
                  </tr>
                  <tr style="border-bottom: 1px solid var(--border-subtle);">
                    <td style="padding: var(--space-sm) var(--space-md); color: var(--accent-cyan); font-weight: 600;">Sweeps</td>
                    <td style="padding: var(--space-sm) var(--space-md); color: var(--text-secondary);">1 - 4 bars</td>
                    <td style="padding: var(--space-sm) var(--space-md); color: var(--text-secondary);">Filter cutoff, <a href="glossary.html#panning" style="color: var(--accent-cyan);">panning</a>, phaser rate</td>
                    <td style="padding: var(--space-sm) var(--space-md); color: var(--text-secondary);">Pink/white noise through bandpass filter</td>
                  </tr>
                  <tr>
                    <td style="padding: var(--space-sm) var(--space-md); color: var(--accent-magenta); font-weight: 600;">Transitions</td>
                    <td style="padding: var(--space-sm) var(--space-md); color: var(--text-secondary);">0.5 - 2 bars</td>
                    <td style="padding: var(--space-sm) var(--space-md); color: var(--text-secondary);">Volume crossfade, filter, reverb wet/dry</td>
                    <td style="padding: var(--space-sm) var(--space-md); color: var(--text-secondary);">Reversed elements, stutter edits, pitch drops</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <h3 style="font-size: 1.5rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Common Mistakes to Avoid</h3>
            <div style="display: grid; gap: var(--space-md); margin-bottom: var(--space-2xl);">
              <div style="display: flex; align-items: flex-start; gap: var(--space-sm); padding: var(--space-md); background: rgba(255, 90, 61, 0.05); border-left: 3px solid var(--accent-orange); border-radius: 0 var(--radius-sm) var(--radius-sm) 0;">
                <img src="images/X_gray.png" alt="Mistake" style="width: 1.2rem; height: 1.2rem; margin-top: 0.2rem; flex-shrink: 0;">
                <div>
                  <strong style="color: var(--accent-orange);">Overusing FX:</strong>
                  <span style="color: var(--text-secondary);"> Every transition does not need a massive <a href="glossary.html#riser" style="color: var(--accent-cyan);">riser</a>. Save the big FX for key moments -- overuse diminishes impact and clutters the mix.</span>
                </div>
              </div>
              <div style="display: flex; align-items: flex-start; gap: var(--space-sm); padding: var(--space-md); background: rgba(95, 77, 255, 0.05); border-left: 3px solid var(--accent-purple); border-radius: 0 var(--radius-sm) var(--radius-sm) 0;">
                <img src="images/X_gray.png" alt="Mistake" style="width: 1.2rem; height: 1.2rem; margin-top: 0.2rem; flex-shrink: 0;">
                <div>
                  <strong style="color: var(--accent-purple);">Poor Timing:</strong>
                  <span style="color: var(--text-secondary);"> Risers must peak exactly at the <a href="glossary.html#drop" style="color: var(--accent-cyan);">drop</a>. Impacts must land on the beat. Even 50ms off sounds wrong. Zoom in and align precisely.</span>
                </div>
              </div>
              <div style="display: flex; align-items: flex-start; gap: var(--space-sm); padding: var(--space-md); background: rgba(0, 212, 255, 0.05); border-left: 3px solid var(--accent-cyan); border-radius: 0 var(--radius-sm) var(--radius-sm) 0;">
                <img src="images/X_gray.png" alt="Mistake" style="width: 1.2rem; height: 1.2rem; margin-top: 0.2rem; flex-shrink: 0;">
                <div>
                  <strong style="color: var(--accent-cyan);">Frequency Masking:</strong>
                  <span style="color: var(--text-secondary);"> FX can eat up <a href="glossary.html#headroom" style="color: var(--accent-cyan);">headroom</a> and mask other elements. Use <a href="glossary.html#eq" style="color: var(--accent-cyan);">EQ</a> to carve space, and automate FX volume to duck during important parts.</span>
                </div>
              </div>
            </div>

            <div style="padding: var(--space-xl); background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(179, 102, 255, 0.1)); border-radius: var(--radius-lg); border: 1px solid rgba(0, 212, 255, 0.2);">
              <h3 style="font-size: 1.5rem; margin-bottom: var(--space-md); color: var(--text-primary);">Why This Matters</h3>
              <ul style="color: var(--text-secondary); line-height: 1.8; padding-left: var(--space-lg);">
                <li><strong>Essential for EDM:</strong> Electronic music relies heavily on FX for energy and drama.</li>
                <li><strong>Cinematic Applications:</strong> Trailers, films, and games use impacts and risers constantly.</li>
                <li><strong>Arrangement Tool:</strong> FX guide the listener through your track's structure.</li>
                <li><strong>Custom Solutions:</strong> Design FX that perfectly match your track's key, tempo, and vibe.</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- EXERCISE INSTRUCTIONS (populated by JS) -->
        <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
          <div class="exercise-box">
            <div class="section-eyebrow">Exercise</div>
            <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
            <p class="section-body" id="mpl-exercise-description"></p>
            
            <div class="exercise-steps" id="mpl-exercise-steps-wrap">
              <h3>What to do:</h3>
              <ol class="exercise-checklist" id="mpl-exercise-steps"></ol>
            </div>

            <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;">
              <strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span>
            </div>

            <!-- PATTERN HINT (populated by JS) -->
            <div class="pattern-hint" id="mpl-pattern-hint" style="display:none;">
              <div class="pattern-hint-label">Target Pattern:</div>
              <div id="mpl-pattern-hint-grid"></div>
              <div id="mpl-pattern-hint-note"></div>
            </div>
          </div>
        </section>

        <!-- SEQUENCER CONTAINER (populated by JS) -->
        <section id="mpl-sequencer-container" style="margin-top: var(--space-2xl);"></section>

        <!-- COMPLETION MESSAGE (populated by JS) -->
        <div id="mpl-completion-message" class="completion-message" style="display:none;"></div>


      <!-- SCRIPT IMPORTS -->
      <script type="module">
        import { lessonConfig } from './configs/lesson-sound-design-9.config.js';
        import { initLessonFromConfig } from './lesson-engine.js';
        
        // Initialize lesson with config
        if (window.LESSON_CONFIG) {
          initLessonFromConfig(window.LESSON_CONFIG);
        } else {
          initLessonFromConfig(lessonConfig);
        }
      </script>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-grid">
        <p class="copyright">© <span id="mpl-year">2025</span> Music Producer Lab</p>
        <nav class="footer-nav">
          <a href="labs.html">Labs</a>
          <a href="index.html">Home</a>
        </nav>
      </div>
    </footer>
    <script>document.getElementById("mpl-year").textContent = new Date().getFullYear();</script>
  <script src="theme-registry.js"></script>
  <script src="theme-manager.js"></script>
    <script src="navbar.js"></script>
  </body>
</html>
