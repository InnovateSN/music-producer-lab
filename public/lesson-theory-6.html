<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title id="mpl-page-title">Lesson 6 · Music Theory Fundamentals · Key Signatures & Circle of Fifths | Music Producer Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" id="mpl-meta-description" content="Understand key signatures and how the circle of fifths organizes all 12 keys. Learn sharps, flats, and relative major/minor relationships." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>
    <main class="main-content container">
      <section class="hero" id="mpl-hero" aria-label="Lesson hero" style="display: flex; align-items: center; gap: var(--space-3xl);">
        <div class="hero-copy" style="flex: 1; max-width: none;">
          <div class="hero-copy-eyebrow" id="mpl-hero-eyebrow">Loading...</div>
          <h1 class="hero-title" id="mpl-hero-title">
            <span id="mpl-hero-title-main">Lesson</span>
            <span id="mpl-hero-title-highlight"></span>
          </h1>
          <p class="hero-subtitle" id="mpl-hero-subtitle"></p>
        </div>
      </section>

      <!-- EDUCATIONAL CONTENT -->
      <section style="margin-top: var(--space-3xl); margin-bottom: var(--space-3xl);">
        <div class="card" style="padding: var(--space-2xl); background: var(--bg-card); border: 1px solid var(--border-subtle);">
          <div class="section-eyebrow" style="margin-bottom: var(--space-md);">What You'll Learn</div>
          <h2 style="font-size: 2rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Key Signatures & The Circle of Fifths</h2>

          <p style="font-size: 1.1rem; line-height: 1.8; color: var(--text-secondary); margin-bottom: var(--space-xl);">
            <strong>Key signatures</strong> tell you which notes are consistently sharp or flat throughout a piece—they define the key. The <strong>Circle of Fifths</strong> is a visual diagram that organizes all 12 major and minor keys by their relationships. Moving clockwise adds sharps; counterclockwise adds flats. This circular map reveals patterns in music theory and helps you navigate keys, find relatives, and understand harmonic relationships.
          </p>

          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-lg); margin-bottom: var(--space-2xl);">
            <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(255, 90, 61, 0.1), rgba(255, 178, 138, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(255, 90, 61, 0.2);">
              <h3 style="font-size: 1.25rem; color: var(--accent-orange); margin: 0 0 0.5rem 0;">Sharp Keys</h3>
              <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;">Order of sharps: <strong>F-C-G-D-A-E-B</strong> ("Father Charles Goes Down And Ends Battle"). G major = 1 sharp (F#). D major = 2 sharps (F#, C#). Each fifth up adds one sharp.</p>
            </div>
            <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(95, 77, 255, 0.1), rgba(138, 155, 255, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(95, 77, 255, 0.2);">
              <h3 style="font-size: 1.25rem; color: var(--accent-purple); margin: 0 0 0.5rem 0;">Flat Keys</h3>
              <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;">Order of flats: <strong>B-E-A-D-G-C-F</strong> (reverse of sharps). F major = 1 flat (B♭). B♭ major = 2 flats (B♭, E♭). Each fifth down adds one flat.</p>
            </div>
            <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(184, 255, 221, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(0, 212, 255, 0.2);">
              <h3 style="font-size: 1.25rem; color: var(--accent-cyan); margin: 0 0 0.5rem 0;">Circle Navigation</h3>
              <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;">Adjacent keys on the circle share all but one note—they're closely related and easy to modulate between. Opposite keys are distant and create dramatic key changes. The circle maps harmonic territory.</p>
            </div>
            <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(179, 102, 255, 0.1), rgba(255, 102, 178, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(179, 102, 255, 0.2);">
              <h3 style="font-size: 1.25rem; color: var(--accent-magenta); margin: 0 0 0.5rem 0;">Relative Minor</h3>
              <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;">Each major key's relative minor is on the inner circle, 3 half steps below. C major ↔ A minor (no sharps/flats). Same key signature, different tonal center.</p>
            </div>
          </div>

          <div style="padding: var(--space-xl); background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(179, 102, 255, 0.1)); border-radius: var(--radius-lg); border: 1px solid rgba(0, 212, 255, 0.2);">
            <h3 style="font-size: 1.5rem; margin-bottom: var(--space-md); color: var(--text-primary);">Key Takeaways</h3>
            <ul style="color: var(--text-secondary); line-height: 1.8; padding-left: var(--space-lg); margin: 0;">
              <li>Sharps order: F-C-G-D-A-E-B (clockwise on circle)</li>
              <li>Flats order: B-E-A-D-G-C-F (counterclockwise on circle)</li>
              <li>Relative minor is always 3 half steps below major</li>
            </ul>
          </div>

          <!-- COMMON MISTAKES -->
          <div style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);">
            <h3 style="font-size: 1.5rem; margin-bottom: var(--space-lg); color: var(--text-primary);">
              <img src="images/mplalert.png" alt="Warning" style="width: 1.5rem; height: 1.5rem; vertical-align: middle;"> Common Mistakes
            </h3>
            <div style="padding: var(--space-lg); background: rgba(255, 90, 61, 0.05); border-left: 4px solid var(--accent-orange); border-radius: var(--radius-md); margin-bottom: var(--space-md);">
              <h4 style="color: var(--accent-orange); margin-bottom: var(--space-sm);">Confusing Relative and Parallel Major/Minor</h4>
              <p style="color: var(--text-secondary); line-height: 1.7;"><strong>Relative:</strong> C major and A minor share the same key signature (no sharps/flats) but different tonal centers. <strong>Parallel:</strong> C major and C minor share the same root but completely different notes (C minor has Bb, Eb, Ab). Mixing these up causes wrong chord choices when harmonizing and wrong key identification when reading music.</p>
            </div>
            <div style="padding: var(--space-lg); background: rgba(95, 77, 255, 0.05); border-left: 4px solid var(--accent-purple); border-radius: var(--radius-md); margin-bottom: var(--space-md);">
              <h4 style="color: var(--accent-purple); margin-bottom: var(--space-sm);">Not Memorizing the Sharp/Flat Order</h4>
              <p style="color: var(--text-secondary); line-height: 1.7;">Without knowing that sharps appear in the order F-C-G-D-A-E-B, you can't identify a key signature quickly. There is no shortcut: <strong>memorize the order completely.</strong> "Father Charles Goes Down And Ends Battle" for sharps; reverse it for flats. Once memorized, key identification takes under a second. Until then, every key signature is a puzzle.</p>
            </div>
            <div style="padding: var(--space-lg); background: rgba(0, 212, 255, 0.05); border-left: 4px solid var(--accent-cyan); border-radius: var(--radius-md);">
              <h4 style="color: var(--accent-cyan); margin-bottom: var(--space-sm);">Ignoring Enharmonic Equivalents</h4>
              <p style="color: var(--text-secondary); line-height: 1.7;">F# major and Gb major are enharmonically equivalent—same pitches, different notation. They appear at the same position on the circle of fifths. Ignoring this creates confusion when transposing: a piece notated in Gb is easier to read than F# (6 flats vs 6 sharps). Know which keys are enharmonic pairs and choose the notation that minimizes accidentals.</p>
            </div>
          </div>

          <!-- WHY THIS MATTERS -->
          <div style="padding: var(--space-xl); background: linear-gradient(135deg, rgba(0, 212, 255, 0.08), rgba(179, 102, 255, 0.08)); border-radius: var(--radius-lg); border: 1px solid rgba(0, 212, 255, 0.15);">
            <h3 style="font-size: 1.5rem; margin-bottom: var(--space-lg); color: var(--text-primary);">
              <img src="images/idea.png" alt="Why" style="width: 1.5rem; height: 1.5rem; vertical-align: middle;"> Why This Matters
            </h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--space-md);">
              <div style="display: flex; align-items: flex-start; gap: var(--space-sm);">
                <img src="images/check_green.png" alt="Benefit" style="width: 1.2rem; height: 1.2rem; margin-top: 4px; flex-shrink: 0;">
                <p style="color: var(--text-secondary); line-height: 1.6;"><strong>Instant key identification</strong> — See 2 sharps? That's D major or B minor. No calculation required once the order is memorized. This is the most practical reading skill you can develop.</p>
              </div>
              <div style="display: flex; align-items: flex-start; gap: var(--space-sm);">
                <img src="images/check_green.png" alt="Benefit" style="width: 1.2rem; height: 1.2rem; margin-top: 4px; flex-shrink: 0;">
                <p style="color: var(--text-secondary); line-height: 1.6;"><strong>Effortless transposition</strong> — Adjacent keys on the circle differ by only one note. Understanding this makes transposition logical and fast—crucial when a vocalist needs a different key.</p>
              </div>
              <div style="display: flex; align-items: flex-start; gap: var(--space-sm);">
                <img src="images/check_green.png" alt="Benefit" style="width: 1.2rem; height: 1.2rem; margin-top: 4px; flex-shrink: 0;">
                <p style="color: var(--text-secondary); line-height: 1.6;"><strong>Chord progression logic</strong> — I-IV-V-I moves counterclockwise on the circle. Understanding this reveals why certain progressions feel inevitable and satisfying to listeners.</p>
              </div>
              <div style="display: flex; align-items: flex-start; gap: var(--space-sm);">
                <img src="images/check_green.png" alt="Benefit" style="width: 1.2rem; height: 1.2rem; margin-top: 4px; flex-shrink: 0;">
                <p style="color: var(--text-secondary); line-height: 1.6;"><strong>Score reading fluency</strong> — Key signatures appear on every piece of sheet music. Fluency means you instantly know which notes are altered throughout—no need to check each measure.</p>
              </div>
            </div>
          </div>

        </div>
      </section>

      <section class="theory-content" id="mpl-theory-section" style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);"></section>
      <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);"></section>
      <section class="learning-objectives-section" id="mpl-learning-objectives-section" style="margin-top: var(--space-2xl);"></section>
      <section style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);">
        <div style="display: flex; gap: var(--space-md); justify-content: space-between; flex-wrap: wrap;">
          <a href="lesson-theory-5.html" class="btn btn-secondary">&larr; Previous Lesson</a>
          <a href="lesson-theory-7.html" class="btn btn-primary">Next Lesson: Chord Construction &rarr;</a>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-grid">
        <p class="copyright">© <span id="mpl-year">2025</span> Music Producer Lab</p>
        <nav class="footer-nav">
          <a href="labs.html">Labs</a>
          <a href="index.html">Home</a>
        </nav>
      </div>
    </footer>

    <script type="module">
      import { lessonConfig } from './configs/lesson-theory-6.config.js';
      import { initLessonFromConfig } from './lesson-engine.js';
      initLessonFromConfig(lessonConfig);
      document.getElementById("mpl-year").textContent = new Date().getFullYear();
    </script>
  <script src="theme-registry.js"></script>
  <script src="theme-manager.js"></script>
    <script src="navbar.js"></script>
  </body>
</html>
