<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title id="mpl-page-title">Lesson 8 · Music Theory Fundamentals · Functional Harmony | Music Producer Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" id="mpl-meta-description" content="Understand chord function: tonic, subdominant, dominant. Learn Roman numeral analysis and how chords create tension and resolution." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>
    <main class="main-content container">
      <section class="hero" id="mpl-hero" aria-label="Lesson hero" style="display: flex; align-items: center; gap: var(--space-3xl);">
        <div class="hero-copy" style="flex: 1; max-width: none;">
          <div class="hero-copy-eyebrow" id="mpl-hero-eyebrow">Loading...</div>
          <h1 class="hero-title" id="mpl-hero-title">
            <span id="mpl-hero-title-main">Lesson</span>
            <span id="mpl-hero-title-highlight"></span>
          </h1>
          <p class="hero-subtitle" id="mpl-hero-subtitle"></p>
        </div>
      </section>

      <!-- EDUCATIONAL CONTENT -->
      <section style="margin-top: var(--space-3xl); margin-bottom: var(--space-3xl);">
        <div class="card" style="padding: var(--space-2xl); background: var(--bg-card); border: 1px solid var(--border-subtle);">
          <div class="section-eyebrow" style="margin-bottom: var(--space-md);">What You'll Learn</div>
          <h2 style="font-size: 2rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Functional Harmony: How Chords Create Movement</h2>

          <p style="font-size: 1.1rem; line-height: 1.8; color: var(--text-secondary); margin-bottom: var(--space-xl);">
            <strong>Functional harmony</strong> explains why chord progressions "work"—why some chords feel like home, others create tension, and others want to move somewhere. Every chord in a key has a <strong>function</strong>: <strong>tonic</strong> (home/rest), <strong>dominant</strong> (tension/wants to resolve), or <strong>subdominant</strong> (departure/pre-dominant). Understanding function lets you analyze any progression and create your own with intention.
          </p>

          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-lg); margin-bottom: var(--space-2xl);">
            <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(255, 90, 61, 0.1), rgba(255, 178, 138, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(255, 90, 61, 0.2);">
              <h3 style="font-size: 1.25rem; color: var(--accent-orange); margin: 0 0 0.5rem 0;">Tonic Function (I, vi)</h3>
              <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;"><strong>I</strong> (tonic) = home, rest, resolution. <strong>vi</strong> = relative minor, also feels stable. Songs typically begin and end on tonic. It's the destination that other chords lead toward.</p>
            </div>
            <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(95, 77, 255, 0.1), rgba(138, 155, 255, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(95, 77, 255, 0.2);">
              <h3 style="font-size: 1.25rem; color: var(--accent-purple); margin: 0 0 0.5rem 0;">Dominant Function (V, vii°)</h3>
              <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;"><strong>V</strong> (dominant) = maximum tension, wants to resolve to I. <strong>V7</strong> is even stronger. <strong>vii°</strong> also has dominant function. The V→I resolution is the most fundamental in Western music.</p>
            </div>
            <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(184, 255, 221, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(0, 212, 255, 0.2);">
              <h3 style="font-size: 1.25rem; color: var(--accent-cyan); margin: 0 0 0.5rem 0;">Subdominant Function (IV, ii)</h3>
              <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;"><strong>IV</strong> = departure from tonic, often leads to V (IV→V→I). <strong>ii</strong> = minor subdominant, commonly precedes V (ii→V→I is standard jazz). Subdominant creates motion away from home.</p>
            </div>
            <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(179, 102, 255, 0.1), rgba(255, 102, 178, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(179, 102, 255, 0.2);">
              <h3 style="font-size: 1.25rem; color: var(--accent-magenta); margin: 0 0 0.5rem 0;">Roman Numerals</h3>
              <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;">Roman numerals show chord degree and quality. <strong>Uppercase</strong> = major. <strong>Lowercase</strong> = minor. <strong>°</strong> = diminished. I-IV-V-I in any key follows the same pattern. Roman numerals are universal.</p>
            </div>
          </div>

          <div style="padding: var(--space-xl); background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(179, 102, 255, 0.1)); border-radius: var(--radius-lg); border: 1px solid rgba(0, 212, 255, 0.2);">
            <h3 style="font-size: 1.5rem; margin-bottom: var(--space-md); color: var(--text-primary);">Common Progressions by Function</h3>
            <ul style="color: var(--text-secondary); line-height: 1.8; padding-left: var(--space-lg); margin: 0;">
              <li><strong>I → V → I:</strong> Basic tension and resolution</li>
              <li><strong>I → IV → V → I:</strong> Classic rock/pop progression</li>
              <li><strong>ii → V → I:</strong> Jazz standard cadence</li>
              <li><strong>I → vi → IV → V:</strong> "50s progression" / pop standard</li>
            </ul>
          </div>

          <!-- COMMON MISTAKES -->
          <div style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);">
            <h3 style="font-size: 1.5rem; margin-bottom: var(--space-lg); color: var(--text-primary);">
              <img src="images/mplalert.png" alt="Warning" style="width: 1.5rem; height: 1.5rem; vertical-align: middle;"> Common Mistakes
            </h3>
            <div style="padding: var(--space-lg); background: rgba(255, 90, 61, 0.05); border-left: 4px solid var(--accent-orange); border-radius: var(--radius-md); margin-bottom: var(--space-md);">
              <h4 style="color: var(--accent-orange); margin-bottom: var(--space-sm);">Writing Progressions Without Harmonic Direction</h4>
              <p style="color: var(--text-secondary); line-height: 1.7;">Choosing chords at random because they "sound okay" creates progressions that feel aimless. <strong>Every chord should have a functional purpose:</strong> create stability (tonic), build departure (subdominant), or generate tension that resolves (dominant). Ask yourself before each chord: "Where am I coming from? Where am I going?" Functional thinking transforms random chord sequences into purposeful musical statements.</p>
            </div>
            <div style="padding: var(--space-lg); background: rgba(95, 77, 255, 0.05); border-left: 4px solid var(--accent-purple); border-radius: var(--radius-md); margin-bottom: var(--space-md);">
              <h4 style="color: var(--accent-purple); margin-bottom: var(--space-sm);">Treating I-IV-V-I as the Only Valid Approach</h4>
              <p style="color: var(--text-secondary); line-height: 1.7;">While I-IV-V-I is foundational, functional harmony offers many paths. Substitute ii for IV (both are subdominant). Replace V with vii° (both are dominant). Use deceptive cadences (V→vi instead of V→I) to avoid resolution. <strong>Functional harmony is about the relationship, not specific chords.</strong> Multiple chords can fulfill each function—mixing them creates harmonic interest.</p>
            </div>
            <div style="padding: var(--space-lg); background: rgba(0, 212, 255, 0.05); border-left: 4px solid var(--accent-cyan); border-radius: var(--radius-md);">
              <h4 style="color: var(--accent-cyan); margin-bottom: var(--space-sm);">Ignoring Voice Leading</h4>
              <p style="color: var(--text-secondary); line-height: 1.7;"><strong>How individual notes move between chords is as important as which chords you choose.</strong> Good voice leading means individual voices (soprano, alto, tenor, bass) move by small intervals—mostly steps, occasionally thirds. Avoid large leaps. This creates smooth, connected harmonic movement. Poor voice leading results in choppy, disconnected progressions even when the chord choices are theoretically correct.</p>
            </div>
          </div>

          <!-- WHY THIS MATTERS -->
          <div style="padding: var(--space-xl); background: linear-gradient(135deg, rgba(0, 212, 255, 0.08), rgba(179, 102, 255, 0.08)); border-radius: var(--radius-lg); border: 1px solid rgba(0, 212, 255, 0.15);">
            <h3 style="font-size: 1.5rem; margin-bottom: var(--space-lg); color: var(--text-primary);">
              <img src="images/idea.png" alt="Why" style="width: 1.5rem; height: 1.5rem; vertical-align: middle;"> Why This Matters
            </h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--space-md);">
              <div style="display: flex; align-items: flex-start; gap: var(--space-sm);">
                <img src="images/check_green.png" alt="Benefit" style="width: 1.2rem; height: 1.2rem; margin-top: 4px; flex-shrink: 0;">
                <p style="color: var(--text-secondary); line-height: 1.6;"><strong>Analyze any song</strong> — With Roman numeral analysis and functional labels, you can decode the harmonic structure of any song in any genre. "That's a vi-IV-I-V" becomes instantly meaningful.</p>
              </div>
              <div style="display: flex; align-items: flex-start; gap: var(--space-sm);">
                <img src="images/check_green.png" alt="Benefit" style="width: 1.2rem; height: 1.2rem; margin-top: 4px; flex-shrink: 0;">
                <p style="color: var(--text-secondary); line-height: 1.6;"><strong>Intentional emotional arc</strong> — Tension and release are the emotional engine of music. Functional harmony gives you precise control over when tension builds and when it resolves—the difference between a forgettable and an unforgettable song.</p>
              </div>
              <div style="display: flex; align-items: flex-start; gap: var(--space-sm);">
                <img src="images/check_green.png" alt="Benefit" style="width: 1.2rem; height: 1.2rem; margin-top: 4px; flex-shrink: 0;">
                <p style="color: var(--text-secondary); line-height: 1.6;"><strong>Composition and song writing</strong> — Every professional song writer thinks functionally, even if they don't use the terminology. Understanding function is understanding what makes songs feel satisfying and complete.</p>
              </div>
              <div style="display: flex; align-items: flex-start; gap: var(--space-sm);">
                <img src="images/check_green.png" alt="Benefit" style="width: 1.2rem; height: 1.2rem; margin-top: 4px; flex-shrink: 0;">
                <p style="color: var(--text-secondary); line-height: 1.6;"><strong>ii-V-I unlocks jazz</strong> — The ii-V-I cadence is the DNA of jazz harmony. Understanding it functionally (subdominant → dominant → tonic) immediately clarifies the logic of jazz progressions, improvisation, and substitution.</p>
              </div>
            </div>
          </div>

        </div>
      </section>

      <section class="theory-content" id="mpl-theory-section" style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);"></section>
      <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);"></section>
      <section class="learning-objectives-section" id="mpl-learning-objectives-section" style="margin-top: var(--space-2xl);"></section>
      <section style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);">
        <div style="display: flex; gap: var(--space-md); justify-content: space-between; flex-wrap: wrap;">
          <a href="lesson-theory-7.html" class="btn btn-secondary">&larr; Previous Lesson</a>
          <a href="labs.html" class="btn btn-primary">Back to Labs &rarr;</a>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-grid">
        <p class="copyright">© <span id="mpl-year">2025</span> Music Producer Lab</p>
        <nav class="footer-nav">
          <a href="labs.html">Labs</a>
          <a href="index.html">Home</a>
        </nav>
      </div>
    </footer>

    <script type="module">
      import { lessonConfig } from './configs/lesson-theory-8.config.js';
      import { initLessonFromConfig } from './lesson-engine.js';
      initLessonFromConfig(lessonConfig);
      document.getElementById("mpl-year").textContent = new Date().getFullYear();
    </script>
  <script src="theme-registry.js"></script>
  <script src="theme-manager.js"></script>
    <script src="navbar.js"></script>
  </body>
</html>
