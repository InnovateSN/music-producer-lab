<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title id="mpl-page-title">Lesson · Music Producer Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" id="mpl-meta-description" content="Interactive music production lesson from Music Producer Lab." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>

    <main class="main-content container">

        <!-- HERO SECTION (populated by JS) -->
        <section class="hero" id="mpl-hero" aria-label="Lesson hero" style="display: flex; align-items: center; gap: var(--space-3xl);">
          <div class="hero-copy" style="flex: 1; max-width: none;">
            <div class="hero-copy-eyebrow" id="mpl-hero-eyebrow">Loading...</div>
            <h1 class="hero-title" id="mpl-hero-title">
              <span id="mpl-hero-title-main">Lesson</span>
              <span id="mpl-hero-title-highlight"></span>
            </h1>
            <p class="hero-subtitle" id="mpl-hero-subtitle"></p>
            <div id="mpl-hero-nav-btns" style="margin-top:1rem;display:flex;gap:0.6rem;flex-wrap:wrap;"></div>
          </div>

          <div class="hero-visual" style="flex: 1; display: flex; align-items: center; justify-content: center;">
            <img src="images/mpl_hero_rightside.png" alt="Music Production" style="width: 100%; max-width: 500px; height: auto; object-fit: contain; filter: drop-shadow(0 0 40px rgba(0, 212, 255, 0.3));">
          </div>
          </div>
        </section>

        <!-- EDUCATIONAL CONTENT -->
        <section style="margin-top: var(--space-3xl); margin-bottom: var(--space-3xl);">
          <div class="card" style="padding: var(--space-2xl); background: var(--bg-card); border: 1px solid var(--border-subtle);">

            <!-- INTRODUCTION -->
            <div class="section-eyebrow" style="margin-bottom: var(--space-md);">What You'll Learn</div>
            <h2 style="font-size: 2rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Parallel Processing: The Secret to Powerful, Punchy Mixes</h2>

            <p style="font-size: 1.1rem; line-height: 1.8; color: var(--text-secondary); margin-bottom: var(--space-xl);">
              <strong>Parallel processing</strong> is one of the most powerful techniques in modern mixing. Instead of applying an effect directly to a signal (in series), you blend a heavily processed copy with the original dry signal. This approach lets you add <strong>extreme compression</strong>, <strong>saturation</strong>, or <strong>reverb</strong> without losing the natural dynamics and <a href="glossary.html#transient" style="color: var(--accent-cyan); text-decoration: underline;">transients</a> of your source. The technique was pioneered in New York studios in the 1980s, earning the name "New York Compression," and has since become standard practice in professional <a href="glossary.html#mixing" style="color: var(--accent-cyan); text-decoration: underline;">mixing</a>. In this lesson, you'll master how to set up parallel chains in your <a href="glossary.html#daw" style="color: var(--accent-cyan); text-decoration: underline;">DAW</a> for compression, distortion, reverb, and creative effects.
            </p>

            <!-- KEY CONCEPTS GRID -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-lg); margin-bottom: var(--space-2xl);">

              <!-- Concept 1: Parallel Compression -->
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(255, 90, 61, 0.1), rgba(255, 178, 138, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(255, 90, 61, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/planet.png" alt="Parallel Compression" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-orange); margin: 0;">Parallel Compression</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">
                  Also called "New York compression," this technique blends a heavily compressed signal with the original. Send your drums to a bus with <strong>10-20:1 ratio</strong> and <strong>fast attack/release</strong>. Blend it low in the mix to add weight, sustain, and aggression while keeping the original punch. The dry signal provides <a href="glossary.html#transient" style="color: var(--accent-cyan); text-decoration: underline;">transients</a>; the wet signal adds body and consistency.
                </p>
              </div>

              <!-- Concept 2: Parallel Saturation -->
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(95, 77, 255, 0.1), rgba(138, 155, 255, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(95, 77, 255, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/orologio.png" alt="Parallel Saturation" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-purple); margin: 0;">Parallel Saturation</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">
                  Heavy <a href="glossary.html#saturation" style="color: var(--accent-cyan); text-decoration: underline;">saturation</a> adds <strong>harmonic richness</strong> and presence but can destroy dynamics when used directly. By running it in parallel, you get the warmth and edge of tape, tube, or transistor distortion blended with clean transients. This works especially well on drums, bass, and vocals—adding grit without making the sound harsh or lifeless.
                </p>
              </div>

              <!-- Concept 3: Parallel Reverb/FX -->
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(184, 255, 221, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(0, 212, 255, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/clock_anticlockwise.png" alt="Parallel FX" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-cyan); margin: 0;">Send/Return for Reverb & Delay</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">
                  <a href="glossary.html#reverb" style="color: var(--accent-cyan); text-decoration: underline;">Reverb</a> and <a href="glossary.html#delay" style="color: var(--accent-cyan); text-decoration: underline;">delay</a> are inherently parallel effects—that's why we use send/return buses! Place the effect at <strong>100% wet</strong> on a return track and use sends to control the amount from each source. This saves CPU (one reverb for multiple sources), maintains phase coherence, and lets you EQ or compress the effect separately from the dry signal.
                </p>
              </div>

              <!-- Concept 4: Routing & Phase -->
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(179, 102, 255, 0.1), rgba(255, 102, 178, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(179, 102, 255, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/mixer.png" alt="Routing" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-magenta); margin: 0;">Routing & Phase Alignment</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">
                  Proper routing is essential. You can create parallel chains using: <strong>auxiliary/send tracks</strong>, <strong>duplicate tracks</strong>, or <strong>plugins with mix knobs</strong> (wet/dry controls are built-in parallel processing). Always check for <a href="glossary.html#phase" style="color: var(--accent-cyan); text-decoration: underline;">phase</a> alignment—some plugins introduce latency that can cause comb filtering when blended with the dry signal. Enable plugin delay compensation (PDC) in your DAW.
                </p>
              </div>

            </div>

            <!-- VISUAL: PARALLEL ROUTING DIAGRAM -->
            <div style="padding: var(--space-xl); background: var(--bg-secondary); border-radius: var(--radius-lg); margin-bottom: var(--space-2xl);">
              <h3 style="font-size: 1.5rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Signal Flow: Series vs. Parallel Processing</h3>

              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-xl);">
                <!-- Series -->
                <div style="text-align: center;">
                  <h4 style="color: var(--accent-orange); margin-bottom: var(--space-md);">Series (Insert)</h4>
                  <div style="display: flex; align-items: center; justify-content: center; gap: var(--space-sm); font-family: monospace; color: var(--text-secondary);">
                    <span style="padding: 8px 12px; background: var(--bg-card); border-radius: 4px; border: 1px solid var(--accent-cyan);">SOURCE</span>
                    <span style="color: var(--accent-cyan);">→</span>
                    <span style="padding: 8px 12px; background: rgba(255, 90, 61, 0.2); border-radius: 4px; border: 1px solid var(--accent-orange);">COMP</span>
                    <span style="color: var(--accent-cyan);">→</span>
                    <span style="padding: 8px 12px; background: var(--bg-card); border-radius: 4px; border: 1px solid var(--accent-cyan);">OUT</span>
                  </div>
                  <p style="color: var(--text-muted); font-size: 0.9rem; margin-top: var(--space-sm);">100% of signal is processed</p>
                </div>
                <!-- Parallel -->
                <div style="text-align: center;">
                  <h4 style="color: var(--accent-cyan); margin-bottom: var(--space-md);">Parallel (Send/Return)</h4>
                  <div style="font-family: monospace; color: var(--text-secondary);">
                    <div style="display: flex; align-items: center; justify-content: center; gap: var(--space-sm); margin-bottom: 4px;">
                      <span style="padding: 8px 12px; background: var(--bg-card); border-radius: 4px; border: 1px solid var(--accent-cyan);">SOURCE</span>
                      <span style="color: var(--text-muted);">───</span>
                      <span style="padding: 4px 8px; background: var(--bg-card); border-radius: 4px; font-size: 0.8rem;">(DRY)</span>
                      <span style="color: var(--text-muted);">───┐</span>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: center; gap: var(--space-sm);">
                      <span style="color: transparent;">SOURCE</span>
                      <span style="color: var(--accent-cyan);">↓ send</span>
                      <span style="color: transparent;">──</span>
                      <span style="color: transparent;">────</span>
                      <span style="color: var(--text-muted);">│</span>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: center; gap: var(--space-sm);">
                      <span style="color: transparent;">SOURC</span>
                      <span style="padding: 8px 12px; background: rgba(255, 90, 61, 0.2); border-radius: 4px; border: 1px solid var(--accent-orange);">COMP</span>
                      <span style="padding: 4px 8px; background: var(--bg-card); border-radius: 4px; font-size: 0.8rem;">(WET)</span>
                      <span style="color: var(--text-muted);">───┤</span>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: center; gap: var(--space-sm); margin-top: 4px;">
                      <span style="color: transparent;">SOURCE</span>
                      <span style="color: transparent;">───</span>
                      <span style="color: transparent;">──</span>
                      <span style="color: transparent;">────</span>
                      <span style="color: var(--text-muted);">└→</span>
                      <span style="padding: 8px 12px; background: var(--bg-card); border-radius: 4px; border: 1px solid var(--accent-cyan);">MIX</span>
                    </div>
                  </div>
                  <p style="color: var(--text-muted); font-size: 0.9rem; margin-top: var(--space-sm);">Blend processed + original</p>
                </div>
              </div>
            </div>

            <!-- COMMON MISTAKES -->
            <h3 style="font-size: 1.5rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Common Mistakes to Avoid</h3>
            <div style="display: grid; gap: var(--space-md); margin-bottom: var(--space-2xl);">
              <div style="padding: var(--space-md); background: rgba(255, 90, 61, 0.05); border-left: 3px solid var(--accent-orange); border-radius: 0 var(--radius-sm) var(--radius-sm) 0;">
                <strong style="color: var(--accent-orange);">Phase Cancellation:</strong>
                <span style="color: var(--text-secondary);"> Some plugins introduce latency. When the delayed wet signal combines with the dry, you get comb filtering—thin, hollow sound. Always enable PDC (plugin delay compensation) or manually nudge the parallel track to align.</span>
              </div>
              <div style="padding: var(--space-md); background: rgba(95, 77, 255, 0.05); border-left: 3px solid var(--accent-purple); border-radius: 0 var(--radius-sm) var(--radius-sm) 0;">
                <strong style="color: var(--accent-purple);">Over-blending the Wet Signal:</strong>
                <span style="color: var(--text-secondary);"> Parallel processing is about subtlety. The wet signal should add body and sustain, not dominate. Start with the fader at zero, bring it up until you notice the effect, then back off slightly. You should feel it more than hear it explicitly.</span>
              </div>
              <div style="padding: var(--space-md); background: rgba(0, 212, 255, 0.05); border-left: 3px solid var(--accent-cyan); border-radius: 0 var(--radius-sm) var(--radius-sm) 0;">
                <strong style="color: var(--accent-cyan);">Not Filtering the Parallel Chain:</strong>
                <span style="color: var(--text-secondary);"> Heavily compressed or saturated signals often have exaggerated low-end rumble or harsh highs. Add a high-pass filter around 100 Hz and a gentle low-pass at 8-10 kHz on your parallel bus to control these artifacts before blending.</span>
              </div>
            </div>

            <!-- WHY THIS MATTERS -->
            <div style="padding: var(--space-xl); background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(179, 102, 255, 0.1)); border-radius: var(--radius-lg); border: 1px solid rgba(0, 212, 255, 0.2);">
              <h3 style="font-size: 1.5rem; margin-bottom: var(--space-md); color: var(--text-primary);">Why This Matters</h3>
              <ul style="color: var(--text-secondary); line-height: 1.8; padding-left: var(--space-lg);">
                <li><strong>Best of Both Worlds:</strong> Get extreme effect character (crush, saturation, long reverb) without sacrificing dynamics, clarity, or transients.</li>
                <li><strong>Professional Standard:</strong> Every major mixing engineer uses parallel processing—it's foundational to modern rock, hip-hop, pop, and electronic production.</li>
                <li><strong>CPU Efficiency:</strong> One heavily-processed bus can serve multiple sources via sends, saving processing power compared to inserting effects on every track.</li>
                <li><strong>Non-destructive Flexibility:</strong> Adjust the wet/dry blend at any point in the mix—you're never committed to a processing amount.</li>
              </ul>
            </div>

          </div>
        </section>

        <!-- EXERCISE INSTRUCTIONS (populated by JS) -->
        <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
          <div class="exercise-box">
            <div class="section-eyebrow">Exercise</div>
            <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
            <p class="section-body" id="mpl-exercise-description"></p>
            
            <div class="exercise-steps" id="mpl-exercise-steps-wrap">
              <h3>What to do:</h3>
              <ol class="exercise-checklist" id="mpl-exercise-steps"></ol>
            </div>

            <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;">
              <strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span>
            </div>

            <!-- PATTERN HINT (populated by JS) -->
            <div class="pattern-hint" id="mpl-pattern-hint" style="display:none;">
              <div class="pattern-hint-label">Target Pattern:</div>
              <div id="mpl-pattern-hint-grid"></div>
              <div id="mpl-pattern-hint-note"></div>
            </div>
          </div>
        </section>

        <!-- SEQUENCER CONTAINER (populated by JS) -->
        <section id="mpl-sequencer-container" style="margin-top: var(--space-2xl);"></section>

        <!-- COMPLETION MESSAGE (populated by JS) -->
        <div id="mpl-completion-message" class="completion-message" style="display:none;"></div>


      <!-- SCRIPT IMPORTS -->
      <script type="module">
        import { lessonConfig } from './configs/lesson-mixing-9.config.js';
        import { initLessonFromConfig } from './lesson-engine.js';
        
        // Initialize lesson with config
        if (window.LESSON_CONFIG) {
          initLessonFromConfig(window.LESSON_CONFIG);
        } else {
          initLessonFromConfig(lessonConfig);
        }
      </script>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-grid">
        <p class="copyright">© <span id="mpl-year">2025</span> Music Producer Lab</p>
        <nav class="footer-nav">
          <a href="labs.html">Labs</a>
          <a href="index.html">Home</a>
        </nav>
      </div>
    </footer>
    <script>document.getElementById("mpl-year").textContent = new Date().getFullYear();</script>
  <script src="theme-registry.js"></script>
  <script src="theme-manager.js"></script>
    <script src="navbar.js"></script>
  </body>
</html>
