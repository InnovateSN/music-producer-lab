<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title id="mpl-page-title">Lesson · Music Producer Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" id="mpl-meta-description" content="Interactive music production lesson from Music Producer Lab." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>

    <main class="main-content container">

        <!-- HERO SECTION (populated by JS) -->
        <section class="hero" id="mpl-hero" aria-label="Lesson hero" style="display: flex; align-items: center; gap: var(--space-3xl);">
          <div class="hero-copy" style="flex: 1; max-width: none;">
            <div class="hero-copy-eyebrow" id="mpl-hero-eyebrow">Loading...</div>
            <h1 class="hero-title" id="mpl-hero-title">
              <span id="mpl-hero-title-main">Lesson</span>
              <span id="mpl-hero-title-highlight"></span>
            </h1>
            <p class="hero-subtitle" id="mpl-hero-subtitle"></p>
            <div id="mpl-hero-nav-btns" style="margin-top:1rem;display:flex;gap:0.6rem;flex-wrap:wrap;"></div>
          </div>

          <div class="hero-visual" style="flex: 1; display: flex; align-items: center; justify-content: center;">
            <img src="images/mpl_hero_rightside.png" alt="Music Production" style="width: 100%; max-width: 500px; height: auto; object-fit: contain; filter: drop-shadow(0 0 40px rgba(0, 212, 255, 0.3));">
          </div>
          </div>
        </section>

        <!-- EDUCATIONAL CONTENT -->
        <section style="margin-top: var(--space-3xl); margin-bottom: var(--space-3xl);">
          <div class="card" style="padding: var(--space-2xl); background: var(--bg-card); border: 1px solid var(--border-subtle);">

            <!-- INTRODUCTION -->
            <div class="section-eyebrow" style="margin-bottom: var(--space-md);">What You'll Learn</div>
            <h2 style="font-size: 2rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Hi-Hats & Eighth Notes: Creating Rhythmic Energy</h2>

            <p style="font-size: 1.1rem; line-height: 1.8; color: var(--text-secondary); margin-bottom: var(--space-xl);">
              <a href="glossary.html#hi-hat" style="color: var(--accent-cyan); text-decoration: underline;">Hi-hats</a> are the glue that holds a <a href="glossary.html#drum-pattern" style="color: var(--accent-cyan); text-decoration: underline;">drum pattern</a> together.
              By playing on every <a href="glossary.html#eighth-note" style="color: var(--accent-cyan); text-decoration: underline;">eighth note</a> (also called "1/8 notes"), they create the rhythmic subdivisions—the "and" between each <a href="glossary.html#beat" style="color: var(--accent-cyan); text-decoration: underline;">beat</a> that makes music feel alive and propulsive.
              While the <a href="glossary.html#kick-drum" style="color: var(--accent-cyan); text-decoration: underline;">kick</a> and <a href="glossary.html#snare-drum" style="color: var(--accent-cyan); text-decoration: underline;">snare</a> define the structure, hi-hats fill in the gaps and add forward motion.
              This lesson teaches you the most fundamental hi-hat pattern in modern music.
            </p>

            <!-- KEY CONCEPTS GRID -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-xl); margin-bottom: var(--space-2xl);">

              <!-- Eighth Notes Explained -->
              <div style="padding: var(--space-lg); background: var(--bg-secondary); border-left: 4px solid var(--accent-cyan); border-radius: var(--radius-md);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/hihat.png" alt="Hi-Hat" style="width: 32px; height: 32px;">
                  <h3 style="margin: 0; font-size: 1.3rem;"><a href="glossary.html#eighth-note" style="color: var(--accent-cyan); text-decoration: none;">Eighth Notes</a></h3>
                </div>
                <p style="margin-bottom: var(--space-sm); color: var(--text-muted); font-weight: 600;">The "And" Between Beats</p>
                <p style="line-height: 1.7; color: var(--text-secondary);">
                  An <a href="glossary.html#eighth-note" style="color: var(--accent-cyan); text-decoration: underline;">eighth note</a> is half the length of a <a href="glossary.html#quarter-note" style="color: var(--accent-cyan); text-decoration: underline;">quarter note</a>.
                  If quarter notes are <strong>1-2-3-4</strong>, eighth notes are <strong>1 & 2 & 3 & 4 &</strong>.
                  In a 16-step grid, that's every odd step: 1, 3, 5, 7, 9, 11, 13, 15.
                </p>
                <p style="margin-top: var(--space-md); font-size: 0.9rem; color: var(--text-dim);">
                  <strong>Why it matters:</strong> Eighth notes are the heartbeat of groove—they create the pulse that makes people nod their heads.
                </p>
              </div>

              <!-- Subdivisions -->
              <div style="padding: var(--space-lg); background: var(--bg-secondary); border-left: 4px solid var(--accent-purple); border-radius: var(--radius-md);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/orologio.png" alt="Timing" style="width: 32px; height: 32px;">
                  <h3 style="margin: 0; font-size: 1.3rem;">Subdivisions</h3>
                </div>
                <p style="margin-bottom: var(--space-sm); color: var(--text-muted); font-weight: 600;">Dividing Time</p>
                <p style="line-height: 1.7; color: var(--text-secondary);">
                  <a href="glossary.html#subdivision" style="color: var(--accent-purple); text-decoration: underline;">Subdivisions</a> are how we break down beats into smaller pieces.
                  Quarter notes give you 4 hits per <a href="glossary.html#bar" style="color: var(--accent-purple); text-decoration: underline;">bar</a>, eighth notes give you 8 hits, sixteenth notes give you 16.
                  Hi-hats on eighth notes create the "tick-tick-tick" that fills the space.
                </p>
                <p style="margin-top: var(--space-md); font-size: 0.9rem; color: var(--text-dim);">
                  <strong>Why it matters:</strong> Subdivisions control how "busy" or "sparse" your beat feels. Eighth-note hi-hats are the sweet spot for most genres.
                </p>
              </div>

              <!-- Hi-Hat's Role -->
              <div style="padding: var(--space-lg); background: var(--bg-secondary); border-left: 4px solid var(--accent-orange); border-radius: var(--radius-md);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/idea.png" alt="Concept" style="width: 32px; height: 32px;">
                  <h3 style="margin: 0; font-size: 1.3rem;">Hi-Hat's Role</h3>
                </div>
                <p style="margin-bottom: var(--space-sm); color: var(--text-muted); font-weight: 600;">The Rhythmic Glue</p>
                <p style="line-height: 1.7; color: var(--text-secondary);">
                  While <a href="glossary.html#kick-drum" style="color: var(--accent-orange); text-decoration: underline;">kick</a> (low frequency) and <a href="glossary.html#snare-drum" style="color: var(--accent-orange); text-decoration: underline;">snare</a> (mid frequency) provide the structure, <a href="glossary.html#hi-hat" style="color: var(--accent-orange); text-decoration: underline;">hi-hats</a> (high frequency) fill in the rhythmic gaps.
                  They create continuity and forward momentum, preventing the beat from feeling choppy.
                </p>
                <p style="margin-top: var(--space-md); font-size: 0.9rem; color: var(--text-dim);">
                  <strong>Why it matters:</strong> Without hi-hats, even a perfect kick-snare pattern sounds empty and lifeless. Hi-hats bring energy and drive.
                </p>
              </div>

              <!-- Layering Concept -->
              <div style="padding: var(--space-lg); background: var(--bg-secondary); border-left: 4px solid var(--accent-green); border-radius: var(--radius-md);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/globe.png" alt="Layering" style="width: 32px; height: 32px;">
                  <h3 style="margin: 0; font-size: 1.3rem;">Frequency Layering</h3>
                </div>
                <p style="margin-bottom: var(--space-sm); color: var(--text-muted); font-weight: 600;">Low, Mid, High</p>
                <p style="line-height: 1.7; color: var(--text-secondary);">
                  Professional drum patterns layer three frequency ranges: kick (low 40-80Hz), snare (mid 200-400Hz), hi-hat (high 8-12kHz).
                  Each element occupies its own sonic space, so they don't clash—they complement each other.
                </p>
                <p style="margin-top: var(--space-md); font-size: 0.9rem; color: var(--text-dim);">
                  <strong>Why it matters:</strong> Understanding frequency layering is the foundation of professional mixing. Start learning it here with drums.
                </p>
              </div>

            </div>

            <!-- VISUAL EXAMPLE: Full Drum Pattern -->
            <div style="padding: var(--space-xl); background: rgba(0, 212, 255, 0.05); border: 2px solid var(--border-glow); border-radius: var(--radius-lg); margin-bottom: var(--space-2xl);">
              <h3 style="margin-bottom: var(--space-lg); color: var(--accent-cyan); display: flex; align-items: center; gap: var(--space-sm);">
                <img src="images/idea.png" alt="Pattern" style="width: 28px; height: 28px;">
                Complete Drum Pattern: Kick + Snare + Hi-Hat
              </h3>

              <div style="display: grid; gap: var(--space-lg);">
                <!-- 16-Step Grid with All Three Instruments -->
                <div>
                  <h4 style="color: var(--text-primary); margin-bottom: var(--space-md);">Three Layers Working Together</h4>

                  <!-- Kick Row -->
                  <p style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: var(--space-xs); font-weight: 600;">
                    <a href="glossary.html#kick-drum" style="color: var(--accent-cyan); text-decoration: underline;">Kick</a> (Quarter Notes - Steps 1, 5, 9, 13):
                  </p>
                  <div style="display: grid; grid-template-columns: repeat(16, 1fr); gap: 4px; margin-bottom: var(--space-md);">
                    <div style="background: var(--accent-cyan); color: var(--bg-dark); padding: var(--space-xs); text-align: center; font-size: 0.75rem; font-weight: 700; border-radius: 4px;">1</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">2</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">3</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">4</div>
                    <div style="background: var(--accent-cyan); color: var(--bg-dark); padding: var(--space-xs); text-align: center; font-size: 0.75rem; font-weight: 700; border-radius: 4px;">5</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">6</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">7</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">8</div>
                    <div style="background: var(--accent-cyan); color: var(--bg-dark); padding: var(--space-xs); text-align: center; font-size: 0.75rem; font-weight: 700; border-radius: 4px;">9</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">10</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">11</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">12</div>
                    <div style="background: var(--accent-cyan); color: var(--bg-dark); padding: var(--space-xs); text-align: center; font-size: 0.75rem; font-weight: 700; border-radius: 4px;">13</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">14</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">15</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">16</div>
                  </div>

                  <!-- Snare Row -->
                  <p style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: var(--space-xs); font-weight: 600;">
                    <a href="glossary.html#snare-drum" style="color: var(--accent-purple); text-decoration: underline;">Snare</a> (Backbeat - Steps 5, 13):
                  </p>
                  <div style="display: grid; grid-template-columns: repeat(16, 1fr); gap: 4px; margin-bottom: var(--space-md);">
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">1</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">2</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">3</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">4</div>
                    <div style="background: var(--accent-purple); color: var(--bg-dark); padding: var(--space-xs); text-align: center; font-size: 0.75rem; font-weight: 700; border-radius: 4px;">5</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">6</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">7</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">8</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">9</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">10</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">11</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">12</div>
                    <div style="background: var(--accent-purple); color: var(--bg-dark); padding: var(--space-xs); text-align: center; font-size: 0.75rem; font-weight: 700; border-radius: 4px;">13</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">14</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">15</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">16</div>
                  </div>

                  <!-- Hi-Hat Row -->
                  <p style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: var(--space-xs); font-weight: 600;">
                    <a href="glossary.html#hi-hat" style="color: var(--accent-green); text-decoration: underline;">Hi-Hat</a> (Eighth Notes - All Odd Steps):
                  </p>
                  <div style="display: grid; grid-template-columns: repeat(16, 1fr); gap: 4px; margin-bottom: var(--space-md);">
                    <div style="background: var(--accent-green); color: var(--bg-dark); padding: var(--space-xs); text-align: center; font-size: 0.75rem; font-weight: 700; border-radius: 4px;">1</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">2</div>
                    <div style="background: var(--accent-green); color: var(--bg-dark); padding: var(--space-xs); text-align: center; font-size: 0.75rem; font-weight: 700; border-radius: 4px;">3</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">4</div>
                    <div style="background: var(--accent-green); color: var(--bg-dark); padding: var(--space-xs); text-align: center; font-size: 0.75rem; font-weight: 700; border-radius: 4px;">5</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">6</div>
                    <div style="background: var(--accent-green); color: var(--bg-dark); padding: var(--space-xs); text-align: center; font-size: 0.75rem; font-weight: 700; border-radius: 4px;">7</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">8</div>
                    <div style="background: var(--accent-green); color: var(--bg-dark); padding: var(--space-xs); text-align: center; font-size: 0.75rem; font-weight: 700; border-radius: 4px;">9</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">10</div>
                    <div style="background: var(--accent-green); color: var(--bg-dark); padding: var(--space-xs); text-align: center; font-size: 0.75rem; font-weight: 700; border-radius: 4px;">11</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">12</div>
                    <div style="background: var(--accent-green); color: var(--bg-dark); padding: var(--space-xs); text-align: center; font-size: 0.75rem; font-weight: 700; border-radius: 4px;">13</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">14</div>
                    <div style="background: var(--accent-green); color: var(--bg-dark); padding: var(--space-xs); text-align: center; font-size: 0.75rem; font-weight: 700; border-radius: 4px;">15</div>
                    <div style="background: var(--bg-tertiary); color: var(--text-muted); padding: var(--space-xs); text-align: center; font-size: 0.75rem; border-radius: 4px;">16</div>
                  </div>

                  <!-- Beat Labels -->
                  <div style="display: grid; grid-template-columns: repeat(8, 1fr); gap: var(--space-xs); margin-bottom: var(--space-lg);">
                    <div style="text-align: center; color: var(--text-primary); font-weight: 600; font-size: 0.85rem;">1</div>
                    <div style="text-align: center; color: var(--accent-green); font-weight: 600; font-size: 0.85rem;">&</div>
                    <div style="text-align: center; color: var(--text-primary); font-weight: 600; font-size: 0.85rem;">2</div>
                    <div style="text-align: center; color: var(--accent-green); font-weight: 600; font-size: 0.85rem;">&</div>
                    <div style="text-align: center; color: var(--text-primary); font-weight: 600; font-size: 0.85rem;">3</div>
                    <div style="text-align: center; color: var(--accent-green); font-weight: 600; font-size: 0.85rem;">&</div>
                    <div style="text-align: center; color: var(--text-primary); font-weight: 600; font-size: 0.85rem;">4</div>
                    <div style="text-align: center; color: var(--accent-green); font-weight: 600; font-size: 0.85rem;">&</div>
                  </div>
                </div>

                <!-- Count-Along Section -->
                <div style="padding: var(--space-lg); background: var(--bg-card); border-radius: var(--radius-md);">
                  <h4 style="color: var(--text-primary); margin-bottom: var(--space-md);">How to Count Eighth Notes</h4>
                  <p style="color: var(--text-secondary); margin-bottom: var(--space-md); line-height: 1.7;">
                    Count out loud: <strong style="color: var(--accent-green);">"1 & 2 & 3 & 4 &"</strong><br>
                    - Numbers (1, 2, 3, 4) = downbeats (kick and snare)<br>
                    - "And" (&) = upbeats (hi-hat only)
                  </p>
                  <p style="color: var(--text-muted); font-size: 0.9rem;">
                    The hi-hat plays on <em>every</em> number and <em>every</em> "&". That's what makes it an eighth-note pattern—twice as fast as quarter notes.
                  </p>
                </div>
              </div>
            </div>

            <!-- COMMON MISTAKES -->
            <div style="padding: var(--space-xl); background: rgba(255, 102, 102, 0.05); border: 2px solid rgba(255, 102, 102, 0.3); border-radius: var(--radius-lg); margin-bottom: var(--space-2xl);">
              <h3 style="margin-bottom: var(--space-lg); color: var(--accent-orange); display: flex; align-items: center; gap: var(--space-sm);">
                <img src="images/questionmark.png" alt="Mistakes" style="width: 28px; height: 28px;">
                Common Mistakes with Hi-Hats
              </h3>

              <div style="display: grid; gap: var(--space-lg);">
                <!-- Mistake 1 -->
                <div style="padding: var(--space-lg); background: var(--bg-card); border-left: 4px solid var(--accent-orange); border-radius: var(--radius-md);">
                  <h4 style="color: var(--accent-orange); margin-bottom: var(--space-sm); display: flex; align-items: center; gap: var(--space-xs);">
                    <img src="images/X_gray.png" alt="Error" style="width: 1.2rem; height: 1.2rem; vertical-align: middle;">
                    Clicking Even Steps Instead of Odd
                  </h4>
                  <p style="color: var(--text-secondary); line-height: 1.7; margin-bottom: var(--space-sm);">
                    Beginners often click steps 2, 4, 6, 8... (even steps) instead of 1, 3, 5, 7... (odd steps). This creates an offbeat pattern that sounds "wrong" with the kick and snare.
                  </p>
                  <p style="color: var(--accent-orange); font-weight: 600; font-size: 0.9rem;">
                    ✓ Fix: Hi-hats go on <strong>odd numbers only</strong>: 1, 3, 5, 7, 9, 11, 13, 15. Remember: "1 & 2 & 3 & 4 &" = ALL of them.
                  </p>
                </div>

                <!-- Mistake 2 -->
                <div style="padding: var(--space-lg); background: var(--bg-card); border-left: 4px solid var(--accent-orange); border-radius: var(--radius-md);">
                  <h4 style="color: var(--accent-orange); margin-bottom: var(--space-sm); display: flex; align-items: center; gap: var(--space-xs);">
                    <img src="images/X_gray.png" alt="Error" style="width: 1.2rem; height: 1.2rem; vertical-align: middle;">
                    Hi-Hats Too Loud
                  </h4>
                  <p style="color: var(--text-secondary); line-height: 1.7; margin-bottom: var(--space-sm);">
                    Hi-hats should sit <em>behind</em> the kick and snare in volume. If they're too loud, they dominate the mix and sound harsh.
                  </p>
                  <p style="color: var(--accent-orange); font-weight: 600; font-size: 0.9rem;">
                    ✓ Fix: Hi-hats should be 30-40% quieter than the kick. Think of them as texture, not the main event.
                  </p>
                </div>

                <!-- Mistake 3 -->
                <div style="padding: var(--space-lg); background: var(--bg-card); border-left: 4px solid var(--accent-orange); border-radius: var(--radius-md);">
                  <h4 style="color: var(--accent-orange); margin-bottom: var(--space-sm); display: flex; align-items: center; gap: var(--space-xs);">
                    <img src="images/X_gray.png" alt="Error" style="width: 1.2rem; height: 1.2rem; vertical-align: middle;">
                    Skipping Hi-Hats Entirely
                  </h4>
                  <p style="color: var(--text-secondary); line-height: 1.7; margin-bottom: var(--space-sm);">
                    Some beginners think kick and snare are enough. But without hi-hats, the pattern sounds empty and lacks energy—it's missing the rhythmic glue.
                  </p>
                  <p style="color: var(--accent-orange); font-weight: 600; font-size: 0.9rem;">
                    ✓ Fix: Always include hi-hats unless you're going for a very sparse, minimal aesthetic. They're essential for 95% of drum patterns.
                  </p>
                </div>
              </div>
            </div>

            <!-- WHY THIS MATTERS -->
            <div style="padding: var(--space-xl); background: linear-gradient(135deg, rgba(179, 102, 255, 0.1), rgba(255, 102, 178, 0.1)); border-radius: var(--radius-lg);">
              <h3 style="margin-bottom: var(--space-md); color: var(--text-primary); display: flex; align-items: center; gap: var(--space-sm);">
                <img src="images/fulmine.png" alt="Important" style="width: 28px; height: 28px;">
                Why Hi-Hats Transform Your Beats
              </h3>
              <ul style="list-style: none; padding: 0; display: flex; flex-direction: column; gap: var(--space-md);">
                <li style="display: flex; align-items: flex-start; gap: var(--space-sm);">
                  <img src="images/mplscudo_check.png" alt="Check" style="width: 24px; height: 24px; flex-shrink: 0; margin-top: 2px;">
                  <span style="line-height: 1.7; color: var(--text-secondary);"><strong>Rhythmic Continuity:</strong> Hi-hats fill the space between kick and snare, creating a continuous pulse that keeps the groove moving forward without gaps.</span>
                </li>
                <li style="display: flex; align-items: flex-start; gap: var(--space-sm);">
                  <img src="images/mplscudo_check.png" alt="Check" style="width: 24px; height: 24px; flex-shrink: 0; margin-top: 2px;">
                  <span style="line-height: 1.7; color: var(--text-secondary);"><strong>Tempo Perception:</strong> Eighth-note hi-hats make the tempo feel "locked in." Without them, it's harder for listeners to feel the groove and stay in sync.</span>
                </li>
                <li style="display: flex; align-items: flex-start; gap: var(--space-sm);">
                  <img src="images/mplscudo_check.png" alt="Check" style="width: 24px; height: 24px; flex-shrink: 0; margin-top: 2px;">
                  <span style="line-height: 1.7; color: var(--text-secondary);"><strong>Genre Versatility:</strong> This exact pattern (kick on 1-2-3-4, snare on 2-4, hi-hats on 1/8 notes) is used in rock, pop, funk, hip-hop, house, and techno. Master it once, use it everywhere.</span>
                </li>
                <li style="display: flex; align-items: flex-start; gap: var(--space-sm);">
                  <img src="images/mplscudo_check.png" alt="Check" style="width: 24px; height: 24px; flex-shrink: 0; margin-top: 2px;">
                  <span style="line-height: 1.7; color: var(--text-secondary);"><strong>Foundation for Variation:</strong> Once you nail the basic eighth-note pattern, you can add variations: open hi-hats, ghost notes, swung rhythms. But you must master the basics first.</span>
                </li>
              </ul>

              <div style="margin-top: var(--space-lg); padding: var(--space-lg); background: var(--bg-card); border-radius: var(--radius-md);">
                <p style="color: var(--accent-purple); font-weight: 600; margin-bottom: var(--space-sm);">What's Next?</p>
                <p style="color: var(--text-secondary); line-height: 1.7;">
                  In <strong>Lesson 4</strong>, you'll learn about <strong>open hi-hats</strong> and how to create dynamic contrast by alternating between closed and open hi-hat sounds.
                  This adds expression and variation to your patterns without changing the rhythm.
                </p>
              </div>
            </div>

          </div>
        </section>

        <!-- EXERCISE INSTRUCTIONS (populated by JS) -->
        <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
          <div class="exercise-box">
            <div class="section-eyebrow">Exercise</div>
            <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
            <p class="section-body" id="mpl-exercise-description"></p>
            
            <div class="exercise-steps" id="mpl-exercise-steps-wrap">
              <h3>What to do:</h3>
              <ol class="exercise-checklist" id="mpl-exercise-steps"></ol>
            </div>

            <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;">
              <strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span>
            </div>

            <!-- PATTERN HINT (populated by JS) -->
            <div class="pattern-hint" id="mpl-pattern-hint" style="display:none;">
              <div class="pattern-hint-label">Target Pattern:</div>
              <div id="mpl-pattern-hint-grid"></div>
              <div class="pattern-note" id="mpl-pattern-hint-note"></div>
            </div>
          </div>
        </section>

        <!-- SEQUENCER SECTION -->
        <section class="sequencer-section" id="mpl-sequencer-section" style="margin-top: var(--space-xl);">
          <div class="section-eyebrow" style="margin-bottom: var(--space-sm);">Interactive Sequencer</div>
          <h2 class="section-title" style="margin-bottom: var(--space-lg);"><span id="mpl-step-count-label">16</span>-Step Grid</h2>
          
          <div class="sequencer" id="mpl-sequencer-collection">
            <!-- Sequencer will be created by JS -->
          </div>

          <!-- CONTROLS -->
          <div class="sequencer-controls" style="display:flex;gap:0.75rem;margin-top:1.5rem;flex-wrap:wrap;align-items:center;">
            <button type="button" class="btn btn-outline" id="mpl-seq-play-all">
              <img src="images/PLAY.png" alt="Play" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Play</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-stop-all">
              <img src="images/STOP.png" alt="Stop" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Stop</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-clear-all" style="display:none;">
              <img src="images/CLEAR.png" alt="Clear" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Clear</span>
            </button>
            <button type="button" class="btn btn-primary" id="mpl-seq-check-all">
              <span>Check Exercise</span>
            </button>

            <!-- PRESET CONTROLS (hidden by default) -->
            <div id="mpl-preset-controls" style="display:none;gap:0.5rem;margin-left:0.5rem;">
              <button type="button" class="btn btn-outline btn-sm" id="mpl-preset-save">Save</button>
              <button type="button" class="btn btn-outline btn-sm" id="mpl-preset-load">Load</button>
            </div>

            <div style="margin-left:auto;display:flex;gap:0.75rem;">
              <div id="mpl-seq-prev-lesson-wrap">
                <button class="btn btn-secondary" id="mpl-prev-lesson">
                  <span>&larr; Previous Lesson</span>
                </button>
              </div>
              <div id="mpl-seq-next-lesson-wrap">
                <button class="btn btn-primary" id="mpl-next-lesson" disabled title="Complete exercise to unlock">
                  <span>Next Lesson &rarr;</span>
                </button>
              </div>
            </div>
          </div>

          <!-- TEMPO/SWING CONTROLS (for sandbox mode) -->
          <div id="mpl-advanced-controls" style="display:none;margin-top:1rem;padding:1rem;background:var(--bg-secondary);border-radius:var(--radius-md);gap:1.5rem;flex-wrap:wrap;align-items:center;">
            <div style="display:flex;align-items:center;gap:0.5rem;">
              <label for="mpl-tempo-slider" style="font-size:0.85rem;color:var(--text-muted);">Tempo:</label>
              <input type="range" id="mpl-tempo-slider" min="60" max="180" value="120" style="width:100px;">
              <span id="mpl-tempo-value" style="font-family:var(--font-mono);font-size:0.85rem;min-width:50px;">120 BPM</span>
            </div>
            <div style="display:flex;align-items:center;gap:0.5rem;">
              <label for="mpl-swing-slider" style="font-size:0.85rem;color:var(--text-muted);">Swing:</label>
              <input type="range" id="mpl-swing-slider" min="0" max="100" value="0" style="width:100px;">
              <span id="mpl-swing-value" style="font-family:var(--font-mono);font-size:0.85rem;min-width:40px;">0%</span>
            </div>
          </div>

          <div class="sequencer-status" id="mpl-seq-status" aria-live="polite" style="margin-top:1rem;">
            <span>Complete the exercise to unlock the next lesson.</span>
          </div>
        </section>

        <!-- FOOTER -->
        <footer class="footer" id="mpl-footer">
          <div>&copy; <span id="mpl-year"></span> Music Producer Lab</div>
          <div><a class="footer-link" id="mpl-footer-overview-link" href="labs.html">Back to overview</a></div>
        </footer>
      </div>
      
      <!-- LESSON ENGINE SCRIPT -->
      <script>document.getElementById("mpl-year").textContent = new Date().getFullYear();</script>

      <!--
        HOW TO USE THIS TEMPLATE:
        
        1. Create a config file (e.g., configs/lesson-drums-5.config.js)
        2. Copy this template to your lesson file (e.g., lesson-drums-5-new.html)
        3. Update the script import at the bottom to point to your config
        
        Example:

<script type="module">
          import { lessonConfig } from './configs/lesson-drums-5.config.js';
          import { initLessonFromConfig } from './lesson-engine.js';
          initLessonFromConfig(lessonConfig);
        </script>
      -->

      
      <script type="module">
      // Import lesson config and engine
      import { lessonConfig } from './configs/lesson-drums-3.config.js';
      import { initLessonFromConfig } from './lesson-engine.js';

      // Initialize lesson from config
      initLessonFromConfig(lessonConfig);

      // Set year in footer
      document.getElementById("mpl-year").textContent = new Date().getFullYear();
    </script>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-grid">
        <p class="copyright">© <span id="mpl-year">2025</span> Music Producer Lab</p>
        <nav class="footer-nav">
          <a href="labs.html">Labs</a>
          <a href="index.html">Home</a>
        </nav>
      </div>
    </footer>
    <script>document.getElementById("mpl-year").textContent = new Date().getFullYear();</script>
  <script src="theme-registry.js"></script>
  <script src="theme-manager.js"></script>
    <script src="navbar.js"></script>
  </body>
</html>
