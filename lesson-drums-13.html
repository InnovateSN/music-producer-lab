<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title id="mpl-page-title">Lesson 13 | Music Producer Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" id="mpl-meta-description" content="Interactive music production lesson from Music Producer Lab." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>

    <main class="main-content container">

        <!-- HERO SECTION (populated by JS) -->
        <section class="hero" id="mpl-hero" aria-label="Lesson hero">
          <div class="hero-copy">
            <div class="hero-copy-eyebrow" id="mpl-hero-eyebrow">Loading...</div>
            <h1 class="hero-title" id="mpl-hero-title">
              <span id="mpl-hero-title-main">Lesson</span>
              <span id="mpl-hero-title-highlight"></span>
            </h1>
            <p class="hero-subtitle" id="mpl-hero-subtitle"></p>
          </div>

          <!-- Hero visual section -->
        </section>

        <!-- THEORY CONTENT SECTION -->
        <section class="theory-section" style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);">
          <div class="section-eyebrow">Theory</div>
          <h2 class="section-title"><a href="glossary.html#humanization" style="color: inherit; text-decoration: underline;">Humanization</a>: Making Programmed Drums Feel Alive</h2>
          <p class="section-body" style="margin-bottom: var(--space-xl);">
            The difference between a robotic drum machine and a living, breathing groove comes down to <strong><a href="glossary.html#humanization" style="color: var(--accent-cyan); text-decoration: underline;">humanization</a></strong>. Real drummers don't play with perfect timing or consistent <a href="glossary.html#velocity" style="color: var(--accent-cyan); text-decoration: underline;">velocity</a>‚Äîthey have natural micro-variations that create <strong>feel</strong>, <strong>pocket</strong>, and <strong>groove</strong>. In this lesson, you'll learn how to apply these techniques to transform rigid patterns into expressive, musical performances.
          </p>

          <div style="display: grid; gap: var(--space-lg); margin-bottom: var(--space-xl);">
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Understanding Timing Randomization</h3>
              <p class="section-body">
                <strong>Timing randomization</strong> (also called "timing offset" or "micro-timing") adds subtle delays or advances to notes relative to the grid. Measured in <strong>milliseconds (ms)</strong>, this mimics the imperfect timing of human performance.
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>5-10ms:</strong> Subtle humanization‚Äîbarely noticeable but adds life to hi-hats and percussion</li>
                <li><strong>10-15ms:</strong> Classic MPC feel‚Äîthe "boom-bap" character of golden-era hip-hop</li>
                <li><strong>15-20ms:</strong> Loose, laid-back pocket‚Äîgreat for soul, R&B, and relaxed grooves</li>
                <li><strong>20ms+:</strong> Sloppy feel‚Äîuse sparingly, risks sounding out of time</li>
              </ul>
              <p class="section-body" style="margin-top: var(--space-sm); margin-bottom: 0;">
                <strong>Pro tip:</strong> Apply <strong>more</strong> humanization to hi-hats and cymbals (10-15ms), <strong>less</strong> to kick and snare (5-8ms). This keeps the foundation solid while adding organic movement on top. Visit our <a href="learn-tools.html" style="color: var(--accent-cyan); text-decoration: underline;">Tools Tutorial</a> for an interactive demo!
              </p>
            </div>

            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Velocity Variation: Dynamic Expression</h3>
              <p class="section-body">
                <strong><a href="glossary.html#velocity" style="color: var(--accent-cyan); text-decoration: underline;">Velocity</a> randomization</strong> varies the volume/intensity of each hit. Measured as a <strong>percentage (0-30%)</strong>, it adds natural dynamics that make patterns breathe.
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>10-15%:</strong> Subtle variation‚Äîkeeps patterns tight with gentle dynamics</li>
                <li><strong>15-20%:</strong> Moderate humanization‚Äîadds noticeable expression without chaos</li>
                <li><strong>20-30%:</strong> Dramatic variation‚Äîsimulates aggressive, expressive drumming</li>
              </ul>
              <p class="section-body" style="margin-top: var(--space-sm); margin-bottom: 0;">
                <strong>How it works:</strong> If a hi-hat is set to velocity 80 with 15% randomization, each hit will randomly vary between 68-92 (¬±12 velocity units). This creates the natural inconsistency of real playing.
              </p>
            </div>

            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Humanization Presets & Groove Templates</h3>
              <p class="section-body">
                Professional producers use <strong>groove templates</strong>‚Äîpre-configured <a href="glossary.html#humanization" style="color: var(--accent-cyan); text-decoration: underline;">humanization</a> settings based on classic hardware or famous recordings. Here are the essential presets:
              </p>

              <div style="margin-top: var(--space-md); display: grid; gap: var(--space-sm);">
                <div style="padding: var(--space-sm); background: rgba(0, 240, 255, 0.05); border-radius: 4px; border-left: 2px solid var(--accent-cyan);">
                  <strong style="color: var(--accent-cyan);">Subtle (5ms / 10%)</strong><br>
                  <span style="font-size: 0.9rem; color: var(--text-muted);">Barely noticeable‚Äîkeeps pattern tight but alive. Perfect for electronic genres that need precision but not robotic perfection.</span>
                </div>
                <div style="padding: var(--space-sm); background: rgba(138, 43, 226, 0.05); border-radius: 4px; border-left: 2px solid var(--accent-primary);">
                  <strong style="color: var(--accent-primary);">MPC 60 (10ms / 15%)</strong><br>
                  <span style="font-size: 0.9rem; color: var(--text-muted);">Classic hip-hop <a href="glossary.html#swing" style="color: var(--text-muted); text-decoration: underline;">swing</a> and feel. The signature sound of J Dilla, Pete Rock, and golden-era boom-bap production.</span>
                </div>
                <div style="padding: var(--space-sm); background: rgba(255, 107, 107, 0.05); border-radius: 4px; border-left: 2px solid #ff6b6b;">
                  <strong style="color: #ff6b6b;">Loose Pocket (18ms / 20%)</strong><br>
                  <span style="font-size: 0.9rem; color: var(--text-muted);">Relaxed, laid-back feel for soul, R&B, and jazz-influenced tracks. Notes "sit behind the beat" for maximum groove.</span>
                </div>
                <div style="padding: var(--space-sm); background: rgba(255, 170, 0, 0.05); border-radius: 4px; border-left: 2px solid #ffaa00;">
                  <strong style="color: #ffaa00;">Live Feel (12ms / 25%)</strong><br>
                  <span style="font-size: 0.9rem; color: var(--text-muted);">Simulates real drummer variation with noticeable timing and <a href="glossary.html#velocity" style="color: var(--text-muted); text-decoration: underline;">velocity</a> changes. Great for rock, indie, and organic productions.</span>
                </div>
              </div>
            </div>

            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">When to Use (and Not Use) Humanization</h3>
              <p class="section-body">
                <a href="glossary.html#humanization" style="color: var(--accent-cyan); text-decoration: underline;">Humanization</a> isn't always the answer. Here's when to apply it‚Äîand when to keep things tight:
              </p>

              <div style="margin-top: var(--space-md);">
                <h4 style="font-size: 1rem; font-weight: 600; margin-bottom: var(--space-xs); color: var(--accent-cyan);">‚úÖ Use Humanization For:</h4>
                <ul class="section-body" style="margin-left: var(--space-md);">
                  <li><strong>Hip-Hop & Boom-Bap:</strong> MPC-style humanization (10-15ms + 54-58% <a href="glossary.html#swing" style="color: var(--accent-cyan); text-decoration: underline;">swing</a>) is essential for authentic feel</li>
                  <li><strong>Rock/Live Drums:</strong> Live Feel preset (12-25ms timing, 20-30% <a href="glossary.html#velocity" style="color: var(--accent-cyan); text-decoration: underline;">velocity</a>) makes programmed drums sound real</li>
                  <li><strong>Jazz, Soul, R&B:</strong> Loose pocket with high velocity variation creates expressive, musical performances</li>
                  <li><strong>Hi-hats & Percussion:</strong> Always benefit from humanization‚Äîeven subtle amounts add realism</li>
                </ul>
              </div>

              <div style="margin-top: var(--space-md);">
                <h4 style="font-size: 1rem; font-weight: 600; margin-bottom: var(--space-xs); color: #ff6b6b;">‚ùå Keep It Tight (Minimal/No Humanization) For:</h4>
                <ul class="section-body" style="margin-left: var(--space-md);">
                  <li><strong>Techno & House:</strong> The mechanical, grid-locked precision IS the aesthetic</li>
                  <li><strong>Trap:</strong> Tight, quantized hi-hat rolls and triplets need surgical precision</li>
                  <li><strong>Dubstep/Bass Music:</strong> Impact comes from locked-in timing, not loose feel</li>
                  <li><strong>Kick & Snare:</strong> Keep foundational elements mostly on-grid (5-8ms max) for solid groove</li>
                </ul>
              </div>

              <p class="section-body" style="margin-top: var(--space-md); margin-bottom: 0;">
                <strong>The golden rule:</strong> Start with humanization OFF. Build your pattern perfectly on the grid. THEN add subtle humanization and A/B test. If you can't hear the difference, you might not need it. If it sounds better, you've found the sweet spot!
              </p>
            </div>

            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Combining <a href="glossary.html#swing" style="color: var(--accent-primary); text-decoration: underline;">Swing</a> + Humanization</h3>
              <p class="section-body">
                The most powerful grooves combine <strong><a href="glossary.html#swing" style="color: var(--accent-cyan); text-decoration: underline;">swing</a></strong> (systematic timing adjustment) with <strong>humanization</strong> (random timing variation). Here's how they work together:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>Swing (54-58%):</strong> Delays off-beats in a consistent pattern, creating a "shuffled" or triplet feel</li>
                <li><strong>Humanization (10-15ms):</strong> Adds random micro-variations on top of the swing</li>
                <li><strong>Together:</strong> Creates the organic, "drunk" feel of classic MPC productions and jazz drumming</li>
              </ul>
              <p class="section-body" style="margin-top: var(--space-sm); margin-bottom: 0;">
                <strong>Exercise tip:</strong> In this lesson's exercise, you'll apply 54% swing (Step 5) to create the MPC feel. This swing amount is the "magic number" used by producers like J Dilla, DJ Premier, and The Alchemist. Combined with subtle timing humanization, it creates that unmistakable boom-bap pocket.
              </p>
            </div>
          </div>
        </section>

        <!-- EXERCISE INSTRUCTIONS (populated by JS) -->
        <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
          <div class="exercise-box">
            <div class="section-eyebrow">Exercise</div>
            <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
            <p class="section-body" id="mpl-exercise-description"></p>

            <div class="exercise-steps" id="mpl-exercise-steps-wrap">
              <h3>What to do:</h3>
              <ol class="exercise-checklist" id="mpl-exercise-steps"></ol>
            </div>

            <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;">
              <strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span>
            </div>

            <!-- PATTERN HINT (populated by JS) -->
            <div class="pattern-hint" id="mpl-pattern-hint" style="display:none;">
              <div class="pattern-hint-label">Target Pattern:</div>
              <div id="mpl-pattern-hint-grid"></div>
              <div class="pattern-note" id="mpl-pattern-hint-note"></div>
            </div>
          </div>
        </section>

        <!-- TOOLS GUIDE BANNER -->
        <div class="exercise-box" style="margin-top: var(--space-2xl); background: linear-gradient(135deg, rgba(0, 240, 255, 0.08) 0%, rgba(95, 77, 255, 0.08) 100%); border: 1px solid rgba(0, 240, 255, 0.2);">
          <div style="display: flex; align-items: center; gap: var(--space-md);">
            <span style="font-size: 2rem;">üéõÔ∏è</span>
            <div style="flex: 1;">
              <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: var(--space-xs); color: var(--accent-cyan);">
                Need Help with Our Tools?
              </h3>
              <p style="margin: 0; color: var(--text-muted);">
                Not sure how to use velocity controls, tempo, or swing?
                <a href="learn-tools.html" style="color: var(--accent-primary); text-decoration: underline; font-weight: 600;">Visit our Tools Guide ‚Üí</a>
                for complete tutorials on all sequencer features.
              </p>
            </div>
          </div>
        </div>

        <!-- SEQUENCER SECTION -->
        <section class="sequencer-section" id="mpl-sequencer-section" style="margin-top: var(--space-xl);">
          <div class="section-eyebrow" style="margin-bottom: var(--space-sm);">Interactive Sequencer</div>
          <h2 class="section-title" style="margin-bottom: var(--space-lg);"><span id="mpl-step-count-label">16</span>-Step Grid</h2>

          <div class="sequencer" id="mpl-sequencer-collection">
            <!-- Sequencer will be created by JS -->
          </div>

          <!-- CONTROLS -->
          <div class="sequencer-controls" style="display:flex;gap:0.75rem;margin-top:1.5rem;flex-wrap:wrap;align-items:center;">
            <button type="button" class="btn btn-outline" id="mpl-seq-play-all">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right:4px;"><polygon points="5 3 19 12 5 21 5 3"/></svg>
              <span>Play</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-stop-all">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right:4px;"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
              <span>Stop</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-clear-all">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right:4px;"><path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/></svg>
              <span>Clear</span>
            </button>
            <button type="button" class="btn btn-primary" id="mpl-seq-check-all">
              <span>Check Exercise</span>
            </button>

            <div style="margin-left:auto;display:flex;gap:0.75rem;">
              <div id="mpl-seq-prev-lesson-wrap">
                <button class="btn btn-secondary" id="mpl-prev-lesson">
                  <span>&larr; Previous Lesson</span>
                </button>
              </div>
              <div id="mpl-seq-next-lesson-wrap">
                <button class="btn btn-primary" id="mpl-next-lesson" disabled title="Complete exercise to unlock">
                  <span>Next Lesson &rarr;</span>
                </button>
              </div>
            </div>

          <div class="sequencer-status" id="mpl-seq-status" aria-live="polite" style="margin-top:1rem;">
            <span>Complete the exercise to unlock the next lesson.</span>
          </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-grid">
        <p class="copyright">¬© <span id="mpl-year">2025</span> Music Producer Lab</p>
        <nav class="footer-nav">
          <a href="labs.html">Labs</a>
          <a href="index.html">Home</a>
        </nav>
      </div>
    </footer>

    <!-- MODULAR LESSON ENGINE -->

<script type="module">
      // Import lesson config and engine
      import { lessonConfig } from './configs/lesson-drums-13.config.js';
      import { initLessonFromConfig } from './lesson-engine.js';

      // Initialize lesson from config
      initLessonFromConfig(lessonConfig);

      // Set year in footer
      document.getElementById("mpl-year").textContent = new Date().getFullYear();
    </script>
    <script src="navbar.js"></script>
  </body>
</html>
