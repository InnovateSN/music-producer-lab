<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title id="mpl-page-title">Lesson ¬∑ Music Producer Lab</title>
    <meta name="viewport" content="width=1200, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" id="mpl-meta-description" content="Interactive music production lesson from Music Producer Lab." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>

    <main class="main-content container">

        <!-- HERO SECTION (populated by JS) -->
        <section class="hero" id="mpl-hero" aria-label="Lesson hero" style="display: flex; align-items: center; gap: var(--space-3xl);">
          <div class="hero-copy" style="flex: 1; max-width: none;">
            <div class="hero-copy-eyebrow" id="mpl-hero-eyebrow">Loading...</div>
            <h1 class="hero-title" id="mpl-hero-title">
              <span id="mpl-hero-title-main">Lesson</span>
              <span id="mpl-hero-title-highlight"></span>
            </h1>
            <p class="hero-subtitle" id="mpl-hero-subtitle"></p>
            <div id="mpl-hero-nav-btns" style="margin-top:1rem;display:flex;gap:0.6rem;flex-wrap:wrap;"></div>
          </div>

          <div class="hero-visual" style="flex: 1; display: flex; align-items: center; justify-content: center;">
            <img src="images/mpl_hero_rightside.png" alt="Music Production" style="width: 100%; max-width: 500px; height: auto; object-fit: contain; filter: drop-shadow(0 0 40px rgba(0, 212, 255, 0.3));">
          </div>
          </div>
        </section>

        <!-- EXERCISE INSTRUCTIONS (populated by JS) -->
        <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
          <div class="exercise-box">
            <div class="section-eyebrow">Exercise</div>
            <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
            <p class="section-body" id="mpl-exercise-description"></p>
            
            <div class="exercise-steps" id="mpl-exercise-steps-wrap">
              <h3>What to do:</h3>
              <ol class="exercise-checklist" id="mpl-exercise-steps"></ol>
            </div>

            <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;">
              <strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span>
            </div>

            <!-- PATTERN HINT (populated by JS) -->
            <div class="pattern-hint" id="mpl-pattern-hint" style="display:none;">
              <div class="pattern-hint-label">Target Pattern:</div>
              <div id="mpl-pattern-hint-grid"></div>
              <div class="pattern-note" id="mpl-pattern-hint-note"></div>
            </div>
          </div>
        </section>

        <!-- SEQUENCER SECTION -->
        <section class="sequencer-section" id="mpl-sequencer-section" style="margin-top: var(--space-xl);">
          <div class="section-eyebrow" style="margin-bottom: var(--space-sm);">Interactive Sequencer</div>
          <h2 class="section-title" style="margin-bottom: var(--space-lg);"><span id="mpl-step-count-label">16</span>-Step Grid</h2>
          
          <div class="sequencer" id="mpl-sequencer-collection">
            <!-- Sequencer will be created by JS -->
          </div>

          <!-- CONTROLS -->
          <div class="sequencer-controls" style="display:flex;gap:0.75rem;margin-top:1.5rem;flex-wrap:wrap;align-items:center;">
            <button type="button" class="btn btn-outline" id="mpl-seq-play-all">
              <img src="images/PLAY.png" alt="Play" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Play</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-stop-all">
              <img src="images/STOP.png" alt="Stop" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Stop</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-clear-all" style="display:none;">
              <img src="images/CLEAR.png" alt="Clear" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Clear</span>
            </button>
            <button type="button" class="btn btn-primary" id="mpl-seq-check-all">
              <span>Check Exercise</span>
            </button>

            <!-- PRESET CONTROLS (hidden by default) -->
            <div id="mpl-preset-controls" style="display:none;gap:0.5rem;margin-left:0.5rem;">
              <button type="button" class="btn btn-outline btn-sm" id="mpl-preset-save">Save</button>
              <button type="button" class="btn btn-outline btn-sm" id="mpl-preset-load">Load</button>
            </div>

            <div style="margin-left:auto;display:flex;gap:0.75rem;">
              <div id="mpl-seq-prev-lesson-wrap">
                <button class="btn btn-secondary" id="mpl-prev-lesson">
                  <span>&larr; Previous Lesson</span>
                </button>
              </div>
              <div id="mpl-seq-next-lesson-wrap">
                <button class="btn btn-primary" id="mpl-next-lesson" disabled title="Complete exercise to unlock">
                  <span>Next Lesson &rarr;</span>
                </button>
              </div>
            </div>
          </div>

          <!-- TEMPO/SWING CONTROLS (for sandbox mode) -->
          <div id="mpl-advanced-controls" style="display:none;margin-top:1rem;padding:1rem;background:var(--bg-secondary);border-radius:var(--radius-md);gap:1.5rem;flex-wrap:wrap;align-items:center;">
            <div style="display:flex;align-items:center;gap:0.5rem;">
              <label for="mpl-tempo-slider" style="font-size:0.85rem;color:var(--text-muted);">Tempo:</label>
              <input type="range" id="mpl-tempo-slider" min="60" max="180" value="120" style="width:100px;">
              <span id="mpl-tempo-value" style="font-family:var(--font-mono);font-size:0.85rem;min-width:50px;">120 BPM</span>
            </div>
            <div style="display:flex;align-items:center;gap:0.5rem;">
              <label for="mpl-swing-slider" style="font-size:0.85rem;color:var(--text-muted);">Swing:</label>
              <input type="range" id="mpl-swing-slider" min="0" max="100" value="0" style="width:100px;">
              <span id="mpl-swing-value" style="font-family:var(--font-mono);font-size:0.85rem;min-width:40px;">0%</span>
            </div>
          </div>

          <div class="sequencer-status" id="mpl-seq-status" aria-live="polite" style="margin-top:1rem;">
            <span>Complete the exercise to unlock the next lesson.</span>
          </div>
        </section>

        <!-- FOOTER -->
        <footer class="footer" id="mpl-footer">
          <div>&copy; <span id="mpl-year"></span> Music Producer Lab</div>
          <div><a class="footer-link" id="mpl-footer-overview-link" href="labs.html">Back to overview</a></div>
        </footer>
      </div>
      
      <!-- LESSON ENGINE SCRIPT -->
      <script>document.getElementById("mpl-year").textContent = new Date().getFullYear();</script>

      <!--
        HOW TO USE THIS TEMPLATE:
        
        1. Create a config file (e.g., configs/lesson-drums-5.config.js)
        2. Copy this template to your lesson file (e.g., lesson-drums-5-new.html)
        3. Update the script import at the bottom to point to your config
        
        Example:

<script type="module">
          import { lessonConfig } from './configs/lesson-drums-5.config.js';
          import { initLessonFromConfig } from './lesson-engine.js';
          initLessonFromConfig(lessonConfig);
        </script>
      -->

      
      <script type="module">
      // Import lesson config and engine
      import { lessonConfig } from './configs/lesson-drums-13.config.js';
      import { initLessonFromConfig } from './lesson-engine.js';

      // Initialize lesson from config
      initLessonFromConfig(lessonConfig);

      // Set year in footer
      document.getElementById("mpl-year").textContent = new Date().getFullYear();
    </script>

    <!-- ========================================== -->
    <!-- EDUCATIONAL CONTENT: Humanization & Groove -->
    <!-- ========================================== -->
    <section style="margin-top: var(--space-3xl); margin-bottom: var(--space-3xl);">
      <div class="card" style="padding: var(--space-2xl); background: var(--bg-card);">

        <!-- INTRODUCTION -->
        <h2 style="font-size: 2rem; font-weight: 700; margin-bottom: var(--space-lg); background: linear-gradient(135deg, #a29bfe, #6c5ce7); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Humanization: The Soul of the Groove</h2>

        <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: var(--space-lg); color: var(--text-primary);">
          <strong>Humanization</strong> is the art of making programmed drums sound like a <em>real person</em> played them. Perfect <a href="glossary.html#quantization" class="glossary-link">quantization</a> creates robotic patterns‚Äîevery hit exactly on the grid, every velocity identical. Real drummers have <strong>imperfections</strong>: notes land <strong>5-20ms early or late</strong>, velocities vary by <strong>15-30%</strong>, and the groove has a subtle <strong>swing</strong> that computers can't naturally create.
        </p>

        <p style="font-size: 1rem; line-height: 1.8; margin-bottom: var(--space-lg); color: var(--text-secondary);">
          In the 1980s, Roger Linn's <strong>MPC 60</strong> sampler introduced the world to <strong>54% swing</strong>‚Äîa timing offset that made drum machines feel <em>alive</em>. This "swing" became the signature of hip-hop, giving J Dilla, Pete Rock, and DJ Premier their iconic pocket. Today, humanization techniques range from <strong>micro-timing shifts</strong> to <strong>groove template extraction</strong> from vinyl records.
        </p>

        <div style="background: linear-gradient(135deg, rgba(162, 155, 254, 0.1), rgba(108, 92, 231, 0.1)); padding: var(--space-lg); border-radius: var(--radius-md); border-left: 4px solid #a29bfe; margin-bottom: var(--space-xl);">
          <p style="font-style: italic; color: var(--text-primary); margin: 0; line-height: 1.7;">
            <strong>Why It Matters:</strong> The difference between amateur and professional beats often comes down to <strong>feel</strong>‚Äînot pattern complexity. A simple kick-snare pattern with <strong>proper humanization</strong> will groove harder than a complex pattern locked rigidly to the grid. This lesson teaches you how to capture that <em>living, breathing</em> quality.
          </p>
        </div>

        <!-- KEY CONCEPTS -->
        <h3 style="font-size: 1.5rem; font-weight: 600; margin-top: var(--space-2xl); margin-bottom: var(--space-md); color: var(--text-primary);">Key Concepts in Humanization</h3>

        <!-- Concept 1: Micro-Timing Variations -->
        <div style="background: var(--bg-secondary); padding: var(--space-lg); border-radius: var(--radius-md); margin-bottom: var(--space-lg); border-left: 4px solid #a29bfe;">
          <h4 style="font-size: 1.2rem; font-weight: 600; margin-bottom: var(--space-sm); color: #a29bfe;">
            1. Micro-Timing: The 5-20ms Rule
          </h4>
          <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
            Real drummers don't hit notes <em>exactly</em> on the grid. <strong>Micro-timing</strong> refers to tiny shifts (typically <strong>5-20 milliseconds</strong>) that push notes slightly ahead or behind the beat. These shifts are imperceptible individually, but collectively they create a <strong>human pocket</strong> that feels natural and groovy.
          </p>
          <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
            <strong>Where to apply it:</strong> Hi-hats and percussion benefit most from micro-timing because they're repetitive. Keep <strong>kicks mostly on grid</strong> (0-5ms variation) to maintain the foundation, and let <strong>snares drift 5-10ms behind</strong> the beat for a laid-back feel. This technique is called <strong>"laying in the pocket."</strong>
          </p>
          <p style="line-height: 1.7; color: var(--text-secondary); margin: 0;">
            <strong>Famous Example:</strong> J Dilla's drums on <em>"Donuts"</em> often feature snares 10-15ms <em>behind</em> the beat, creating his signature "drunk" swing. This isn't sloppy‚Äîit's <strong>intentional micro-timing</strong> that defines the groove.
          </p>
        </div>

        <!-- Concept 2: Velocity Curves -->
        <div style="background: var(--bg-secondary); padding: var(--space-lg); border-radius: var(--radius-md); margin-bottom: var(--space-lg); border-left: 4px solid #6c5ce7;">
          <h4 style="font-size: 1.2rem; font-weight: 600; margin-bottom: var(--space-sm); color: #6c5ce7;">
            2. Velocity Curves: Dynamics Create Life
          </h4>
          <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
            <a href="glossary.html#velocity" class="glossary-link">Velocity</a> controls how hard a note is hit. Real drummers <em>never</em> hit every hi-hat with the same force. Instead, they create <strong>velocity curves</strong>‚Äîpatterns of loud and soft hits that add <strong>dynamics and rhythm</strong>. A common pattern is <strong>loud on downbeats (1, 5, 9, 13)</strong> and <strong>softer on off-beats</strong>.
          </p>
          <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
            <strong>The 15-25% rule:</strong> Start with velocity randomization of <strong>¬±15-25%</strong>. For example, if your baseline hi-hat velocity is 70, randomize it between 60-80. This variation is subtle enough to feel natural but significant enough to break the mechanical monotony of perfectly equal hits.
          </p>
          <p style="line-height: 1.7; color: var(--text-secondary); margin: 0;">
            <strong>Production Tip:</strong> Create an <strong>accent pattern</strong> by boosting velocity on beats 1 and 3 (the strong beats) and reducing it on beats 2 and 4 (the weak beats). This mimics how drummers naturally emphasize the pulse of the music.
          </p>
        </div>

        <!-- Concept 3: Swing and Groove -->
        <div style="background: var(--bg-secondary); padding: var(--space-lg); border-radius: var(--radius-md); margin-bottom: var(--space-lg); border-left: 4px solid #00cec9;">
          <h4 style="font-size: 1.2rem; font-weight: 600; margin-bottom: var(--space-sm); color: #00cec9;">
            3. Swing: The MPC's Secret Weapon (54%)
          </h4>
          <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
            <a href="glossary.html#swing" class="glossary-link">Swing</a> delays every other note slightly, transforming straight 16th notes into a <strong>bouncy, triplet-like feel</strong>. At <strong>50% swing</strong>, notes are perfectly straight. At <strong>66% swing</strong>, they align with triplets. The magic number? <strong>54% swing</strong>‚Äîthe default setting on the <strong>MPC 60</strong>, which defined the sound of hip-hop in the '90s and 2000s.
          </p>
          <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
            <strong>How it works:</strong> Swing pushes the <strong>off-beat notes</strong> (steps 2, 4, 6, 8, etc.) later in time while keeping <strong>downbeat notes</strong> (1, 3, 5, 7) on the grid. At 54%, the off-beats shift just <strong>4% toward the next downbeat</strong>‚Äîbarely noticeable, but it creates a <em>shuffle</em> that makes heads nod.
          </p>
          <p style="line-height: 1.7; color: var(--text-secondary); margin: 0;">
            <strong>Famous Machines:</strong> The <strong>MPC 60</strong> (54% swing), <strong>TR-808</strong> (50% swing), and <strong>Linn Drum</strong> (58% swing) each have distinct timing characteristics. Modern producers use these "groove templates" to capture the feel of classic hardware.
          </p>
        </div>

        <!-- Concept 4: Groove Template Extraction -->
        <div style="background: var(--bg-secondary); padding: var(--space-lg); border-radius: var(--radius-md); margin-bottom: var(--space-xl); border-left: 4px solid #fdcb6e;">
          <h4 style="font-size: 1.2rem; font-weight: 600; margin-bottom: var(--space-sm); color: #fdcb6e;">
            4. Groove Template Extraction: Stealing From Vinyl
          </h4>
          <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
            <strong>Groove templates</strong> are timing maps extracted from real recordings. DAWs like Ableton Live and Logic Pro can <strong>analyze audio</strong> (like a drum break from a vinyl record) and create a <strong>timing template</strong> that captures the exact micro-timing and swing of the original drummer. You can then <strong>apply this template to your MIDI</strong>, making your programmed drums groove like the record.
          </p>
          <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
            <strong>How producers use it:</strong> Sample a kick and snare from a <strong>Motown record</strong>, extract the groove template, and apply it to your <strong>808 pattern</strong>. Suddenly, your modern trap beat has the pocket and feel of a <strong>1970s soul drummer</strong>. This technique blends old-school vibe with modern production.
          </p>
          <p style="line-height: 1.7; color: var(--text-secondary); margin: 0;">
            <strong>Classic Templates:</strong> Common sources include <strong>James Brown's "Funky Drummer"</strong> (tight, funky pocket), <strong>The Meters</strong> (New Orleans shuffle), and <strong>D'Angelo's "Voodoo"</strong> (J Dilla-influenced laid-back swing). Collecting groove templates is like collecting drum samples‚Äîessential tools for any producer.
          </p>
        </div>

        <!-- VISUAL BREAKDOWN -->
        <h3 style="font-size: 1.5rem; font-weight: 600; margin-top: var(--space-2xl); margin-bottom: var(--space-md); color: var(--text-primary);">Humanization in Action: Before & After</h3>

        <div style="background: var(--bg-secondary); padding: var(--space-xl); border-radius: var(--radius-md); margin-bottom: var(--space-xl); font-family: var(--font-mono); border: 1px solid rgba(162, 155, 254, 0.3);">

          <!-- BEFORE: Robotic -->
          <div style="margin-bottom: var(--space-xl);">
            <div style="font-weight: 600; color: #ff6b6b; margin-bottom: var(--space-sm);">‚ùå BEFORE: Robotic & Lifeless</div>
            <div style="background: rgba(255, 107, 107, 0.1); padding: var(--space-md); border-radius: var(--radius-sm); margin-bottom: var(--space-sm); border: 1px solid rgba(255, 107, 107, 0.3);">
              <div style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: var(--space-xs);">Hi-Hat Pattern (Perfectly Quantized)</div>
              <div style="display: grid; grid-template-columns: repeat(8, 1fr); gap: 6px;">
                <div style="background: #00cec9; padding: 10px 4px; border-radius: 4px; text-align: center;">
                  <div style="font-size: 0.75rem; color: white; margin-bottom: 2px;">1</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">0ms</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">v80</div>
                </div>
                <div style="background: #00cec9; padding: 10px 4px; border-radius: 4px; text-align: center;">
                  <div style="font-size: 0.75rem; color: white; margin-bottom: 2px;">3</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">0ms</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">v80</div>
                </div>
                <div style="background: #00cec9; padding: 10px 4px; border-radius: 4px; text-align: center;">
                  <div style="font-size: 0.75rem; color: white; margin-bottom: 2px;">5</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">0ms</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">v80</div>
                </div>
                <div style="background: #00cec9; padding: 10px 4px; border-radius: 4px; text-align: center;">
                  <div style="font-size: 0.75rem; color: white; margin-bottom: 2px;">7</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">0ms</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">v80</div>
                </div>
                <div style="background: #00cec9; padding: 10px 4px; border-radius: 4px; text-align: center;">
                  <div style="font-size: 0.75rem; color: white; margin-bottom: 2px;">9</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">0ms</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">v80</div>
                </div>
                <div style="background: #00cec9; padding: 10px 4px; border-radius: 4px; text-align: center;">
                  <div style="font-size: 0.75rem; color: white; margin-bottom: 2px;">11</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">0ms</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">v80</div>
                </div>
                <div style="background: #00cec9; padding: 10px 4px; border-radius: 4px; text-align: center;">
                  <div style="font-size: 0.75rem; color: white; margin-bottom: 2px;">13</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">0ms</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">v80</div>
                </div>
                <div style="background: #00cec9; padding: 10px 4px; border-radius: 4px; text-align: center;">
                  <div style="font-size: 0.75rem; color: white; margin-bottom: 2px;">15</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">0ms</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">v80</div>
                </div>
              </div>
              <div style="font-size: 0.85rem; color: var(--text-muted); margin-top: var(--space-sm);">
                Every hit: <strong>perfectly on grid (0ms)</strong>, identical velocity (v80). Sounds like a machine.
              </div>
            </div>
          </div>

          <!-- AFTER: Humanized -->
          <div style="margin-bottom: var(--space-md);">
            <div style="font-weight: 600; color: #00b894; margin-bottom: var(--space-sm);">‚úÖ AFTER: Humanized & Groovy</div>
            <div style="background: rgba(0, 184, 148, 0.1); padding: var(--space-md); border-radius: var(--radius-sm); margin-bottom: var(--space-sm); border: 1px solid rgba(0, 184, 148, 0.3);">
              <div style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: var(--space-xs);">Hi-Hat Pattern (With Humanization)</div>
              <div style="display: grid; grid-template-columns: repeat(8, 1fr); gap: 6px;">
                <div style="background: linear-gradient(135deg, #00b894, #00cec9); padding: 10px 4px; border-radius: 4px; text-align: center; box-shadow: 0 2px 8px rgba(0, 184, 148, 0.3);">
                  <div style="font-size: 0.75rem; color: white; margin-bottom: 2px; font-weight: 700;">1</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.9);">+2ms</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.9);">v85</div>
                </div>
                <div style="background: #00cec9; padding: 10px 4px; border-radius: 4px; text-align: center; opacity: 0.8;">
                  <div style="font-size: 0.75rem; color: white; margin-bottom: 2px;">3</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">-8ms</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">v62</div>
                </div>
                <div style="background: linear-gradient(135deg, #00b894, #00cec9); padding: 10px 4px; border-radius: 4px; text-align: center; box-shadow: 0 2px 8px rgba(0, 184, 148, 0.3);">
                  <div style="font-size: 0.75rem; color: white; margin-bottom: 2px; font-weight: 700;">5</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.9);">+3ms</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.9);">v78</div>
                </div>
                <div style="background: #00cec9; padding: 10px 4px; border-radius: 4px; text-align: center; opacity: 0.8;">
                  <div style="font-size: 0.75rem; color: white; margin-bottom: 2px;">7</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">-12ms</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">v58</div>
                </div>
                <div style="background: linear-gradient(135deg, #00b894, #00cec9); padding: 10px 4px; border-radius: 4px; text-align: center; box-shadow: 0 2px 8px rgba(0, 184, 148, 0.3);">
                  <div style="font-size: 0.75rem; color: white; margin-bottom: 2px; font-weight: 700;">9</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.9);">0ms</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.9);">v82</div>
                </div>
                <div style="background: #00cec9; padding: 10px 4px; border-radius: 4px; text-align: center; opacity: 0.8;">
                  <div style="font-size: 0.75rem; color: white; margin-bottom: 2px;">11</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">-5ms</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">v65</div>
                </div>
                <div style="background: linear-gradient(135deg, #00b894, #00cec9); padding: 10px 4px; border-radius: 4px; text-align: center; box-shadow: 0 2px 8px rgba(0, 184, 148, 0.3);">
                  <div style="font-size: 0.75rem; color: white; margin-bottom: 2px; font-weight: 700;">13</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.9);">+1ms</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.9);">v80</div>
                </div>
                <div style="background: #00cec9; padding: 10px 4px; border-radius: 4px; text-align: center; opacity: 0.8;">
                  <div style="font-size: 0.75rem; color: white; margin-bottom: 2px;">15</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">-10ms</div>
                  <div style="font-size: 0.7rem; color: rgba(255,255,255,0.7);">v60</div>
                </div>
              </div>
              <div style="font-size: 0.85rem; color: var(--text-muted); margin-top: var(--space-sm);">
                <strong>Timing:</strong> ¬±2-12ms variation. <strong>Velocity:</strong> Downbeats louder (v78-85), off-beats softer (v58-65). Sounds human.
              </div>
            </div>
          </div>

          <div style="background: rgba(162, 155, 254, 0.15); padding: var(--space-md); border-radius: var(--radius-sm); border: 1px solid rgba(162, 155, 254, 0.3);">
            <strong style="color: #a29bfe;">The Result:</strong> The humanized version has <strong>micro-timing shifts</strong> and <strong>velocity curves</strong> that create a <em>natural pocket</em>. Notice how downbeats (1, 5, 9, 13) are louder and slightly ahead, while off-beats are softer and drift behind‚Äîexactly how a real drummer plays.
          </div>
        </div>

        <!-- COMMON MISTAKES -->
        <h3 style="font-size: 1.5rem; font-weight: 600; margin-top: var(--space-2xl); margin-bottom: var(--space-md); color: var(--text-primary);">Common Humanization Mistakes</h3>

        <div style="display: grid; gap: var(--space-lg); margin-bottom: var(--space-xl);">

          <!-- Mistake 1 -->
          <div style="background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(255, 107, 107, 0.05)); padding: var(--space-lg); border-radius: var(--radius-md); border-left: 4px solid #ff6b6b;">
            <h4 style="font-size: 1.1rem; font-weight: 600; color: #ff6b6b; margin-bottom: var(--space-sm);">
              ‚ùå Mistake #1: Over-Humanizing (Too Much Randomization)
            </h4>
            <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
              Beginners discover the "humanize" function and crank it to 100%, thinking <em>"more = better."</em> This creates <strong>sloppy, out-of-time drums</strong> that sound like a drunk drummer stumbling through the beat. Professional humanization is <strong>subtle</strong>‚Äîjust enough to break the mechanical feel, not enough to sound messy.
            </p>
            <p style="line-height: 1.7; color: var(--text-primary); margin: 0;">
              <strong>Fix:</strong> Start with <strong>5-10ms timing variation</strong> and <strong>10-15% velocity randomization</strong>. Listen critically‚Äîif you can <em>hear</em> the randomization as "sloppiness," dial it back. The goal is to <strong>feel the groove</strong>, not notice the imperfection.
            </p>
          </div>

          <!-- Mistake 2 -->
          <div style="background: linear-gradient(135deg, rgba(254, 202, 87, 0.1), rgba(254, 202, 87, 0.05)); padding: var(--space-lg); border-radius: var(--radius-md); border-left: 4px solid #feca57;">
            <h4 style="font-size: 1.1rem; font-weight: 600; color: #feca57; margin-bottom: var(--space-sm);">
              ‚ùå Mistake #2: Humanizing Everything Equally
            </h4>
            <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
              Applying the same humanization to <em>every drum element</em> creates chaos. The <strong>kick</strong> should be the <strong>anchor</strong>‚Äîmostly on grid to maintain pulse. The <strong>snare</strong> can drift slightly. The <strong>hi-hats and percussion</strong> get the most humanization because they're repetitive and benefit from variation.
            </p>
            <p style="line-height: 1.7; color: var(--text-primary); margin: 0;">
              <strong>Fix:</strong> Use <strong>element-specific humanization</strong>. Kick: 0-5ms timing, minimal velocity variation. Snare: 5-10ms timing, moderate velocity variation. Hi-hats: 10-15ms timing, significant velocity curves. This creates a <strong>tight foundation with loose ornamentation</strong>.
            </p>
          </div>

          <!-- Mistake 3 -->
          <div style="background: linear-gradient(135deg, rgba(162, 155, 254, 0.1), rgba(162, 155, 254, 0.05)); padding: var(--space-lg); border-radius: var(--radius-md); border-left: 4px solid #a29bfe;">
            <h4 style="font-size: 1.1rem; font-weight: 600; color: #a29bfe; margin-bottom: var(--space-sm);">
              ‚ùå Mistake #3: Ignoring Swing (Staying at 50%)
            </h4>
            <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
              Many producers never touch the swing control, leaving it at <strong>50% (perfectly straight)</strong>. While some genres demand straight timing (techno, house), most organic styles‚Äîhip-hop, R&B, jazz, funk‚Äîbenefit from <strong>subtle swing</strong> that creates bounce and groove.
            </p>
            <p style="line-height: 1.7; color: var(--text-primary); margin: 0;">
              <strong>Fix:</strong> Experiment with swing values between <strong>52-58%</strong>. Try <strong>54% for hip-hop</strong> (MPC feel), <strong>58% for soul/R&B</strong> (loose pocket), and <strong>62% for shuffle grooves</strong>. Even <strong>2% swing</strong> can transform a stiff beat into a head-nodding groove.
            </p>
          </div>

        </div>

        <!-- WHY THIS MATTERS -->
        <h3 style="font-size: 1.5rem; font-weight: 600; margin-top: var(--space-2xl); margin-bottom: var(--space-md); color: var(--text-primary);">Why Humanization Matters</h3>

        <div style="background: linear-gradient(135deg, rgba(162, 155, 254, 0.1), rgba(108, 92, 231, 0.1)); padding: var(--space-xl); border-radius: var(--radius-md); margin-bottom: var(--space-xl); border: 1px solid rgba(162, 155, 254, 0.3);">
          <ul style="list-style: none; padding: 0; margin: 0; display: grid; gap: var(--space-lg);">
            <li style="display: flex; align-items: flex-start; gap: var(--space-md);">
              <span style="font-size: 1.5rem; flex-shrink: 0;">üéµ</span>
              <div>
                <strong style="color: var(--text-primary);">Feel Over Complexity:</strong>
                <span style="color: var(--text-secondary);"> A <strong>simple four-bar loop</strong> with proper humanization will groove harder than a complex 32-bar pattern locked to the grid. Humanization teaches you that <strong>feel matters more than flashy patterns</strong>‚Äîthe lesson every beginner producer needs to learn.</span>
              </div>
            </li>
            <li style="display: flex; align-items: flex-start; gap: var(--space-md);">
              <span style="font-size: 1.5rem; flex-shrink: 0;">üéπ</span>
              <div>
                <strong style="color: var(--text-primary);">Genre Authenticity:</strong>
                <span style="color: var(--text-secondary);"> Want your hip-hop to sound like J Dilla? Add <strong>54% swing and laid-back snares</strong>. Want soul drums like D'Angelo? Use <strong>58% swing with heavy velocity curves</strong>. Humanization is how you capture the <strong>authentic feel</strong> of different genres and eras.</span>
              </div>
            </li>
            <li style="display: flex; align-items: flex-start; gap: var(--space-md);">
              <span style="font-size: 1.5rem; flex-shrink: 0;">üîß</span>
              <div>
                <strong style="color: var(--text-primary);">Professional Sound:</strong>
                <span style="color: var(--text-secondary);"> One of the fastest ways to identify <strong>amateur vs. professional</strong> beats is the groove. Amateurs use perfectly <a href="glossary.html#quantization" class="glossary-link">quantized</a> drums. Pros add micro-timing and velocity curves. Humanization elevates your production from <em>"sounds like a computer"</em> to <em>"sounds like music."</em></span>
              </div>
            </li>
            <li style="display: flex; align-items: flex-start; gap: var(--space-md);">
              <span style="font-size: 1.5rem; flex-shrink: 0;">üéß</span>
              <div>
                <strong style="color: var(--text-primary);">Listener Connection:</strong>
                <span style="color: var(--text-secondary);"> Humans are wired to respond to <strong>human rhythms</strong>. When drums have natural timing and dynamics, listeners <em>feel</em> the music on a deeper level. Humanization isn't just a technical trick‚Äîit's what makes people <strong>move, nod, and connect</strong> with your beats.</span>
              </div>
            </li>
          </ul>
        </div>

        <!-- WHAT'S NEXT -->
        <h3 style="font-size: 1.5rem; font-weight: 600; margin-top: var(--space-2xl); margin-bottom: var(--space-md); color: var(--text-primary);">What's Next?</h3>

        <p style="line-height: 1.8; color: var(--text-secondary); margin-bottom: var(--space-md);">
          Now that you've mastered humanization techniques‚Äîmicro-timing, velocity curves, swing, and groove templates‚Äîyou're ready to explore <strong>polyrhythms and odd time signatures</strong>. You'll learn how producers like Flying Lotus and Aphex Twin create complex, interlocking rhythms that challenge traditional 4/4 structures.
        </p>

        <div style="background: var(--bg-secondary); padding: var(--space-lg); border-radius: var(--radius-md); border-left: 4px solid #0984e3;">
          <p style="margin: 0; line-height: 1.7; color: var(--text-secondary);">
            <strong style="color: var(--text-primary);">Up Next:</strong> In <strong>Lesson 14</strong>, you'll dive into <strong>polyrhythms and time signatures</strong>‚Äîlearning how to layer <strong>3 against 4</strong>, program in <strong>5/4 and 7/8</strong>, and create the rhythmic complexity that defines experimental electronic music and progressive genres.
          </p>
        </div>

      </div>
    </section>
    <!-- END EDUCATIONAL CONTENT -->

    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-grid">
        <p class="copyright">¬© <span id="mpl-year">2025</span> Music Producer Lab</p>
        <nav class="footer-nav">
          <a href="labs.html">Labs</a>
          <a href="index.html">Home</a>
        </nav>
      </div>
    </footer>
    <script>document.getElementById("mpl-year").textContent = new Date().getFullYear();</script>
  <script src="theme-registry.js"></script>
  <script src="theme-manager.js"></script>
    <script src="navbar.js"></script>
  </body>
</html>
