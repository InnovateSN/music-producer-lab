<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title id="mpl-page-title">Lesson 4 | Music Producer Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" id="mpl-meta-description" content="Interactive music production lesson from Music Producer Lab." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>

    <main class="main-content container">

        <!-- HERO SECTION (populated by JS) -->
        <section class="hero" id="mpl-hero" aria-label="Lesson hero">
          <div class="hero-copy">
            <div class="hero-copy-eyebrow" id="mpl-hero-eyebrow">Loading...</div>
            <h1 class="hero-title" id="mpl-hero-title">
              <span id="mpl-hero-title-main">Lesson</span>
              <span id="mpl-hero-title-highlight"></span>
            </h1>
            <p class="hero-subtitle" id="mpl-hero-subtitle"></p>
          </div>

          <aside class="hero-visual" aria-hidden="true">
            <div class="hero-visual-header">
              <div class="hero-visual-title">Lesson 4</div>
              <div class="hero-visual-pill">Drum basics</div>
            </div>
            <div class="hero-visual-grid">
              <div class="hero-visual-main">
                <div class="hero-visual-main-title"><span>1-bar loop</span> · 120 BPM</div>
                <div class="hero-visual-waves">
                  <div class="hero-visual-wave"></div>
                  <div class="hero-visual-wave"></div>
                  <div class="hero-visual-wave"></div>
                  <div class="hero-visual-wave"></div>
                  <div class="hero-visual-wave"></div>
                </div>
                <div class="hero-visual-metrics">
                  <div class="hero-visual-metric">
                    <span>Structure</span>
                    <strong>Advanced Groove</strong>
                  </div>
                  <div class="hero-visual-metric">
                    <span>Time</span>
                    <strong>10–15 min</strong>
                  </div>
                </div>
              </div>
              <div class="hero-visual-side-card">
                <div class="hero-visual-side-label">Goal</div>
                <div class="hero-visual-pill-list">
                  <div class="hero-visual-pill-tag">Learn 16th notes</div>
                  <div class="hero-visual-pill-tag">Add movement</div>
                </div>
                <div class="hero-visual-footer">
                  <span>Works in any DAW</span>
                  <span>Ableton · FL · Logic · others</span>
                </div>
              </div>
            </div>
          </aside>
        </section>

        <!-- THEORY CONTENT SECTION -->
        <section class="theory-section" style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);">
          <div class="section-eyebrow">Theory</div>
          <h2 class="section-title">16th-Note Groove: More Movement</h2>
          <p class="section-body" style="margin-bottom: var(--space-xl);">
            In Lessons 1–3 you built a solid <a href="glossary.html#beat" style="color: var(--accent-cyan); text-decoration: underline;">beat</a> that already works in real music: <a href="glossary.html#kick-drum" style="color: var(--accent-cyan); text-decoration: underline;">Kick</a> on every beat (the foundation), <a href="glossary.html#snare-drum" style="color: var(--accent-cyan); text-decoration: underline;">Snare</a> on the 2nd and 4th beats (the <a href="glossary.html#backbeat" style="color: var(--accent-cyan); text-decoration: underline;">backbeat</a>), and <a href="glossary.html#hi-hat" style="color: var(--accent-cyan); text-decoration: underline;">Hi-hats</a> on <a href="glossary.html#eighth-notes" style="color: var(--accent-cyan); text-decoration: underline;">eighth notes</a> (steady motion: "1 & 2 & 3 & 4 &"). Now we level up: we add movement inside the <a href="glossary.html#bar" style="color: var(--accent-cyan); text-decoration: underline;">bar</a> without changing the <a href="glossary.html#tempo" style="color: var(--accent-cyan); text-decoration: underline;">tempo</a>. This is where your beat starts to feel less like a practice loop and more like something you could actually hear in a track.
          </p>

          <!-- Theory Cards Grid -->
          <div style="display: grid; gap: var(--space-lg); margin-bottom: var(--space-xl);">

            <!-- Card: What are 16th notes -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">What are 16th notes? (explained like you've never seen music before)</h3>
              <p class="section-body">
                You already know a bar has 4 beats (counted "1 2 3 4"). You learned <a href="glossary.html#eighth-notes" style="color: var(--accent-cyan); text-decoration: underline;">eighth notes</a> by splitting each beat into 2 equal pieces: "1 & 2 & 3 & 4 &".
              </p>
              <p class="section-body">
                Now we split each beat into <strong>four equal parts</strong>.
              </p>
              <p class="section-body">
                That creates <strong>16 equal slices</strong> across the bar. That's why they're called <a href="glossary.html#sixteenth-notes" style="color: var(--accent-cyan); text-decoration: underline;">16th notes</a>.
              </p>
              <p class="section-body" style="margin-bottom: var(--space-sm);">
                A common way to count 16th notes is:
              </p>
              <div style="font-family: monospace; background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; text-align: center; margin-bottom: var(--space-sm);">
                <div style="color: #00d4ff; font-weight: bold; font-size: 1.1em;">1 e & a 2 e & a 3 e & a 4 e & a</div>
              </div>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li>The <strong>numbers</strong> are the main beats</li>
                <li>The <strong>e & a</strong> are the smaller <a href="glossary.html#subdivisions" style="color: var(--accent-cyan); text-decoration: underline;">subdivisions</a> inside each beat</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                Don't worry if that looks weird at first. You don't need to memorize it instantly. You just need to understand the idea: we can place sounds in smaller time slots, which creates more detail and "bounce."
              </p>
            </div>

            <!-- Card: Why 16th notes feel professional -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Why 16th notes make a beat feel more "professional"</h3>
              <p class="section-body">
                Eighth-note hats are steady, like a ticking clock. But many genres—especially house, techno, garage, trap, pop—often feel more alive because there are tiny extra hits that create:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>Anticipation:</strong> a little push forward</li>
                <li><strong>Energy:</strong> more motion without speeding up</li>
                <li><strong>Groove:</strong> a pattern your body reacts to</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                Producers rarely keep every element perfectly symmetrical all the time. Small changes inside the bar create the feeling of a human, moving rhythm—even when it's made on a <a href="glossary.html#grid" style="color: var(--accent-cyan); text-decoration: underline;">grid</a>.
              </p>
            </div>

            <!-- Card: The idea of movement -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(255,90,61,0.08), rgba(255,178,138,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">The idea of "movement" in one sentence</h3>
              <p class="section-body" style="margin-bottom: 0;">
                <strong>Movement means:</strong> you add a small event in-between the main hits so the <a href="glossary.html#groove" style="color: var(--accent-cyan); text-decoration: underline;">groove</a> has forward momentum. In this lesson, we do that by adding one extra hi-hat on a specific 16th-note position.
              </p>
            </div>

            <!-- Card: How the grid matches 16th notes -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(0,212,255,0.08), rgba(184,255,221,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">How the 16-step grid matches 16th notes</h3>
              <p class="section-body">
                Your sequencer is perfect for this lesson because it already shows 16 steps.
              </p>
              <p class="section-body" style="margin-bottom: var(--space-sm);">
                In this <a href="glossary.html#grid" style="color: var(--accent-cyan); text-decoration: underline;">grid</a>:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md);">
                <li>Step 1 is the start of the bar (1st beat)</li>
                <li>Every step is one 16th note</li>
              </ul>
              <p class="section-body" style="margin-bottom: var(--space-sm);">
                The main beats still land on:
              </p>
              <div style="font-family: monospace; background: rgba(255,255,255,0.03); padding: var(--space-sm); border-radius: 4px; margin: var(--space-sm) 0;">
                1st beat = step 1<br>
                2nd beat = step 5<br>
                3rd beat = step 9<br>
                4th beat = step 13
              </div>
              <p class="section-body" style="margin-bottom: var(--space-sm);">
                And your eighth-note hats (Lesson 3) were on:
              </p>
              <div style="font-family: monospace; background: rgba(255,255,255,0.03); padding: var(--space-sm); border-radius: 4px; margin: var(--space-sm) 0;">
                1, 3, 5, 7, 9, 11, 13, 15
              </div>
              <p class="section-body" style="margin-bottom: 0;">
                Those are still correct. Now we add one more hi-hat at a place that creates a "push" into the next big moment.
              </p>
            </div>

            <!-- Card: What we're adding -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(0,212,255,0.08), rgba(184,255,221,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">What we're adding: the extra hi-hat on step 8</h3>
              <p class="section-body">
                Your current lesson uses a smart, simple upgrade:
              </p>
              <ol class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li>Start with the eighth-note hat pattern</li>
                <li>Add one extra hat at <strong>step 8</strong></li>
              </ol>
              <p class="section-body">
                That single hit is a 16th-note position (because every step is a 16th note).
              </p>
              <p class="section-body" style="margin-bottom: 0;">
                Musically, that extra hat sits near the end of the 2nd beat, creating a tiny "pickup" that leads your ear forward. It makes the groove feel more energetic and slightly more complex, without overwhelming a beginner. Even if you don't understand "e & a" yet, you will hear the effect: it sounds like the beat has a little extra motion before it turns the corner into the next beat.
              </p>
            </div>

            <!-- Card: Visual of the pattern -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(0,212,255,0.08), rgba(184,255,221,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Visual: The 16th-note groove pattern</h3>
              <p class="section-body" style="margin-bottom: var(--space-md);">
                Here's the complete pattern with the extra movement:
              </p>

              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin-bottom: var(--space-sm);">
                <div class="pattern-row-visual">
                  <span class="instrument-label" style="color: #ff8a65;">Kick:</span>
                  <span class="step-on" style="background: linear-gradient(135deg,#ff5a3d,#ffb28a);">1</span>
                  <span class="step-off">2</span>
                  <span class="step-off">3</span>
                  <span class="step-off">4</span>
                  <span class="step-on" style="background: linear-gradient(135deg,#ff5a3d,#ffb28a);">5</span>
                  <span class="step-off">6</span>
                  <span class="step-off">7</span>
                  <span class="step-off">8</span>
                  <span class="step-on" style="background: linear-gradient(135deg,#ff5a3d,#ffb28a);">9</span>
                  <span class="step-off">10</span>
                  <span class="step-off">11</span>
                  <span class="step-off">12</span>
                  <span class="step-on" style="background: linear-gradient(135deg,#ff5a3d,#ffb28a);">13</span>
                  <span class="step-off">14</span>
                  <span class="step-off">15</span>
                  <span class="step-off">16</span>
                </div>

                <div class="pattern-row-visual">
                  <span class="instrument-label" style="color: #8a9bff;">Snare:</span>
                  <span class="step-off">1</span>
                  <span class="step-off">2</span>
                  <span class="step-off">3</span>
                  <span class="step-off">4</span>
                  <span class="step-on" style="background: linear-gradient(135deg,#5f4dff,#8a9bff);">5</span>
                  <span class="step-off">6</span>
                  <span class="step-off">7</span>
                  <span class="step-off">8</span>
                  <span class="step-off">9</span>
                  <span class="step-off">10</span>
                  <span class="step-off">11</span>
                  <span class="step-off">12</span>
                  <span class="step-on" style="background: linear-gradient(135deg,#5f4dff,#8a9bff);">13</span>
                  <span class="step-off">14</span>
                  <span class="step-off">15</span>
                  <span class="step-off">16</span>
                </div>

                <div class="pattern-row-visual">
                  <span class="instrument-label" style="color: #00d4ff;">Hi-Hat:</span>
                  <span class="step-on" style="background: linear-gradient(135deg,#00d4ff,#b8ffdd);">1</span>
                  <span class="step-off">2</span>
                  <span class="step-on" style="background: linear-gradient(135deg,#00d4ff,#b8ffdd);">3</span>
                  <span class="step-off">4</span>
                  <span class="step-on" style="background: linear-gradient(135deg,#00d4ff,#b8ffdd);">5</span>
                  <span class="step-off">6</span>
                  <span class="step-on" style="background: linear-gradient(135deg,#00d4ff,#b8ffdd);">7</span>
                  <span class="step-on" style="background: linear-gradient(135deg,#ffcc00,#ffe680); border: 2px solid #ffcc00;">8</span>
                  <span class="step-on" style="background: linear-gradient(135deg,#00d4ff,#b8ffdd);">9</span>
                  <span class="step-off">10</span>
                  <span class="step-on" style="background: linear-gradient(135deg,#00d4ff,#b8ffdd);">11</span>
                  <span class="step-off">12</span>
                  <span class="step-on" style="background: linear-gradient(135deg,#00d4ff,#b8ffdd);">13</span>
                  <span class="step-off">14</span>
                  <span class="step-on" style="background: linear-gradient(135deg,#00d4ff,#b8ffdd);">15</span>
                  <span class="step-off">16</span>
                </div>

                <div style="margin-top: var(--space-sm); color: rgba(255,255,255,0.6); text-align: center; font-size: 0.9em;">
                  ↑ Step 8 (highlighted in gold) is the extra 16th note that creates movement
                </div>
              </div>
            </div>

            <!-- Card: What to listen for -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">What you should listen for (this is the real point)</h3>
              <p class="section-body">
                Press play first with only the eighth-note hats. Let your ear get used to the steady pattern.
              </p>
              <p class="section-body">
                Then add step 8 and press play again. Listen for these changes:
              </p>
              <ol class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>A subtle "push" before the snare resolves</strong><br>
                  It feels like the beat leans forward.</li>
                <li><strong>More energy without becoming messy</strong><br>
                  The pattern is still simple, but it's not perfectly flat anymore.</li>
                <li><strong>The loop feels more "danceable"</strong><br>
                  Many dance grooves rely on small anticipations like this.</li>
              </ol>
              <p class="section-body" style="margin-bottom: 0;">
                If you don't hear a big difference at first, that's normal. This lesson trains a producer skill: hearing small timing changes and understanding how tiny details change the vibe.
              </p>
            </div>

            <!-- Card: Counting what's happening -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">A beginner-friendly way to count what's happening</h3>
              <p class="section-body" style="margin-bottom: var(--space-sm);">
                Instead of counting all 16th notes immediately, do this:
              </p>
              <p class="section-body" style="margin-bottom: var(--space-sm);">
                Count eighth notes first:
              </p>
              <div style="font-family: monospace; background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; text-align: center; margin-bottom: var(--space-md);">
                <div style="color: #00d4ff; font-weight: bold; font-size: 1.1em;">1 & 2 & 3 & 4 &</div>
              </div>
              <p class="section-body">
                Now notice where step 8 lands: it's between the "& of 2" and the 3rd beat.
              </p>
              <p class="section-body">
                So you're hearing:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li>a hi-hat on "2" (step 5)</li>
                <li>a hi-hat on "&" (step 7)</li>
                <li><strong>an extra hi-hat just after that (step 8)</strong></li>
                <li>then the next main beat arrives (3rd beat on step 9)</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                That's why it feels like a quick little "shuffle" into the 3rd beat.
              </p>
            </div>

            <!-- Card: Common mistakes -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Common mistakes and quick fixes</h3>
              <p class="section-body">
                <strong>Mistake 1: Adding too many extra hats.</strong><br>
                It can quickly become noisy and confusing. This lesson is about a single extra hit that creates movement. Keep it minimal.
              </p>
              <p class="section-body">
                <strong>Mistake 2: Adding the extra hat on step 6 or step 10.</strong><br>
                Different steps create different groove "pulls." Step 8 is chosen because it creates a specific anticipation. If you experiment later, great—but for now follow the target.
              </p>
              <p class="section-body" style="margin-bottom: 0;">
                <strong>Mistake 3: The hats feel messy instead of energetic.</strong><br>
                That usually means the hat sample is too long or too loud. In real production you'd shorten it, lower the volume, or choose a tighter hat. For now, focus on placement.
              </p>
            </div>

            <!-- Card: Why this matters -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(95,77,255,0.08), rgba(138,155,255,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Why this tiny detail matters</h3>
              <p class="section-body">
                That extra hi-hat on step 8 is a tiny change that creates anticipation. <strong>Anticipation is one of the main secrets behind grooves that feel "modern."</strong>
              </p>
              <p class="section-body" style="margin-bottom: 0;">
                Once you complete this lesson, you'll have a full beat skeleton that sounds professional: kick for foundation, snare for backbeat, hi-hats for motion and forward momentum. From here, small changes create big style differences—and that's where beat-making becomes fun.
              </p>
            </div>

          </div>
        </section>

        <!-- EXERCISE INSTRUCTIONS (populated by JS) -->
        <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
          <div class="exercise-box">
            <div class="section-eyebrow">Exercise</div>
            <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
            <p class="section-body" id="mpl-exercise-description"></p>

            <div class="exercise-steps" id="mpl-exercise-steps-wrap">
              <h3>What to do:</h3>
              <ol class="exercise-checklist" id="mpl-exercise-steps"></ol>
            </div>

            <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;">
              <strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span>
            </div>

            <!-- PATTERN HINT (populated by JS) -->
            <div class="pattern-hint" id="mpl-pattern-hint" style="display:none;">
              <div class="pattern-hint-label">Target Pattern:</div>
              <div id="mpl-pattern-hint-grid"></div>
              <div class="pattern-note" id="mpl-pattern-hint-note"></div>
            </div>
          </div>
        </section>

        <!-- SEQUENCER SECTION -->
        <section class="sequencer-section" id="mpl-sequencer-section" style="margin-top: var(--space-xl);">
          <div class="section-eyebrow" style="margin-bottom: var(--space-sm);">Interactive Sequencer</div>
          <h2 class="section-title" style="margin-bottom: var(--space-lg);"><span id="mpl-step-count-label">16</span>-Step Grid</h2>

          <div class="sequencer" id="mpl-sequencer-collection">
            <!-- Sequencer will be created by JS -->
          </div>

          <!-- CONTROLS -->
          <div class="sequencer-controls" style="display:flex;gap:0.75rem;margin-top:1.5rem;flex-wrap:wrap;align-items:center;">
            <button type="button" class="btn btn-outline" id="mpl-seq-play-all">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right:4px;"><polygon points="5 3 19 12 5 21 5 3"/></svg>
              <span>Play</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-stop-all">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right:4px;"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
              <span>Stop</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-clear-all">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right:4px;"><path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/></svg>
              <span>Clear</span>
            </button>
            <button type="button" class="btn btn-primary" id="mpl-seq-check-all">
              <span>Check Exercise</span>
            </button>

            <div style="margin-left:auto;display:flex;gap:0.75rem;">
              <div id="mpl-seq-prev-lesson-wrap">
                <button class="btn btn-secondary" id="mpl-prev-lesson">
                  <span>&larr; Previous Lesson</span>
                </button>
              </div>
              <div id="mpl-seq-next-lesson-wrap">
                <button class="btn btn-primary" id="mpl-next-lesson" disabled title="Complete exercise to unlock">
                  <span>Next Lesson &rarr;</span>
                </button>
              </div>
            </div>

          <div class="sequencer-status" id="mpl-seq-status" aria-live="polite" style="margin-top:1rem;">
            <span>Complete the exercise to unlock the next lesson.</span>
          </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-grid">
        <p class="copyright">© <span id="mpl-year">2025</span> Music Producer Lab</p>
        <nav class="footer-nav">
          <a href="labs.html">Labs</a>
          <a href="index.html">Home</a>
        </nav>
      </div>
    </footer>

    <!-- MODULAR LESSON ENGINE -->

<script type="module">
      // Import lesson config and engine
      import { lessonConfig } from './configs/lesson-drums-4.config.js';
      import { initLessonFromConfig } from './lesson-engine.js';

      // Initialize lesson from config
      initLessonFromConfig(lessonConfig);

      // Set year in footer
      document.getElementById("mpl-year").textContent = new Date().getFullYear();
    </script>
    <script src="navbar.js"></script>
  </body>
</html>
