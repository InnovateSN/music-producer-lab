<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title id="mpl-page-title">Lesson 9 | Music Producer Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" id="mpl-meta-description" content="Interactive music production lesson from Music Producer Lab." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>

    <main class="main-content container">

        <!-- HERO SECTION (populated by JS) -->
        <section class="hero" id="mpl-hero" aria-label="Lesson hero">
          <div class="hero-copy">
            <div class="hero-copy-eyebrow" id="mpl-hero-eyebrow">Loading...</div>
            <h1 class="hero-title" id="mpl-hero-title">
              <span id="mpl-hero-title-main">Lesson</span>
              <span id="mpl-hero-title-highlight"></span>
            </h1>
            <p class="hero-subtitle" id="mpl-hero-subtitle"></p>
          </div>

          <!-- Hero visual section -->
        </section>

        <!-- THEORY CONTENT SECTION -->
        <section class="theory-section" style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);">
          <div class="section-eyebrow">Theory</div>
          <h2 class="section-title">Hip-Hop & Boom Bap: The Art of the Head-Nod</h2>
          <p class="section-body" style="margin-bottom: var(--space-xl);">
            Hip-hop drums are all about <strong>feel</strong> and <strong><a href="glossary.html#groove" style="color: var(--accent-cyan); text-decoration: underline;">groove</a></strong>. Unlike the relentless four-on-the-floor of house music, hip-hop patterns use <strong>syncopation</strong>, <strong>swing</strong>, and <strong><a href="glossary.html#dynamics" style="color: var(--accent-cyan); text-decoration: underline;">dynamics</a></strong> to create that characteristic "head-nod" bounce. The legendary Akai MPC drum machine defined this sound in the late 1980s and early 1990s, shaping what we now call the golden era of hip-hop.
          </p>

          <!-- Theory Cards Grid -->
          <div style="display: grid; gap: var(--space-lg); margin-bottom: var(--space-xl);">

            <!-- Card: What is Boom Bap -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">What is "Boom Bap"?</h3>
              <p class="section-body">
                <strong>Boom bap</strong> is the quintessential hip-hop drum sound, named after the sonic character of the pattern itself:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>"BOOM":</strong> The deep, heavy <a href="glossary.html#kick-drum" style="color: var(--accent-cyan); text-decoration: underline;">kick drum</a></li>
                <li><strong>"BAP":</strong> The crisp, cutting <a href="glossary.html#snare-drum" style="color: var(--accent-cyan); text-decoration: underline;">snare</a> on the <a href="glossary.html#backbeat" style="color: var(--accent-cyan); text-decoration: underline;">backbeat</a></li>
              </ul>
              <p class="section-body" style="margin-top: var(--space-sm);">
                These two elements create a powerful call-and-response: the kick provides weight and foundation, while the snare provides rhythmic punctuation. The magic of boom bap comes from the <strong>kick placement</strong>—it's syncopated (off the strict 4-on-the-floor grid), creating a bouncing, swinging feel.
              </p>
              <p class="section-body" style="margin-bottom: 0;">
                Classic boom bap originated with producers like DJ Premier, Pete Rock, and Large Professor who sampled breaks from funk and soul records. Today, you can program these patterns from scratch using the same principles.
              </p>
            </div>

            <!-- Card: Syncopation in hip-hop -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Syncopation: Breaking the Grid</h3>
              <p class="section-body">
                Unlike house and techno's steady four-on-the-floor, hip-hop <a href="glossary.html#kick-drum" style="color: var(--accent-cyan); text-decoration: underline;">kicks</a> are <strong>syncopated</strong>—placed in unexpected spots to create tension and groove. Instead of kicking on every <a href="glossary.html#beat" style="color: var(--accent-cyan); text-decoration: underline;">beat</a> (1, 2, 3, 4), boom bap patterns typically place kicks:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li>On beat 1 (step 1—the downbeat anchor)</li>
                <li>On the "a" of beat 2 (step 8 on a 16-step grid)</li>
                <li>On beat 3 (step 9—another anchor point)</li>
                <li>On the "&" of beat 3 (step 11 on a 16-step grid)</li>
              </ul>
              <p class="section-body" style="margin-top: var(--space-sm); margin-bottom: 0;">
                This creates a bouncing, off-kilter feel that makes you nod your head. The kicks land slightly "behind" where you expect, creating a laid-back, groovy pocket. This is the essence of hip-hop rhythm.
              </p>
            </div>

            <!-- Card: Swing and feel -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Swing: The Secret to Feel</h3>
              <p class="section-body">
                <strong>Swing</strong> (also called "shuffle" or "groove quantize") delays the off-beat notes slightly, creating a laid-back, drunk feel. Instead of perfectly even timing, swing makes the pattern "breathe":
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>No swing (50%):</strong> Perfectly even <a href="glossary.html#subdivisions" style="color: var(--accent-cyan); text-decoration: underline;">subdivisions</a>—robotic, mechanical</li>
                <li><strong>Medium swing (55-60%):</strong> Slightly delayed off-beats—human, groovy</li>
                <li><strong>Heavy swing (65-75%):</strong> Strongly delayed off-beats—drunk, shuffling</li>
              </ul>
              <p class="section-body" style="margin-top: var(--space-sm);">
                The classic boom bap sound uses <strong>medium swing (around 55-60%)</strong>. This came from the Akai MPC's swing function, which gave producers that human feel without manual timing adjustments.
              </p>
              <p class="section-body" style="margin-bottom: 0;">
                In this lesson, we use <strong>55% swing</strong>. Listen to how it transforms the pattern from stiff to groovy. The magic happens when the <a href="glossary.html#hi-hat" style="color: var(--accent-cyan); text-decoration: underline;">hi-hats</a> and other off-beat elements get delayed just enough to create pocket.
              </p>
            </div>

            <!-- Card: Tempo and vibe -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Tempo Defines the Vibe</h3>
              <p class="section-body">
                Hip-hop <a href="glossary.html#tempo" style="color: var(--accent-cyan); text-decoration: underline;">tempo</a> directly affects the energy and style:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>70-80 <a href="glossary.html#bpm" style="color: var(--accent-cyan); text-decoration: underline;">BPM</a>:</strong> Slow, heavy, atmospheric (cloud rap, chopped & screwed)</li>
                <li><strong>85-95 BPM:</strong> Classic boom bap tempo (golden era hip-hop)</li>
                <li><strong>95-105 BPM:</strong> Modern rap, more energetic (East Coast style)</li>
                <li><strong>130-150 BPM:</strong> Trap (but often feels half-time at 65-75 BPM)</li>
              </ul>
              <p class="section-body" style="margin-top: var(--space-sm); margin-bottom: 0;">
                We use <strong>90 BPM</strong> in this lesson—the sweet spot for classic boom bap. This tempo gives space for the <a href="glossary.html#groove" style="color: var(--accent-cyan); text-decoration: underline;">groove</a> to breathe and lets the rapper ride the beat comfortably.
              </p>
            </div>

            <!-- Card: Velocity and dynamics -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Velocity Variation: MPC-Style Humanization</h3>
              <p class="section-body">
                The MPC's velocity-sensitive pads meant every hit had slightly different force. This natural variation is crucial for authentic hip-hop drums. Key principles:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>Backbeat snare (beats 2 & 4):</strong> Hit HARD (velocity 110-127)</li>
                <li><strong>Kick hits:</strong> Varied velocity (85-105) for bounce</li>
                <li><strong>Hi-hats:</strong> Alternate between accented and soft (70-100)</li>
                <li><strong><a href="glossary.html#ghost-notes" style="color: var(--accent-cyan); text-decoration: underline;">Ghost notes</a>:</strong> Very soft snare hits (20-40) for texture</li>
              </ul>
              <p class="section-body" style="margin-top: var(--space-sm); margin-bottom: 0;">
                <strong><a href="glossary.html#velocity" style="color: var(--accent-cyan); text-decoration: underline;">Velocity</a></strong> variation is what separates programmed boom bap from authentic-feeling boom bap. Don't be afraid to exaggerate the dynamic range!
              </p>
            </div>

          </div>
        </section>

        <!-- EXERCISE INSTRUCTIONS (populated by JS) -->
        <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
          <div class="exercise-box">
            <div class="section-eyebrow">Exercise</div>
            <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
            <p class="section-body" id="mpl-exercise-description"></p>

            <div class="exercise-steps" id="mpl-exercise-steps-wrap">
              <h3>What to do:</h3>
              <ol class="exercise-checklist" id="mpl-exercise-steps"></ol>
            </div>

            <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;">
              <strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span>
            </div>

            <!-- PATTERN HINT (populated by JS) -->
            <div class="pattern-hint" id="mpl-pattern-hint" style="display:none;">
              <div class="pattern-hint-label">Target Pattern:</div>
              <div id="mpl-pattern-hint-grid"></div>
              <div class="pattern-note" id="mpl-pattern-hint-note"></div>
            </div>
          </div>
        </section>

        <!-- SEQUENCER SECTION -->
        <section class="sequencer-section" id="mpl-sequencer-section" style="margin-top: var(--space-xl);">
          <div class="section-eyebrow" style="margin-bottom: var(--space-sm);">Interactive Sequencer</div>
          <h2 class="section-title" style="margin-bottom: var(--space-lg);"><span id="mpl-step-count-label">16</span>-Step Grid</h2>

          <div class="sequencer" id="mpl-sequencer-collection">
            <!-- Sequencer will be created by JS -->
          </div>

          <!-- CONTROLS -->
          <div class="sequencer-controls" style="display:flex;gap:0.75rem;margin-top:1.5rem;flex-wrap:wrap;align-items:center;">
            <button type="button" class="btn btn-outline" id="mpl-seq-play-all">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right:4px;"><polygon points="5 3 19 12 5 21 5 3"/></svg>
              <span>Play</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-stop-all">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right:4px;"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
              <span>Stop</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-clear-all">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right:4px;"><path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/></svg>
              <span>Clear</span>
            </button>
            <button type="button" class="btn btn-primary" id="mpl-seq-check-all">
              <span>Check Exercise</span>
            </button>

            <div style="margin-left:auto;display:flex;gap:0.75rem;">
              <div id="mpl-seq-prev-lesson-wrap">
                <button class="btn btn-secondary" id="mpl-prev-lesson">
                  <span>&larr; Previous Lesson</span>
                </button>
              </div>
              <div id="mpl-seq-next-lesson-wrap">
                <button class="btn btn-primary" id="mpl-next-lesson" disabled title="Complete exercise to unlock">
                  <span>Next Lesson &rarr;</span>
                </button>
              </div>
            </div>

          <div class="sequencer-status" id="mpl-seq-status" aria-live="polite" style="margin-top:1rem;">
            <span>Complete the exercise to unlock the next lesson.</span>
          </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-grid">
        <p class="copyright">© <span id="mpl-year">2025</span> Music Producer Lab</p>
        <nav class="footer-nav">
          <a href="labs.html">Labs</a>
          <a href="index.html">Home</a>
        </nav>
      </div>
    </footer>

    <!-- MODULAR LESSON ENGINE -->

<script type="module">
      // Import lesson config and engine
      import { lessonConfig } from './configs/lesson-drums-9.config.js';
      import { initLessonFromConfig } from './lesson-engine.js';

      // Initialize lesson from config
      initLessonFromConfig(lessonConfig);

      // Set year in footer
      document.getElementById("mpl-year").textContent = new Date().getFullYear();
    </script>
    <script src="navbar.js"></script>
  </body>
</html>
