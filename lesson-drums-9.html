<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title id="mpl-page-title">Lesson · Music Producer Lab</title>
    <meta name="viewport" content="width=1200, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" id="mpl-meta-description" content="Interactive music production lesson from Music Producer Lab." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>

    <main class="main-content container">

        <!-- HERO SECTION (populated by JS) -->
        <section class="hero" id="mpl-hero" aria-label="Lesson hero" style="display: flex; align-items: center; gap: var(--space-3xl);">
          <div class="hero-copy" style="flex: 1; max-width: none;">
            <div class="hero-copy-eyebrow" id="mpl-hero-eyebrow">Loading...</div>
            <h1 class="hero-title" id="mpl-hero-title">
              <span id="mpl-hero-title-main">Lesson</span>
              <span id="mpl-hero-title-highlight"></span>
            </h1>
            <p class="hero-subtitle" id="mpl-hero-subtitle"></p>
            <div id="mpl-hero-nav-btns" style="margin-top:1rem;display:flex;gap:0.6rem;flex-wrap:wrap;"></div>
          </div>

          <div class="hero-visual" style="flex: 1; display: flex; align-items: center; justify-content: center;">
            <img src="images/mpl_hero_rightside.png" alt="Music Production" style="width: 100%; max-width: 500px; height: auto; object-fit: contain; filter: drop-shadow(0 0 40px rgba(0, 212, 255, 0.3));">
          </div>
          </div>
        </section>

        <!-- EDUCATIONAL CONTENT -->
        <section style="margin-top: var(--space-3xl); margin-bottom: var(--space-3xl);">
          <div class="card" style="padding: var(--space-2xl); background: var(--bg-card); border: 1px solid var(--border-subtle);">

            <!-- INTRODUCTION -->
            <div class="section-eyebrow" style="margin-bottom: var(--space-md);">What You'll Learn</div>
            <h2 style="font-size: 2rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Hip-Hop & Boom Bap: The Art of the Groove</h2>

            <p style="font-size: 1.1rem; line-height: 1.8; color: var(--text-secondary); margin-bottom: var(--space-xl);">
              <strong>Boom bap</strong> is the heartbeat of golden-era hip-hop—a <strong>syncopated kick pattern</strong> with heavy <a href="glossary.html#snare-drum" style="color: var(--accent-cyan); text-decoration: underline;">snare</a> backbeats that makes your head nod instinctively. Born in the late 1980s and perfected throughout the 1990s, this sound defined East Coast hip-hop from New York to Philadelphia. Unlike house music's <a href="glossary.html#four-on-the-floor" style="color: var(--accent-cyan); text-decoration: underline;">four-on-the-floor</a> kick, boom bap uses <strong>off-beat kick placement</strong> (syncopation) that creates rhythmic tension and release. Combined with <a href="glossary.html#swing" style="color: var(--accent-cyan); text-decoration: underline;">swing</a> (usually 55-62%), <a href="glossary.html#velocity" style="color: var(--accent-cyan); text-decoration: underline;">velocity</a> variation, and sample-based drums from the legendary <strong>Akai MPC</strong>, boom bap has an organic, human feel that's impossible to resist. In this lesson, you'll program the classic boom bap pattern with syncopated kicks, heavy snares, and that signature swing that makes it bounce.
            </p>

            <!-- KEY CONCEPTS GRID -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-lg); margin-bottom: var(--space-2xl);">

              <!-- Concept 1: Boom Bap Pattern -->
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(255, 90, 61, 0.1), rgba(255, 178, 138, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(255, 90, 61, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/snare.png" alt="Boom Bap" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-orange); margin: 0;">What is Boom Bap?</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">
                  "Boom bap" is <strong>onomatopoeia</strong>—the "boom" is the <strong>syncopated kick</strong> (not on every beat), and the "bap" is the <strong>heavy snare</strong> on beats 2 and 4. The kick typically hits on steps 1, 8, 9, and 11 (not the predictable 1, 5, 9, 13 of house music). This creates <strong>rhythmic surprise and groove</strong> that's funky and danceable without being rigid.
                </p>
              </div>

              <!-- Concept 2: Swing & Shuffle -->
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(95, 77, 255, 0.1), rgba(138, 155, 255, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(95, 77, 255, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/clock_anticlockwise.png" alt="Swing" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-purple); margin: 0;">Swing: The Bounce</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">
                  <a href="glossary.html#swing" style="color: var(--accent-cyan); text-decoration: underline;">Swing</a> (also called "shuffle") delays the off-beat notes slightly, creating a <strong>laid-back, groovy feel</strong>. At 55% swing, the hi-hats and off-beat elements land slightly late, giving boom bap that signature "drunk" feel. This is why boom bap makes you nod your head—it's not perfectly quantized like EDM, it has <strong>human timing</strong>.
                </p>
              </div>

              <!-- Concept 3: Sample-Based Drums -->
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(184, 255, 221, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(0, 212, 255, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/mixer.png" alt="Samples" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-cyan); margin: 0;">MPC & Sample Culture</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">
                  Golden-era hip-hop was made on the <strong>Akai MPC60</strong>, <strong>E-mu SP-1200</strong>, and <strong>Roland TR-808</strong>. Producers sampled drums from funk, soul, and jazz records, giving boom bap its <strong>warm, vintage character</strong>. The MPC's swing function and velocity-sensitive pads made it perfect for creating organic, human-feeling beats.
                </p>
              </div>

              <!-- Concept 4: Dynamics & Ghost Notes -->
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(179, 102, 255, 0.1), rgba(255, 102, 178, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(179, 102, 255, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/planet.png" alt="Dynamics" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-magenta); margin: 0;">Human Groove</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">
                  Boom bap is never perfectly mechanical. <a href="glossary.html#velocity" style="color: var(--accent-cyan); text-decoration: underline;">Velocity</a> variation (louder accents, softer <a href="glossary.html#ghost-notes" style="color: var(--accent-cyan); text-decoration: underline;">ghost notes</a>) creates <strong>dynamic expression</strong>. Real MPC producers would "finger drum" patterns live, creating subtle timing and velocity variations that make the beat feel <strong>alive and breathing</strong>.
                </p>
              </div>

            </div>

            <!-- VISUAL PATTERN COMPARISON -->
            <div style="padding: var(--space-xl); background: var(--bg-secondary); border-radius: var(--radius-lg); margin-bottom: var(--space-2xl);">
              <h3 style="font-size: 1.5rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Boom Bap vs. Four-on-the-Floor</h3>

              <div style="margin-bottom: var(--space-xl);">
                <h4 style="color: var(--text-muted); margin-bottom: var(--space-md); font-size: 0.9rem;">House/Techno (Predictable)</h4>
                <div style="background: rgba(95, 77, 255, 0.05); padding: var(--space-md); border-radius: var(--radius-md); border: 1px solid rgba(95, 77, 255, 0.3);">

                  <!-- Kick row (four-on-the-floor) -->
                  <div style="margin-bottom: var(--space-sm);">
                    <div style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 4px;">Kick (Four-on-the-Floor)</div>
                    <div style="display: grid; grid-template-columns: repeat(16, 1fr); gap: 2px;">
                      <div style="background: linear-gradient(135deg,#e17055,#d63031); height: 28px; border-radius: 2px; box-shadow: 0 0 8px rgba(225,112,85,0.5);"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#e17055,#d63031); height: 28px; border-radius: 2px; box-shadow: 0 0 8px rgba(225,112,85,0.5);"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#e17055,#d63031); height: 28px; border-radius: 2px; box-shadow: 0 0 8px rgba(225,112,85,0.5);"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#e17055,#d63031); height: 28px; border-radius: 2px; box-shadow: 0 0 8px rgba(225,112,85,0.5);"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                    </div>
                    <div style="margin-top: 4px; font-size: 0.7rem; color: var(--text-muted);">Kick every quarter note (1, 5, 9, 13) - predictable, driving</div>
                  </div>

                  <!-- Snare row -->
                  <div>
                    <div style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 4px;">Snare (Backbeat)</div>
                    <div style="display: grid; grid-template-columns: repeat(16, 1fr); gap: 2px;">
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#fdcb6e,#f39c12); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#fdcb6e,#f39c12); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                    </div>
                    <div style="margin-top: 4px; font-size: 0.7rem; color: var(--text-muted);">Snare on 2 & 4 (steps 5, 13) - steady backbeat</div>
                  </div>

                </div>
              </div>

              <div>
                <h4 style="color: var(--accent-cyan); margin-bottom: var(--space-md);">Boom Bap (Syncopated Groove - 90 BPM, 55% Swing)</h4>
                <div style="background: rgba(0, 212, 255, 0.05); padding: var(--space-md); border-radius: var(--radius-md); border: 1px solid var(--accent-cyan);">

                  <!-- Kick row (syncopated) -->
                  <div style="margin-bottom: var(--space-sm);">
                    <div style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 4px;">Kick (Syncopated)</div>
                    <div style="display: grid; grid-template-columns: repeat(16, 1fr); gap: 2px;">
                      <div style="background: linear-gradient(135deg,#e17055,#d63031); height: 28px; border-radius: 2px; box-shadow: 0 0 8px rgba(225,112,85,0.5);"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#e17055,#d63031); height: 28px; border-radius: 2px; box-shadow: 0 0 8px rgba(225,112,85,0.5);"></div>
                      <div style="background: linear-gradient(135deg,#e17055,#d63031); height: 28px; border-radius: 2px; box-shadow: 0 0 8px rgba(225,112,85,0.5);"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#e17055,#d63031); height: 28px; border-radius: 2px; box-shadow: 0 0 8px rgba(225,112,85,0.5);"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                    </div>
                    <div style="margin-top: 4px; font-size: 0.7rem; color: var(--text-muted);">Steps 1, 8, 9, 11 - off-beat placement creates bounce and movement</div>
                  </div>

                  <!-- Snare row (heavy) -->
                  <div style="margin-bottom: var(--space-sm);">
                    <div style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 4px;">Snare (Heavy Bap)</div>
                    <div style="display: grid; grid-template-columns: repeat(16, 1fr); gap: 2px;">
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#fdcb6e,#f39c12); height: 28px; border-radius: 2px; box-shadow: 0 0 8px rgba(253,203,110,0.5);"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#fdcb6e,#f39c12); height: 28px; border-radius: 2px; box-shadow: 0 0 8px rgba(253,203,110,0.5);"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                    </div>
                    <div style="margin-top: 4px; font-size: 0.7rem; color: var(--text-muted);">Steps 5, 13 (beats 2 & 4) - heavy, cracking snare sound</div>
                  </div>

                  <!-- Hi-Hat row -->
                  <div>
                    <div style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 4px;">Hi-Hat (8th Notes with Swing)</div>
                    <div style="display: grid; grid-template-columns: repeat(16, 1fr); gap: 2px;">
                      <div style="background: linear-gradient(135deg,#74b9ff,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#74b9ff,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#74b9ff,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#74b9ff,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#74b9ff,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#74b9ff,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#74b9ff,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#74b9ff,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                    </div>
                    <div style="margin-top: 4px; font-size: 0.7rem; color: var(--text-muted);">Every 8th note (1, 3, 5, 7...) - swing setting makes these feel laid-back</div>
                  </div>

                </div>
              </div>

              <p style="margin-top: var(--space-lg); color: var(--text-secondary); line-height: 1.7; font-size: 0.95rem;">
                Notice the difference: house has <strong>kick on every beat</strong>, creating relentless drive. Boom bap has <strong>syncopated kicks on steps 1, 8, 9, 11</strong>, creating groove and movement. The swing setting delays off-beat notes, making the pattern feel less robotic and more human. This is why boom bap makes you nod your head—it's funky, not mechanical.
              </p>
            </div>

            <!-- COMMON MISTAKES -->
            <div style="margin-bottom: var(--space-2xl);">
              <h3 style="font-size: 1.5rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Common Mistakes to Avoid</h3>

              <div style="display: grid; gap: var(--space-lg);">

                <!-- Mistake 1 -->
                <div style="padding: var(--space-lg); background: rgba(255, 90, 61, 0.05); border-left: 4px solid var(--accent-orange); border-radius: var(--radius-md);">
                  <h4 style="color: var(--accent-orange); margin-bottom: var(--space-sm);">Using Four-on-the-Floor Kicks</h4>
                  <p style="color: var(--text-secondary); line-height: 1.7;">
                    The most common mistake is placing kicks on steps 1, 5, 9, 13 (four-on-the-floor). This is <strong>house/techno</strong>, not hip-hop. Boom bap requires <strong>syncopated kick placement</strong> (steps 1, 8, 9, 11) that creates off-beat bounce. The kick should land in unexpected places, creating rhythmic tension against the steady snare backbeat. If your pattern feels too "driving" or "rigid," you're probably using four-on-the-floor kicks instead of syncopated ones.
                  </p>
                </div>

                <!-- Mistake 2 -->
                <div style="padding: var(--space-lg); background: rgba(95, 77, 255, 0.05); border-left: 4px solid var(--accent-purple); border-radius: var(--radius-md);">
                  <h4 style="color: var(--accent-purple); margin-bottom: var(--space-sm);">Not Using Swing (Quantizing Everything)</h4>
                  <p style="color: var(--text-secondary); line-height: 1.7;">
                    Boom bap without <a href="glossary.html#swing" style="color: var(--accent-cyan); text-decoration: underline;">swing</a> sounds stiff and lifeless. Setting swing to 55% delays the off-beat notes slightly, creating that <strong>laid-back, drunk feel</strong> that makes boom bap groove. Without swing (0%), the pattern feels mechanical and robotic—more like programmed EDM than organic hip-hop. Real MPC producers always used swing to humanize their beats. Start with 55% and adjust to taste.
                  </p>
                </div>

                <!-- Mistake 3 -->
                <div style="padding: var(--space-lg); background: rgba(0, 212, 255, 0.05); border-left: 4px solid var(--accent-cyan); border-radius: var(--radius-md);">
                  <h4 style="color: var(--accent-cyan); margin-bottom: var(--space-sm);">All Hits at Max Velocity (No Dynamics)</h4>
                  <p style="color: var(--text-secondary); line-height: 1.7;">
                    Programming all drum hits at maximum <a href="glossary.html#velocity" style="color: var(--accent-cyan); text-decoration: underline;">velocity</a> (127) creates a flat, lifeless pattern. Real boom bap has <strong>dynamic variation</strong>—some hi-hats are softer (velocity 60-80), accents are louder (velocity 100-120), and the snare is heavy but not clipping. <a href="glossary.html#ghost-notes" style="color: var(--accent-cyan); text-decoration: underline;">Ghost notes</a> (very soft hi-hat hits at velocity 30-50) add rhythmic texture without dominating the mix. Vary your velocities to create a human, breathing groove.
                  </p>
                </div>

              </div>
            </div>

            <!-- WHY THIS MATTERS -->
            <div style="padding: var(--space-xl); background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(179, 102, 255, 0.1)); border-radius: var(--radius-lg); margin-bottom: var(--space-2xl);">
              <h3 style="font-size: 1.5rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Why This Matters</h3>

              <div style="display: grid; gap: var(--space-md);">
                <div style="display: flex; gap: var(--space-sm); align-items: start;">
                  <div style="color: var(--accent-cyan); font-size: 1.5rem; line-height: 1; margin-top: 2px;">01</div>
                  <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;">
                    <strong>Genre Foundation:</strong> Boom bap is the blueprint for golden-era hip-hop, lo-fi beats, trip-hop, and countless modern subgenres. Understanding this pattern gives you the foundation to produce authentic hip-hop beats that sound professional and credible.
                  </p>
                </div>
                <div style="display: flex; gap: var(--space-sm); align-items: start;">
                  <div style="color: var(--accent-cyan); font-size: 1.5rem; line-height: 1; margin-top: 2px;">02</div>
                  <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;">
                    <strong>Groove & Feel:</strong> Learning boom bap teaches you how <strong>syncopation, swing, and dynamics</strong> create groove and human feel. These concepts apply to all genres—funk, R&B, soul, jazz—not just hip-hop. Mastering groove is what separates amateur beats from professional productions.
                  </p>
                </div>
                <div style="display: flex; gap: var(--space-sm); align-items: start;">
                  <div style="color: var(--accent-cyan); font-size: 1.5rem; line-height: 1; margin-top: 2px;">03</div>
                  <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;">
                    <strong>Historical Knowledge:</strong> Boom bap connects you to hip-hop's golden era (1988-1996) and legendary producers like DJ Premier, Pete Rock, and J Dilla. Understanding this history gives you cultural context and appreciation for where modern hip-hop comes from.
                  </p>
                </div>
                <div style="display: flex; gap: var(--space-sm); align-items: start;">
                  <div style="color: var(--accent-cyan); font-size: 1.5rem; line-height: 1; margin-top: 2px;">04</div>
                  <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;">
                    <strong>Creative Expression:</strong> Boom bap gives you a versatile rhythmic framework for rap vocals, sampling, and melodic elements. The syncopated kick creates space for bass lines, while the steady snare anchors the groove. This is the sound that countless classic albums were built on.
                  </p>
                </div>
              </div>
            </div>

            <!-- WHAT'S NEXT -->
            <div style="border-top: 1px solid var(--border-subtle); padding-top: var(--space-xl);">
              <h3 style="font-size: 1.25rem; margin-bottom: var(--space-md); color: var(--text-primary);">What's Next?</h3>
              <p style="color: var(--text-secondary); line-height: 1.7;">
                After mastering boom bap's syncopated groove and swing, you'll move on to <strong>Lesson 10</strong> where you'll explore more advanced drum programming techniques. You'll learn how to combine multiple rhythmic concepts and create your own unique patterns.
              </p>
            </div>

          </div>
        </section>

        <!-- EXERCISE INSTRUCTIONS (populated by JS) -->
        <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
          <div class="exercise-box">
            <div class="section-eyebrow">Exercise</div>
            <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
            <p class="section-body" id="mpl-exercise-description"></p>
            
            <div class="exercise-steps" id="mpl-exercise-steps-wrap">
              <h3>What to do:</h3>
              <ol class="exercise-checklist" id="mpl-exercise-steps"></ol>
            </div>

            <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;">
              <strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span>
            </div>

            <!-- PATTERN HINT (populated by JS) -->
            <div class="pattern-hint" id="mpl-pattern-hint" style="display:none;">
              <div class="pattern-hint-label">Target Pattern:</div>
              <div id="mpl-pattern-hint-grid"></div>
              <div class="pattern-note" id="mpl-pattern-hint-note"></div>
            </div>
          </div>
        </section>

        <!-- SEQUENCER SECTION -->
        <section class="sequencer-section" id="mpl-sequencer-section" style="margin-top: var(--space-xl);">
          <div class="section-eyebrow" style="margin-bottom: var(--space-sm);">Interactive Sequencer</div>
          <h2 class="section-title" style="margin-bottom: var(--space-lg);"><span id="mpl-step-count-label">16</span>-Step Grid</h2>
          
          <div class="sequencer" id="mpl-sequencer-collection">
            <!-- Sequencer will be created by JS -->
          </div>

          <!-- CONTROLS -->
          <div class="sequencer-controls" style="display:flex;gap:0.75rem;margin-top:1.5rem;flex-wrap:wrap;align-items:center;">
            <button type="button" class="btn btn-outline" id="mpl-seq-play-all">
              <img src="images/PLAY.png" alt="Play" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Play</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-stop-all">
              <img src="images/STOP.png" alt="Stop" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Stop</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-clear-all" style="display:none;">
              <img src="images/CLEAR.png" alt="Clear" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Clear</span>
            </button>
            <button type="button" class="btn btn-primary" id="mpl-seq-check-all">
              <span>Check Exercise</span>
            </button>

            <!-- PRESET CONTROLS (hidden by default) -->
            <div id="mpl-preset-controls" style="display:none;gap:0.5rem;margin-left:0.5rem;">
              <button type="button" class="btn btn-outline btn-sm" id="mpl-preset-save">Save</button>
              <button type="button" class="btn btn-outline btn-sm" id="mpl-preset-load">Load</button>
            </div>

            <div style="margin-left:auto;display:flex;gap:0.75rem;">
              <div id="mpl-seq-prev-lesson-wrap">
                <button class="btn btn-secondary" id="mpl-prev-lesson">
                  <span>&larr; Previous Lesson</span>
                </button>
              </div>
              <div id="mpl-seq-next-lesson-wrap">
                <button class="btn btn-primary" id="mpl-next-lesson" disabled title="Complete exercise to unlock">
                  <span>Next Lesson &rarr;</span>
                </button>
              </div>
            </div>
          </div>

          <!-- TEMPO/SWING CONTROLS (for sandbox mode) -->
          <div id="mpl-advanced-controls" style="display:none;margin-top:1rem;padding:1rem;background:var(--bg-secondary);border-radius:var(--radius-md);gap:1.5rem;flex-wrap:wrap;align-items:center;">
            <div style="display:flex;align-items:center;gap:0.5rem;">
              <label for="mpl-tempo-slider" style="font-size:0.85rem;color:var(--text-muted);">Tempo:</label>
              <input type="range" id="mpl-tempo-slider" min="60" max="180" value="120" style="width:100px;">
              <span id="mpl-tempo-value" style="font-family:var(--font-mono);font-size:0.85rem;min-width:50px;">120 BPM</span>
            </div>
            <div style="display:flex;align-items:center;gap:0.5rem;">
              <label for="mpl-swing-slider" style="font-size:0.85rem;color:var(--text-muted);">Swing:</label>
              <input type="range" id="mpl-swing-slider" min="0" max="100" value="0" style="width:100px;">
              <span id="mpl-swing-value" style="font-family:var(--font-mono);font-size:0.85rem;min-width:40px;">0%</span>
            </div>
          </div>

          <div class="sequencer-status" id="mpl-seq-status" aria-live="polite" style="margin-top:1rem;">
            <span>Complete the exercise to unlock the next lesson.</span>
          </div>
        </section>

        <!-- FOOTER -->
        <footer class="footer" id="mpl-footer">
          <div>&copy; <span id="mpl-year"></span> Music Producer Lab</div>
          <div><a class="footer-link" id="mpl-footer-overview-link" href="labs.html">Back to overview</a></div>
        </footer>
      </div>
      
      <!-- LESSON ENGINE SCRIPT -->
      <script>document.getElementById("mpl-year").textContent = new Date().getFullYear();</script>

      <!--
        HOW TO USE THIS TEMPLATE:
        
        1. Create a config file (e.g., configs/lesson-drums-5.config.js)
        2. Copy this template to your lesson file (e.g., lesson-drums-5-new.html)
        3. Update the script import at the bottom to point to your config
        
        Example:

<script type="module">
          import { lessonConfig } from './configs/lesson-drums-5.config.js';
          import { initLessonFromConfig } from './lesson-engine.js';
          initLessonFromConfig(lessonConfig);
        </script>
      -->

      
      <script type="module">
      // Import lesson config and engine
      import { lessonConfig } from './configs/lesson-drums-9.config.js';
      import { initLessonFromConfig } from './lesson-engine.js';

      // Initialize lesson from config
      initLessonFromConfig(lessonConfig);

      // Set year in footer
      document.getElementById("mpl-year").textContent = new Date().getFullYear();
    </script>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-grid">
        <p class="copyright">© <span id="mpl-year">2025</span> Music Producer Lab</p>
        <nav class="footer-nav">
          <a href="labs.html">Labs</a>
          <a href="index.html">Home</a>
        </nav>
      </div>
    </footer>
    <script>document.getElementById("mpl-year").textContent = new Date().getFullYear();</script>
  <script src="theme-registry.js"></script>
  <script src="theme-manager.js"></script>
    <script src="navbar.js"></script>
  </body>
</html>
