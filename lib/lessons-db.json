[
  {
    "slug": "drums-0",
    "filename": "lesson-drums-0.config.js",
    "title": "Music Production Fundamentals:",
    "category": "Fundamentals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Drums 0 - Music Production Fundamentals\n *\n * This is an introductory lesson covering basic concepts for complete beginners.\n * Sandbox mode allows free experimentation while learning fundamental concepts.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-lesson0-progress\",\n  lessonNumber: 0,\n  lessonCategory: \"Fundamentals\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-drums-1.html\",\n  prevLessonUrl: null,\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 0, categoryLabel: \"Fundamentals\" }),\n    title: \"Music Production Fundamentals:\",\n    titleHighlight: \"Understanding the Basics\",\n    subtitle: \"Before you start making beats, learn the essential concepts: <strong>DAWs</strong>, <strong>loops</strong>, <strong>tempo</strong>, <strong>bars</strong>, <strong>beats</strong>, and how music is organized in time. This lesson is designed for absolute beginners with zero prior knowledge.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    swing: 0,\n    requiredTempo: 120\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Experiment with the Sequencer\",\n    description: \"This lesson is in <strong>sandbox mode</strong> - there's no right or wrong answer. Click around, press play, and get familiar with the interface. Understanding how the grid works will prepare you for all future lessons.\",\n    tip: \"Try clicking different steps on the Kick row, then press Play. Notice how the sound repeats in a loop!\",\n    steps: [\n      { text: \"<strong>Set the tempo to 120 BPM</strong> using the Tempo slider.\" },\n      { text: \"<strong>Click on any step</strong> in the grid to activate it (it will light up).\" },\n      { text: \"Press <strong>Play</strong> to hear your pattern loop continuously.\" },\n      { text: \"Notice how the playhead moves from left to right across 16 steps, then repeats.\" },\n      { text: \"Try different patterns. There are no mistakes - just experiments!\" },\n      { text: \"When you feel comfortable, click <strong>Complete Lesson</strong> to move on.\" }\n    ]\n  },\n\n  // ====================\n  // INSTRUMENTS CONFIG\n  // ====================\n  instruments: [\n    {\n      id: \"kick\",\n      label: \"Kick\",\n      color: \"linear-gradient(135deg,#ff5a3d,#ffb28a)\",\n      targetSteps: [], // Sandbox mode - no target pattern\n      instructionText: \"Sandbox mode: Click anywhere to place kick drum hits and experiment!\",\n      patternHint: {\n        label: \"Kick\"\n      }\n    },\n    {\n      id: \"snare\",\n      label: \"Snare\",\n      color: \"linear-gradient(135deg,#b366ff,#d4a5ff)\",\n      targetSteps: [], // Sandbox mode - no target pattern\n      instructionText: \"Sandbox mode: Click anywhere to place snare hits and experiment!\",\n      patternHint: {\n        label: \"Snare\"\n      }\n    }\n  ],\n\n  // ====================\n  // PATTERN HINT CONFIG\n  // ====================\n  patternHint: {\n    enabled: false, // No pattern hint in sandbox mode\n    note: \"\"\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"drums\", {\n    initial: \"Explore freely, then click 'Complete Lesson' when you're ready to continue.\",\n    success: \"Great! You're ready to start building your first beat pattern.\",\n    error: \"\" // No error in sandbox mode\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: true, // Free exploration mode\n    showTargetHint: false,\n    enablePresets: false,\n    enableExport: false,\n    alwaysShowNextButton: true // Show Next Lesson button even in sandbox mode\n  },\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"What is a DAW?\",\n        content: \"A <strong>DAW (Digital Audio Workstation)</strong> is the main software people use to create music on a computer. Examples include Ableton Live, FL Studio, Logic Pro, and GarageBand. Think of it as a recording studio inside your laptop. A DAW lets you record audio (like voices or guitars) and write musical instructions using a grid.\"\n      },\n      {\n        title: \"What is a Loop?\",\n        content: \"A <strong>loop</strong> is a short piece of music that repeats. Think of it like a small wheel that turns again and again. In dance music, loops are often <strong>one bar long</strong>. When that bar repeats, you get a steady groove that people can move to. The sequencer you see above creates loops.\"\n      },\n      {\n        title: \"Tempo and BPM\",\n        content: \"<strong>Tempo</strong> is the speed of the music, measured in <strong>BPM (beats per minute)</strong>. If the tempo is 120 BPM, there are 120 beats in one minute. Higher BPM feels faster and more energetic. Lower BPM feels slower and heavier. Most house and techno tracks are around 120-140 BPM.\"\n      },\n      {\n        title: \"Understanding Bars and Beats\",\n        content: \"Most dance music is in <strong>4/4 time</strong> (\\\"four four\\\"), which means there are <strong>four beats in every bar</strong>. A <strong>beat</strong> is the basic pulse you would naturally clap to. If you count along: <em>one-two-three-four, one-two-three-four</em> - each time you reach \\\"four\\\" and start again at \\\"one,\\\" you've completed <strong>one bar</strong>.\"\n      },\n      {\n        title: \"The 16-Step Grid\",\n        content: \"The sequencer grid has <strong>16 steps</strong> for one bar. Why 16? Because each of the 4 beats is divided into 4 smaller pieces (4 × 4 = 16). These smaller divisions are called <strong>16th notes</strong>. This grid lets you place sounds precisely in time. <strong>Steps 1, 5, 9, and 13</strong> represent the four main beats (quarter notes).\"\n      },\n      {\n        title: \"Notes and Subdivisions (Simple)\",\n        content: \"Even if you don't know music theory, you can understand timing as divisions:<br><br>• <strong>Quarter note</strong> = the bar divided into 4 equal parts (the main beats)<br>• <strong>Eighth note</strong> = the bar divided into 8 equal parts<br>• <strong>Sixteenth note</strong> = the bar divided into 16 equal parts<br><br>The grid shows sixteenth notes, giving you maximum precision.\"\n      },\n      {\n        title: \"Audio vs MIDI\",\n        content: \"<strong>Audio</strong> is recorded sound (like a WAV or MP3 file). <strong>MIDI</strong> is just instructions - it tells the computer \\\"play this sound here.\\\" In this sequencer, when you click a step, you're creating a MIDI instruction. The actual kick sound is an audio sample that gets triggered by your MIDI pattern.\"\n      },\n      {\n        title: \"Listening Like a Producer\",\n        content: \"When you press Play, focus on two things:<br><br>1. <strong>Does it feel even?</strong> Like a metronome you could dance to?<br>2. <strong>Does it loop smoothly?</strong> Does the end flow back to the start without stumbling?<br><br>These are the foundations of good rhythm programming.\"\n      }\n    ]\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 0,
    "access": "free",
    "difficulty": "beginner",
    "prerequisites": [],
    "outcomes": [
      "Applicare i concetti chiave di Music Production Fundamentals:",
      "Prepararsi alla lezione successiva del modulo Fundamentals"
    ]
  },
  {
    "slug": "arrangement-1",
    "filename": "lesson-arrangement-1.config.js",
    "title": "From Loop to Song:",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 1 - From Loop to Song: Understanding Structure\n * \n * Note: This lesson uses a custom arrangement builder instead of the standard\n * drum sequencer. The config provides metadata and navigation info.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-arrangement-1-progress\",\n  lessonNumber: 1,\n  lessonCategory: \"Arrangement\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-arrangement-2.html\",\n  prevLessonUrl: \"lesson-drums-6.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 1, categoryLabel: \"Arrangement\" }),\n    title: \"From Loop to Song:\",\n    titleHighlight: \"Understanding Structure\",\n    subtitle: \"You've created killer drum patterns and loops. Now it's time to turn them into <strong>complete songs</strong>. Learn how to organize your musical ideas into sections—like <strong>intro</strong>, <strong>verse</strong>, <strong>chorus</strong>, and <strong>bridge</strong>—to create a journey your listeners will love.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Build Your First Arrangement\",\n    description: \"Use the interactive arrangement builder to create a complete song structure. Click sections to add them to your timeline and watch the energy flow visualize your arrangement.\",\n    tip: \"Try creating both a Pop structure (Verse-Chorus-Bridge) AND an EDM structure (Build-Drop-Breakdown). Notice how the energy graphs differ!\",\n    steps: [\n      { text: \"<strong>Start with an Intro</strong> — Click the Intro button to add it to your timeline.\" },\n      { text: \"<strong>Add a Verse → Chorus pattern</strong> — This is your first \\\"cycle\\\".\" },\n      { text: \"<strong>Repeat with variation</strong> — Add another Verse → Chorus, maybe with a Bridge before the final Chorus.\" },\n      { text: \"<strong>End with an Outro</strong> — Bring the song to a close.\" },\n      { text: \"<strong>Aim for 64-96 bars</strong> (about 2:30-4:00 at 120 BPM).\" }\n    ]\n  },\n  \n  // ====================\n  // ARRANGEMENT SECTIONS\n  // ====================\n  arrangementSections: [\n    { type: \"intro\", label: \"Intro\", bars: 8, energy: 25, color: \"green\" },\n    { type: \"verse\", label: \"Verse\", bars: 16, energy: 50, color: \"cyan\" },\n    { type: \"chorus\", label: \"Chorus\", bars: 16, energy: 90, color: \"purple\" },\n    { type: \"bridge\", label: \"Bridge\", bars: 8, energy: 60, color: \"pink\" },\n    { type: \"buildup\", label: \"Buildup\", bars: 8, energy: 70, color: \"amber\" },\n    { type: \"drop\", label: \"Drop\", bars: 16, energy: 100, color: \"red\" },\n    { type: \"breakdown\", label: \"Breakdown\", bars: 8, energy: 35, color: \"blue\" },\n    { type: \"outro\", label: \"Outro\", bars: 8, energy: 20, color: \"gray\" }\n  ],\n  \n  // ====================\n  // TEMPLATE ARRANGEMENTS\n  // ====================\n  templates: {\n    pop: [\n      { type: \"intro\", bars: 8, energy: 25 },\n      { type: \"verse\", bars: 16, energy: 50 },\n      { type: \"chorus\", bars: 16, energy: 90 },\n      { type: \"verse\", bars: 16, energy: 55 },\n      { type: \"chorus\", bars: 16, energy: 95 },\n      { type: \"bridge\", bars: 8, energy: 60 },\n      { type: \"chorus\", bars: 16, energy: 100 },\n      { type: \"outro\", bars: 8, energy: 20 }\n    ],\n    edm: [\n      { type: \"intro\", bars: 8, energy: 25 },\n      { type: \"buildup\", bars: 16, energy: 65 },\n      { type: \"drop\", bars: 16, energy: 100 },\n      { type: \"breakdown\", bars: 8, energy: 35 },\n      { type: \"buildup\", bars: 8, energy: 75 },\n      { type: \"drop\", bars: 16, energy: 100 },\n      { type: \"outro\", bars: 8, energy: 20 }\n    ]\n  },\n  \n  // ====================\n  // VALIDATION RULES\n  // ====================\n  validation: {\n    minBars: 64,\n    maxBars: 120,\n    requiredSections: [\"intro\", \"outro\"],\n    requiredPeaks: 1, // Must have at least one chorus or drop\n    peakTypes: [\"chorus\", \"drop\"]\n  },\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Build an arrangement with 64-96 bars to complete this exercise.\",\n    success: \"Excellent! Your arrangement has great structure. You've completed this lesson!\",\n    error: \"Not quite there yet. Make sure you have an intro, at least one chorus/drop, and an outro.\",\n    alreadyCompleted: \"You've already completed this exercise. Feel free to experiment more!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"arrangement\", // Different from drum lessons\n    sandbox: false,\n    showEnergyGraph: true,\n    showStructureType: true,\n    enableTemplates: true\n  },\n  \n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"Why Song Structure Matters\",\n        content: `\n**From Loop to Song:**\nYou've created amazing drum patterns and melodic loops, but a loop isn't a song. Loops are circular—they repeat endlessly without going anywhere. Songs are linear journeys with a beginning, middle, and end. They take listeners on an emotional ride, building anticipation, delivering payoffs, and creating memorable moments.\n\n**The Problem with Loops:**\nEven the best 8-bar loop gets boring after 30 seconds. Your brain craves variety, contrast, and narrative. Professional producers understand this: the magic isn't in making better loops—it's in knowing how to arrange them into compelling songs.\n\n**Energy Flow is Everything:**\nGreat arrangements manage energy like a rollercoaster. They build tension, release it, create valleys of calm, and peaks of intensity. Listeners stay engaged because they're constantly anticipating what comes next. A flat, constant-energy track—no matter how good the sounds—will bore people within a minute.\n\n**The Two Main Approaches:**\n\n1. **Pop/Rock Structure (Verse-Chorus)**: Based on storytelling and vocal hooks. Think of it as a conversation: verses deliver the narrative (lower energy), choruses deliver the emotional punch (higher energy). This structure has dominated popular music for decades because it mirrors how humans communicate—setup, then payoff.\n\n2. **EDM Structure (Build-Drop-Breakdown)**: Based on energy manipulation and physical response. Buildups create unbearable tension, drops release it explosively, and breakdowns give dancers a chance to breathe. This structure is optimized for the dancefloor, where energy = movement.\n\n**Real-World Examples:**\n- \"Blinding Lights\" by The Weeknd uses Intro → Verse → Chorus → Verse → Chorus → Bridge → Chorus (classic pop)\n- \"Levels\" by Avicii uses Intro → Build → Drop → Breakdown → Build → Drop (classic EDM)\n- Both are massive hits, but their structures serve completely different purposes and audiences.\n        `\n      },\n      {\n        title: \"Understanding Song Sections\",\n        content: `\n**The Essential Sections:**\n\n**Intro (4-8 bars):**\nYour first impression. The intro's job is to hook the listener immediately and establish the vibe. In pop music, intros often feature the signature instrumental riff or melody. In EDM, intros typically start minimal and gradually introduce elements. Keep it under 15 seconds—radio programmers and streaming algorithms favor quick hooks.\n\n**Verse (8-16 bars):**\nThe storytelling section. Verses deliver information and set up the emotional context. They're typically lower in energy than choruses, with more space for vocals and fewer instrumental layers. Verses should feel like questions that the chorus answers.\n\n**Chorus (8-16 bars):**\nThe emotional and energetic peak. This is your hook—the part people remember and sing along to. Choruses use the fullest arrangement with all elements playing. Melodically and lyrically, choruses are simpler and more repetitive than verses because they need to stick in memory instantly.\n\n**Bridge (8 bars):**\nThe surprise element. Bridges provide contrast—a different chord progression, a new melodic idea, or a shift in perspective. They appear about 2/3 through the song, just when repetition is becoming predictable. A great bridge makes the final chorus hit even harder by creating contrast.\n\n**Buildup (8-16 bars - EDM):**\nPure tension creation. Buildups use risers, filter sweeps, increasing drum complexity, and rising pitch to create unbearable anticipation. The last 4-8 bars often strip away drums entirely, leaving just a riser sound before the drop. Physical tension in buildups translates to physical release in drops.\n\n**Drop (16 bars - EDM):**\nThe payoff. Drops are the moment of maximum energy and fullest arrangement. After a buildup's tension, drops deliver relief and excitement. The best drops have a clear hook—a signature synth line, vocal chop, or bass pattern that defines the track.\n\n**Breakdown (8 bars - EDM):**\nThe recovery period. After a massive drop, breakdowns strip the arrangement back down to give listeners (and dancers) a rest. They often feature just pads, vocals, and light percussion. Breakdowns set up the next buildup by creating energy contrast.\n\n**Outro (4-8 bars):**\nThe exit. Outros bring closure by gradually removing elements and reducing energy. They can fade out (gradually lowering volume) or end abruptly. Great outros leave a lasting impression—sometimes referencing the intro for symmetry.\n        `\n      },\n      {\n        title: \"Applying Structure in Your DAW\",\n        content: `\n**The Arrangement View:**\nEvery DAW has an \"arrangement view\" or \"timeline view\" where you build song structure. This is different from the \"loop view\" or \"pattern view\" where you create individual patterns. Learn to think in this view—it's where loops become songs.\n\n**Use Markers and Color Coding:**\n- Mark sections with colored regions: Verse (blue), Chorus (red), Bridge (purple), etc.\n- This visual organization helps you see the big picture\n- Most DAWs let you name and color regions—use this!\n\n**The 4/8 Bar Rule:**\nSong sections almost always come in multiples of 4 or 8 bars. This is because:\n- Human ears perceive musical phrases in 4-bar chunks\n- It creates a sense of completion and symmetry\n- DJs can mix tracks that use this structure\n\n**Practical Workflow:**\n1. **Start with one loop** (8-16 bars) that represents your chorus or drop\n2. **Create variations** by removing elements for verses/buildups\n3. **Arrange them in time** following a structure template\n4. **Add transitions** between sections (next lesson!)\n5. **Check the energy flow** - does it build and release appropriately?\n\n**Common Mistakes to Avoid:**\n- **Too short**: Under 2 minutes feels incomplete (except for TikTok/Reels)\n- **Too long**: Over 4 minutes without variation loses listener attention\n- **Flat energy**: Every section at the same intensity = boring\n- **Abrupt changes**: Sections that don't connect smoothly sound amateur\n- **No variation**: Repeating the exact same chorus 3 times without any changes\n\n**Pro Tip - The \"Energy Check\":**\nPlay your arrangement and ask: \"If I were at a club/concert, would this keep me engaged?\" The energy should constantly shift—building, releasing, surprising, and satisfying. If you find yourself getting bored during playback, your listeners definitely will too.\n        `\n      }\n    ]\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Understand the concept of song sections (intro, verse, chorus, bridge, outro)\",\n    \"Learn common song structures for Pop/Rock (ABABCB) and EDM (Build-Drop-Breakdown)\",\n    \"Visualize energy flow across a song arrangement\",\n    \"Create a complete arrangement with proper structure\",\n    \"Understand the 5 elements of arrangement: Foundation, Pad, Rhythm, Lead, Fills\"\n  ]\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 1,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "arrangement-0"
    ],
    "outcomes": [
      "Applicare i concetti chiave di From Loop to Song:",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-1",
    "filename": "lesson-bass-1.config.js",
    "title": "Bass Fundamentals:",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 1 - Bass Fundamentals: Root Notes\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-1-progress\",\n  lessonNumber: 1,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-2.html\",\n  prevLessonUrl: null,\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 1, categoryLabel: \"Bass & Low End\" }),\n    title: \"Bass Fundamentals:\",\n    titleHighlight: \"Root Notes & Foundation\",\n    subtitle: \"Learn what bass does in music. Place root notes that lock with your kick drum to create a solid low-end foundation. Bass provides the harmonic root and rhythmic anchor that holds the track together.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    bars: 1,\n    noteRange: { min: 36, max: 60 }, // C2 to C4 (bass range)\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Place Root Notes on the 1\",\n    description: \"In this exercise, you'll place a bass note on beat 1 (step 1) of each bar. This is the most fundamental bass pattern: the root note landing with the kick drum creates a powerful foundation. When kick and bass hit together on beat 1, you create a unified low-end that listeners feel in their chest.\",\n    tip: \"Listen to how the bass and kick sound when they hit together. They should feel like one unified 'thump' in the low end, not two separate sounds fighting each other.\",\n    steps: [\n      { text: \"<strong>Click on step 1</strong> at pitch <strong>C3</strong> (the middle C in the bass range).\" },\n      { text: \"Press <strong>Play</strong> and listen to how the bass locks with the kick on beat 1.\" },\n      { text: \"Try placing notes at different pitches and hear how lower notes feel 'heavier' and higher notes feel 'lighter'.\" },\n      { text: \"Return to <strong>C3 on step 1</strong> and click <strong>Check Exercise</strong> when ready.\" }\n    ]\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"What Is Bass?\",\n        content: `Bass is the low-frequency foundation of most music. It serves two critical roles:\n\n1. **Harmonic Foundation**: Bass defines the root note of the chord, telling listeners what key/chord the music is in.\n2. **Rhythmic Anchor**: Bass locks with the drums (especially kick) to create a unified rhythmic pulse.\n\nIn electronic music, bass typically sits between 40-200 Hz (roughly C1 to G3). This is where you feel sound as much as hear it.`\n      },\n      {\n        title: \"Why Bass on Beat 1?\",\n        content: `Beat 1 is the \"downbeat\"—the strongest beat in a bar. Placing bass here:\n\n- **Creates stability**: Listeners immediately know where the groove is\n- **Locks with kick**: Kick + bass on beat 1 = powerful unified low end\n- **Defines harmony**: The root note tells us what chord we're in\n\nThis is why almost every genre from house to hip-hop starts bass patterns on beat 1. It's the anchor point everything else builds from.`\n      },\n      {\n        title: \"Bass vs Kick: Working Together\",\n        content: `Bass and kick occupy similar frequency ranges (both are low), so they must complement each other:\n\n**When they hit together** (like on beat 1):\n- They should feel like one unified \"thump\"\n- The kick provides the transient attack\n- The bass provides the sustained body/tone\n\n**Common mistake**: If bass and kick sound muddy or unclear together, they're either:\n- Too close in pitch (kick needs space below the bass)\n- Too loud (they're fighting for headroom)\n\nIn later lessons, we'll learn sidechain compression to make them work perfectly together.`\n      }\n    ]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [\n      { pitch: 48, step: 0, duration: 1 } // C3 on step 1, 1 beat duration\n    ],\n    highlightScale: [48, 50, 52, 53, 55, 57, 59, 60], // C major scale in bass range\n    showChordDetection: false, // Not needed for single bass notes\n    allowPolyphony: false, // Bass is monophonic\n    bassMode: true, // Use bass-optimized synthesis\n    waveform: 'sawtooth' // Classic bass waveform\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Place a C3 note on step 1 to complete the exercise.\",\n    success: \"Perfect! You've created your first bass note. This is the foundation all bass patterns build from.\",\n    error: \"Not quite. Make sure you have a C3 note on step 1 (beat 1).\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll', // Use piano roll for bass\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 1,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "bass-0"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Bass Fundamentals:",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-1",
    "filename": "lesson-drums-1.config.js",
    "title": "4 on the Floor:",
    "category": "Drum pattern",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Drums 1 - 4 on the floor\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-lesson1-progress\",\n  lessonNumber: 1,\n  lessonCategory: \"Drum pattern\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-drums-2.html\",\n  prevLessonUrl: \"lesson-drums-0.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 1, categoryLabel: \"Drum pattern\" }),\n    title: \"4 on the Floor:\",\n    titleHighlight: \"Your First Full Beat\",\n    subtitle: \"Build the most important rhythm pattern in electronic music. You'll create a repeating rhythm that feels stable, danceable, and easy to recognize. This single pattern is the foundation behind house, techno, and most modern dance music. Once you understand this, everything else in drum programming becomes much less mysterious.\"\n  },\n  \n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    swing: 0,\n    requiredTempo: 120 // Students must set tempo to 120 BPM\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Build the 4-on-the-Floor Kick Pattern\",\n    description: \"<strong>\\\"4 on the floor\\\"</strong> means a kick drum on every beat of the bar. Since there are four beats in a bar (in 4/4 time), you place four kicks equally spaced. This creates a steady pulse that dancers can lock onto. It might sound \\\"too simple,\\\" and that's exactly the point - this simplicity is power. It leaves space for everything else you'll add later: hi-hats, claps, bass, chords, and melodies.\",\n    tip: \"Count \\\"one-two-three-four\\\" out loud while the loop plays. The kick should hit exactly when you say each number!\",\n    steps: [\n      { text: \"<strong>Set the tempo to 120 BPM</strong> using the Tempo slider below the sequencer. This is the standard house music tempo.\" },\n      { text: \"<strong>Click on steps 1, 5, 9, and 13</strong> in the Kick row to place your kicks.\" },\n      { text: \"These positions correspond to the <strong>four main beats</strong> of the bar (quarter notes).\" },\n      { text: \"Press <strong>Play</strong> to hear your pattern loop. Does it feel even and steady?\" },\n      { text: \"Listen: Does the loop flow smoothly from end back to start without stumbling?\" },\n      { text: \"When satisfied, click <strong>Check Exercise</strong> to verify your pattern and tempo.\" }\n    ]\n  },\n  \n  // ====================\n  // INSTRUMENTS CONFIG\n  // ====================\n  instruments: [\n    {\n      id: \"kick\",\n      label: \"Kick\",\n      color: \"linear-gradient(135deg,#ff5a3d,#ffb28a)\",\n      targetSteps: [0, 4, 8, 12],\n      instructionText: \"Exercise — Kick: Create the \\\"4 on the floor\\\" pattern by placing one kick on each of the four beats. In the 16-step grid, the four beats are steps 1, 5, 9, and 13. When you count \\\"one-two-three-four,\\\" these are where the kicks land. This is the heartbeat of the track.\",\n      patternHint: {\n        label: \"Kick\"\n      }\n    }\n  ],\n  \n  // ====================\n  // PATTERN HINT CONFIG\n  // ====================\n  patternHint: {\n    enabled: true,\n    note: \"Kick on every beat: steps 1, 5, 9, and 13\"\n  },\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"drums\", {\n    initial: \"Complete the kick exercise to unlock the next lesson.\",\n    success: \"Correct! Great job! You can now proceed to the next lesson.\",\n    error: \"Not quite right. Make sure you have kicks on steps 1, 5, 9, and 13!\"\n  }),\n  \n  // ====================\n  // VALIDATION RULES\n  // ====================\n  validation: {\n    type: \"drum_pattern\",\n    requiredInstruments: [\n      {\n        id: \"kick\",\n        targetSteps: [0, 4, 8, 12], // Steps 1, 5, 9, 13\n        tolerance: 0, // Exact match required\n        minHitsRequired: 4\n      }\n    ],\n    requiredTempo: 120,\n    tempoTolerance: 0 // Must be exactly 120 BPM\n  },\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"What is \\\"4 on the Floor\\\"? - History, Psychology, and Power\",\n        content: `\n**Definition and Origins:**\n\"4 on the floor\" is the most fundamental drum pattern in electronic dance music. It's a rhythmic pattern where the kick drum (bass drum) hits on every quarter note beat in a 4/4 time signature—beats 1, 2, 3, and 4. The term comes from the kick drum literally hitting \"on the floor\"—the downbeats that anchor the rhythm.\n\nThis pattern emerged from disco music in the 1970s, where drummers like Earl Young (MFSB, \"Love Is The Message\") pioneered the steady four-on-the-floor kick to keep dancers moving. Before disco, most popular music used rock/funk patterns with kicks on beats 1 and 3. Disco revolutionized dance music by making every beat equally important, creating relentless forward momentum.\n\n**Why It Works - The Psychology of Steady Pulse:**\n\n**1. Physical Entrainment:**\nWhen humans hear a steady pulse at 120-130 beats per minute (the sweet spot for 4-on-the-floor), our bodies naturally synchronize to it. This is called \"rhythmic entrainment\"—a biological response where your heartbeat, breathing, and movement align with external rhythms. Four-on-the-floor creates a metronomic pulse that's impossible not to move to.\n\n**2. Predictability and Safety:**\nThe pattern is completely predictable—once you hear the first few kicks, your brain knows exactly when the next one will hit. This predictability creates a sense of safety and comfort on the dancefloor. Dancers can lose themselves in the music because they trust the rhythm won't suddenly change.\n\n**3. Space for Other Elements:**\nBy occupying only the downbeats (quarter notes), the kick leaves space between beats for other elements: hi-hats on the offbeats (8th notes), snares on 2 and 4, percussion fills, and synth stabs. This rhythmic space is crucial—a kick pattern that's too busy doesn't leave room for other elements to shine.\n\n**4. Universal Cross-Genre Appeal:**\nFour-on-the-floor transcends cultural and musical boundaries. It works in:\n- **House Music** (120-130 BPM): The foundation of the genre\n- **Techno** (125-135 BPM): Driving and hypnotic\n- **Disco** (110-125 BPM): Funky and grooving\n- **Trance** (130-140 BPM): Uplifting and energetic\n- **Pop/EDM** (120-128 BPM): Accessible and danceable\n- **Eurodance** (130-150 BPM): High-energy and anthemic\n\n**Musical Context - Understanding 4/4 Time:**\nThe pattern exists within 4/4 time signature, the most common time signature in Western music. \"4/4\" means:\n- **Top 4**: Four beats per measure (bar)\n- **Bottom 4**: Each beat is a quarter note\n\nWhen you count \"1-2-3-4, 1-2-3-4,\" you're counting quarter notes. In 4-on-the-floor, the kick drum hits on each count: 1 (kick), 2 (kick), 3 (kick), 4 (kick).\n\n**The Sequencer Grid Explained:**\nIn a 16-step sequencer (like the one in this lesson), each measure is divided into 16 equal divisions called \"16th notes\" or \"steps.\" Here's the breakdown:\n- **Steps 1, 5, 9, 13** = Quarter notes (the main beats) = Where the kick hits\n- **Steps 3, 7, 11, 15** = Offbeats (where hi-hats often go)\n- **Steps 5 and 13** = Beats 2 and 4 (where snares/claps usually go)\n\nUnderstanding this grid is essential because it's the foundation of electronic music production. Every element you add—hi-hats, snares, bass, synths—will be placed relative to this 16-step grid.\n\n**Historical Deep Dive:**\n\n**Disco Era (1970s):**\nThe pattern originated in Philadelphia with producers like Tom Moulton and Gamble & Huff. Songs like \"I'll Be Around\" by The Spinners (1972) and \"Love Is The Message\" by MFSB (1973) established the template. Disco DJs loved the pattern because tracks with steady kicks were easier to beatmatch and kept dancefloors packed.\n\nBy the late 70s, it was ubiquitous: Donna Summer's \"I Feel Love\" (1977, produced by Giorgio Moroder) made it electronic, using a synthesized kick instead of live drums. This track is considered the birth of modern electronic dance music.\n\n**House Music Era (1980s-90s):**\nWhen disco \"died\" in the early 80s, the pattern found new life in Chicago house music. Producers like Frankie Knuckles, Larry Heard, and Marshall Jefferson used drum machines (Roland TR-808, TR-909, TR-707) to create 4-on-the-floor patterns. Classic tracks:\n- Frankie Knuckles - \"Your Love\" (1987)\n- Marshall Jefferson - \"Move Your Body\" (1986)\n- Larry Heard (Mr. Fingers) - \"Can You Feel It\" (1986)\n\nThese tracks defined the house music sound: steady 4-on-the-floor kick, hi-hats on 16ths, snare/clap on 2 and 4.\n\n**Modern EDM (2000s-Present):**\nThe pattern evolved but remained foundational:\n- **Daft Punk** - \"One More Time\" (2000): French house with heavy kicks\n- **deadmau5** - \"Strobe\" (2009): Progressive house with subtle kicks\n- **Calvin Harris** - \"Feel So Close\" (2011): Pop/EDM crossover\n- **Swedish House Mafia** - \"Don't You Worry Child\" (2012): Festival anthem\n\n**Why This Pattern Endures:**\nDespite being 50+ years old, 4-on-the-floor remains dominant because:\n1. It works physiologically—human bodies respond to steady pulses\n2. It's DJ-friendly—tracks with steady kicks are easy to mix\n3. It's timeless—the pattern doesn't sound dated\n4. It's versatile—works from 110 BPM disco to 140 BPM trance\n\n**The Physics of Low-End Pulse:**\nKick drums live in the 40-100Hz range—frequencies humans feel physically, not just hear. When a club soundsystem plays a 4-on-the-floor kick at high volume, you feel it in your chest and stomach. This physical sensation is addictive and is why the pattern dominates dancefloors worldwide.\n\n**Next Steps in Your Learning:**\nMastering 4-on-the-floor is step one. From here, you'll learn:\n- Adding hi-hats for rhythmic texture (Lesson 2)\n- Adding snares/claps for backbeat (Lesson 3)\n- Creating fills and variations (Lessons 4-5)\n- Combining patterns for full drum arrangements (Lesson 6)\n        `\n      },\n      {\n        title: \"How to Create 4-on-the-Floor in Any DAW - Detailed Guide\",\n        content: `\nThis pattern is universal across all DAWs and production workflows. Here's how to create it in different environments:\n\n**Method 1: Step Sequencer (Easiest for Beginners)**\n\nMost DAWs have a built-in step sequencer or drum machine:\n\n**Ableton Live:**\n1. Create a MIDI track\n2. Load \"Drum Rack\" from Instruments\n3. Drag a kick sample into the first pad (C1)\n4. Click the \"Fold\" button to show only loaded pads\n5. Draw MIDI notes on beats 1, 2, 3, 4 (or use the step sequencer by clicking the small sequencer icon)\n6. Set to 4 bars, loop enabled\n7. Press play - you should hear kicks on every beat\n\n**FL Studio:**\n1. Open the \"Channel Rack\" (F6)\n2. Add a kick sample (right-click empty channel → \"Replace\" → choose kick)\n3. In the step sequencer grid, activate steps 1, 5, 9, 13 (these are the quarter note beats)\n4. The grid shows 16 steps = 1 bar\n5. Set tempo to 120-128 BPM\n6. Press play on the transport\n\n**Logic Pro X:**\n1. Create a \"Software Instrument\" track\n2. Load \"Drum Kit Designer\" or \"Drum Machine Designer\"\n3. Open the Piano Roll editor (Command + E)\n4. Set grid to \"1/4 note\" (quarter notes)\n5. Draw in kick notes on beats 1, 2, 3, 4 using the pencil tool\n6. Set the loop region to 1-2 bars\n7. Press play\n\n**Method 2: Piano Roll (More Visual Control)**\n\nIf you prefer seeing notes on a timeline:\n\n**Step 1: Create MIDI Track**\n- Add a new MIDI/Instrument track\n- Load a drum sampler or drum plugin\n\n**Step 2: Set Grid to Quarter Notes**\n- In the piano roll editor, set grid to \"1/4\" or \"Quarter Notes\"\n- This snaps notes to the main beats\n\n**Step 3: Draw Kick Notes**\n- Find the kick drum note (usually C1 or C2 depending on the plugin)\n- Draw four notes per bar, aligned to the grid\n- Each note should be exactly one quarter note apart\n\n**Step 4: Set Velocity and Length**\n- Set all kicks to the same velocity (around 100-127 for impact)\n- Set note length to 1/16 or 1/8 (short notes for punchy kicks)\n\n**Method 3: Live Recording with MIDI Keyboard**\n\nIf you have a MIDI keyboard:\n\n**Step 1: Set Metronome**\n- Enable metronome/click track\n- Set tempo to 120 BPM\n- Set time signature to 4/4\n\n**Step 2: Arm Track for Recording**\n- Arm your drum track for recording\n- Enable loop recording (1-4 bars)\n\n**Step 3: Play Along**\n- Press record\n- Hit the same key (kick drum) on beats 1, 2, 3, 4\n- Listen to the metronome to stay in time\n- Record until you get a clean take\n\n**Step 4: Quantize**\n- Select all recorded notes\n- Apply quantization to \"1/4 notes\"\n- This corrects any timing imperfections\n\n**Method 4: Audio Loops (Less Flexible)**\n\nYou can also use pre-made audio loops:\n\n**Step 1: Find a Loop**\n- Browse your DAW's loop library or use sites like Splice, Loopmasters\n- Search for \"4-on-the-floor kick\" or \"house kick loop\"\n\n**Step 2: Import to Timeline**\n- Drag the audio loop onto an audio track\n- Set the loop region to match the loop length\n\n**Pros:** Quick and easy\n**Cons:** Less control over timing, velocity, and sound\n\n**Essential Parameters to Adjust:**\n\n**Tempo (BPM):**\n- **House/Deep House**: 120-125 BPM\n- **Tech House**: 125-128 BPM\n- **Techno**: 128-135 BPM\n- **Trance/Hardstyle**: 135-150 BPM\n- **Disco/Nu-Disco**: 110-120 BPM\n\n**Velocity (How Hard the Kick Hits):**\n- **Low Velocity (60-80)**: Subtle, background kick\n- **Medium Velocity (80-100)**: Standard, balanced\n- **High Velocity (100-127)**: Aggressive, punchy, loud\n- Most tracks use 100-120 for the main kick\n\n**Note Length:**\n- **Very Short (1/32)**: Tight, punchy, minimal sustain\n- **Short (1/16)**: Standard for electronic music\n- **Medium (1/8)**: Allows kick to breathe, more disco-like\n- **Long (1/4 or longer)**: Sustained, boomy (rarely used)\n\n**Volume/Gain:**\n- Kick should be one of the loudest elements in your mix\n- Aim for -6dB to -12dB on your kick track meter\n- Leave headroom for other elements and mastering\n\n**Common DAW-Specific Tips:**\n\n**Ableton Live:**\n- Use \"Simpler\" or \"Sampler\" for more control over kick samples\n- Enable \"Warping\" and set to \"Beats\" mode for tempo-synced kicks\n- Use the \"Groove Pool\" to add subtle swing (we'll cover this in Lesson 5)\n\n**FL Studio:**\n- Use the \"Channel Settings\" to adjust kick pitch, panning, and volume\n- Enable \"Cut Itself\" in sampler settings so kicks don't overlap\n- Use the \"Layer\" feature to stack multiple kick samples for a fatter sound\n\n**Logic Pro X:**\n- Use \"Ultrabeat\" for detailed drum programming with built-in effects\n- Apply \"Compressor\" to the kick channel for extra punch\n- Use \"Drummer\" track as reference, then replace with your own kicks\n\n**Choosing the Right Kick Sample:**\n\n**Characteristics of a Good 4-on-the-Floor Kick:**\n- **Clean transient (attack)**: Sharp initial hit for clarity\n- **Controlled low-end**: Plenty of sub-bass (40-60Hz) without being boomy\n- **Short decay**: Kick should finish before the next one hits\n- **Genre-appropriate tone**: Deep and warm (house), hard and punchy (techno), bright and clicky (trance)\n\n**Where to Find Kick Samples:**\n- Your DAW's built-in library\n- Splice, Loopmasters, Sample Magic (commercial)\n- Free: 99Sounds, ModeAudio, Bedroom Producers Blog\n- Iconic drum machines: Roland TR-808, TR-909, TR-707\n\n**Processing Tips (We'll Cover in Detail Later):**\n- **EQ**: Boost around 60-80Hz for sub-bass punch\n- **Compression**: Light compression (2-4dB reduction) for consistency\n- **Sidechain**: Duck the bass when kick hits (essential technique)\n- **Saturation**: Adds harmonics for warmth and presence\n\n**Practice Exercise:**\n\nCreate three different 4-on-the-floor patterns:\n1. **House (122 BPM)**: Deep kick, medium velocity\n2. **Techno (130 BPM)**: Hard kick, high velocity\n3. **Disco (115 BPM)**: Warm kick, medium-long note length\n\nListen to how changing tempo and kick character completely changes the vibe, even though the pattern is identical.\n        `\n      },\n      {\n        title: \"Genre Applications and Variations\",\n        content: `\nWhile the core pattern stays the same (kick on every beat), different genres interpret it with unique flavor:\n\n**House Music - The Classic Application:**\n- Tempo: 120-125 BPM\n- Kick: Deep, warm, sub-heavy (50-80Hz fundamental)\n- Character: Round, smooth, not too aggressive\n- Reference tracks: Frankie Knuckles - \"Your Love,\" Larry Heard - \"Can You Feel It\"\n- Production note: Often paired with offbeat hi-hats (8th notes) and snare/clap on beats 2 and 4\n\n**Deep House - Subtle and Groovy:**\n- Tempo: 120-125 BPM\n- Kick: Very deep, almost felt rather than heard\n- Character: Soft attack, long decay, heavy sub-bass\n- Reference tracks: Kerri Chandler, Moodymann, Larry Heard\n- Production note: Kick is often mixed quieter than in other genres, emphasis on groove over impact\n\n**Tech House - Punchy and Driving:**\n- Tempo: 125-128 BPM\n- Kick: Punchy, forward, with a distinct \"click\" transient\n- Character: Tight, controlled low-end, prominent in the mix\n- Reference tracks: Green Velvet, Patrick Topping, Fisher - \"Losing It\"\n- Production note: Kick is heavily sidechained to bass and pads for the \"pumping\" effect\n\n**Techno - Hard and Relentless:**\n- Tempo: 128-135 BPM\n- Kick: Hard, fast attack, short decay\n- Character: Industrial, aggressive, dominant in the mix\n- Reference tracks: Charlotte de Witte, Amelie Lens, Adam Beyer\n- Production note: Minimal use of other elements—kick is the star\n\n**Trance - Uplifting and Energetic:**\n- Tempo: 135-140 BPM\n- Kick: Bright, clicky attack with moderate sub-bass\n- Character: Energetic, forward-pushing\n- Reference tracks: Armin van Buuren, Above & Beyond, Ferry Corsten\n- Production note: Often uses a \"hardstyle kick\" variant with pitch envelope (kick pitch drops quickly after hit)\n\n**Disco/Nu-Disco - Funky and Organic:**\n- Tempo: 110-120 BPM\n- Kick: Warm, natural-sounding (often sampled from live drums)\n- Character: Organic, with room ambience and natural decay\n- Reference tracks: Chic, Daft Punk - \"Get Lucky,\" Purple Disco Machine\n- Production note: Often has slight swing (not perfectly quantized) for human feel\n\n**Pop/EDM - Radio-Friendly and Anthemic:**\n- Tempo: 120-128 BPM\n- Kick: Balanced—punchy but not overwhelming\n- Character: Polished, clean, fits alongside vocals\n- Reference tracks: Calvin Harris, The Chainsmokers, Avicii\n- Production note: Kick is important but shares space with vocals and melodic elements\n\n**Subtle Variations Within the Pattern:**\n\nEven though the basic pattern is \"kick on every beat,\" professionals add subtle variations:\n\n**1. Velocity Variations:**\nInstead of all kicks at the same velocity, try:\n- Beat 1: Velocity 110 (strong)\n- Beat 2: Velocity 100 (slightly softer)\n- Beat 3: Velocity 110 (strong)\n- Beat 4: Velocity 100 (slightly softer)\n\nThis creates a subtle \"1-2-3-4\" pulse emphasis without changing the pattern.\n\n**2. Layering Different Kick Samples:**\nProfessional producers often layer two kicks:\n- **Sub kick**: Provides 40-60Hz weight (tuned to the track's key)\n- **Top kick**: Provides 80-100Hz punch and transient click\n\nBoth play the same 4-on-the-floor pattern but serve different frequency roles.\n\n**3. Swing/Groove (Advanced):**\nIn genres like deep house and disco, the kicks aren't perfectly on the grid—they're slightly behind or ahead by 1-5ms. This creates \"human feel\" or \"groove.\" DAWs have groove/swing templates (we'll cover this in Lesson 5).\n\n**4. Pitch Variations:**\nIn trance and hardstyle, kicks often have a pitch envelope: the kick starts at a higher pitch (e.g., 150Hz) and quickly drops to its fundamental (e.g., 60Hz) over 50-100ms. This creates the signature \"boing\" sound of hardstyle kicks.\n\n**When NOT to Use 4-on-the-Floor:**\n\nWhile it's foundational, some genres avoid it:\n- **Hip-Hop/Trap**: Uses kick on beats 1 and 3, with 808 bass on offbeats\n- **Drum and Bass**: Uses kicks in syncopated patterns (we'll cover in advanced lessons)\n- **Dubstep**: Half-time feel with kick on beat 1, snare on beat 3\n- **Rock/Pop**: Often uses kick on beats 1 and 3 only\n\nLearning 4-on-the-floor first gives you the foundation to understand these more complex patterns later.\n        `\n      },\n      {\n        title: \"Common Mistakes and Pro Tips\",\n        content: `\n**Common Beginner Mistakes:**\n\n**Mistake 1: Kick Too Quiet**\n**Problem**: Beginners often mix kicks too quietly, afraid of them overpowering other elements.\n**Reality**: In dance music, the kick should be the loudest element (or tied with vocals in pop/EDM).\n**Solution**: Set your kick level to -6dB to -10dB on the meter. Everything else should be mixed relative to the kick, not the other way around.\n\n**Mistake 2: Wrong BPM for the Genre**\n**Problem**: Making a house track at 140 BPM or a trance track at 110 BPM—tempo changes the entire vibe.\n**Solution**: Learn the BPM ranges for each genre and stay within them. Use a reference track to confirm tempo.\n\n**Mistake 3: Kicks Not Perfectly On-Grid**\n**Problem**: If you record kicks live or import audio loops without warping, they may drift off-beat.\n**Solution**: Always quantize MIDI kicks to 1/4 notes. For audio loops, use your DAW's warp/stretch features to sync to tempo.\n\n**Mistake 4: Overlapping Kicks**\n**Problem**: If kick note length is too long, kicks overlap, creating a muddy low-end.\n**Solution**: Set kick note length to 1/16 or 1/8 maximum. Enable \"choke groups\" or \"cut itself\" in your sampler so new kicks mute previous ones.\n\n**Mistake 5: Ignoring Frequency Content**\n**Problem**: Using a kick with too much 200-500Hz (low-mid mud) or not enough sub-bass (40-60Hz).\n**Solution**: Use a spectrum analyzer to check your kick's frequency content. EQ out unwanted frequencies.\n\n**Mistake 6: All Kicks at Max Velocity**\n**Problem**: Every kick at velocity 127 sounds robotic and harsh.\n**Solution**: Use velocity 100-120 for most kicks. Subtle velocity variations (±5-10) add human feel.\n\n**Mistake 7: Choosing the Wrong Kick Sample**\n**Problem**: Using a hardstyle kick in a deep house track—samples have genre-specific character.\n**Solution**: Match your kick sample to your genre. Listen to reference tracks and analyze their kick sound.\n\n**Pro Tips from Professional Producers:**\n\n**Pro Tip 1 - Tune Your Kick to the Track's Key:**\nKicks have a fundamental frequency (usually 40-80Hz). If your track is in the key of A (110Hz root), tune your kick to A (55Hz or 110Hz). This creates harmonic alignment and makes the kick feel more integrated with the bass and melody.\n\n**How to do it:**\n- Use a spectrum analyzer to find your kick's fundamental frequency\n- Use a pitch-shifter or sampler tuning to adjust it to match your track's key root note\n- This is especially important in bass-heavy genres like house and techno\n\n**Pro Tip 2 - Sidechain Compression is Essential:**\nOnce you add bass, synths, and pads, you'll need to sidechain them to the kick. This ducks (lowers) other elements momentarily when the kick hits, ensuring the kick always cuts through.\n\n**How to do it:**\n- Route your kick to a sidechain input on a compressor plugin\n- Apply the compressor to bass, pads, or full mix\n- Set attack 5-10ms, release 100-200ms, ratio 4:1, threshold until you see 3-6dB reduction\n\nWe'll cover this in detail in mixing lessons, but start thinking about it now.\n\n**Pro Tip 3 - Layer Kicks for Fullness:**\nProfessional tracks often use 2-3 kick samples layered:\n- **Sub layer**: Pure sine wave or 808 kick (40-60Hz)\n- **Body layer**: Standard house/techno kick (60-100Hz)\n- **Click layer**: High-passed kick with just transient (2-8kHz)\n\nEach layer serves a different frequency role, creating a massive, full-spectrum kick.\n\n**Pro Tip 4 - Use Reference Tracks:**\nPull up a professional track in your genre and A/B it with your kick pattern. Ask:\n- Is my kick louder, quieter, or the same level?\n- Does my kick have as much sub-bass?\n- Is my kick as punchy/transient-heavy?\n\nAdjust your kick to match the reference.\n\n**Pro Tip 5 - Leave Headroom:**\nEven though kicks should be loud, don't let them clip (hit 0dB). Leave 3-6dB of headroom on your master bus for mastering. If your kicks are peaking at -3dB on the master, you're in a good place.\n\n**Pro Tip 6 - Check in Mono:**\nSwitch your DAW to mono playback and listen to your kick. If the kick loses impact or disappears in mono, you have phase issues. Kicks should always be mono-compatible (centered, no stereo width).\n\n**Pro Tip 7 - The \"Kick First\" Approach:**\nProfessional producers often start with the kick and build the entire track around it. Get your kick sounding perfect (tone, level, impact) before adding other elements. This ensures the foundation is solid.\n\n**Exercise for Practice:**\n\n1. Create a 4-on-the-floor pattern at 122 BPM\n2. Export just the kick pattern (4 bars, looped)\n3. Import a professional house track\n4. A/B your kick with the reference kick\n5. Adjust your kick (EQ, compression, volume) to match the reference\n6. Repeat until your kick sounds professional\n\nThis \"reference matching\" exercise is how professionals develop their ears. Do this with 5-10 different tracks, and you'll understand what makes a great kick.\n\n**What's Next:**\n\nOnce you master the 4-on-the-floor kick, you'll learn:\n- **Lesson 2**: Adding hi-hats on offbeats (8th notes)\n- **Lesson 3**: Adding snare/clap on beats 2 and 4 (backbeat)\n- **Lesson 4**: Creating drum fills and variations\n- **Lesson 5**: Applying swing and groove for human feel\n- **Lesson 6**: Building complete drum arrangements\n\nMastering the kick is step one. Every element you add after this will be built around this solid foundation.\n        `\n      }\n    ]\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Understand what \\\"4 on the floor\\\" means and why it's foundational to electronic music\",\n    \"Place kick drums on the four main beats (steps 1, 5, 9, 13) in a 16-step sequencer\",\n    \"Set and maintain proper tempo (120 BPM) for house music\",\n    \"Recognize the relationship between quarter notes and a 16-step grid\",\n    \"Apply the 4-on-the-floor pattern in any DAW using a quarter note grid\"\n  ],\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: 'drums'\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 1,
    "access": "free",
    "difficulty": "beginner",
    "prerequisites": [
      "drums-0"
    ],
    "outcomes": [
      "Applicare i concetti chiave di 4 on the Floor:",
      "Prepararsi alla lezione successiva del modulo Drum pattern"
    ]
  },
  {
    "slug": "ear-1",
    "filename": "lesson-ear-1.config.js",
    "title": "Interval Recognition:",
    "category": "Ear Training",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-ear-1-progress\",\n  lessonNumber: 1,\n  lessonCategory: \"Ear Training\",\n\n  nextLessonUrl: \"lesson-ear-2.html\",\n  prevLessonUrl: \"labs.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 1, categoryLabel: \"Ear Training\" }),\n    title: \"Interval Recognition:\",\n    titleHighlight: \"Melodic Intervals\",\n    subtitle: \"Train your ear to recognize intervals played one note at a time. Master the foundational skill for transcription and melody writing.\"\n  },\n\n  exercise: {\n    title: \"Identify Melodic Intervals by Ear\",\n    description: \"Melodic intervals are two notes played in sequence (one after the other). Training your ear to recognize these intervals is the foundation of music transcription, melody writing, and understanding harmonic relationships. Start by learning to distinguish between small intervals (2nds, 3rds) and large intervals (5ths, octaves).\",\n    tip: \"Associate each interval with a familiar song. For example, a perfect 5th ascending sounds like the beginning of 'Star Wars' theme or 'Twinkle Twinkle Little Star'.\",\n    steps: [\n      '<strong>Minor 2nd (1 semitone)</strong> — The \"Jaws\" theme. Sounds tense, like a half step. Example: E to F.',\n      '<strong>Major 2nd (2 semitones)</strong> — \"Happy Birthday\" or \"Frère Jacques\". Sounds like a whole step. Example: C to D.',\n      '<strong>Minor 3rd (3 semitones)</strong> — \"Greensleeves\" or smoke alarm beep. Sounds sad. Example: A to C.',\n      '<strong>Major 3rd (4 semitones)</strong> — \"When the Saints Go Marching In\". Sounds bright and happy. Example: C to E.',\n      '<strong>Perfect 4th (5 semitones)</strong> — \"Here Comes the Bride\" or \"Amazing Grace\". Stable and open. Example: C to F.',\n      '<strong>Perfect 5th (7 semitones)</strong> — \"Star Wars\" or \"Twinkle Twinkle\". Powerful and strong. Example: C to G.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Melodic Interval Recognition',\n        content: \\`\n**What Are Melodic Intervals?**\n\nMelodic intervals are two pitches played sequentially (one after the other), as opposed to harmonic intervals which are played simultaneously. Your ear needs to:\n1. Remember the first pitch\n2. Hear the second pitch\n3. Calculate the distance between them\n\n**Common Melodic Intervals:**\n\n**Small Intervals (Foundation):**\n- **Minor 2nd**: 1 semitone. Jaws theme, tense, chromatic.\n- **Major 2nd**: 2 semitones. Happy Birthday, stepwise motion.\n- **Minor 3rd**: 3 semitones. Greensleeves, smoke alarm, melancholic.\n- **Major 3rd**: 4 semitones. When the Saints, bright, major triad.\n\n**Medium Intervals:**\n- **Perfect 4th**: 5 semitones. Here Comes the Bride, wedding march, stable.\n- **Tritone (Aug 4th/Dim 5th)**: 6 semitones. The Simpsons, West Side Story \"Maria\", tense, diabolical.\n- **Perfect 5th**: 7 semitones. Star Wars, Twinkle Twinkle, strong, power chord.\n\n**Large Intervals:**\n- **Minor 6th**: 8 semitones. Love Story theme, bittersweet.\n- **Major 6th**: 9 semitones. My Bonnie Lies Over the Ocean, NBC chimes.\n- **Octave**: 12 semitones. Somewhere Over the Rainbow, same note higher.\n\n**Ascending vs. Descending:**\nIntervals sound different going up vs. going down. Train both directions separately:\n- Ascending M3: Happy, bright (When the Saints)\n- Descending M3: Softer, resolved (Beethoven's 5th - last 2 notes of main motif)\n        \\`\n      },\n      {\n        title: 'Practical Interval Training Strategy',\n        content: \\`\n**Daily Training Routine:**\n\n**Week 1-2: Small Intervals**\n- Focus on m2, M2, m3, M3\n- Use apps: Teoria.com, Perfect Ear, EarMaster\n- 10-15 minutes daily\n- Goal: 80% accuracy\n\n**Week 3-4: Add P4 and P5**\n- Most common intervals in melodies\n- Practice in both directions (ascending/descending)\n- Sing intervals out loud (reinforces muscle memory)\n\n**Week 5-6: Large Intervals**\n- M6, m6, M7, m7, Octave\n- These are less common but critical for advanced transcription\n- Mix with smaller intervals in random drills\n\n**Song Association Method:**\n- **m2 up**: Jaws, White Christmas \"Sleep in heavenly\"\n- **M2 up**: Happy Birthday, Silent Night\n- **m3 up**: Greensleeves, Smoke on the Water riff\n- **M3 up**: When the Saints, Oh When the\n- **P4 up**: Here Comes the Bride, Amazing Grace\n- **Tritone**: The Simpsons theme, Maria (WSS)\n- **P5 up**: Star Wars, Twinkle Twinkle\n- **m6 up**: Love Story theme, The Entertainer (start)\n- **M6 up**: My Bonnie, NBC chimes\n- **Octave up**: Somewhere Over the Rainbow\n\n**Common Mistakes:**\n- Trying to learn all intervals at once (overwhelming)\n- Not practicing descending intervals (they sound different)\n- Ignoring context (intervals sound different in different keys)\n- Not singing intervals (passive listening isn't enough)\n\n**Pro Tips:**\n- Use a piano or MIDI keyboard to check your answers\n- Record yourself playing random intervals, then identify them later\n- Transcribe simple melodies (nursery rhymes, pop hooks)\n- Practice with different timbres (piano, synth, guitar, voice)\n        \\`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Identify all common melodic intervals (m2 through octave) by ear\",\n    \"Distinguish between ascending and descending intervals\",\n    \"Associate intervals with familiar song references\",\n    \"Apply interval recognition to simple melody transcription\",\n    \"Develop systematic approach to ear training practice\"\n  ]\n};\n",
    "number": 1,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "ear-0"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Interval Recognition:",
      "Prepararsi alla lezione successiva del modulo Ear Training"
    ]
  },
  {
    "slug": "harmony-1",
    "filename": "lesson-harmony-1.config.js",
    "title": "Build Your First Chord:",
    "category": "Chord Fundamentals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 1 - Build Your First Chord: Major Triad\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-harmony-1-progress\",\n  lessonNumber: 1,\n  lessonCategory: \"Chord Fundamentals\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-harmony-2.html\",\n  prevLessonUrl: \"labs.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 1, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Build Your First Chord:\",\n    titleHighlight: \"Major Triad\",\n    subtitle: \"Stack three notes on the same beat and hear a real chord instantly. You'll create a C major triad (C-E-G) and understand the root-third-fifth structure that unlocks all major chords. This single pattern is the foundation of harmony in pop, house, and most modern production.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  // Note: Interactive piano roll sequencer is not yet implemented\n  // This config is prepared for future integration\n  sequencer: {\n    tempo: 90,\n    key: \"C\",\n    scale: \"Major\",\n    stepCount: 16,\n    bars: 1,\n    // Piano roll specific settings (for future implementation)\n    pitchRange: {\n      low: 48,  // C3\n      high: 72  // C5 (2 octaves)\n    }\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Build a C Major Triad\",\n    description: \"A <strong>triad</strong> is three notes played simultaneously. The C major triad uses <strong>C (root), E (third), and G (fifth)</strong>. When stacked on the same beat, these notes create a bright, stable chord that sounds 'complete.' This is the same chord structure used in thousands of songs across all genres.\",\n    tip: \"In your DAW's piano roll, make sure all three notes (C-E-G) start at exactly the same time position. If they're even slightly offset, it won't sound like a proper chord.\",\n    steps: [\n      { text: \"Open a MIDI track in your DAW with a piano or synth instrument\" },\n      { text: \"Find <strong>middle C (C4)</strong> in your piano roll editor\" },\n      { text: \"Place three notes at the <strong>same time position</strong>: C4, E4, and G4\" },\n      { text: \"Make sure they're <strong>stacked vertically</strong> - this means they play simultaneously\" },\n      { text: \"Set each note duration to 1-2 bars so you can hear them sustain\" },\n      { text: \"Press <strong>Play</strong> and listen to your first chord!\" }\n    ]\n  },\n\n  // ====================\n  // NOTES/CHORD CONFIG (for future piano roll validation)\n  // ====================\n  validation: {\n    type: \"exact_chord\",\n    requiredNotes: {\n      time: 0,  // Beat 1\n      pitches: [60, 64, 67],  // C4, E4, G4 (MIDI note numbers)\n      simultaneous: true,\n      chordName: \"C Major\"\n    },\n    allowInversions: false,  // Lesson 1 teaches root position only\n    allowExtraNotes: false\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Practice building the C major triad (C-E-G) in your DAW.\",\n    success: \"Perfect! You've built your first chord. You now understand the root-third-fifth structure that creates all major triads.\",\n    error: \"Make sure you have exactly C, E, and G playing simultaneously. Check the note positions in your piano roll.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"  // Use piano roll sequencer for harmony lessons\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 1,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "harmony-0"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Build Your First Chord:",
      "Prepararsi alla lezione successiva del modulo Chord Fundamentals"
    ]
  },
  {
    "slug": "mastering-1",
    "filename": "lesson-mastering-1.config.js",
    "title": "Mastering Fundamentals:",
    "category": "Mastering",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mastering 1 - Mastering Fundamentals\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mastering-1-progress\",\n  lessonNumber: 1,\n  lessonCategory: \"Mastering\",\n\n  nextLessonUrl: \"lesson-mastering-2.html\",\n  prevLessonUrl: \"lesson-mixing-15.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 1, categoryLabel: \"Mastering\" }),\n    title: \"Mastering Fundamentals:\",\n    titleHighlight: \"Understanding the Final Step\",\n    subtitle: \"Learn what mastering actually is, how it differs from mixing, when you need it, and the complete signal chain that transforms a mix into a release-ready master\"\n  },\n\n  exercise: {\n    title: \"Set Up Your First Mastering Session\",\n    description: \"Create a properly configured mastering session from scratch, importing a mix with correct headroom, setting up your signal chain, and establishing a reference-based workflow.\",\n    tip: \"Mastering is about enhancement, not rescue. If you find yourself making drastic moves (+/- 3dB or more), the mix likely needs revision. The best masters come from great mixes that need only subtle polish.\",\n    steps: [\n      '<strong>Create mastering session</strong> — Create a new session at the same sample rate as your mix (44.1 or 48 kHz). Name it clearly: \"SongTitle_Mastering_v1\".',\n      '<strong>Import your mix</strong> — Import your stereo mix file. Verify it has proper headroom: peaks should be between <strong>-6 dBFS and -3 dBFS</strong>. If peaks exceed -1 dBFS, the mix needs revision.',\n      '<strong>Check for clipping</strong> — Zoom in on the waveform and look for flat-topped peaks (digital clipping). If present, request a new mix print. Clipped mixes cannot be properly mastered.',\n      '<strong>Analyze the mix first</strong> — Before processing, listen through the entire track 2-3 times. Note: overall tonal balance, dynamic range, stereo image, any problem areas. Write down your observations.',\n      '<strong>Import reference tracks</strong> — Import 2-3 professional masters in the same genre. Place them on a separate track or bus that bypasses your mastering chain. Level-match to your mix (more in Lesson 2).',\n      '<strong>Set up mastering chain order</strong> — Insert plugins in this order: (1) Metering/analysis, (2) EQ, (3) Compression (optional), (4) Stereo processing (optional), (5) Limiter, (6) Final metering. Leave all bypassed initially.',\n      '<strong>Establish monitoring level</strong> — Set your monitoring at a consistent, moderate level (around 79-83 dB SPL if you have measurement tools). Mark this position—you\\'ll return here for every session.',\n      '<strong>A/B with bypass</strong> — Toggle the entire mastering chain bypass frequently. At this stage, the bypassed mix should sound identical (no processing yet). This confirms your signal flow is clean.',\n      '<strong>Listen on multiple systems</strong> — Play the unprocessed mix on different playback systems (headphones, phone, car if possible). Note how it translates. This informs your mastering decisions.',\n      '<strong>Document your plan</strong> — Based on your analysis, write a brief mastering plan: \"Needs slight low-end tightening, 2-3 dB of air at 10kHz, limiting to -14 LUFS.\" This prevents over-processing.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'What Mastering Actually Is (And Isn\\'t)',\n        content: `Mastering is the final step of audio post-production—the bridge between mixing and distribution. It's often misunderstood as \"making things louder,\" but that's only a small part of the process.\n\n**What Mastering IS:**\n- **Final polish:** Subtle tonal and dynamic adjustments to enhance what's already there\n- **Quality control:** Catching issues before release (clipping, phase problems, noise)\n- **Translation optimization:** Ensuring the mix sounds good on all playback systems\n- **Format preparation:** Creating deliverables for different platforms (streaming, CD, vinyl)\n- **Consistency:** Making multiple tracks work together as an album or EP\n\n**What Mastering ISN'T:**\n- **Mixing fixes:** Mastering cannot fix a bad mix. If the vocal is buried, you need a remix.\n- **Loudness magic:** Modern streaming normalizes loudness—crushed dynamics don't help.\n- **Radical transformation:** If mastering changes the song dramatically, something's wrong.\n- **A replacement for good mixing:** The better the mix, the easier the master.\n\n**The Mindset Shift:**\nMixing is constructive—building a balance from many elements. Mastering is reductive—making small refinements to a finished whole. Mastering engineers work with what they're given; they enhance, not reinvent.\n\n**When Mastering Matters:**\n- Commercial release (streaming, physical media)\n- Album/EP consistency across tracks\n- Broadcast or sync licensing requirements\n- Vinyl or other format-specific needs\n\n**When It Might Not:**\n- Demos or rough work-in-progress\n- Tracks only for personal use\n- When the mix isn't finalized yet`\n      },\n      {\n        title: 'Mixing vs Mastering: Understanding the Difference',\n        content: `Mixing and mastering are distinct phases with different goals, tools, and mindsets. Understanding the boundary helps you know when to stop mixing and when to start mastering.\n\n**Mixing:**\n- Works with individual tracks (stems, multitrack)\n- Balances elements against each other\n- Creates the sonic vision of the production\n- Uses surgical EQ, heavy compression, creative effects\n- The engineer has full control over every element\n- Changes can be dramatic (muting tracks, radical EQ)\n\n**Mastering:**\n- Works with a stereo mix (or stems)\n- Polishes the overall sound\n- Optimizes for distribution and playback translation\n- Uses gentle, broad processing\n- The engineer enhances what's there\n- Changes are subtle (typically ±3 dB maximum)\n\n**The Handoff:**\n| Aspect | Mix Ready for Mastering | Mix NOT Ready |\n|--------|------------------------|---------------|\n| Headroom | -6 to -3 dBFS peak | Clipping or 0 dBFS |\n| Balance | No element obviously wrong | Buried vocal, harsh guitars |\n| Dynamics | Natural, musical | Already brick-walled |\n| Master bus | Clean or light processing | Heavy limiting |\n| Format | 24-bit WAV or higher | MP3 or 16-bit |\n\n**What to Provide the Mastering Engineer:**\n- Stereo mix (24-bit WAV minimum, 32-bit float preferred)\n- -6 to -3 dBFS peak headroom\n- No limiting on the master bus\n- Reference tracks and notes about your goals\n- Multiple versions if unsure (with/without master bus processing)\n\n**Self-Mastering Considerations:**\nIf mastering your own music, take a break between mixing and mastering (at least 24 hours). Fresh ears help you hear the mix objectively rather than defending your mixing decisions.`\n      },\n      {\n        title: 'The Mastering Signal Chain: Order Matters',\n        content: `The order of processing in mastering follows a logical flow. Each stage prepares the signal for the next. While not every project needs every stage, understanding the chain helps you make informed decisions.\n\n**Standard Mastering Signal Chain:**\n\n**1. Metering & Analysis (First)**\nPurpose: Understand what you're working with before processing.\n- Loudness meter (LUFS)\n- Spectrum analyzer\n- Stereo correlation meter\n- Dynamic range meter\n\n**2. Corrective/Tonal EQ**\nPurpose: Fix problems and establish tonal balance.\n- Linear phase EQ for transparent adjustments\n- High-pass filter if needed (20-30 Hz)\n- Surgical cuts for problem frequencies\n- Broad tonal shaping\n\n**3. Compression (Optional)**\nPurpose: Glue and gentle dynamic control.\n- Light ratio (1.5:1 to 3:1)\n- Slow attack (30-100+ ms)\n- Auto or slow release\n- 1-3 dB gain reduction maximum\n\n**4. Mid-Side Processing (Optional)**\nPurpose: Stereo width and mono compatibility.\n- Mid-side EQ adjustments\n- Stereo enhancement (subtle)\n- Mono bass below 100-150 Hz\n\n**5. Saturation/Color (Optional)**\nPurpose: Add warmth and harmonic richness.\n- Tape saturation\n- Tube coloration\n- Very subtle—level-match carefully\n\n**6. Limiting (Last Before Dithering)**\nPurpose: Final loudness and peak control.\n- True peak limiting (-1 dBTP for streaming)\n- Achieve target loudness (LUFS)\n- Preserve transients\n\n**7. Dithering (If Bit-Depth Reducing)**\nPurpose: Noise-shape quantization artifacts.\n- Only when going from 24-bit to 16-bit\n- Applied last in chain\n- Use appropriate dither type (POW-r, MBIT+, etc.)\n\n**Why This Order:**\n- Analyze before processing to understand the source\n- EQ before compression prevents boosted frequencies from triggering excess compression\n- Compression before limiting provides controlled signal to the limiter\n- Limiting last maximizes loudness without affecting earlier processing\n- Dithering absolutely last (only for bit-depth reduction)`\n      },\n      {\n        title: 'Gain Staging and Headroom in Mastering',\n        content: `Proper gain staging is critical in mastering. Unlike mixing where you have many tracks, mastering works with a stereo file—there's no \"remix\" option if something clips.\n\n**Input Headroom Requirements:**\n- **Ideal:** -6 to -3 dBFS peak on the incoming mix\n- **Acceptable:** -3 to -1 dBFS (less room to work)\n- **Problem:** 0 dBFS or clipping (request new mix)\n\n**Why Headroom Matters:**\n- Plugins need room to process without clipping internally\n- EQ boosts can cause peaks to exceed 0 dBFS\n- Analog-modeled plugins often sound best with moderate input levels\n- Inter-sample peaks can exceed measured peaks\n\n**Gain Staging Through the Chain:**\n1. **After EQ:** Check levels—boosts may have raised peaks. Compensate with output gain if needed.\n2. **After compression:** Makeup gain should return to similar levels, not louder.\n3. **Before limiter:** Signal should still have headroom. Let the limiter do the final loudness work.\n4. **After limiter:** True peak should be at your target (typically -1 dBTP).\n\n**The -18 dBFS Calibration (Optional):**\nSome engineers calibrate their systems so -18 dBFS RMS = 0 VU. This places analog-modeled plugins in their optimal operating range. For digital-only chains, this is less critical but still good practice.\n\n**Output Targets:**\n| Platform | Integrated LUFS | True Peak |\n|----------|-----------------|-----------|\n| Spotify | -14 LUFS | -1 dBTP |\n| Apple Music | -16 LUFS | -1 dBTP |\n| YouTube | -14 LUFS | -1 dBTP |\n| CD | -9 to -6 LUFS | -0.3 dBTP |\n| Club/DJ | -6 to -4 LUFS | -0.3 dBTP |\n\n**True Peak vs Sample Peak:**\nDigital-to-analog conversion can create peaks between samples that exceed measured sample peaks. True peak limiters catch these \"inter-sample peaks.\" Always use true peak limiting for streaming masters.`\n      },\n      {\n        title: 'The Reference-Based Mastering Workflow',\n        content: `Professional mastering always involves reference tracks. Without references, you're guessing. With them, you have an objective target.\n\n**Choosing Mastering References:**\nSame criteria as mixing references (Lesson 14), but specific to mastering:\n- Same genre and era\n- Excellent commercial masters (not just good mixes)\n- Similar instrumentation and density\n- Known to translate well across systems\n\n**Level Matching References:**\nCritical for fair comparison:\n1. Import reference to your session\n2. Route to a separate bus that bypasses your mastering chain\n3. Use integrated LUFS to match loudness (not peak, not RMS)\n4. Match to within ±0.5 LUFS\n\n**What to Compare:**\n- **Low end:** Same weight and tightness?\n- **Midrange:** Same clarity and presence?\n- **High end:** Same air and brightness?\n- **Dynamics:** Same transient impact and breathing?\n- **Width:** Same stereo spread?\n- **Loudness:** (Already matched, but note the original difference)\n\n**The A/B Workflow:**\n1. Process your master\n2. Match loudness to reference\n3. Rapid A/B switch (under 1 second)\n4. Note differences\n5. Adjust processing\n6. Re-match loudness (processing changes level)\n7. Repeat until satisfied\n\n**Common Reference Mistakes:**\n- Not level-matching (louder sounds better)\n- Using references from different genres\n- Comparing to over-compressed masters\n- Forgetting to bypass your chain on the reference\n- Listening to reference too long (ears adapt)\n\n**When Your Master Should Differ:**\nReferences guide you, but your master serves your song. If your track has more sub bass than references, that might be intentional. Use references to catch problems, not to clone someone else's sound.`\n      },\n      {\n        title: 'Common Mastering Mistakes and How to Avoid Them',\n        content: `Mastering mistakes are often the result of doing too much. The best mastering is often invisible—the listener doesn't notice it, they just enjoy the music.\n\n**Mistake 1: Over-Limiting**\nSymptom: Crushed transients, distortion, fatigue after 30 seconds.\nCause: Pushing limiter too hard to achieve \"competitive\" loudness.\nFix: Target -14 LUFS for streaming. Louder masters get turned DOWN by platforms anyway. Preserve dynamics.\n\n**Mistake 2: Processing Before Listening**\nSymptom: Making moves that don't serve the music.\nCause: Assuming every mix needs \"mastering processing.\"\nFix: Listen 2-3 times before touching anything. Some mixes need very little.\n\n**Mistake 3: Trying to Fix the Mix**\nSymptom: Radical EQ moves (±6 dB), surgical multiband compression.\nCause: Mix problems that should have been fixed in mixing.\nFix: Send the mix back for revision. Mastering can't replace re-mixing.\n\n**Mistake 4: Ignoring Mono Compatibility**\nSymptom: Mix falls apart on mono playback, phase issues.\nCause: Excessive stereo widening or out-of-phase elements in mix.\nFix: Check mono regularly. Be conservative with stereo enhancement.\n\n**Mistake 5: Not Level-Matching A/B Comparisons**\nSymptom: Master sounds \"better\" but it's just louder.\nCause: Comparing loud master to quiet original.\nFix: Always match loudness before comparing. Use LUFS.\n\n**Mistake 6: Mastering in a Bad Room**\nSymptom: Masters don't translate—too much bass, harsh highs.\nCause: Room acoustics deceiving your ears.\nFix: Treat your room, use reference tracks, check on multiple systems.\n\n**Mistake 7: Mastering Immediately After Mixing**\nSymptom: Defending mix decisions instead of hearing objectively.\nCause: Ear fatigue and psychological attachment.\nFix: Wait at least 24 hours. Fresh ears hear differently.\n\n**The \"Less Is More\" Rule:**\nIf you've touched more than 3-4 plugins, you might be over-processing. A great master often uses: EQ (subtle), compression (optional, light), limiter. That's it.`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Understand the difference between mixing and mastering: goals, tools, and mindset\",\n    \"Set up a mastering session with proper headroom, signal chain order, and reference tracks\",\n    \"Apply the standard mastering signal chain: metering → EQ → compression → stereo → limiting → dithering\",\n    \"Use reference-based workflow with level-matched A/B comparison for objective decisions\",\n    \"Avoid common mastering mistakes: over-limiting, processing before listening, trying to fix the mix\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mastering lesson to understand the fundamentals.\",\n    success: \"Excellent! You now understand mastering fundamentals and can set up a proper mastering session.\",\n    error: \"Review the mastering concepts and try again.\",\n    alreadyCompleted: \"You've completed Mastering Fundamentals. Ready for Lesson 2!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 1,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "mastering-0"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Mastering Fundamentals:",
      "Prepararsi alla lezione successiva del modulo Mastering"
    ]
  },
  {
    "slug": "mixing-1",
    "filename": "lesson-mixing-1.config.js",
    "title": "Introduction to Mixing:",
    "category": "Mixing",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mixing 1 - Introduction to Mixing\n *\n * Research sources: AES Pro Audio Reference, Ableton Live Manual, Audio Engineering literature\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-1-progress\",\n  lessonNumber: 1,\n  lessonCategory: \"Mixing\",\n\n  nextLessonUrl: \"lesson-mixing-2.html\",\n  prevLessonUrl: \"lesson-sound-design-15.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 1, categoryLabel: \"Mixing\" }),\n    title: \"Introduction to Mixing:\",\n    titleHighlight: \"Understanding the Mixing Workflow\",\n    subtitle: \"Define mixing in practical terms, map DAW signal flow, and build a session template ready for professional mixing work.\"\n  },\n\n  exercise: {\n    title: \"Build a First Mix Session Template\",\n    description: \"Create a structured template (tracks → buses → master) and confirm that routing and metering behave as expected.\",\n    tip: \"A common starting point is to build the static balance with faders and panning first, then reach for EQ and compression to solve specific problems you can name (masking, harshness, instability, lack of impact).\",\n    steps: [\n      '<strong>Create a new project</strong> — Set a standard production format (48 kHz / 24-bit or 44.1 kHz / 24-bit). Save as \"Mixing-1_Template\".',\n      '<strong>Import and organize stems</strong> — Label tracks clearly (Kick, Snare, OH, Bass, Music, Lead Vox). Colour-code by family.',\n      '<strong>Create four group buses</strong> — Drums Bus, Bass Bus, Music Bus, Vocals Bus. Route each track to the correct bus (not directly to master).',\n      '<strong>Verify routing</strong> — Solo each bus and confirm you only hear the correct track family.',\n      '<strong>Create effect returns</strong> — Add Reverb Return and Delay Return (100% wet, faders low). Add sends from Lead Vox and Snare.',\n      '<strong>Set up metering</strong> — Insert a loudness/true-peak meter on the master bus. Play the loudest section and observe.',\n      '<strong>Add safety limiter</strong> — Insert limiter on master with ceiling at -1.0 dB to -0.3 dB. Aim for minimal gain reduction.',\n      '<strong>Build static balance</strong> — Start with bus faders (Drums, Bass, Music, Vocals), then fine-tune individual tracks.',\n      '<strong>Test export</strong> — Bounce 20-30 seconds, re-import, confirm clean playback with no unexpected distortion.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'What is Mixing?',\n        content: `Mixing is a decision process, not a single \"make it loud\" step. It's the stage where many individual elements (recorded audio, virtual instruments, samples, sound design layers) are shaped into a coherent stereo programme.\n\n**Practically, mixing means making choices about:**\n- **Level relationships** — What feels foreground vs background\n- **Tone** — How bright, dark, tight, or warm each source is\n- **Dynamics** — How stable or punchy the envelope feels over time\n- **Space** — Depth and width in the stereo field\n\nA useful way to think about mixing: you are building a stable \"picture\" that translates across systems, while keeping the musical intent intact.\n\n**Workflow, not plugin chains:**\nAvoid thinking of mixing as a single \"plugin chain.\" Instead, treat it as a workflow: session organisation → static balance → problem solving → enhancement → movement (automation) → final checks.\n\nEarly decisions often have the largest impact. A clear static balance and sensible routing can reduce the need for heavy processing later.`\n      },\n      {\n        title: 'DAW Signal Flow',\n        content: `A modern mix session is built from tracks feeding groups/buses and then the master output.\n\n**Practical signal-flow map:**\n1. **Clip/Input gain** (pre-fader) — Set healthy levels before processing\n2. **Inserts** — EQ, compression, saturation, etc.\n3. **Fader + Pan** — Level and stereo position\n4. **Sends to Returns** — Reverb, delay (parallel effects)\n5. **Group Buses** — Drums, Bass, Music, Vocals submixes\n6. **Master Bus** — Final output, metering, safety limiting\n\nThis structure helps you solve problems at the right level: fixing a resonant snare ring on the snare track is different from controlling overall drum punch on a Drum Bus.\n\n**Sends/Returns are crucial for space effects:**\n- Keep effects consistent across many tracks\n- Automate them in a central place\n- Blend dry vs wet in context\n- Create distinct effect \"layers\" for specific moments\n\n**Important DAW reality:** Modern DAWs run 32-bit floating-point engines with enormous internal headroom. Tracks can go \"into the red\" without clipping internally, but signals over 0 dB become problematic when leaving the DAW (physical outputs or file export).`\n      },\n      {\n        title: 'The Four Core Mixing Tools',\n        content: `**EQ — Frequency Shaping**\nEQ shapes frequency balance. Use it for:\n- **Corrective moves** — Reducing low-end rumble, harsh resonances, masking\n- **Tonal moves** — Adding presence or weight\n\n\"Surgical\" EQ is narrow and problem-focused. \"Musical\" EQ is broader and intention-focused.\n\n**Compression — Dynamics Control**\nCompression shapes dynamics and envelope (attack, sustain, release). Beyond reducing peaks:\n- Stabilise a vocal\n- Add density to a bass\n- Change the groove by rebalancing transients vs sustain\n\n**Important:** Because compression reacts to level, the order of EQ and compression changes results. An EQ boost before compression triggers more gain reduction; EQ after compression changes tone without altering detector behaviour.\n\n**Reverb — Depth and Environment**\nReverb creates depth and a sense of environment. Small, controlled amounts support cohesion; more obvious settings work as arrangement moments (throws, transitions, special effects).\n\n**Delay — Rhythmic Space**\nDelay creates rhythmic space and perceived width without always pushing sources \"back\" like reverb can. Use for widening, rhythmic interest, and spatial effects.`\n      },\n      {\n        title: 'Key Technical Concepts',\n        content: `**0 dBFS (Digital Full Scale)**\nThe maximum peak level before digital clipping in a converter. When meters hit red and stay there, you risk audible distortion on export.\n\n**Crest Factor**\nMusic typically has peaks substantially higher than its RMS level (often 12-20 dB difference). This is why headroom matters — punchy mixes need room for transients.\n\n**Pan Law**\nMost DAWs apply centre-pan attenuation (typically -3 dB) to maintain consistent perceived loudness while panning. This is why a centred sound doesn't suddenly jump in level.\n\n**Bus vs Buss**\nAES recommends \"bus\" (plural \"buses\") for audio routing. A bus is an electrical/connection concept for combining multiple signals.\n\n**Where This Leads**\nThis lesson establishes workflow and template foundations. Lesson 2 (Gain Staging Fundamentals) turns this into repeatable practice: setting sensible levels at each stage so plugins, buses, and the master output behave predictably.`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Define mixing in practical terms (balance, tone, dynamics, space) and distinguish it from arrangement and mastering\",\n    \"Map a modern DAW mixing signal flow (tracks, inserts, sends/returns, buses, master) and explain why routing choices matter\",\n    \"Recognise the core mixing tools (EQ, compression, reverb, delay) and what problem each typically addresses\",\n    \"Build a basic session template with grouped buses and time-based effect returns\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Learn the fundamentals of mixing workflow and build your first professional session template.\",\n    success: \"Excellent! You understand mixing workflow and have a solid template. Ready for Gain Staging!\",\n    error: \"Review the signal flow concepts and try the template exercise again.\",\n    alreadyCompleted: \"You've mastered the mixing introduction. Keep refining your template!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 1,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "mixing-0"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Introduction to Mixing:",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-1",
    "filename": "lesson-sound-design-1.config.js",
    "title": "Subtractive Synthesis Basics:",
    "category": "Sound Design",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Sound Design 1 - Subtractive Synthesis Basics\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-sound-design-1-progress\",\n  lessonNumber: 1,\n  lessonCategory: \"Sound Design\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-sound-design-2.html\",\n  prevLessonUrl: \"labs.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 1, categoryLabel: \"Sound Design\" }),\n    title: \"Subtractive Synthesis Basics:\",\n    titleHighlight: \"Master Oscillators, Filters & Envelopes\",\n    subtitle: \"Learn the foundation of analog-style synthesis with oscillators, filters, and envelopes - the building blocks of most synthesizer sounds. Master professional sound design techniques used in modern music production.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Explore Subtractive Synthesis Basics\",\n    description: \"Learn the foundation of analog-style synthesis with oscillators, filters, and envelopes - the building blocks of most synthesizer sounds. This lesson covers the essential concepts and practical techniques you need to master this sound design method.\",\n    tip: \"Listen critically to how each parameter affects the sound. Small changes can have dramatic results in sound design.\",\n    steps: [\n      '<strong>Study the theory</strong> — Read through the sound design concepts and understand the signal flow.',\n      '<strong>Analyze the examples</strong> — Listen to reference sounds and identify key characteristics.',\n      '<strong>Experiment with parameters</strong> — Try different settings and hear how they change the sound.',\n      '<strong>Create variations</strong> — Design multiple versions exploring different timbres.',\n      '<strong>Save your presets</strong> — Document successful sounds for future use.',\n      'Complete the lesson when ready to move forward.'\n    ]\n  },\n  \n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Subtractive Synthesis Basics',\n        content: `Subtractive Synthesis Basics is a fundamental sound design technique that shapes the sonic character of your productions.\n\n**Key Concepts:**\n- Core synthesis principles and signal flow\n- Parameter relationships and interactions  \n- Frequency spectrum considerations\n- Timbral characteristics and sonic possibilities\n- Common applications in music production\n\n**Professional Applications:**\nModern producers use Subtractive Synthesis Basics for:\n- Creating signature sounds and textures\n- Designing genre-specific timbres\n- Building unique sonic identities\n- Crafting sounds that cut through mixes\n- Generating movement and evolution in arrangements\n\nUnderstanding these concepts gives you complete control over your sound palette.`\n      },\n      {\n        title: 'Practical Sound Design Workflow',\n        content: `Professional sound designers follow systematic approaches to achieve desired results:\n\n**Design Process:**\n1. **Define the goal** — Know what sound you're trying to create\n2. **Choose the method** — Select appropriate synthesis technique\n3. **Start simple** — Begin with basic waveforms and build complexity\n4. **Shape with filters** — Sculpt the frequency content\n5. **Add movement** — Use envelopes and modulation\n6. **Layer if needed** — Combine multiple sounds for richness\n7. **Process and polish** — Apply effects and finalize\n\n**Critical Listening:**\n- A/B compare with reference sounds\n- Analyze frequency spectrum with analyzers\n- Check mono compatibility\n- Test in context with other mix elements\n\n**Common Mistakes to Avoid:**\n- Over-processing before establishing the core sound\n- Too many modulation sources creating chaos\n- Ignoring the frequency spectrum balance\n- Not considering the sound's role in the arrangement\n\nStudy professional productions and reverse-engineer the sounds you admire.`\n      }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master the fundamental concepts of Subtractive Synthesis Basics\",\n    \"Understand signal flow and parameter relationships\",\n    \"Apply sound design techniques to practical productions\",\n    \"Develop critical listening skills for timbre and texture\",\n    \"Create professional-quality sounds for your productions\"\n  ],\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this lesson to master Subtractive Synthesis Basics techniques.\",\n    success: \"Excellent! You've mastered Subtractive Synthesis Basics. Your sound design skills are growing!\",\n    error: \"Review the theory and try again.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these techniques!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 1,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "sound-design-0"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Subtractive Synthesis Basics:",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "theory-1",
    "filename": "lesson-theory-1.config.js",
    "title": "Intervals & Half Steps:",
    "category": "Music Theory Fundamentals",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-theory-1-progress\",\n  lessonNumber: 1,\n  lessonCategory: \"Music Theory Fundamentals\",\n\n  nextLessonUrl: \"lesson-theory-2.html\",\n  prevLessonUrl: \"labs.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 1, categoryLabel: \"Music Theory Fundamentals\" }),\n    title: \"Intervals & Half Steps:\",\n    titleHighlight: \"The Building Blocks of Music\",\n    subtitle: \"Learn the building blocks of all music: intervals. Understand half steps, whole steps, and how to measure distance between notes.\"\n  },\n\n  exercise: {\n    title: \"Identify Intervals by Ear and Theory\",\n    description: \"An interval is the distance between two notes. The smallest interval in Western music is a half step (semitone) — the distance from one piano key to the very next key (black or white). Two half steps equal a whole step (tone). Understanding intervals is essential for building scales, chords, and melodies.\",\n    tip: \"On a piano, a half step is always the very next key — whether white to black, black to white, or in rare cases (E-F and B-C), white to white.\",\n    steps: [\n      '<strong>Half Step (Semitone)</strong> — The smallest interval. Examples: C to C♯, E to F, B to C.',\n      '<strong>Whole Step (Tone)</strong> — Two half steps. Examples: C to D, F to G, A to B.',\n      '<strong>Interval Names</strong> — Intervals are numbered by counting letter names: C to D is a 2nd, C to E is a 3rd, C to G is a 5th.',\n      '<strong>Interval Quality</strong> — Intervals can be major, minor, perfect, augmented, or diminished. Example: C to E (4 half steps) is a major 3rd; C to E♭ (3 half steps) is a minor 3rd.',\n      '<strong>Practice</strong> — Play intervals on your MIDI keyboard and count the half steps. Train your ear to recognize the sound of each interval.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Intervals and Half Steps',\n        content: `\n**Key Concepts:**\n\n**Half Steps (Semitones):**\n- The smallest building block in Western music\n- One piano key to the very next (including black keys)\n- Examples: C→C♯, E→F, B→C\n- 12 half steps = 1 octave\n\n**Whole Steps (Tones):**\n- Two half steps combined\n- Skip one key on the piano\n- Examples: C→D, F→G, A→B\n\n**Interval Naming:**\n- Count the letter names (inclusive): C-D-E = 3rd\n- Add quality: major, minor, perfect, augmented, diminished\n- Perfect intervals: unison, 4th, 5th, octave\n- Major/minor intervals: 2nd, 3rd, 6th, 7th\n\n**Common Intervals:**\n- Minor 2nd: 1 half step (C-D♭)\n- Major 2nd: 2 half steps (C-D)\n- Minor 3rd: 3 half steps (C-E♭)\n- Major 3rd: 4 half steps (C-E)\n- Perfect 4th: 5 half steps (C-F)\n- Perfect 5th: 7 half steps (C-G)\n- Octave: 12 half steps (C-C)\n        `\n      },\n      {\n        title: 'Practical Application and Ear Training',\n        content: `\n**How to Practice:**\n\n1. **Visual Recognition** — Use a piano keyboard (real or virtual) to see the distance between notes\n2. **Counting Method** — Count half steps between any two notes to identify the interval\n3. **Ear Training** — Play intervals and memorize their characteristic sound\n4. **Song References** — Many songs start with recognizable intervals (e.g., \"Here Comes the Bride\" = Perfect 4th)\n\n**Common Mistakes:**\n- Forgetting that E-F and B-C are natural half steps (no black key between)\n- Confusing interval number (distance) with interval quality (major/minor/perfect)\n- Not accounting for accidentals (sharps/flats) when counting half steps\n\n**Why This Matters:**\n- Scales are built from specific interval patterns\n- Chords are stacks of intervals (usually 3rds)\n- Melody writing uses intervals to create movement and emotion\n- Transposition requires understanding interval relationships\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Define half steps and whole steps\",\n    \"Identify intervals by counting half steps\",\n    \"Name intervals using both number and quality\",\n    \"Recognize common intervals by ear\",\n    \"Apply interval knowledge to scales and chords\"\n  ]\n};\n",
    "number": 1,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "theory-0"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Intervals & Half Steps:",
      "Prepararsi alla lezione successiva del modulo Music Theory Fundamentals"
    ]
  },
  {
    "slug": "vocals-1",
    "filename": "lesson-vocals-1.config.js",
    "title": "Vocal Recording Setup:",
    "category": "Vocals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Vocals 1 - Vocal Recording Setup\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-vocals-1-progress\",\n  lessonNumber: 1,\n  lessonCategory: \"Vocals\",\n  \n  nextLessonUrl: \"lesson-vocals-2.html\",\n  prevLessonUrl: \"lesson-mixing-15.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 1, categoryLabel: \"Vocals\" }),\n    title: \"Vocal Recording Setup:\",\n    titleHighlight: \"Microphone Choice & Room Treatment\",\n    subtitle: \"Choose the right microphone, optimize your recording space, and capture clean vocal takes. Master professional vocal production techniques for commercial-quality results.\"\n  },\n  \n  exercise: {\n    title: \"Master Vocal Recording Setup\",\n    description: \"Choose the right microphone, optimize your recording space, and capture clean vocal takes. This lesson covers the essential vocal production techniques used in professional recordings.\",\n    tip: \"Vocals are usually the focal point of a track. Spend extra time getting them right - they make or break the production.\",\n    steps: [\n      '<strong>Study vocal production theory</strong> — Understand the concepts and workflow.',\n      '<strong>Analyze reference vocals</strong> — Listen to professional vocal productions in your genre.',\n      '<strong>Apply the techniques</strong> — Practice the specific vocal processing methods.',\n      '<strong>Critical listening</strong> — Compare your results to professional standards.',\n      '<strong>Iterate and refine</strong> — Make adjustments based on what you hear.',\n      'Complete when you understand the practical application.'\n    ]\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Understanding Vocal Recording Setup',\n        content: `Vocal Recording Setup is crucial for achieving professional vocal productions that compete with commercial releases.\n\n**Core Concepts:**\n- Vocal recording and production fundamentals\n- Technical requirements and equipment considerations\n- Signal flow and processing chain order\n- Common issues and how to solve them\n- Genre-specific approaches and standards\n\n**Professional Workflow:**\n1. **Preparation** — Set up properly before recording\n2. **Capture** — Record high-quality source material\n3. **Edit** — Clean up and comp the best takes\n4. **Process** — Apply corrective and creative processing\n5. **Mix** — Blend vocals perfectly with the track\n6. **Finalize** — Ensure vocals translate across systems\n\n**Critical Factors:**\n- **Source quality** — Good recording = easier mixing\n- **Performance** — Technical skill matters more than processing\n- **Context** — Vocals must serve the song\n- **Reference** — Always compare to professional standards\n\nProfessional vocal producers understand that Vocal Recording Setup is both technical skill and artistic judgment.`\n      },\n      {\n        title: 'Professional Vocal Production Techniques',\n        content: `Apply Vocal Recording Setup in your productions with professional approaches:\n\n**Recording Best Practices:**\n- Proper mic placement and distance\n- Optimal gain staging and headroom\n- Multiple takes for comping\n- Consistent recording environment\n- Reference monitoring and acoustics\n\n**Processing Workflow:**\n1. **Clean up** — Remove unwanted sounds and noise\n2. **Tune** — Correct pitch issues (subtle or creative)\n3. **Time align** — Fix timing and rhythm issues\n4. **EQ** — Remove muddiness, add presence\n5. **Compress** — Control dynamics and consistency\n6. **De-ess** — Tame harsh sibilance\n7. **FX** — Add reverb, delay, modulation\n\n**Common Vocal Issues:**\n- **Muddiness** — High-pass filter at 80-100 Hz\n- **Harshness** — De-ess or cut 6-8 kHz\n- **Lack of presence** — Boost 3-5 kHz subtly\n- **Inconsistent levels** — Compression and automation\n- **Poor timing** — Edit before processing\n- **Pitch issues** — Tune before heavy processing\n\n**Genre Considerations:**\nDifferent genres require different vocal approaches:\n- **Pop** — Polished, present, tuned, compressed\n- **Hip-Hop** — Dry, upfront, minimal reverb\n- **R&B** — Smooth, warm, layered harmonies\n- **Rock** — Raw energy, less processing\n- **Electronic** — Creative effects, vocoders, pitch shifts\n\nStudy vocal productions in your genre and understand what makes them work.`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Master professional vocal production techniques\",\n    \"Understand the complete vocal workflow from recording to mixing\",\n    \"Apply genre-specific vocal processing approaches\",\n    \"Develop critical listening skills for vocal production\",\n    \"Create commercial-quality vocal recordings\"\n  ],\n  \n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this vocal production lesson to advance.\",\n    success: \"Excellent! You've mastered Vocal Recording Setup. Your vocal productions are pro-level!\",\n    error: \"Review the vocal production concepts and try again.\",\n    alreadyCompleted: \"You've completed this vocal technique. Keep refining your skills!\"\n  }),\n  \n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 1,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "vocals-0"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Vocal Recording Setup:",
      "Prepararsi alla lezione successiva del modulo Vocals"
    ]
  },
  {
    "slug": "arrangement-2",
    "filename": "lesson-arrangement-2.config.js",
    "title": "Transitions & Energy:",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 2 - Transitions & Energy Flow\n * \n * This lesson teaches transition techniques: risers, falls, filter sweeps,\n * drum fills, and strategic silence.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-arrangement-2-progress\",\n  lessonNumber: 2,\n  lessonCategory: \"Arrangement\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-arrangement-3.html\",\n  prevLessonUrl: \"lesson-arrangement-1.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 2, categoryLabel: \"Arrangement\" }),\n    title: \"Transitions & Energy:\",\n    titleHighlight: \"The Glue Between Sections\",\n    subtitle: \"Learn how to connect sections seamlessly using <strong>risers</strong>, <strong>falls</strong>, <strong>filter sweeps</strong>, <strong>drum fills</strong>, and <strong>strategic silence</strong>. Great transitions are what separate amateur tracks from professional productions.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Add Transitions to an Arrangement\",\n    description: \"Place appropriate transitions between sections in a pre-built arrangement. Match the transition type to the energy change between sections.\",\n    tip: \"Think about energy flow. Verse→Buildup needs energy building (riser/filter). Drop→Breakdown needs energy releasing (fall).\",\n    steps: [\n      { text: \"<strong>Select a transition tool</strong> from the palette (Riser, Fall, Filter, Fill, or Silence).\" },\n      { text: \"<strong>Click the (+) slots</strong> between sections to place your transition.\" },\n      { text: \"<strong>Match transitions to context</strong> — risers before energy increases, falls after peaks.\" },\n      { text: \"<strong>Fill all 3 transition slots</strong> to complete the exercise.\" }\n    ]\n  },\n  \n  // ====================\n  // TRANSITION TECHNIQUES\n  // ====================\n  transitionTechniques: [\n    {\n      type: \"riser\",\n      name: \"Risers (Uplifters)\",\n      icon: \"📈\",\n      color: \"green\",\n      description: \"Sweeps upward in pitch or intensity. Creates tension and anticipation before drops/choruses.\",\n      uses: [\"Before drops\", \"Before choruses\", \"Building tension\"],\n      energyEffect: \"building\"\n    },\n    {\n      type: \"fall\",\n      name: \"Falls (Downlifters)\",\n      icon: \"📉\",\n      color: \"purple\",\n      description: \"Sweeps downward to release built-up energy. Used after drops to settle into new sections.\",\n      uses: [\"After drops\", \"Into breakdowns\", \"Energy release\"],\n      energyEffect: \"releasing\"\n    },\n    {\n      type: \"filter\",\n      name: \"Filter Sweeps\",\n      icon: \"🎛️\",\n      color: \"amber\",\n      description: \"Gradually opens/closes a low-pass filter. Opening brightens (builds); closing creates underwater effect (reduces).\",\n      uses: [\"Buildups\", \"Intros/Outros\", \"Smooth transitions\"],\n      energyEffect: \"variable\"\n    },\n    {\n      type: \"fill\",\n      name: \"Drum Fills\",\n      icon: \"🥁\",\n      color: \"pink\",\n      description: \"Rhythmic break in the drum pattern—snare rolls, tom fills, kick patterns that signal section changes.\",\n      uses: [\"End of sections\", \"Before choruses\", \"Every 8-16 bars\"],\n      energyEffect: \"signaling\"\n    },\n    {\n      type: \"silence\",\n      name: \"Silence / Gaps\",\n      icon: '<img src=\"images/speakeroff.png\" alt=\"🔇\" style=\"width: 1.5em;\">',\n      color: \"gray\",\n      description: \"Brief silence before impact. Even 1/4 beat of silence before a drop makes it hit 10x harder.\",\n      uses: [\"Before big drops\", \"Dramatic effect\", \"Reset listener\"],\n      energyEffect: \"impact\"\n    }\n  ],\n  \n  // ====================\n  // EXERCISE SECTIONS\n  // ====================\n  exerciseSections: [\n    { type: \"verse\", bars: 16, energy: 50 },\n    { type: \"buildup\", bars: 8, energy: 70 },\n    { type: \"chorus\", bars: 16, energy: 100 },\n    { type: \"breakdown\", bars: 8, energy: 40 }\n  ],\n  \n  // ====================\n  // SUGGESTED SOLUTION\n  // ====================\n  suggestedSolution: [\"fill\", \"riser\", \"fall\"],\n  \n  // ====================\n  // VALIDATION RULES\n  // ====================\n  validation: {\n    requiredSlots: 3,\n    validChoices: {\n      0: [\"fill\", \"filter\", \"riser\"], // Verse → Buildup\n      1: [\"riser\", \"filter\", \"silence\"], // Buildup → Chorus\n      2: [\"fall\", \"filter\", \"silence\"] // Chorus → Breakdown\n    }\n  },\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Add transitions to all 3 slots to complete this exercise.\",\n    success: \"Excellent! Your transitions make musical sense! You've completed this lesson.\",\n    error: \"Add some transitions first! Select a tool and click the (+) slots.\",\n    alreadyCompleted: \"You've already completed this exercise. Feel free to experiment more!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"transitions\",\n    sandbox: false,\n    showEnergyPreview: true\n  },\n  \n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"Why Transitions Make or Break Your Track\",\n        content: `\n**The Problem with Hard Cuts:**\nImagine watching a movie where every scene change is a jarring jump—no fade, no camera movement, just BAM, new scene. That's what arrangements sound like without proper transitions. Even if your individual sections are brilliant, hard cuts between them sound amateur and disrupt the listening experience.\n\n**Transitions are Emotional Bridges:**\nGreat transitions do more than connect sections—they guide the listener's emotional journey. They create anticipation before big moments, provide relief after intense sections, and maintain momentum throughout the song. Professional producers spend significant time crafting transitions because they know: the journey between sections is just as important as the sections themselves.\n\n**The Energy Direction Principle:**\nEvery transition should match the energy direction between sections. Moving from low to high energy? Use a riser or filter opening. Moving from high to low? Use a fall or filter closing. Transitions that fight against natural energy flow feel wrong, even if listeners can't articulate why.\n\n**The 5 Essential Transition Techniques:**\nEvery professional track uses combinations of these five core techniques. Master them, and you'll never have an awkward section change again.\n\n**Real-World Context:**\nListen to any professional EDM track and count the transitions. In a typical 3-minute track, you'll find 10-15 transition moments using various techniques. In pop/rock, drum fills and filter sweeps are everywhere—often subtle, but always present. The absence of transitions is one of the clearest markers of amateur production.\n        `\n      },\n      {\n        title: \"The 5 Transition Techniques Explained\",\n        content: `\n**1. Risers (Uplifters) - The Tension Builders:**\nRisers sweep upward in pitch, intensity, or both, creating mounting tension. They're essentially audio manifestations of anticipation. The brain interprets rising pitch as increasing importance, making risers perfect before drops, choruses, or any high-energy section.\n\n*How to Create:*\n- Use white noise or synth pads with automation on pitch/filter frequency\n- Gradually increase volume over 4-8 bars\n- Common in EDM: the classic \"noise riser\" before every drop\n- Add reverb for size and impact\n\n*When to Use:* Before drops, before choruses, during buildups, any moment requiring tension\n\n\n**2. Falls (Downlifters) - The Release:**\nFalls sweep downward, releasing built-up energy and signaling relaxation. They're the exhale after the riser's inhale. Falls tell the listener \"the peak is over, we're settling into something new.\"\n\n*How to Create:*\n- Reverse of a riser: decreasing pitch/filter frequency\n- Works perfectly after drops to transition into breakdowns\n- Often shorter than risers (1-2 bars vs 4-8)\n- Combine with reverb tails for smoothness\n\n*When to Use:* After drops, into breakdowns, after choruses, any energy decrease\n\n\n**3. Filter Sweeps - The Frequency Shapers:**\nFilter sweeps gradually open or close a low-pass filter, changing the brightness and perceived energy of elements. Opening a filter (low to high frequency) builds energy by adding brightness. Closing a filter (high to low) reduces energy by making sounds muffled and distant.\n\n*How to Create:*\n- Apply a low-pass filter to drums, bass, or full mix\n- Automate cutoff frequency over 2-8 bars\n- Opening = building energy, closing = reducing energy\n- The \"underwater to surface\" effect\n\n*When to Use:* Intros (opening), outros (closing), buildups, transitions between any sections, creating the \"radio turning on/off\" effect\n\n\n**4. Drum Fills - The Section Signals:**\nDrum fills are short rhythmic breaks that signal \"something's about to change.\" They're the drummer's announcement that a new section is coming. Even in electronic music with programmed drums, fills serve this critical signaling function.\n\n*How to Create:*\n- Replace the last 1-2 bars of a section with variation\n- Common patterns: snare rolls, tom cascades, kick patterns\n- Keep them short—fills that are too long lose impact\n- Use crescendos (increasing volume) for extra emphasis\n\n*When to Use:* End of verses before choruses, every 8-16 bars for variation, before any significant section change, to prevent monotony\n\n\n**5. Silence / Gaps - The Impact Multipliers:**\nBrief moments of silence before big moments make them hit exponentially harder. Even 1/4 to 1/2 second of silence before a drop can make it feel 10x more impactful. Silence creates a micro-reset in the listener's brain, making the subsequent sound feel fresh and massive.\n\n*How to Create:*\n- Mute all elements for 1/4 to 1 beat before the drop/chorus\n- Often combined with the tail end of a riser\n- Don't overdo it—too much silence breaks the flow\n- The \"breath before the scream\" effect\n\n*When to Use:* Immediately before massive drops, before final choruses, for dramatic effect, to create \"wait for it...\" moments\n        `\n      },\n      {\n        title: \"Choosing and Combining Transitions\",\n        content: `\n**The Energy Direction Matrix:**\n\n**Verse → Buildup (Low to Medium Energy):**\n- Use drum fills to signal the change\n- Add filter sweeps (opening) for subtle energy increase\n- Light risers if the buildup is intense\n\n**Buildup → Chorus/Drop (Medium to High Energy):**\n- Risers are essential—create maximum tension\n- Often combine riser + silence (final 1/4 beat)\n- Filter fully opening at the peak moment\n\n**Chorus/Drop → Breakdown (High to Low Energy):**\n- Falls immediately after the peak\n- Filter sweeps (closing) for the underwater effect\n- Reverb tails to smooth the transition\n\n**Breakdown → Buildup (Low to Medium Energy):**\n- Filter sweeps (opening) to reintroduce brightness\n- Light risers in the final bars\n- Drum fills to signal incoming energy\n\n\n**Combining Multiple Techniques:**\nProfessional producers layer transitions for maximum impact:\n- Riser + Filter Opening + Drum Fill = Triple threat before drop\n- Fall + Filter Closing = Smooth post-drop transition\n- Silence + Riser = Maximum tension before payoff\n\n**Timing Matters:**\n- Short transitions (1-2 bars): Quick changes, maintains energy\n- Medium transitions (4 bars): Standard, gives time for anticipation\n- Long transitions (8+ bars): Buildups, extended tension\n\n\n**Common Mistakes:**\n- **Every transition the same**: Becomes predictable and boring\n- **Too many layers**: Risers + falls + fills + everything = messy\n- **Wrong energy direction**: Rising transition into a breakdown = confusion\n- **No transitions**: Sounds like a DJ poorly mixing two tracks\n- **Too obvious**: Subtlety often works better than constant WHOOSH sounds\n\n\n**Pro Tip - Reference Listening:**\nPull up three professional tracks in your genre. Listen specifically for transitions—ignore everything else. You'll hear:\n- Transitions every 4-8 bars minimum\n- Combinations of techniques used together\n- Subtle use of filter sweeps you might have missed\n- Strategic silence before big moments\n\nLearn by listening, then apply these techniques intentionally in your own work. Transitions aren't optional flourishes—they're structural necessities that separate amateur productions from professional releases.\n        `\n      }\n    ]\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Understand the 5 essential transition techniques: Risers, Falls, Filter Sweeps, Drum Fills, Silence\",\n    \"Know when to use each technique based on energy direction\",\n    \"Apply transitions at appropriate points in an arrangement\",\n    \"Create smooth, professional-sounding section changes\",\n    \"Understand the timing of transitions (1-2, 4, 8, 16 bars)\"\n  ]\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 2,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "arrangement-1"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Transitions & Energy:",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-2",
    "filename": "lesson-bass-2.config.js",
    "title": "Bass & Kick Relationship",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 2 - Bass & Kick Relationship\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-2-progress\",\n  lessonNumber: 2,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-3.html\",\n  prevLessonUrl: \"lesson-bass-1.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 2, categoryLabel: \"Bass & Low End\" }),\n    title: \"Bass & Kick Relationship\",\n    titleHighlight: \"Locking the Low End\",\n    subtitle: \"Understand how bass and kick work together in the low end. Program bass notes that complement, not compete with, your kick pattern. When bass and kick are aligned, they create a powerful, unified foundation.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    bars: 1,\n    noteRange: { min: 36, max: 60 }, // C2 to C4 (bass range)\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Lock Bass with Kick Pattern\",\n    description: \"In this exercise, you'll place bass notes that align with your kick drum pattern. This creates a unified low end where bass and kick feel like one cohesive element rather than two competing sounds.\",\n    tip: \"Play with the pattern and notice how bass notes that land WITH the kick feel stronger than bass notes that land BETWEEN kicks.\",\n    steps: ['Place a <strong>C3 note on step 1</strong> (aligns with kick).', 'Add another <strong>C3 on step 9</strong> (beat 3, also aligns with kick).', 'Press <strong>Play</strong> and listen to how bass and kick unify on beats 1 and 3.', 'Click <strong>Check Exercise</strong> when ready.']\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [{'title': 'Why Bass and Kick Must Work Together', 'content': 'Bass and kick both occupy low frequencies (40-200 Hz). If they clash, you get:\\n\\n- **Muddiness**: Both sounds blur together, losing clarity\\n- **Phase cancellation**: Waveforms interfere, reducing punch\\n- **Weak low end**: Instead of combining power, they subtract from each other\\n\\nWhen properly aligned (same timing, complementary pitches), they create a unified \"thump\" that\\'s powerful and clear.'}, {'title': 'The Lock Technique', 'content': '\"Locking\" means placing bass notes at the same time as kick hits:\\n\\n**Benefits:**\\n- Bass and kick reinforce each other (additive)\\n- Clearer attack (kick transient + bass body)\\n- Less frequency masking\\n- Easier to mix (one unified low-end event)\\n\\n**Rule of thumb:** Start with bass locked to kick, then add movement between kicks once the foundation is solid.'}]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [{'pitch': 48, 'step': 0, 'duration': 1}, {'pitch': 48, 'step': 8, 'duration': 1}],\n    highlightScale: [48, 50, 52, 53, 55, 57, 59, 60], // C major scale in bass range\n    showChordDetection: false,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete the bass pattern exercise.\",\n    success: \"Excellent! You've mastered this bass technique.\",\n    error: \"Not quite. Check the target pattern and try again.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 2,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "bass-1"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Bass & Kick Relationship",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-2",
    "filename": "lesson-drums-2.config.js",
    "title": "The backbeat:",
    "category": "Drum pattern",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Drums 2 - Adding the Snare (Backbeat)\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-lesson2-progress\",\n  lessonNumber: 2,\n  lessonCategory: \"Drum pattern\",\n  \n  nextLessonUrl: \"lesson-drums-3.html\",\n  prevLessonUrl: \"lesson-drums-1.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 2, categoryLabel: \"Drum pattern\" }),\n    title: \"The backbeat:\",\n    titleHighlight: \"adding the snare\",\n    subtitle: \"Learn about the <strong>backbeat</strong> - one of the most important concepts in popular music. The snare on beats 2 and 4 defines the groove.\"\n  },\n  \n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    swing: 0,\n    requiredTempo: 120\n  },\n  \n  exercise: {\n    title: \"Add the Backbeat Snare Pattern\",\n    description: \"The <strong>backbeat</strong> is the snare hitting on beats 2 and 4. Combined with the kick on 1, 2, 3, 4, this creates the foundation of rock, pop, and most modern music.\",\n    tip: \"The backbeat creates a call-and-response between kick and snare. Kick pushes forward, snare answers back!\",\n    steps: [\n      { text: \"<strong>Set the tempo to 120 BPM</strong> using the Tempo slider.\" },\n      { text: \"<strong>Kick row:</strong> Keep the 4-on-the-floor pattern (steps 1, 5, 9, 13).\" },\n      { text: \"<strong>Snare row:</strong> Add snare on steps <strong>5 and 13</strong> (beats 2 and 4).\" },\n      { text: \"Notice how the snare \\\"answers\\\" the kick on beats 2 and 4.\" },\n      { text: \"Press <strong>Play</strong> to hear the classic kick-snare groove.\" }\n    ]\n  },\n  \n  instruments: [\n    {\n      id: \"kick\",\n      label: \"Kick\",\n      color: \"linear-gradient(135deg,#ff5a3d,#ffb28a)\",\n      targetSteps: [0, 4, 8, 12],\n      instructionText: \"Kick: Keep the 4-on-the-floor pattern from Lesson 1.\",\n      patternHint: { label: \"Kick\" }\n    },\n    {\n      id: \"snare\",\n      label: \"Snare\",\n      color: \"linear-gradient(135deg,#5f4dff,#8a9bff)\",\n      targetSteps: [4, 12],\n      instructionText: \"Snare: Add the backbeat on beats 2 and 4 (steps 5 and 13).\",\n      patternHint: { label: \"Snare\" }\n    }\n  ],\n  \n  patternHint: {\n    enabled: true,\n    note: \"Kick on every beat, Snare on beats 2 and 4\"\n  },\n  \n  messages: applyMessagePreset(\"drums\", {\n    initial: \"Add the snare backbeat to unlock the next lesson.\",\n    success: \"Correct! You've mastered the backbeat. Proceed to the next lesson.\",\n    error: \"Not quite right. Check both the kick (1, 5, 9, 13) and snare (5, 13) patterns!\"\n  }),\n  \n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 2,
    "access": "free",
    "difficulty": "beginner",
    "prerequisites": [
      "drums-1"
    ],
    "outcomes": [
      "Applicare i concetti chiave di The backbeat:",
      "Prepararsi alla lezione successiva del modulo Drum pattern"
    ]
  },
  {
    "slug": "ear-2",
    "filename": "lesson-ear-2.config.js",
    "title": "Interval Recognition:",
    "category": "Ear Training",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-ear-2-progress\",\n  lessonNumber: 2,\n  lessonCategory: \"Ear Training\",\n\n  nextLessonUrl: \"lesson-ear-3.html\",\n  prevLessonUrl: \"lesson-ear-1.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 2, categoryLabel: \"Ear Training\" }),\n    title: \"Interval Recognition:\",\n    titleHighlight: \"Harmonic Intervals\",\n    subtitle: \"Identify intervals played simultaneously. Essential for understanding chord voicings and harmonic structure.\"\n  },\n\n  exercise: {\n    title: \"Identify Harmonic Intervals by Ear\",\n    description: \"Harmonic intervals are two notes played at the same time (simultaneously). Unlike melodic intervals where you hear notes in sequence, harmonic intervals create a single blended sound that can be consonant (pleasant) or dissonant (tense). This skill is critical for understanding chord voicings, mixing harmonies, and analyzing chord progressions.\",\n    tip: \"Consonant intervals (3rds, 5ths, 6ths, octaves) sound stable and pleasant. Dissonant intervals (2nds, 7ths, tritones) sound tense and want to resolve.\",\n    steps: [\n      '<strong>Perfect Unison & Octave</strong> — Same note or 12 semitones apart. Sounds like a single, reinforced pitch. Very consonant.',\n      '<strong>Perfect 5th</strong> — Empty, open, hollow sound. Used in power chords (rock, metal). Very consonant.',\n      '<strong>Major 3rd</strong> — Bright, happy, full. Foundation of major chords. Consonant.',\n      '<strong>Minor 3rd</strong> — Dark, sad, rich. Foundation of minor chords. Consonant.',\n      '<strong>Major 2nd</strong> — Slightly tense, needs resolution. Cluster sound. Mildly dissonant.',\n      '<strong>Minor 2nd</strong> — Very tense, harsh, crunchy. Maximum dissonance. Wants to resolve immediately.',\n      '<strong>Tritone</strong> — \"Devil\\'s interval\". Ambiguous, unsettling. Very dissonant.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Harmonic Interval Recognition',\n        content: \\`\n**Consonance vs. Dissonance:**\n\n**Perfect Consonances (Most Stable):**\n- **Unison**: Same pitch. No tension.\n- **Octave (P8)**: Same note, different register. Reinforces fundamental.\n- **Perfect 5th (P5)**: Power chord sound. Open, hollow, strong. C-G.\n\n**Imperfect Consonances (Pleasant, Stable):**\n- **Major 3rd (M3)**: Bright, happy. C-E. Major chord basis.\n- **Minor 3rd (m3)**: Sad, rich. C-Eb. Minor chord basis.\n- **Major 6th (M6)**: Sweet, open. C-A.\n- **Minor 6th (m6)**: Melancholic but stable. C-Ab.\n\n**Dissonances (Tense, Unstable):**\n- **Major 2nd (M2)**: Cluster sound. C-D. Needs resolution.\n- **Minor 2nd (m2)**: Very harsh. C-Db. Maximum tension.\n- **Major 7th (M7)**: Jazzy tension. C-B. Wants to resolve to octave.\n- **Minor 7th (m7)**: Blues/jazz color. C-Bb. Mild tension.\n- **Tritone (Aug4/Dim5)**: Devil's interval. C-F#. Ambiguous, unstable.\n\n**Perfect 4th (P4):**\n- Depends on context\n- Consonant in melodic use\n- Can sound dissonant harmonically (wants to resolve)\n- C-F sounds more stable than F-C (inverted)\n\n**How Harmonic Intervals Differ from Melodic:**\n- Melodic: You remember first note, compare to second\n- Harmonic: Both notes fuse into a single timbre\n- Harmonic intervals have a \"color\" or \"texture\"\n- Beating/roughness occurs when frequencies clash (m2, M2, tritone)\n        \\`\n      },\n      {\n        title: 'Practical Harmonic Interval Training',\n        content: \\`\n**Training Strategy:**\n\n**Phase 1: Consonance Categories**\n1. Learn to distinguish perfect consonances (unison, 5th, octave)\n2. Add imperfect consonances (3rds, 6ths)\n3. Recognize dissonances (2nds, 7ths, tritone)\n\n**Phase 2: Quality Distinction**\n- Major vs. Minor 3rds (bright vs. dark)\n- Major vs. Minor 6ths (open vs. closed)\n- Major vs. Minor 2nds/7ths (extremely harsh vs. harsh)\n\n**Phase 3: Context Application**\n- Identify intervals within chord voicings\n- Analyze double-stops (guitar, strings)\n- Recognize intervals in vocal harmonies\n\n**Listening Exercises:**\n\n**Exercise 1: Consonance Spectrum**\nPlay intervals in this order and rate them from most to least consonant:\n- Octave → P5 → M3 → M6 → m3 → m6 → P4 → M2 → m7 → M7 → m2 → Tritone\n\n**Exercise 2: Chord Deconstruction**\n1. Play a major chord (C-E-G)\n2. Isolate each interval: C-E (M3), E-G (m3), C-G (P5)\n3. Repeat with minor chords, 7th chords\n\n**Exercise 3: Interval Mixing**\nUse your DAW to layer two notes:\n- P5: Clean, open, no beating\n- m2: Harsh, beating, frequency clash\n- M3: Warm, full, stable\n\n**Common Mistakes:**\n- Confusing harmonic with melodic intervals (different skill)\n- Not paying attention to register (intervals sound different in bass vs. treble)\n- Ignoring timbre (intervals sound different on piano vs. synth vs. guitar)\n- Forgetting inversions (P5 up vs. P4 down)\n\n**Pro Applications:**\n- **Mixing**: Identify harsh intervals causing frequency masking\n- **Chord Voicing**: Choose intervals that blend well\n- **Sound Design**: Layer oscillators at consonant intervals (P5, octave)\n- **Harmony Writing**: Avoid parallel dissonances, use consonant voice leading\n        \\`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Distinguish between consonant and dissonant harmonic intervals\",\n    \"Identify all common harmonic intervals by their blend/color\",\n    \"Understand how intervals create tension and resolution\",\n    \"Apply interval recognition to chord voicing analysis\",\n    \"Use harmonic interval knowledge in mixing and arrangement\"\n  ]\n};\n",
    "number": 2,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "ear-1"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Interval Recognition:",
      "Prepararsi alla lezione successiva del modulo Ear Training"
    ]
  },
  {
    "slug": "harmony-2",
    "filename": "lesson-harmony-2.config.js",
    "title": "Flip the Emotion:",
    "category": "Chord Fundamentals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 2 - Flip the Emotion: Major vs Minor\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-harmony-2-progress\",\n  lessonNumber: 2,\n  lessonCategory: \"Chord Fundamentals\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-harmony-3.html\",\n  prevLessonUrl: \"lesson-harmony-1.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 2, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Flip the Emotion:\",\n    titleHighlight: \"Major vs Minor\",\n    subtitle: \"Change just one note in a chord and completely transform its emotional color. You'll build C major (bright, happy) and C minor (darker, melancholic) side by side, hearing how a single note shift changes everything. This teaches you the most powerful variable in chord construction.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 90,\n    key: \"C\",\n    scale: \"Major\",\n    stepCount: 16,\n    bars: 1,\n    pitchRange: {\n      low: 48,  // C3\n      high: 72  // C5\n    }\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Build C Major and C Minor\",\n    description: \"The difference between major (bright) and minor (dark) is just <strong>one semitone in the third</strong>. C major uses E (major third), C minor uses E♭ (minor third). The root (C) and fifth (G) stay the same. This single-note difference is what separates uplifting pop chords from moody hip-hop progressions.\",\n    tip: \"Create two MIDI clips side by side - one with C major, one with C minor. Play them back-to-back to clearly hear the emotional shift.\",\n    steps: [\n      { text: \"Build <strong>C major</strong> first: C4, E4, G4 on the same beat\" },\n      { text: \"Listen and notice the <strong>bright, stable</strong> sound\" },\n      { text: \"Now change E to <strong>E♭</strong> (move it down one semitone/piano key)\" },\n      { text: \"Listen to <strong>C minor</strong> and notice the darker, more introspective sound\" },\n      { text: \"<strong>A/B between them</strong> several times to really hear the difference\" },\n      { text: \"Experiment: Try building G major (G-B-D) then G minor (G-B♭-D)\" }\n    ]\n  },\n\n  // ====================\n  // VALIDATION CONFIG\n  // ====================\n  validation: {\n    type: \"chord_comparison\",\n    requiredChords: [\n      {\n        name: \"C Major\",\n        pitches: [60, 64, 67],  // C4, E4, G4\n        time: 0\n      },\n      {\n        name: \"C Minor\",\n        pitches: [60, 63, 67],  // C4, Eb4, G4\n        time: 4  // Or in a separate clip\n      }\n    ],\n    allowInversions: false,\n    allowExtraNotes: false\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Build both C major (C-E-G) and C minor (C-Eb-G) to hear the difference.\",\n    success: \"Perfect! You can now hear and build the difference between major and minor chords. This unlocks all chord construction.\",\n    error: \"Make sure you have C major (C-E-G) and C minor (C-Eb-G). The only difference should be E vs Eb.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 2,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "harmony-1"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Flip the Emotion:",
      "Prepararsi alla lezione successiva del modulo Chord Fundamentals"
    ]
  },
  {
    "slug": "mastering-2",
    "filename": "lesson-mastering-2.config.js",
    "title": "Metering & Analysis:",
    "category": "Mastering",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mastering 2 - Metering & Analysis\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mastering-2-progress\",\n  lessonNumber: 2,\n  lessonCategory: \"Mastering\",\n\n  nextLessonUrl: \"lesson-mastering-3.html\",\n  prevLessonUrl: \"lesson-mastering-1.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 2, categoryLabel: \"Mastering\" }),\n    title: \"Metering & Analysis:\",\n    titleHighlight: \"LUFS, Peaks, Spectrum & Phase\",\n    subtitle: \"Master the essential metering tools that guide professional mastering decisions—loudness meters, spectrum analyzers, stereo correlation, and dynamic range measurement\"\n  },\n\n  exercise: {\n    title: \"Analyze a Mix Using Professional Metering\",\n    description: \"Set up a complete metering suite and analyze your mix before any processing. Learn to read and interpret each meter type to make informed mastering decisions.\",\n    tip: \"Meters are guides, not goals. A 'perfect' reading means nothing if it sounds wrong. Use meters to confirm what your ears tell you, not to replace critical listening. If the meters say it's right but it sounds wrong, trust your ears.\",\n    steps: [\n      '<strong>Set up loudness meter</strong> — Insert a loudness meter (Youlean, iZotope Insight, or your DAW\\'s built-in) at the end of your chain. Ensure it displays: Integrated LUFS, Short-term LUFS, Momentary LUFS, and True Peak.',\n      '<strong>Measure integrated LUFS</strong> — Play the entire song from start to finish. Note the <strong>Integrated LUFS</strong> reading at the end. This is the average loudness of the whole track. For streaming, you\\'ll target around <strong>-14 LUFS</strong>.',\n      '<strong>Measure short-term loudness</strong> — Play the loudest section (usually chorus). Watch <strong>Short-term LUFS</strong> (3-second window). Note the peak short-term value. This shows your loudest moments.',\n      '<strong>Check true peak</strong> — Note the <strong>True Peak (dBTP)</strong> reading. For streaming masters, this should not exceed <strong>-1 dBTP</strong>. True peak catches inter-sample peaks that regular peak meters miss.',\n      '<strong>Set up spectrum analyzer</strong> — Insert a spectrum analyzer (SPAN, iZotope Insight, or similar). Set to a moderate averaging time (around 1-2 seconds) for readable display.',\n      '<strong>Analyze frequency balance</strong> — Play through the song and observe the spectrum. Note: Is there excessive low-end buildup below 60 Hz? Is the midrange even or are there peaks/dips? Is the high end present without harshness?',\n      '<strong>Compare to reference spectrum</strong> — Play a level-matched reference track through the same analyzer. Compare the spectral shapes. Note differences in low end, midrange, and high frequency content.',\n      '<strong>Set up stereo correlation meter</strong> — Insert a stereo correlation/phase meter. This shows the relationship between left and right channels.',\n      '<strong>Check stereo correlation</strong> — Play the track and watch the correlation meter. Values should stay mostly positive (above 0). Values near +1 = mono. Values near 0 = uncorrelated stereo. Values below 0 = phase issues.',\n      '<strong>Identify phase problems</strong> — If correlation drops below 0 frequently, investigate. Which sections have phase issues? This may indicate problems in the mix or excessive stereo widening.',\n      '<strong>Measure dynamic range</strong> — If you have a dynamic range meter (TT DR Meter, iZotope Insight), measure the DR value. DR8-10 is typical for modern pop/rock. DR6 or below indicates heavy compression.',\n      '<strong>Document your findings</strong> — Create a brief analysis: Integrated LUFS, True Peak, frequency observations, stereo correlation notes, dynamic range. This guides your mastering decisions.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Loudness Metering: LUFS Explained',\n        content: `Loudness metering has revolutionized mastering. LUFS (Loudness Units relative to Full Scale) measures perceived loudness—how loud something sounds to human ears—not just peak or average levels.\n\n**Why LUFS Matters:**\nTraditional peak meters only show instantaneous signal peaks. RMS meters show average level. Neither tells you how loud something actually sounds. LUFS incorporates psychoacoustic weighting to match human perception.\n\n**Types of LUFS Measurements:**\n\n**Integrated LUFS:**\n- Average loudness over the entire program\n- This is what streaming platforms measure for normalization\n- Streaming target: approximately -14 LUFS (Spotify, YouTube) or -16 LUFS (Apple)\n- Measured by playing the full track, start to finish\n\n**Short-Term LUFS:**\n- Average over a 3-second window\n- Shows loudness of song sections\n- Useful for comparing verse vs chorus\n- Typically 2-4 LUFS higher than integrated in the loudest parts\n\n**Momentary LUFS:**\n- Average over a 400ms window\n- Rapid, nearly real-time response\n- Shows momentary peaks and dips\n- Less useful for mastering decisions, more for broadcast\n\n**Loudness Range (LRA):**\n- Difference between quietest and loudest sections\n- Indicates dynamic variation\n- High LRA = more dynamic (classical, jazz)\n- Low LRA = more consistent (pop, EDM)\n\n**Streaming Normalization Targets:**\n| Platform | Target LUFS | Normalization |\n|----------|-------------|---------------|\n| Spotify | -14 LUFS | Turns loud tracks down |\n| Apple Music | -16 LUFS | Sound Check feature |\n| YouTube | -14 LUFS | Normalizes all content |\n| Tidal | -14 LUFS | MQA may differ |\n| Amazon | -14 LUFS | Consistent with others |\n\n**The Key Insight:**\nIf your master is louder than -14 LUFS, streaming platforms turn it down. Over-limiting for loudness is counterproductive—you lose dynamics and gain nothing.`\n      },\n      {\n        title: 'True Peak Limiting: Why It Matters',\n        content: `True Peak (dBTP) measures the actual peak level after digital-to-analog conversion, which can be higher than the measured sample peak. This \"inter-sample peak\" phenomenon is critical for mastering.\n\n**The Inter-Sample Peak Problem:**\nWhen a DAC converts digital samples to analog waveforms, it reconstructs a continuous signal. If two adjacent samples are both near 0 dBFS, the reconstructed analog signal between them can exceed 0 dBFS—causing distortion.\n\n**Sample Peak vs True Peak:**\n- **Sample Peak:** Maximum value of individual samples (what standard meters show)\n- **True Peak:** Estimated maximum of the reconstructed analog waveform\n\nA track showing -0.3 dBFS sample peak might have a +0.5 dBTP true peak—causing distortion on playback.\n\n**True Peak Targets:**\n| Application | Maximum True Peak |\n|-------------|-------------------|\n| Streaming | -1.0 dBTP |\n| Broadcast | -2.0 dBTP |\n| CD | -0.3 dBTP |\n| Vinyl | -0.3 dBTP |\n| Safe general | -1.0 dBTP |\n\n**Why -1 dBTP for Streaming:**\nStreaming services transcode your master (to AAC, Ogg, MP3). Lossy encoding can introduce additional inter-sample peaks. The -1 dBTP headroom prevents distortion after encoding.\n\n**How to Control True Peak:**\n1. **Use a true peak limiter:** Most modern limiters have a true peak mode (FabFilter Pro-L2, iZotope Maximizer, Waves L2).\n2. **Set ceiling to -1 dBTP:** The limiter will oversample and catch inter-sample peaks.\n3. **Verify with true peak meter:** Confirm your final master doesn't exceed your target.\n\n**Common Mistake:**\nUsing a standard peak limiter set to -0.1 dBFS, then wondering why streaming services report clipping. The limiter wasn't catching true peaks.`\n      },\n      {\n        title: 'Spectrum Analysis: Reading Frequency Balance',\n        content: `Spectrum analyzers visualize the frequency content of your audio. In mastering, they help identify tonal imbalances that might not be obvious on your monitors.\n\n**Understanding the Display:**\n- **X-axis:** Frequency (20 Hz to 20 kHz, logarithmic scale)\n- **Y-axis:** Level (dB)\n- **Response:** How quickly the display updates\n\n**Key Frequency Regions:**\n| Region | Frequency | What to Listen/Look For |\n|--------|-----------|-------------------------|\n| Sub bass | 20-60 Hz | Rumble, sub weight, headroom use |\n| Bass | 60-200 Hz | Kick/bass body, warmth, mud |\n| Low mids | 200-500 Hz | Boxiness, fullness |\n| Midrange | 500 Hz-2 kHz | Body, honk, clarity |\n| Presence | 2-5 kHz | Vocal clarity, harshness |\n| Brilliance | 5-10 kHz | Detail, sibilance |\n| Air | 10-20 kHz | Sparkle, sheen |\n\n**What a Balanced Spectrum Looks Like:**\nA well-mastered track typically shows a gentle downward slope from low to high frequencies (roughly following a \"pink noise\" curve). Expect:\n- Strong energy 60-200 Hz (kick, bass)\n- Gradual reduction through midrange\n- Presence peak around 3-5 kHz (vocals, leads)\n- Air shelf 10 kHz+\n- Roll-off above 16-18 kHz (natural)\n\n**Common Spectrum Issues:**\n- **Excessive sub (<40 Hz):** Eating headroom, won't translate\n- **Mud (200-400 Hz):** Cloudy, undefined low-mids\n- **Hollow scoop (1-3 kHz):** Thin, distant sound\n- **Harsh peak (2-5 kHz):** Fatiguing, aggressive\n- **Dull roll-off (>8 kHz):** Lifeless, dated sound\n\n**Using References:**\nCompare your spectrum to a level-matched reference. Don't try to match exactly—different songs have different tonal centers—but look for obvious differences that indicate problems.\n\n**Spectrum Analysis Limitations:**\n- Can't show transient quality (timing, punch)\n- Averages hide dynamic variation\n- Different songs have legitimately different spectra\n- Use as a check, not a target`\n      },\n      {\n        title: 'Stereo Correlation and Phase Metering',\n        content: `Stereo correlation meters show the phase relationship between left and right channels. Understanding this helps prevent mono compatibility issues and identifies problems inherited from the mix.\n\n**Reading the Correlation Meter:**\n- **+1:** Mono (L and R are identical)\n- **0:** Completely uncorrelated (L and R have no relationship)\n- **-1:** Out of phase (L and R are inverted)\n\n**Healthy Correlation Values:**\n- **Most of the time:** Between +0.5 and +1\n- **Wide stereo moments:** May dip toward 0\n- **Never:** Sustained negative values\n\n**What Different Values Mean:**\n\n**+0.7 to +1 (Good):**\nStrong center, mono-compatible. Kick, bass, snare, lead vocal should live here.\n\n**+0.3 to +0.7 (Normal):**\nGood stereo width with solid center. Typical for full mixes.\n\n**0 to +0.3 (Wide):**\nVery wide stereo. Check mono compatibility. May be intentional (ambient, effects).\n\n**Below 0 (Problem):**\nPhase cancellation. Elements may disappear in mono. Investigate and fix.\n\n**Lissajous Display:**\nSome meters show a Lissajous (X-Y) display:\n- **Vertical line:** Mono\n- **Circle/ellipse:** Stereo with good correlation\n- **Horizontal line:** Out of phase (problem)\n- **Chaotic blob:** Wide and random (possibly fine, check mono)\n\n**Common Causes of Poor Correlation:**\n- Excessive stereo widening plugins\n- Phase issues in the mix (mis-aligned drums, problematic stereo effects)\n- Haas effect/delay-based widening\n- Out-of-phase samples or recordings\n\n**The Mono Check:**\nAlways verify mono compatibility:\n1. Sum your master to mono (use a utility plugin)\n2. Listen for: elements that disappear, thinning bass, changed balance\n3. If significant changes: the mix needs work, or your stereo processing is too aggressive`\n      },\n      {\n        title: 'Dynamic Range Metering',\n        content: `Dynamic range meters measure the difference between the loudest and quietest parts of a track. This helps you understand how much compression/limiting has been applied and guides your processing decisions.\n\n**DR (Dynamic Range) Value:**\nThe most common standard, measured in dB:\n- **DR14+:** Highly dynamic (classical, jazz, audiophile)\n- **DR10-14:** Good dynamics (well-mastered pop, rock)\n- **DR8-10:** Modern pop/rock/electronic (reasonable)\n- **DR6-8:** Heavily compressed (loud but fatiguing)\n- **DR4-6:** Over-compressed (loudness war casualties)\n\n**PLR (Peak to Loudness Ratio):**\nAnother measurement: the difference between peak level and integrated LUFS.\n- Higher PLR = more transient punch\n- Lower PLR = more squashed/limited\n\n**What Dynamic Range Tells You:**\n\n**Before Mastering:**\nCheck the mix's DR. If it's already DR6, the mix is heavily compressed—limiting further will cause problems. Request a less compressed mix.\n\n**After Mastering:**\nCompare before/after DR. Losing more than 2-3 DR during mastering suggests over-limiting.\n\n**Genre Context Matters:**\n| Genre | Typical DR | Notes |\n|-------|------------|-------|\n| Classical | DR14+ | Huge dynamic range |\n| Jazz | DR12-16 | Natural dynamics |\n| Folk/Acoustic | DR10-14 | Musical dynamics |\n| Rock | DR8-12 | Moderate compression |\n| Pop | DR7-10 | Controlled dynamics |\n| EDM/Electronic | DR6-9 | Intentionally dense |\n| Hip-Hop | DR6-9 | Punchy but compressed |\n\n**The Loudness vs Dynamics Trade-off:**\nMore limiting = louder integrated LUFS = less dynamic range.\nBut streaming normalizes loudness, so you lose dynamics for no gain.\n\n**Modern Approach:**\nPreserve dynamics (DR8+), let streaming normalization handle loudness matching. Your track will sound more impactful than over-limited competitors that get turned down.`\n      },\n      {\n        title: 'Practical Metering Workflow',\n        content: `Knowing how to use meters is different from knowing when to use them. Here's a practical workflow for integrating metering into your mastering process.\n\n**Phase 1: Pre-Processing Analysis**\nBefore touching any plugins:\n1. Play the entire track, measure integrated LUFS\n2. Note the true peak maximum\n3. Check spectrum for obvious issues\n4. Verify stereo correlation\n5. Measure dynamic range\n6. Compare to reference tracks\n\n**Phase 2: During Processing**\nWhile making adjustments:\n- Watch true peak after EQ boosts (may clip)\n- Monitor loudness changes after compression\n- Check correlation after stereo processing\n- Verify spectrum changes match your intent\n\n**Phase 3: Final Verification**\nBefore export:\n1. Measure final integrated LUFS (hit your target?)\n2. Confirm true peak is at target (-1 dBTP)\n3. Verify spectrum didn't drift too far from intent\n4. Confirm correlation is healthy\n5. Compare DR before vs after\n\n**Metering Plugin Recommendations:**\n| Plugin | Strengths | Use Case |\n|--------|-----------|----------|\n| Youlean Loudness Meter | Free, accurate LUFS | Primary loudness meter |\n| iZotope Insight 2 | Comprehensive suite | Professional metering |\n| Voxengo SPAN | Free, excellent spectrum | Frequency analysis |\n| mvMeter2 | Free, correlation | Stereo/phase checking |\n| TT DR Meter | Free, dynamic range | DR measurement |\n\n**Common Metering Mistakes:**\n- **Obsessing over numbers:** Meters guide, they don't decide\n- **Ignoring context:** -14 LUFS means different things for different genres\n- **Not level-matching:** References must be loudness-matched\n- **Forgetting true peak:** Sample peak isn't enough\n- **Comparing to bad references:** Over-limited masters are poor targets\n\n**The Final Word:**\nUse your ears first, meters second. If your meters say it's right but it sounds wrong, trust your ears. If your ears say it's right but meters show a problem, investigate—you might be missing something.`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Understand LUFS metering: integrated, short-term, and momentary measurements for streaming-optimized masters\",\n    \"Apply true peak limiting to prevent inter-sample distortion, targeting -1 dBTP for streaming platforms\",\n    \"Use spectrum analyzers to identify frequency balance issues and compare against reference tracks\",\n    \"Interpret stereo correlation and phase meters to ensure mono compatibility and identify mix problems\",\n    \"Measure dynamic range to make informed limiting decisions and preserve musical dynamics\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mastering lesson to master professional metering.\",\n    success: \"Excellent! You can now analyze audio like a professional mastering engineer.\",\n    error: \"Review the metering concepts and try again.\",\n    alreadyCompleted: \"You've mastered Metering & Analysis. Ready for Lesson 3!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 2,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "mastering-1"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Metering & Analysis:",
      "Prepararsi alla lezione successiva del modulo Mastering"
    ]
  },
  {
    "slug": "mixing-2",
    "filename": "lesson-mixing-2.config.js",
    "title": "Gain Staging Fundamentals:",
    "category": "Mixing",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mixing 2 - Gain Staging Fundamentals\n *\n * Research sources: AES Pro Audio Reference, EBU Tech 3341, ITU-R BS.1770-5,\n * Ableton Live Manual, Logic Pro Documentation\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-2-progress\",\n  lessonNumber: 2,\n  lessonCategory: \"Mixing\",\n\n  nextLessonUrl: \"lesson-mixing-3.html\",\n  prevLessonUrl: \"lesson-mixing-1.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 2, categoryLabel: \"Mixing\" }),\n    title: \"Gain Staging Fundamentals:\",\n    titleHighlight: \"Building Stable Levels Across the Signal Chain\",\n    subtitle: \"Learn to manage levels at every point in your mix for predictable processing, low distortion risk, and repeatable decisions.\"\n  },\n\n  exercise: {\n    title: \"Gain-Stage a Multitrack Session to a Stable Nominal Level\",\n    description: \"Import stems, set clip gain to a consistent RMS reference, verify no clipping at any stage, and confirm plug-in input/output matching before moving into EQ work.\",\n    tip: \"If a track feels 'too quiet' at -18 dBFS RMS, avoid fixing it by pushing the channel fader into extreme ranges. Instead, check whether the stem's dynamics are highly transient-heavy (high crest factor) and consider a small clip-gain adjustment combined with later compression.\",\n    steps: [\n      '<strong>Open your template</strong> — Load \"Mixing-1_Template\" or recreate routing: tracks → 4 buses (Drums/Bass/Music/Vocals) → master. Save as \"Mixing-2_GainStaging\".',\n      '<strong>Import multitrack stems</strong> — Confirm every track routes to the correct bus and buses feed the master.',\n      '<strong>Reset to neutral</strong> — Disable clip normalisation. Set all track and bus faders to unity (0 dB).',\n      '<strong>Add RMS meters</strong> — Insert a meter showing RMS (or Peak+RMS) as the FIRST insert on each audio track.',\n      '<strong>Loop a loud section</strong> — Choose the chorus/drop, loop 10-20 seconds for stable RMS readings.',\n      '<strong>Set clip gain on Track 1</strong> — Adjust clip/region gain until meter shows approximately -18 dBFS RMS. Clear any clipping indicators.',\n      '<strong>Repeat for all tracks</strong> — Aim for ~-18 dBFS RMS per track. Log your clip gain values (e.g., \"Vox -6 dB, Snare -3 dB\").',\n      '<strong>Verify no clipping</strong> — Play the loop. Confirm no track or bus meter shows clipping. If a bus is hot, reduce the loudest stem\\'s clip gain.',\n      '<strong>Test a compressor</strong> — On one vocal track, insert a compressor AFTER the meter. Set ratio ~3:1, attack ~10ms, release ~100ms. Adjust for 3-6 dB gain reduction.',\n      '<strong>Level-match the compressor</strong> — Toggle bypass while watching the meter. Adjust make-up gain so processed level is within ±0.5 dB of bypassed level.',\n      '<strong>Check bus levels</strong> — Insert Peak/True Peak meters on each bus. Confirm peaks stay below -6 dBFS during the loop.',\n      '<strong>Check master level</strong> — Insert Peak meter on master BEFORE any limiter. Confirm peaks don\\'t exceed -6 dBFS during mixing.',\n      '<strong>Export and verify</strong> — Bounce 20-30 seconds without normalisation. Re-import and verify: no clipping, peaks below ceiling, true peaks safe.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'What is Gain Staging?',\n        content: `Gain staging is the practice of managing signal levels at multiple points in the chain—clip/region gain, plug-in input/output trims, bus levels, and the master—so that you maintain usable headroom and feed processors in ranges they are designed to handle.\n\n**It is NOT the same as \"making everything loud\":** During mixing, you are optimising *consistency and control*, not delivery loudness.\n\n**Simple working definition:** Set a sensible nominal level, keep peaks away from clipping, and keep each processing stage comparable before and after.\n\n**Why this matters after Lesson 1:**\nIn Lesson 1 you built a structured session: tracks feeding group buses, shared returns, and a master output. That routing is the \"map\". Gain staging is the \"traffic control\": it defines how much level hits each part of the map so that meters, processors, buses, and the master behave predictably.`\n      },\n      {\n        title: '0 dBFS, Clipping, and Headroom',\n        content: `**0 dBFS (Digital Full Scale)**\nIn fixed-point digital audio, 0 dBFS represents a hard ceiling. Once you hit it, you can no longer represent higher sample values, and overs (hard clipping) occur.\n\n**Headroom** describes the \"space\" between your typical operating level and the maximum level (onset of clipping).\n\n**Why headroom is not optional:**\nHeadroom allows transient peaks (kick attacks, consonants, snare cracks) and level changes from processing (EQ boosts, resonant filters, make-up gain) to exist without colliding with full scale.\n\n**Mental model:** Averaged musical energy (nominal level) sits lower; short peaks rise above it; headroom is the buffer keeping those peaks safe.\n\n**Floating-point DAWs:**\nModern DAWs use high-headroom floating-point processing. Tracks can go \"into the red\" without internal clipping because of 32-bit floating-point headroom. However, level problems occur when audio *leaves* the DAW (physical I/O, main output, or file export). Clipping inside a plug-in may still be audible and irreversible.`\n      },\n      {\n        title: 'Nominal Level Targets',\n        content: `There is no single universal set of numbers, but the industry commonly uses **-18 dBFS RMS** as a working nominal level because:\n- It aligns with professional calibration conventions\n- Many analogue-modelled plug-ins use this as their 0 VU reference\n- EBU practice points to -18 dBFS as an alignment level\n\n**Level Map Across the Signal Chain:**\n\n| Signal Point | Target | Why It Matters |\n|--------------|--------|----------------|\n| Clip/Region (pre-insert) | ~-18 dBFS RMS | Compressors/analogue processors behave predictably at nominal level |\n| After inserts (per track) | Match input level | Prevents \"louder sounds better\" bias, keeps headroom stable |\n| Group buses | Peaks well below 0 dBFS (e.g., <-6 dBFS) | Bus processing can raise peaks; margin avoids chasing overloads |\n| Master during mixing | Peaks below ~-6 dBFS | Leaves room for mastering, reduces export/codec risk |\n\n**Pre-fader vs Fader:**\nIf you only pull down the channel fader, you may still be driving inserts too hot (most inserts are pre-fader). Use clip/region gain to set the level *before* the channel strip processing.`\n      },\n      {\n        title: 'Plugin Calibration and Level Matching',\n        content: `**Analogue-modelled plug-ins** frequently assume \"-18 dBFS ≈ 0 VU / +4 dBu\" inside their virtual circuit. Some manufacturers document this and allow calibration adjustment.\n\n**Why \"hot sessions\" sound wrong:**\nFeeding a model far above its nominal point causes unexpected over-compression or over-saturation—the plugin isn't broken, it's being misdriven.\n\n**Practical workflow:**\n1. Set clip/region gain so inserts receive sensible average level\n2. Choose processing (EQ, compression, saturation)\n3. Adjust plug-in output so processed and bypassed signals match loudness\n4. Re-check peaks and bus levels after processing\n\n**Input/Output Matching:**\nAlways compare processed vs bypassed at matched levels. Our ears perceive louder as \"better\"—without level matching, you can't make honest decisions about whether processing actually improved the sound.`\n      },\n      {\n        title: 'Metering: Peak vs RMS vs LUFS',\n        content: `You need multiple meter types for different purposes:\n\n**Peak (Sample Peak)**\n- Measures highest discrete sample values\n- Good for tracking and avoiding obvious clipping\n- May miss intersample peaks after reconstruction\n\n**True Peak (dBTP)**\n- Estimates intersample peaks using oversampling\n- More reliable for bounce/export and delivery checks\n- Required for broadcast/streaming compliance\n\n**RMS (Root Mean Square)**\n- Average energy over a time window\n- Useful for setting nominal levels and perceived density\n- Can hide brief peaks; not a delivery standard alone\n\n**LUFS (Loudness Units Full Scale)**\n- Standards-based loudness (ITU-R BS.1770, EBU R128)\n- Uses K-weighting + time windows + gating\n- Relevant to streaming/broadcast normalisation\n- Chasing LUFS during early mixing encourages over-processing; better used as a constraint/check later\n\n**Time Windows (LUFS):**\n- Momentary: 0.4 seconds\n- Short-term: 3 seconds\n- Integrated: entire programme with gating`\n      },\n      {\n        title: 'Diagnosing Gain Staging Problems',\n        content: `**Audible Distortion**\n- Sample clipping at an output stage\n- True-peak overloads after reconstruction/encoding\n- Unintentional saturation inside non-linear plug-ins\n\n**Noise and \"Washy\" Grit**\n- Clips set too quiet, then large amounts of gain added later\n- This raises the recorded noise floor alongside the signal\n\n**Plugins \"Malfunctioning\"**\n- Thresholds feel wrong\n- Compressors clamp too early\n- Analogue models sound overly driven\n- Limiters hit constantly\n- Usually means the device is fed far above nominal calibration\n\n**Signal Flow with Level Checkpoints:**\n\n[Audio Clip]\n  → (A) Clip Gain: target -18 dBFS RMS\n[Track Inserts]\n  → (B) Plugin input trim / 0 VU calibration\n  → (C) Plugin output: level-match for fair A/B\n[Track Fader + Pan]\n[Group Bus]\n  → (D) Bus processing headroom (avoid creeping peaks)\n[Master]\n  → (E) Mixing headroom: peaks below ~-6 dBFS\n[Export]\n  → (F) True Peak check + file verification\n\n**Next Lesson:** EQ decisions become far clearer when input levels are stable. Resonances show up predictably, boosts don't clip downstream, and comparisons remain honest.`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Explain gain staging as a level-management strategy that supports predictable processing and low distortion risk\",\n    \"Set pre-fader levels using clip/region gain so inserts receive consistent nominal levels (~-18 dBFS RMS)\",\n    \"Calibrate and level-match plug-ins (input/output trims, unity gain A/B, analogue-modelled 0 VU references)\",\n    \"Differentiate Peak, True Peak, RMS, and LUFS metering and choose the right meter for each stage\",\n    \"Diagnose gain-staging failures (clipping, noise, compressors misbehaving, plugins sounding 'off')\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Master gain staging to build a solid foundation for all your mixing decisions.\",\n    success: \"Excellent! Your session is properly gain-staged. Ready for EQ work in Lesson 3!\",\n    error: \"Review the nominal level concepts and check your metering setup.\",\n    alreadyCompleted: \"You've mastered gain staging fundamentals. Keep refining your level management!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 2,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "mixing-1"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Gain Staging Fundamentals:",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-2",
    "filename": "lesson-sound-design-2.config.js",
    "title": "LFOs & Modulation:",
    "category": "Sound Design",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Sound Design 2 - LFOs & Modulation\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-sound-design-2-progress\",\n  lessonNumber: 2,\n  lessonCategory: \"Sound Design\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-sound-design-3.html\",\n  prevLessonUrl: \"lesson-sound-design-1.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 2, categoryLabel: \"Sound Design\" }),\n    title: \"LFOs & Modulation:\",\n    titleHighlight: \"Add Movement to Your Sounds\",\n    subtitle: \"Add life and movement to static sounds using low-frequency oscillators (LFOs) and modulation routing. Master professional sound design techniques used in modern music production.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Explore LFOs & Modulation\",\n    description: \"Add life and movement to static sounds using low-frequency oscillators (LFOs) and modulation routing. This lesson covers the essential concepts and practical techniques you need to master this sound design method.\",\n    tip: \"Listen critically to how each parameter affects the sound. Small changes can have dramatic results in sound design.\",\n    steps: [\n      '<strong>Study the theory</strong> — Read through the sound design concepts and understand the signal flow.',\n      '<strong>Analyze the examples</strong> — Listen to reference sounds and identify key characteristics.',\n      '<strong>Experiment with parameters</strong> — Try different settings and hear how they change the sound.',\n      '<strong>Create variations</strong> — Design multiple versions exploring different timbres.',\n      '<strong>Save your presets</strong> — Document successful sounds for future use.',\n      'Complete the lesson when ready to move forward.'\n    ]\n  },\n  \n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Understanding LFOs & Modulation',\n        content: `LFOs & Modulation is a fundamental sound design technique that shapes the sonic character of your productions.\n\n**Key Concepts:**\n- Core synthesis principles and signal flow\n- Parameter relationships and interactions  \n- Frequency spectrum considerations\n- Timbral characteristics and sonic possibilities\n- Common applications in music production\n\n**Professional Applications:**\nModern producers use LFOs & Modulation for:\n- Creating signature sounds and textures\n- Designing genre-specific timbres\n- Building unique sonic identities\n- Crafting sounds that cut through mixes\n- Generating movement and evolution in arrangements\n\nUnderstanding these concepts gives you complete control over your sound palette.`\n      },\n      {\n        title: 'Practical Sound Design Workflow',\n        content: `Professional sound designers follow systematic approaches to achieve desired results:\n\n**Design Process:**\n1. **Define the goal** — Know what sound you're trying to create\n2. **Choose the method** — Select appropriate synthesis technique\n3. **Start simple** — Begin with basic waveforms and build complexity\n4. **Shape with filters** — Sculpt the frequency content\n5. **Add movement** — Use envelopes and modulation\n6. **Layer if needed** — Combine multiple sounds for richness\n7. **Process and polish** — Apply effects and finalize\n\n**Critical Listening:**\n- A/B compare with reference sounds\n- Analyze frequency spectrum with analyzers\n- Check mono compatibility\n- Test in context with other mix elements\n\n**Common Mistakes to Avoid:**\n- Over-processing before establishing the core sound\n- Too many modulation sources creating chaos\n- Ignoring the frequency spectrum balance\n- Not considering the sound's role in the arrangement\n\nStudy professional productions and reverse-engineer the sounds you admire.`\n      }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master the fundamental concepts of LFOs & Modulation\",\n    \"Understand signal flow and parameter relationships\",\n    \"Apply sound design techniques to practical productions\",\n    \"Develop critical listening skills for timbre and texture\",\n    \"Create professional-quality sounds for your productions\"\n  ],\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this lesson to master LFOs & Modulation techniques.\",\n    success: \"Excellent! You've mastered LFOs & Modulation. Your sound design skills are growing!\",\n    error: \"Review the theory and try again.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these techniques!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 2,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "sound-design-1"
    ],
    "outcomes": [
      "Applicare i concetti chiave di LFOs & Modulation:",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "theory-2",
    "filename": "lesson-theory-2.config.js",
    "title": "Major & Minor Scales:",
    "category": "Music Theory Fundamentals",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-theory-2-progress\",\n  lessonNumber: 2,\n  lessonCategory: \"Music Theory Fundamentals\",\n\n  nextLessonUrl: \"lesson-theory-3.html\",\n  prevLessonUrl: \"lesson-theory-1.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 2, categoryLabel: \"Music Theory Fundamentals\" }),\n    title: \"Major & Minor Scales:\",\n    titleHighlight: \"Construction from Intervals\",\n    subtitle: \"Build major and minor scales from scratch using interval formulas. Understand the W-W-H-W-W-W-H pattern that creates every major scale.\"\n  },\n\n  exercise: {\n    title: \"Construct Major and Minor Scales\",\n    description: \"A scale is a collection of notes arranged in ascending or descending order. The major scale is built using a specific pattern of whole steps (W) and half steps (H): W-W-H-W-W-W-H. Natural minor uses: W-H-W-W-H-W-W. These formulas work from any starting note to create all 12 major and minor scales.\",\n    tip: \"The major scale formula W-W-H-W-W-W-H is the most important pattern in Western music. Memorize it completely.\",\n    steps: [\n      '<strong>Start with any note</strong> — Choose your root note (e.g., C, D, F♯). This is scale degree 1.',\n      '<strong>Apply the major scale formula</strong> — W-W-H-W-W-W-H. From C: C→(W)→D→(W)→E→(H)→F→(W)→G→(W)→A→(W)→B→(H)→C.',\n      '<strong>Result: C Major Scale</strong> — C-D-E-F-G-A-B-C. No sharps or flats!',\n      '<strong>Try another key</strong> — Build G major: G→(W)→A→(W)→B→(H)→C→(W)→D→(W)→E→(W)→F♯→(H)→G. One sharp: F♯.',\n      '<strong>Natural Minor Formula</strong> — W-H-W-W-H-W-W. From A: A-B-C-D-E-F-G-A. This is A natural minor (relative to C major).'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Major and Minor Scale Construction',\n        content: `\n**Major Scale Formula: W-W-H-W-W-W-H**\n\nFrom any note, follow this pattern:\n- C major: C-D-E-F-G-A-B-C (no accidentals)\n- G major: G-A-B-C-D-E-F♯-G (one sharp: F♯)\n- F major: F-G-A-B♭-C-D-E-F (one flat: B♭)\n\n**Natural Minor Formula: W-H-W-W-H-W-W**\n\n- A minor: A-B-C-D-E-F-G-A (relative to C major)\n- E minor: E-F♯-G-A-B-C-D-E (relative to G major)\n- D minor: D-E-F-G-A-B♭-C-D (relative to F major)\n\n**Scale Degrees:**\n1. Tonic (root)\n2. Supertonic\n3. Mediant\n4. Subdominant\n5. Dominant\n6. Submediant\n7. Leading tone (major) / Subtonic (minor)\n8. Tonic (octave)\n\n**Relative Major/Minor:**\nEvery major scale has a relative minor that shares the same notes, starting from the 6th degree:\n- C major ↔ A minor (both have no sharps/flats)\n- G major ↔ E minor (both have F♯)\n        `\n      },\n      {\n        title: 'Practical Scale Building Workflow',\n        content: `\n**Step-by-Step Construction:**\n\n1. **Choose your root note** — Any of the 12 notes (C, C♯/D♭, D, etc.)\n2. **Write out the formula** — W-W-H-W-W-W-H for major\n3. **Apply intervals** — Count whole and half steps precisely\n4. **Check your work** — Should have 7 different letter names (A-B-C-D-E-F-G)\n5. **Add accidentals as needed** — Sharps or flats maintain the formula\n\n**Common Mistakes:**\n- Using the same letter name twice (e.g., D and D♯ in same scale)\n- Missing a letter name (must use all 7: A through G)\n- Forgetting E-F and B-C are natural half steps\n\n**Why Scales Matter:**\n- Chords are built from scale degrees (1-3-5, 2-4-6, etc.)\n- Melodies use scale notes to stay \"in key\"\n- Key signatures are derived from scale construction\n- Modes are built by starting scales on different degrees\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Construct major scales using the W-W-H-W-W-W-H formula\",\n    \"Build natural minor scales using the W-H-W-W-H-W-W formula\",\n    \"Understand scale degrees and their functional names\",\n    \"Identify relative major/minor relationships\",\n    \"Apply scale construction to any root note\"\n  ]\n};\n",
    "number": 2,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "theory-1"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Major & Minor Scales:",
      "Prepararsi alla lezione successiva del modulo Music Theory Fundamentals"
    ]
  },
  {
    "slug": "vocals-2",
    "filename": "lesson-vocals-2.config.js",
    "title": "Vocal Recording Techniques:",
    "category": "Vocals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Vocals 2 - Vocal Recording Techniques\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-vocals-2-progress\",\n  lessonNumber: 2,\n  lessonCategory: \"Vocals\",\n  \n  nextLessonUrl: \"lesson-vocals-3.html\",\n  prevLessonUrl: \"lesson-vocals-1.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 2, categoryLabel: \"Vocals\" }),\n    title: \"Vocal Recording Techniques:\",\n    titleHighlight: \"Mic Technique & Multiple Takes\",\n    subtitle: \"Master proper microphone technique, gain staging, and capturing multiple takes for comping. Master professional vocal production techniques for commercial-quality results.\"\n  },\n  \n  exercise: {\n    title: \"Master Vocal Recording Techniques\",\n    description: \"Master proper microphone technique, gain staging, and capturing multiple takes for comping. This lesson covers the essential vocal production techniques used in professional recordings.\",\n    tip: \"Vocals are usually the focal point of a track. Spend extra time getting them right - they make or break the production.\",\n    steps: [\n      '<strong>Study vocal production theory</strong> — Understand the concepts and workflow.',\n      '<strong>Analyze reference vocals</strong> — Listen to professional vocal productions in your genre.',\n      '<strong>Apply the techniques</strong> — Practice the specific vocal processing methods.',\n      '<strong>Critical listening</strong> — Compare your results to professional standards.',\n      '<strong>Iterate and refine</strong> — Make adjustments based on what you hear.',\n      'Complete when you understand the practical application.'\n    ]\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Understanding Vocal Recording Techniques',\n        content: `Vocal Recording Techniques is crucial for achieving professional vocal productions that compete with commercial releases.\n\n**Core Concepts:**\n- Vocal recording and production fundamentals\n- Technical requirements and equipment considerations\n- Signal flow and processing chain order\n- Common issues and how to solve them\n- Genre-specific approaches and standards\n\n**Professional Workflow:**\n1. **Preparation** — Set up properly before recording\n2. **Capture** — Record high-quality source material\n3. **Edit** — Clean up and comp the best takes\n4. **Process** — Apply corrective and creative processing\n5. **Mix** — Blend vocals perfectly with the track\n6. **Finalize** — Ensure vocals translate across systems\n\n**Critical Factors:**\n- **Source quality** — Good recording = easier mixing\n- **Performance** — Technical skill matters more than processing\n- **Context** — Vocals must serve the song\n- **Reference** — Always compare to professional standards\n\nProfessional vocal producers understand that Vocal Recording Techniques is both technical skill and artistic judgment.`\n      },\n      {\n        title: 'Professional Vocal Production Techniques',\n        content: `Apply Vocal Recording Techniques in your productions with professional approaches:\n\n**Recording Best Practices:**\n- Proper mic placement and distance\n- Optimal gain staging and headroom\n- Multiple takes for comping\n- Consistent recording environment\n- Reference monitoring and acoustics\n\n**Processing Workflow:**\n1. **Clean up** — Remove unwanted sounds and noise\n2. **Tune** — Correct pitch issues (subtle or creative)\n3. **Time align** — Fix timing and rhythm issues\n4. **EQ** — Remove muddiness, add presence\n5. **Compress** — Control dynamics and consistency\n6. **De-ess** — Tame harsh sibilance\n7. **FX** — Add reverb, delay, modulation\n\n**Common Vocal Issues:**\n- **Muddiness** — High-pass filter at 80-100 Hz\n- **Harshness** — De-ess or cut 6-8 kHz\n- **Lack of presence** — Boost 3-5 kHz subtly\n- **Inconsistent levels** — Compression and automation\n- **Poor timing** — Edit before processing\n- **Pitch issues** — Tune before heavy processing\n\n**Genre Considerations:**\nDifferent genres require different vocal approaches:\n- **Pop** — Polished, present, tuned, compressed\n- **Hip-Hop** — Dry, upfront, minimal reverb\n- **R&B** — Smooth, warm, layered harmonies\n- **Rock** — Raw energy, less processing\n- **Electronic** — Creative effects, vocoders, pitch shifts\n\nStudy vocal productions in your genre and understand what makes them work.`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Master professional vocal production techniques\",\n    \"Understand the complete vocal workflow from recording to mixing\",\n    \"Apply genre-specific vocal processing approaches\",\n    \"Develop critical listening skills for vocal production\",\n    \"Create commercial-quality vocal recordings\"\n  ],\n  \n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this vocal production lesson to advance.\",\n    success: \"Excellent! You've mastered Vocal Recording Techniques. Your vocal productions are pro-level!\",\n    error: \"Review the vocal production concepts and try again.\",\n    alreadyCompleted: \"You've completed this vocal technique. Keep refining your skills!\"\n  }),\n  \n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 2,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "vocals-1"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Vocal Recording Techniques:",
      "Prepararsi alla lezione successiva del modulo Vocals"
    ]
  },
  {
    "slug": "arrangement-3",
    "filename": "lesson-arrangement-3.config.js",
    "title": "Arrange a Complete Track:",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 3 - Arrange a Complete Track (Capstone)\n * \n * This is the capstone lesson where students create a full 3-4 minute\n * arrangement using everything learned in the module.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-arrangement-3-progress\",\n  lessonNumber: 3,\n  lessonCategory: \"Arrangement\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"labs.html\",\n  prevLessonUrl: \"lesson-arrangement-2.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 3, categoryLabel: \"Arrangement\" }),\n    title: \"Arrange a Complete Track:\",\n    titleHighlight: \"Your First Full Song\",\n    subtitle: \"This is it—put <strong>everything together</strong>. Build a complete 3-4 minute track from scratch, using sections from Lesson 1 and transitions from Lesson 2. Create a <strong>professional arrangement</strong> ready to fill with your own sounds.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Build Your Complete Track\",\n    description: \"Create a full arrangement with 80-120 bars, at least 2 peak sections, proper intro/outro, and transitions between every section change.\",\n    tip: \"Start with a template structure you know works, then customize it. Learn the rules first, then break them intentionally.\",\n    steps: [\n      { text: \"<strong>Choose your genre</strong> — Pop/Rock or EDM (changes recommended sections).\" },\n      { text: \"<strong>Add sections</strong> — Click buttons to add sections to your timeline.\" },\n      { text: \"<strong>Add transitions</strong> — Select a transition tool, then click after sections to place it.\" },\n      { text: \"<strong>Check the checklist</strong> — Make sure all requirements are met.\" },\n      { text: \"<strong>Validate your arrangement</strong> — Click \\\"Complete Track\\\" when ready!\" }\n    ]\n  },\n  \n  // ====================\n  // GENRE PRESETS\n  // ====================\n  genres: {\n    pop: {\n      name: \"Pop/Rock\",\n      icon: \"🎤\",\n      sections: [\n        { type: \"intro\", bars: 8, energy: 25 },\n        { type: \"verse\", bars: 16, energy: 50 },\n        { type: \"prechorus\", bars: 8, energy: 65 },\n        { type: \"chorus\", bars: 16, energy: 90 },\n        { type: \"bridge\", bars: 8, energy: 55 },\n        { type: \"outro\", bars: 8, energy: 20 }\n      ]\n    },\n    edm: {\n      name: \"EDM\",\n      icon: \"🎧\",\n      sections: [\n        { type: \"intro\", bars: 8, energy: 25 },\n        { type: \"buildup\", bars: 8, energy: 70 },\n        { type: \"drop\", bars: 16, energy: 100 },\n        { type: \"breakdown\", bars: 8, energy: 40 },\n        { type: \"outro\", bars: 8, energy: 20 }\n      ]\n    }\n  },\n  \n  // ====================\n  // TEMPLATES\n  // ====================\n  templates: {\n    pop: [\n      { type: \"intro\", bars: 8, energy: 25 },\n      { type: \"fill\", isTransition: true },\n      { type: \"verse\", bars: 16, energy: 50 },\n      { type: \"fill\", isTransition: true },\n      { type: \"prechorus\", bars: 8, energy: 65 },\n      { type: \"riser\", isTransition: true },\n      { type: \"chorus\", bars: 16, energy: 90 },\n      { type: \"fall\", isTransition: true },\n      { type: \"verse\", bars: 16, energy: 55 },\n      { type: \"fill\", isTransition: true },\n      { type: \"chorus\", bars: 16, energy: 95 },\n      { type: \"filter\", isTransition: true },\n      { type: \"bridge\", bars: 8, energy: 60 },\n      { type: \"riser\", isTransition: true },\n      { type: \"chorus\", bars: 16, energy: 100 },\n      { type: \"fall\", isTransition: true },\n      { type: \"outro\", bars: 8, energy: 20 }\n    ],\n    edm: [\n      { type: \"intro\", bars: 8, energy: 25 },\n      { type: \"filter\", isTransition: true },\n      { type: \"buildup\", bars: 16, energy: 70 },\n      { type: \"riser\", isTransition: true },\n      { type: \"drop\", bars: 16, energy: 100 },\n      { type: \"fall\", isTransition: true },\n      { type: \"breakdown\", bars: 8, energy: 40 },\n      { type: \"filter\", isTransition: true },\n      { type: \"buildup\", bars: 8, energy: 75 },\n      { type: \"riser\", isTransition: true },\n      { type: \"drop\", bars: 16, energy: 100 },\n      { type: \"fall\", isTransition: true },\n      { type: \"outro\", bars: 8, energy: 20 }\n    ]\n  },\n  \n  // ====================\n  // VALIDATION RULES\n  // ====================\n  validation: {\n    minBars: 80,\n    maxBars: 120,\n    minPeaks: 2,\n    peakTypes: [\"chorus\", \"drop\"],\n    requireIntro: true,\n    requireOutro: true,\n    minTransitions: 2,\n    requireEnergyVariety: true,\n    energyVarietyThreshold: 30 // Difference between max and min energy\n  },\n  \n  // ====================\n  // CHECKLIST ITEMS\n  // ====================\n  checklist: [\n    { key: \"intro\", label: \"Has Intro\" },\n    { key: \"outro\", label: \"Has Outro\" },\n    { key: \"peaks\", label: \"2+ Peak Sections\" },\n    { key: \"length\", label: \"80-120 Bars\" },\n    { key: \"transitions\", label: \"Has Transitions\" },\n    { key: \"energy\", label: \"Energy Variety\" }\n  ],\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Build your arrangement to meet all checklist requirements.\",\n    success: \"Amazing! You've created a complete, professional arrangement!\",\n    error: \"Almost there! Check the requirements that aren't checked yet.\",\n    alreadyCompleted: \"You've completed this module! Feel free to experiment more.\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"fullTrack\",\n    sandbox: false,\n    showChecklist: true,\n    showEnergyGraph: true,\n    enableUndo: true,\n    enableTemplates: true,\n    enableGenreSwitch: true\n  },\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"Creating Your First Complete Track\",\n        content: `\n**The Milestone Moment:**\nThis is where everything clicks. You've learned song structure (Lesson 1) and transitions (Lesson 2). Now you'll apply both skills simultaneously to create a full, professional arrangement. This isn't just an exercise—it's your first complete track template that you can fill with your own sounds and release.\n\n**Why This Matters:**\nMost beginner producers never finish tracks. They create amazing loops, collect presets, watch tutorials, but never reach the finish line. Why? Because they don't understand arrangement structure. They can make a great 8-bar loop but don't know how to turn it into a 3-minute song. This lesson solves that problem once and for all.\n\n**The Capstone Approach:**\nThis is a \"capstone\" lesson—it combines everything you've learned in this module into one complete deliverable. Think of it as your final exam, except instead of a grade, you get a finished track template that proves you can structure songs professionally.\n\n**What You're Building:**\nA complete 80-120 bar arrangement (roughly 3-4 minutes at 120 BPM) with proper structure, transitions, energy flow, and professional pacing. Once you finish this exercise, you'll have a blueprint you can reuse for every future track. Change the sounds, adjust the tempo, modify the sections slightly—but the structural foundation will work every time.\n\n**The Two Paths (Pop vs EDM):**\nWe provide two genre templates because they approach energy and structure differently:\n\n**Pop/Rock Structure** prioritizes storytelling and vocal hooks. The energy builds gradually, with verses providing narrative context and choruses delivering emotional peaks. This structure has dominated popular music for 60+ years because it mirrors human communication patterns—setup, then payoff, then variation, then bigger payoff.\n\n**EDM Structure** prioritizes physical response and energy manipulation. Buildups create unbearable tension, drops release it explosively, and breakdowns provide recovery time before the next cycle. This structure is optimized for dance floors where energy directly translates to movement.\n\nBoth structures work. Your choice depends on your goals: vocal-focused track with lyrics? Choose pop. Instrumental club banger? Choose EDM. Want to blend both? That's advanced, but absolutely possible once you master each individually.\n        `\n      },\n      {\n        title: \"The Professional Arrangement Checklist\",\n        content: `\nEvery professional track, regardless of genre, includes these six essential elements:\n\n**1. Has a Clear Intro (4-8 bars):**\nThe intro's job is simple: hook the listener in under 15 seconds. In the streaming era, you have seconds to grab attention before people skip. Professional intros establish the vibe immediately—often featuring the signature hook or a stripped-down version of the chorus. Keep it short, keep it catchy, establish the tempo and key instantly.\n\n**2. Has a Definitive Outro (4-8 bars):**\nOutros provide closure and leave a lasting impression. The best outros reference the intro (creating symmetry) or introduce a final memorable hook. Don't just fade out randomly—plan your ending as carefully as your beginning. DJs appreciate clean outros because they make mixing easier.\n\n**3. Contains 2+ Peak Sections (Choruses or Drops):**\nPeaks are your \"money moments\"—the parts people remember and return to. One peak makes a track feel incomplete. Two peaks create satisfaction. Three peaks can work but risks overstaying your welcome. Space peaks appropriately: in pop, chorus 1 around 0:45, chorus 2 around 1:45, final chorus around 2:30. In EDM, drop 1 around 1:00, drop 2 around 2:15.\n\n**4. Length: 80-120 Bars (2:30-4:00 at 120 BPM):**\nThis isn't arbitrary—it's based on attention span research and industry standards:\n- Under 2:30: Feels incomplete, radio won't play it, streaming algorithms penalize it\n- 2:30-3:30: Sweet spot for most genres, especially pop/EDM\n- 3:30-4:00: Great for tracks with strong variation, allows for development\n- Over 4:00: Better be prog-house, trance, or exceptionally engaging\n\nLonger doesn't mean better. Make every bar count.\n\n**5. Uses Transitions Between Section Changes:**\nEvery section change needs a transition—risers before drops, fills before choruses, filter sweeps between verses. Transitions are non-negotiable. Even subtle ones (just a drum fill) make the difference between amateur and professional. Listen to any professional track: you'll find transitions every 4-8 bars minimum.\n\n**6. Maintains Energy Variety (30+ Energy Range):**\nEnergy variety = listener engagement. If every section sits at 70-80% energy, the track feels flat and boring. Professional arrangements create contrast: quiet moments make loud moments feel massive. Aim for at least a 30-point energy difference between your lowest and highest sections. Low-energy breakdowns make high-energy drops feel explosive.\n        `\n      },\n      {\n        title: \"Applying This in Your DAW - The Practical Workflow\",\n        content: `\n**Step 1: Create Your Sections as Audio/MIDI Blocks**\nBefore arranging, create the building blocks:\n- 8-bar verse loop\n- 16-bar chorus loop\n- 8-bar breakdown loop\n- 8-bar buildup (increasing intensity)\n\nColor-code these in your DAW (Verse = blue, Chorus = red, etc.) for visual clarity.\n\n**Step 2: Use Markers/Locators for Section Planning**\nBefore placing a single sound, mark out your structure:\n- Bar 1-8: Intro\n- Bar 9-24: Verse 1\n- Bar 25-40: Chorus 1\n- etc.\n\nThis gives you a roadmap. Pro producers plan structure before arranging sounds—it prevents writer's block and ensures proper pacing.\n\n**Step 3: Duplicate and Vary Your Sections**\nDon't create entirely new material for Verse 2—duplicate Verse 1 and make small changes:\n- Add a new melodic layer\n- Change drum pattern slightly\n- Adjust filter frequencies\n- Add background vocals or effects\n\nThis creates variety while maintaining cohesion. The listener recognizes it's still \"the verse\" but hears progression.\n\n**Step 4: Add Transitions at Every Section Boundary**\nNever let two sections slam together without a transition:\n- Verse → Chorus: Drum fill + riser (2 bars)\n- Chorus → Breakdown: Fall + filter close (1-2 bars)\n- Breakdown → Buildup: Filter opening + light riser (4 bars)\n- Buildup → Drop: Heavy riser + silence (8 bars + 1 beat gap)\n\n**Step 5: Check Energy Flow Visually**\nZoom out in your DAW and look at the waveform. You should see:\n- Quieter intro and outro\n- Energy peaks at choruses/drops\n- Valleys at breakdowns\n- Gradual buildups (increasing waveform density)\n\nIf the waveform looks flat throughout, your arrangement lacks dynamic range.\n\n**Common Mistakes to Avoid:**\n- **Starting with sounds, not structure**: Build the arrangement skeleton first, add sounds later\n- **Copy-pasting choruses identically**: Each repeat should add something new\n- **Ignoring the 2:30 mark**: If nothing exciting happens by 2:30, listeners will skip\n- **Over-arranging**: Sometimes fewer, well-placed sections beat cluttered arrangements\n- **No reference track**: Pull up a professional track in your genre and compare structure length, section timing, and energy flow\n\n**Pro Tip - The Template Method:**\nOnce you complete this exercise, save your arrangement as a template. Next track? Load the template, delete the sounds, keep the structure, replace with new material. Professional producers reuse proven structures constantly—there's no prize for reinventing song structure from scratch every time. Master one structure, then create variations.\n\nThe goal isn't to make the most unique arrangement ever—it's to make an arrangement that works, that you can finish, and that listeners enjoy from start to finish. Uniqueness comes from your sounds and melodies, not from experimental 17-section song structures.\n        `\n      }\n    ]\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Create a complete 3-4 minute song arrangement from scratch\",\n    \"Apply song structure principles (intro, verse, chorus, bridge, outro)\",\n    \"Use appropriate transitions between all section changes\",\n    \"Maintain proper energy flow with peaks and valleys\",\n    \"Work within professional timing constraints (4/8 bar phrases, 80-120 total bars)\"\n  ],\n  \n  // ====================\n  // MODULE COMPLETION\n  // ====================\n  moduleCompletion: {\n    moduleName: \"Arrangement & Songwriting\",\n    nextModules: [\n      { slug: \"sound-design\", title: \"Sound Design\" },\n      { slug: \"mixing\", title: \"Mixing\" }\n    ]\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 3,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "arrangement-2"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Arrange a Complete Track:",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-3",
    "filename": "lesson-bass-3.config.js",
    "title": "Simple Bassline:",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 3 - Simple Bassline:\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-3-progress\",\n  lessonNumber: 3,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-4.html\",\n  prevLessonUrl: \"lesson-bass-2.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 3, categoryLabel: \"Bass & Low End\" }),\n    title: \"Simple Bassline:\",\n    titleHighlight: \"Stepwise Motion\",\n    subtitle: \"Create your first moving bassline. Use stepwise motion (neighboring notes) to build smooth, musical bass patterns that connect different chords and create forward momentum.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    bars: 1,\n    noteRange: { min: 36, max: 60 }, // C2 to C4 (bass range)\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Build a Stepwise Bassline\",\n    description: \"Stepwise motion means moving to neighboring notes (C → D → E) rather than jumping large intervals. This creates smooth, singable basslines that feel natural and musical.\",\n    tip: \"Stepwise basslines are easier to follow and remember. They sound 'vocal' because they move like a singer would.\",\n    steps: ['Place <strong>C3 on step 1</strong> (root note).', 'Add <strong>D3 on step 5</strong> (one step up).', 'Add <strong>E3 on step 9</strong> (another step up).', 'Add <strong>F3 on step 13</strong> (final step up).', 'Listen to the smooth ascending motion, then click <strong>Check Exercise</strong>.']\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [{'title': 'Stepwise vs Skip Motion', 'content': '**Stepwise motion**: Moving to adjacent scale degrees (C→D, D→E)\\n- Smooth, easy to follow\\n- Vocal, singable quality\\n- Creates gentle momentum\\n\\n**Skip motion**: Jumping intervals (C→E, C→G)\\n- More dramatic\\n- Can sound jumpy or disconnected\\n- Requires careful use\\n\\nMost great basslines use primarily stepwise motion with occasional skips for emphasis.'}]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [{'pitch': 48, 'step': 0, 'duration': 1}, {'pitch': 50, 'step': 4, 'duration': 1}, {'pitch': 52, 'step': 8, 'duration': 1}, {'pitch': 53, 'step': 12, 'duration': 1}],\n    highlightScale: [48, 50, 52, 53, 55, 57, 59, 60], // C major scale in bass range\n    showChordDetection: false,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete the bass pattern exercise.\",\n    success: \"Excellent! You've mastered this bass technique.\",\n    error: \"Not quite. Check the target pattern and try again.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 3,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "bass-2"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Simple Bassline:",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-3",
    "filename": "lesson-drums-3.config.js",
    "title": "Hi-hats in 1/8:",
    "category": "Drum pattern",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Drums 3 - Hi-hats in 1/8 (Feel Subdivisions)\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-lesson3-progress\",\n  lessonNumber: 3,\n  lessonCategory: \"Drum pattern\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-drums-4.html\",\n  prevLessonUrl: \"lesson-drums-2.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 3, categoryLabel: \"Drum pattern\" }),\n    title: \"Hi-hats in 1/8:\",\n    titleHighlight: \"feel subdivisions\",\n    subtitle: \"Program hi-hats on every eighth note to hear the & subdivisions (<span class=\\\"nowrap\\\">1 & 2 & 3 & 4 &</span>).\"\n  },\n  \n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    swing: 0,\n    enableVelocity: true, // Enable velocity control for practice\n    requiredTempo: 120\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Add Hi-Hats on Eighth Notes\",\n    description: \"Time to add <strong>hi-hats</strong> playing eighth notes (1 & 2 & 3 & 4 &). This fills in the space between kicks and makes the groove feel more energetic.\",\n    tip: \"Count '1 & 2 & 3 & 4 &' - the hi-hat plays on every number AND every '&'!\",\n    steps: [\n      { text: \"<strong>Set the tempo to 120 BPM</strong> using the Tempo slider.\" },\n      { text: \"<strong>Kick row:</strong> Steps <strong>1, 5, 9, 13</strong> (quarter notes).\" },\n      { text: \"<strong>Snare row:</strong> Steps <strong>5 and 13</strong> (backbeat).\" },\n      { text: \"<strong>Hi-Hat row:</strong> Click <strong>every odd step: 1, 3, 5, 7, 9, 11, 13, 15</strong>.\" },\n      { text: \"The hi-hats play twice as fast as the kick, creating the \\\"pulse\\\" of the beat.\" }\n    ]\n  },\n  \n  // ====================\n  // INSTRUMENTS CONFIG\n  // ====================\n  instruments: [\n    {\n      id: \"kick\",\n      label: \"Kick\",\n      color: \"linear-gradient(135deg,#ff5a3d,#ffb28a)\",\n      targetSteps: [0, 4, 8, 12],\n      instructionText: \"Kick: 4 on the floor pattern (locked from L2).\",\n      patternHint: { label: \"Kick\" }\n    },\n    {\n      id: \"snare\",\n      label: \"Snare\",\n      color: \"linear-gradient(135deg,#5f4dff,#8a9bff)\",\n      targetSteps: [4, 12],\n      instructionText: \"Snare: Backbeat on 2 and 4 (locked from L2).\",\n      patternHint: { label: \"Snare\" }\n    },\n    {\n      id: \"hihat\",\n      label: \"Hi-Hat\",\n      color: \"linear-gradient(135deg,#00d4ff,#b8ffdd)\",\n      targetSteps: [0, 2, 4, 6, 8, 10, 12, 14],\n      instructionText: \"Hi-Hat: Program the eighth-note pattern (1 & 2 & 3 & 4 &). It should hit every odd step.\",\n      patternHint: { label: \"Hi-Hat\" }\n    }\n  ],\n  \n  // ====================\n  // PATTERN HINT CONFIG\n  // ====================\n  patternHint: {\n    enabled: true,\n    note: \"Hi-hat on every eighth note: steps 1, 3, 5, 7, 9, 11, 13, 15\"\n  },\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"drums\", {\n    initial: \"Add hi-hats on eighth notes to unlock the next lesson.\",\n    success: \"Correct! You've mastered eighth-note hi-hats. Proceed to the next lesson.\",\n    error: \"Not quite right. Check that hi-hats are on all odd steps (1, 3, 5, 7, 9, 11, 13, 15)!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 3,
    "access": "free",
    "difficulty": "beginner",
    "prerequisites": [
      "drums-2"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Hi-hats in 1/8:",
      "Prepararsi alla lezione successiva del modulo Drum pattern"
    ]
  },
  {
    "slug": "ear-3",
    "filename": "lesson-ear-3.config.js",
    "title": "Chord Quality:",
    "category": "Ear Training",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-ear-3-progress\",\n  lessonNumber: 3,\n  lessonCategory: \"Ear Training\",\n\n  nextLessonUrl: \"lesson-ear-4.html\",\n  prevLessonUrl: \"lesson-ear-2.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 3, categoryLabel: \"Ear Training\" }),\n    title: \"Chord Quality:\",\n    titleHighlight: \"Major, Minor, Dim, Aug\",\n    subtitle: \"Distinguish between major, minor, diminished, and augmented triads by ear. Build the foundation for advanced chord recognition.\"\n  },\n\n  exercise: {\n    title: \"Identify Chord Quality by Ear\",\n    description: \"Chord quality refers to the characteristic sound of a chord based on its interval structure. Major chords sound bright and happy. Minor chords sound dark and sad. Diminished chords sound tense and unstable. Augmented chords sound dreamy and unresolved. Training your ear to instantly recognize these qualities is essential for transcription and chord progression analysis.\",\n    tip: \"Major = happy/bright. Minor = sad/dark. Diminished = tense/spooky. Augmented = weird/floating/unresolved.\",\n    steps: [\n      '<strong>Major Triad</strong> — Root + M3 + P5. Bright, happy, stable. Example: C-E-G. Most common in pop music.',\n      '<strong>Minor Triad</strong> — Root + m3 + P5. Dark, sad, emotional. Example: C-Eb-G. Very common in ballads.',\n      '<strong>Diminished Triad</strong> — Root + m3 + dim5. Tense, spooky, unstable. Example: C-Eb-Gb. Wants to resolve.',\n      '<strong>Augmented Triad</strong> — Root + M3 + aug5. Dreamy, floating, mysterious. Example: C-E-G#. Rare, used for color.',\n      '<strong>Practice Method</strong> — Play chords randomly, guess the quality before checking. Start slow, increase speed as you improve.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Chord Quality',\n        content: \\`\n**The Four Basic Triad Qualities:**\n\n**Major Triad:**\n- Structure: Root + Major 3rd (4 semitones) + Perfect 5th (7 semitones from root)\n- Interval stack: M3 + m3\n- Example: C major = C-E-G\n- Sound: Happy, bright, stable, resolved\n- Emotional: Joy, triumph, confidence\n- Usage: Pop, rock, classical, most common chord type\n\n**Minor Triad:**\n- Structure: Root + minor 3rd (3 semitones) + Perfect 5th\n- Interval stack: m3 + M3\n- Example: C minor = C-Eb-G\n- Sound: Sad, dark, melancholic\n- Emotional: Sorrow, introspection, mystery\n- Usage: Ballads, emotional sections, relative minor in progressions\n\n**Diminished Triad:**\n- Structure: Root + minor 3rd + diminished 5th (6 semitones from root)\n- Interval stack: m3 + m3\n- Example: C diminished = C-Eb-Gb\n- Sound: Tense, unstable, spooky, ominous\n- Emotional: Suspense, danger, unresolved tension\n- Usage: Passing chords, horror scores, jazz (vii° chord)\n\n**Augmented Triad:**\n- Structure: Root + Major 3rd + augmented 5th (8 semitones from root)\n- Interval stack: M3 + M3\n- Example: C augmented = C-E-G#\n- Sound: Dreamy, floating, mysterious, unresolved\n- Emotional: Surreal, otherworldly, ambiguous\n- Usage: Rare, jazz, impressionist music, film scores for weird scenes\n\n**Key Interval Differences:**\n- Major vs Minor: 3rd (M3 vs m3) - most obvious difference\n- Minor vs Diminished: 5th (P5 vs dim5) - added tension\n- Major vs Augmented: 5th (P5 vs aug5) - floating quality\n\n**Recognition Strategy:**\n1. First, determine if it sounds stable or unstable (major/minor = stable, dim/aug = unstable)\n2. If stable, is it bright (major) or dark (minor)?\n3. If unstable, is it tense/ominous (diminished) or dreamy/floating (augmented)?\n        \\`\n      },\n      {\n        title: 'Practical Chord Quality Training',\n        content: \\`\n**Training Exercises:**\n\n**Exercise 1: Binary Comparison**\n- Week 1: Major vs. Minor only\n- Play random major/minor chords\n- Goal: 95% accuracy before moving on\n- This is the most important distinction\n\n**Exercise 2: Add Diminished**\n- Week 2: Major vs. Minor vs. Diminished\n- Diminished is clearly unstable (helps distinguish it)\n- Focus on the dim5 interval sound\n\n**Exercise 3: Full Four-Way**\n- Week 3+: All four qualities randomly\n- Augmented is rare but important for jazz/film music\n- Practice until automatic recognition\n\n**Contextual Training:**\n- Hear chords in progressions, not isolation\n- Example: I-vi-IV-V in C major: C(maj)-Am(min)-F(maj)-G(maj)\n- Example: i-VI-III-VII in A minor: Am(min)-F(maj)-C(maj)-G(maj)\n\n**Advanced: Quality + Inversion**\n- Root position: C-E-G (major)\n- 1st inversion: E-G-C (major, but different bass)\n- 2nd inversion: G-C-E (major, but different bass)\n- Same quality, different voicing\n\n**Transcription Application:**\n1. Listen to a song\n2. Identify root notes (bass line)\n3. Determine chord quality (major/minor/dim/aug)\n4. Write chord symbols (C, Am, Bdim, Faug)\n\n**Common Mistakes:**\n- Confusing inversions with different qualities\n- Not listening to the 3rd (it defines major vs minor)\n- Ignoring the 5th (it defines dim vs aug)\n- Practicing too fast (accuracy > speed initially)\n\n**Song Examples:**\n- **Major chords**: Most pop choruses, happy songs\n- **Minor chords**: \"Stairway to Heaven\" intro, \"Losing My Religion\"\n- **Diminished chords**: \"Somewhere Over the Rainbow\" (F#dim), passing chords in jazz\n- **Augmented chords**: Rare, but in \"Oh! Darling\" (Beatles), certain jazz standards\n\n**DAW Practice:**\n- Create 4 MIDI tracks with random triads\n- Label them 1, 2, 3, 4\n- Play in random order, identify quality\n- Check MIDI notes to verify\n        \\`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Instantly distinguish major from minor triads by ear\",\n    \"Identify diminished chords by their unstable, tense quality\",\n    \"Recognize augmented chords by their floating, unresolved sound\",\n    \"Apply chord quality recognition to song transcription\",\n    \"Understand the emotional and functional differences between qualities\"\n  ]\n};\n",
    "number": 3,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "ear-2"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Chord Quality:",
      "Prepararsi alla lezione successiva del modulo Ear Training"
    ]
  },
  {
    "slug": "harmony-3",
    "filename": "lesson-harmony-3.config.js",
    "title": "Feel Tension:",
    "category": "Chord Fundamentals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 3 - Feel Tension: I to V\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-harmony-3-progress\",\n  lessonNumber: 3,\n  lessonCategory: \"Chord Fundamentals\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-harmony-4.html\",\n  prevLessonUrl: \"lesson-harmony-2.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 3, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Feel Tension:\",\n    titleHighlight: \"I to V\",\n    subtitle: \"Create a two-chord loop that feels like 'home → pull → home.' You'll build the I (tonic) to V (dominant) progression that drives countless songs. This teaches you how chords don't just sit there - they move with purpose, creating tension and resolution that listeners crave.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 90,\n    key: \"C\",\n    scale: \"Major\",\n    stepCount: 32,\n    bars: 2,\n    pitchRange: {\n      low: 48,  // C3\n      high: 74  // D5 (to accommodate higher G chord voicing)\n    }\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Build I to V (C to G)\",\n    description: \"The <strong>I (tonic)</strong> chord feels stable and complete, while the <strong>V (dominant)</strong> chord creates tension that wants to resolve back to I. Build <strong>C major (I)</strong> in bar 1 and <strong>G major (V)</strong> in bar 2 to hear this fundamental relationship.\",\n    tip: \"When you loop these two chords, the G chord should feel like it's pulling you back to C. If you stop playback on G, it will feel incomplete - that's the tension you're learning to create.\",\n    steps: [\n      { text: \"Bar 1 beat 1: Place <strong>C major (I)</strong> - C4, E4, G4\" },\n      { text: \"Make the chord sustain for the full bar (4 beats)\" },\n      { text: \"Bar 2 beat 1: Place <strong>G major (V)</strong> - G4, B4, D5\" },\n      { text: \"Make this chord also sustain for the full bar\" },\n      { text: \"Loop both bars and listen for the <strong>pull</strong> from G back to C\" },\n      { text: \"Try stopping on the G chord - it should feel unresolved\" }\n    ]\n  },\n\n  // ====================\n  // VALIDATION CONFIG\n  // ====================\n  validation: {\n    type: \"chord_progression\",\n    requiredChords: [\n      {\n        name: \"C Major (I)\",\n        pitches: [60, 64, 67],  // C4, E4, G4\n        time: 0,  // Bar 1\n        function: \"tonic\"\n      },\n      {\n        name: \"G Major (V)\",\n        pitches: [67, 71, 74],  // G4, B4, D5 (or allow [55, 59, 62] for G3, B3, D4)\n        time: 16,  // Bar 2 (assuming 16 steps = 1 bar)\n        function: \"dominant\"\n      }\n    ],\n    allowInversions: false,\n    allowExtraNotes: false,\n    allowAlternateVoicings: true  // Allow G3-B3-D4 as alternative to G4-B4-D5\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Build the I to V progression (C major to G major) to hear tension and resolution.\",\n    success: \"Perfect! You've created your first chord progression. You now understand how chords create tension (V) and resolution (I).\",\n    error: \"Check your chords: Bar 1 should have C-E-G (I), and bar 2 should have G-B-D (V). Make sure they're on beat 1 of each bar.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 3,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "harmony-2"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Feel Tension:",
      "Prepararsi alla lezione successiva del modulo Chord Fundamentals"
    ]
  },
  {
    "slug": "mastering-3",
    "filename": "lesson-mastering-3.config.js",
    "title": "Mastering EQ:",
    "category": "Mastering",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mastering 3 - Mastering EQ\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mastering-3-progress\",\n  lessonNumber: 3,\n  lessonCategory: \"Mastering\",\n\n  nextLessonUrl: \"lesson-mastering-4.html\",\n  prevLessonUrl: \"lesson-mastering-2.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 3, categoryLabel: \"Mastering\" }),\n    title: \"Mastering EQ:\",\n    titleHighlight: \"Linear Phase & Mid-Side Processing\",\n    subtitle: \"Master the art of subtle tonal shaping using linear phase EQ for transparency and mid-side processing for surgical stereo control\"\n  },\n\n  exercise: {\n    title: \"Apply Mastering EQ with Precision\",\n    description: \"Use linear phase and mid-side EQ to shape your master's tonal balance while maintaining phase coherence and stereo integrity. Focus on subtle, broad adjustments that enhance without changing the mix's character.\",\n    tip: \"In mastering, less is more. If you're reaching for more than ±3 dB on any band, the mix likely needs work. Start with broad shelves and gentle slopes. Surgical cuts are a last resort—they indicate mix problems, not mastering opportunities.\",\n    steps: [\n      '<strong>Set up linear phase EQ</strong> — Insert a linear phase EQ on your master bus (FabFilter Pro-Q, iZotope Ozone EQ, or similar). Enable linear phase mode for all bands to prevent phase smearing.',\n      '<strong>Listen before processing</strong> — Play through the entire track without touching the EQ. Note: Is it too dark? Too bright? Muddy low-mids? Harsh presence? Write down your observations.',\n      '<strong>Compare to reference</strong> — A/B against your level-matched reference (Lesson 2). Identify specific frequency differences: \"Reference has more air above 10 kHz\" or \"My mix is muddy around 200-300 Hz.\"',\n      '<strong>Apply high-pass filter</strong> — Set a gentle HPF at <strong>20-30 Hz</strong> with a 12 dB/oct slope. This removes sub-sonic rumble that wastes headroom without affecting audible bass. Bypass and compare.',\n      '<strong>Address low-end issues</strong> — If the low end is boomy or muddy, try a gentle cut of <strong>-1 to -2 dB</strong> at <strong>200-300 Hz</strong> with wide Q (0.5-1.0). If it needs more weight, try a <strong>+1 dB</strong> shelf boost below <strong>80-100 Hz</strong>.',\n      '<strong>Shape the midrange</strong> — For more clarity, try a gentle cut of <strong>-0.5 to -1 dB</strong> at <strong>400-600 Hz</strong> (boxiness). For more presence, try <strong>+0.5 to +1 dB</strong> at <strong>2-4 kHz</strong>. Use wide Q values.',\n      '<strong>Add air and brightness</strong> — If the high end needs lift, apply a high shelf boost of <strong>+1 to +2 dB</strong> starting at <strong>8-10 kHz</strong>. This adds \"air\" and modern sheen. Be subtle—harshness lives here too.',\n      '<strong>Enable mid-side mode</strong> — Switch your EQ to mid-side mode (if available). Now you can EQ the center (mid) and sides independently.',\n      '<strong>Tighten the sides low end</strong> — On the SIDE channel, apply a high-pass filter at <strong>100-150 Hz</strong>. This focuses the bass in the center for better mono compatibility and tighter low end.',\n      '<strong>Add width in the highs</strong> — On the SIDE channel, try a gentle shelf boost of <strong>+0.5 to +1 dB</strong> above <strong>8-10 kHz</strong>. This adds stereo width and air without affecting the center image.',\n      '<strong>Level-match and A/B</strong> — Bypass the entire EQ and level-match (EQ changes level). A/B compare: Does the EQ\\'d version sound better, or just different? If just different, reconsider your moves.',\n      '<strong>Check mono compatibility</strong> — Sum to mono and listen. Does the EQ\\'d version still sound balanced? If you hear significant changes, your mid-side processing may be too aggressive.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Linear Phase EQ: What It Is and When to Use It',\n        content: `Standard (minimum phase) EQ introduces phase shifts around the frequencies you boost or cut. In mixing, this is usually fine—sometimes even beneficial. In mastering, these phase shifts can affect the entire stereo image in subtle ways.\n\n**How Standard EQ Works:**\nMinimum phase EQ adjusts frequency response efficiently but introduces phase rotation. Higher boosts/cuts = more phase shift. This can cause:\n- Pre-ringing on transients\n- Subtle smearing of stereo image\n- Tonal changes that compound across the full mix\n\n**How Linear Phase EQ Works:**\nLinear phase EQ uses look-ahead processing to adjust frequency response without phase shifts. The trade-off:\n- No phase distortion\n- Higher CPU usage\n- Introduces pre-ringing (especially at low frequencies)\n- Higher latency (not an issue for mastering)\n\n**When to Use Linear Phase:**\n- **Mastering:** Where phase coherence across the full stereo image matters\n- **Mid-side processing:** Where phase differences between M and S could cause issues\n- **Gentle, broad adjustments:** Linear phase excels here\n- **Matching EQ:** When copying curves from references\n\n**When NOT to Use Linear Phase:**\n- **Surgical cuts:** Pre-ringing can be audible on narrow cuts\n- **Low-frequency adjustments:** Pre-ringing is worst at low frequencies\n- **Real-time applications:** Latency is prohibitive for live mixing\n\n**Practical Approach:**\nUse linear phase for broad tonal shaping (shelves, gentle cuts). Switch to minimum phase for surgical corrections if pre-ringing becomes audible. Many engineers use hybrid approaches—linear phase for some bands, minimum phase for others.`\n      },\n      {\n        title: 'Mastering EQ Technique: Broad Strokes, Not Surgery',\n        content: `Mastering EQ is fundamentally different from mixing EQ. You're working with a finished stereo mix—every adjustment affects everything.\n\n**The Mastering EQ Mindset:**\n- **Small moves:** ±0.5 to ±2 dB is typical. ±3 dB is significant.\n- **Wide Q:** Low Q values (0.5-1.5) for broad, musical shaping\n- **Shelves over bells:** High and low shelves sound more natural\n- **Enhance, don't repair:** If you need surgical EQ, the mix needs work\n\n**Common Mastering EQ Moves:**\n\n**Low End:**\n- HPF at 20-30 Hz (always—removes inaudible rumble)\n- Low shelf +1 to +2 dB at 60-100 Hz (adds weight)\n- Cut -1 to -2 dB at 200-350 Hz (reduces mud)\n\n**Midrange:**\n- Cut -0.5 to -1 dB at 400-600 Hz (reduces boxiness)\n- Cut -0.5 to -1 dB at 800 Hz-1 kHz (reduces honk)\n- Boost +0.5 to +1 dB at 2-4 kHz (adds presence)\n\n**High End:**\n- High shelf +1 to +2 dB at 8-12 kHz (adds air)\n- Cut -0.5 to -1 dB at 3-5 kHz (reduces harshness)\n- Gentle roll-off above 16-18 kHz (optional—natural)\n\n**The \"Problem Frequency\" Trap:**\nIf you find yourself making a 6 dB cut at 3.2 kHz, you're not mastering—you're fixing a mix problem. The mix should be revised. Mastering EQ corrects tendencies, not flaws.\n\n**Level Matching:**\nEQ changes loudness. Always level-match before A/B comparison. Louder sounds better—don't be fooled.`\n      },\n      {\n        title: 'Mid-Side EQ: Surgical Stereo Control',\n        content: `Mid-side (M/S) EQ allows you to process the center (mid) and sides (stereo difference) independently. This is powerful but easy to abuse.\n\n**Understanding Mid-Side:**\n- **Mid = (L + R) / 2:** The mono/center content\n- **Side = (L - R) / 2:** The stereo difference\n- Decoded back: L = Mid + Side, R = Mid - Side\n\n**Why M/S Matters in Mastering:**\nDifferent elements live in different parts of the stereo field:\n- **Center:** Kick, bass, snare, lead vocal, bass guitar\n- **Sides:** Guitars, synths, backing vocals, stereo effects, width\n\nM/S EQ lets you treat these differently—tightening bass in the center while adding air to the sides.\n\n**Common M/S Mastering Moves:**\n\n**Side High-Pass (Essential):**\n- HPF on sides at 100-150 Hz\n- Focuses bass in the center\n- Improves mono compatibility\n- Tightens overall low end\n\n**Side Air Boost:**\n- Shelf +0.5 to +1.5 dB above 8-10 kHz on sides\n- Adds width and sparkle\n- Doesn't affect centered vocal/lead\n\n**Mid Presence:**\n- Boost +0.5 to +1 dB at 2-4 kHz on mid\n- Brings out lead vocal/snare\n- Doesn't affect panned elements\n\n**Mid Low-End Control:**\n- Slight cut at 200-300 Hz on mid\n- Cleans up center mud\n- Leaves side elements untouched\n\n**M/S Dangers:**\n- Too much side boost = phase-heavy, weird in mono\n- Too much mid cut = thin, hollow center\n- Always check mono compatibility after M/S processing\n- Subtle is key—±1 dB is significant in M/S`\n      },\n      {\n        title: 'High-Pass Filtering in Mastering',\n        content: `Every master should have a high-pass filter. The debate is only about where to set it.\n\n**Why HPF in Mastering:**\n- **Removes inaudible content:** Frequencies below 20-25 Hz are inaudible on most systems\n- **Saves headroom:** Sub-sonic rumble wastes peak headroom\n- **Improves translation:** Removes content that only affects large PA systems\n- **Reduces limiter work:** Less sub content = less limiting needed for same loudness\n\n**Where to Set the HPF:**\n| Setting | Use Case |\n|---------|----------|\n| 20-25 Hz | Conservative—just removing sub-sonic noise |\n| 30-35 Hz | Standard for most music |\n| 40-50 Hz | Tightening bass-heavy genres |\n| 60+ Hz | Too high for most masters—thins low end |\n\n**Slope Considerations:**\n- **6 dB/oct:** Very gentle, musical roll-off\n- **12 dB/oct:** Standard, balanced\n- **18-24 dB/oct:** Steeper, more precise but can ring\n- **Linear phase:** Reduces phase shift but may pre-ring\n\n**Genre-Specific Guidance:**\n- **EDM/Hip-Hop:** 20-30 Hz (preserve sub weight)\n- **Rock/Pop:** 30-40 Hz (controlled low end)\n- **Acoustic/Jazz:** 25-35 Hz (natural bass)\n- **Vinyl masters:** Higher HPF (vinyl can't reproduce extreme sub)\n\n**The \"Always HPF\" Rule:**\nEven if your mix seems clean below 30 Hz, apply a gentle HPF. It costs nothing and provides insurance against problems you can't hear on your monitors but will show up on large systems.`\n      },\n      {\n        title: 'Matching EQ and Tonal Reference',\n        content: `Some EQ plugins offer \"matching\" features that analyze a reference track and suggest EQ curves to match your mix to the reference. These are useful but require understanding.\n\n**How EQ Matching Works:**\n1. Plugin analyzes frequency spectrum of reference\n2. Plugin analyzes your mix\n3. Plugin generates curve to make your mix match the reference\n4. You apply (or modify) the suggested curve\n\n**When EQ Matching Helps:**\n- Quick starting point for tonal balance\n- Identifying frequency differences you might miss\n- Learning what professional masters \"look like\"\n- Sanity checking your manual EQ decisions\n\n**When EQ Matching Fails:**\n- Matching a different genre (rock reference for EDM)\n- Over-limiting the reference (distorted spectrum)\n- Blindly applying the full curve (usually too aggressive)\n- Not level-matching the comparison\n\n**Best Practice:**\n1. Generate the matching curve\n2. Reduce it to 30-50% of suggested intensity\n3. Use it as a starting point, then fine-tune by ear\n4. A/B against the original—does it actually sound better?\n\n**Manual Matching Alternative:**\n1. Open spectrum analyzer\n2. Play level-matched reference, note spectral shape\n3. Play your mix, note differences\n4. Apply broad EQ to address the main differences\n5. Don't try to match exactly—just address obvious gaps\n\n**The Danger of Over-Matching:**\nIf you match your indie folk song to a hip-hop master, you'll add inappropriate sub bass and cut presence the folk song needs. Match within genre, and use your ears to judge what actually serves the song.`\n      },\n      {\n        title: 'Practical EQ Workflow for Mastering',\n        content: `A structured EQ workflow prevents over-processing and ensures your decisions serve the music.\n\n**Step 1: Analyze (No Processing)**\n- Listen through entire track 2-3 times\n- Note tonal issues: too dark, too bright, muddy, harsh, thin\n- Compare to level-matched reference\n- Write down specific observations\n\n**Step 2: Plan (Still No Processing)**\n- Based on analysis, plan 2-4 moves maximum\n- Example: \"HPF at 30 Hz, -1 dB at 300 Hz for mud, +1.5 dB shelf at 10 kHz for air\"\n- Resist the urge to do more\n\n**Step 3: Apply (Conservative)**\n- Insert linear phase EQ\n- Make planned moves\n- Use wide Q values (0.5-1.5)\n- Stay within ±2 dB for most moves\n\n**Step 4: Level-Match and A/B**\n- Bypass EQ\n- Adjust output gain to match bypassed level\n- A/B rapidly—does it sound better or just different?\n- If just different, reconsider\n\n**Step 5: Reference Check**\n- A/B against level-matched reference\n- Are you closer to the reference's tonal balance?\n- Don't try to match exactly—just check for obvious problems\n\n**Step 6: Mono Check**\n- Sum to mono\n- Any phase issues from M/S processing?\n- Does the tonal balance still work?\n\n**When to Stop:**\n- You've made 3-4 moves\n- A/B shows clear improvement\n- Further moves are \"just in case\" rather than addressing real issues\n- You're second-guessing previous decisions\n\n**The Subtlety Test:**\nIf someone else can immediately hear that your master was EQ'd, you may have done too much. Great mastering EQ is often imperceptible in isolation—it just makes the mix sound \"right.\"`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Understand linear phase EQ: benefits for mastering, pre-ringing trade-offs, and when to use minimum phase instead\",\n    \"Apply broad, subtle EQ moves (±0.5 to ±2 dB) with wide Q values to enhance tonal balance without changing character\",\n    \"Use mid-side EQ to tighten low end (side HPF), add width (side air boost), and control center presence independently\",\n    \"Set appropriate high-pass filters (20-40 Hz) to remove sub-sonic content and preserve headroom\",\n    \"Follow a structured EQ workflow: analyze, plan, apply conservatively, level-match A/B, reference check, mono verify\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mastering lesson to master EQ techniques.\",\n    success: \"Excellent! You can now apply mastering EQ with precision and subtlety.\",\n    error: \"Review the EQ concepts and try again.\",\n    alreadyCompleted: \"You've mastered Mastering EQ. Ready for Lesson 4!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 3,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "mastering-2"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Mastering EQ:",
      "Prepararsi alla lezione successiva del modulo Mastering"
    ]
  },
  {
    "slug": "mixing-3",
    "filename": "lesson-mixing-3.config.js",
    "title": "EQ Basics:",
    "category": "Mixing",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mixing 3 - EQ Basics - Understanding the Frequency Spectrum\n *\n * Research sources: AES Pro Audio Reference, Logic Pro Documentation, FabFilter\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-3-progress\",\n  lessonNumber: 3,\n  lessonCategory: \"Mixing\",\n\n  nextLessonUrl: \"lesson-mixing-4.html\",\n  prevLessonUrl: \"lesson-mixing-2.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 3, categoryLabel: \"Mixing\" }),\n    title: \"EQ Basics:\",\n    titleHighlight: \"Understanding the Frequency Spectrum\",\n    subtitle: \"From 20 Hz to 20 kHz: translate frequency knowledge into mix decisions using parametric EQ, filters, and corrective techniques.\"\n  },\n\n  exercise: {\n    title: \"First EQ Pass: Vocals + Drums in a Gain-Staged Session\",\n    description: \"Apply foundational EQ moves (HPF, resonance control, presence shaping) while staying level-matched and maintaining mix headroom from Lesson 2.\",\n    tip: \"When resonance-sweeping, keep the high-Q boost temporary and brief. Once you identify the problem frequency, return to a smaller cut and slightly wider Q so the fix feels transparent.\",\n    steps: [\n      '<strong>Open your session</strong> — Load \"Mixing-2_GainStaged\" and save as \"Mixing-3_EQBasics\".',\n      '<strong>Set up a loop</strong> — Choose a 20-30 second chorus/drop section for consistent listening.',\n      '<strong>Create a reference bounce</strong> — Export \"Mixing-3_PreEQ.wav\" BEFORE adding EQ. Re-import to a track labelled \"PRE-EQ PRINT\".',\n      '<strong>Insert EQ on Lead Vocal</strong> — Add a parametric EQ (Channel EQ, EQ Eight, etc.) early in the chain.',\n      '<strong>Add HPF to vocal</strong> — Set High-Pass Filter at 80 Hz, 12 dB/oct slope. Verify rumble reduces while warmth remains.',\n      '<strong>Find a resonance (sweep method)</strong> — Add a bell band with high Q, +8 to +12 dB boost. Sweep 200 Hz to 6 kHz listening for annoying rings/spikes.',\n      '<strong>Convert boost to cut</strong> — Reduce gain to -2 to -6 dB cut. Widen Q slightly. Toggle band on/off to confirm fix.',\n      '<strong>Add presence boost</strong> — Create bell at 3-5 kHz, moderate Q, subtle +1 to +3 dB boost. Check consonants become clearer, not harsh.',\n      '<strong>Level-match bypass test</strong> — Adjust EQ output so bypassed and processed match within ±0.5 dB. Confirm it sounds better, not just louder.',\n      '<strong>EQ Overheads</strong> — Insert EQ, add HPF at ~100 Hz, 12 dB/oct. Reduce rumble while keeping cymbal body natural.',\n      '<strong>EQ Snare (mud control)</strong> — Broad cut in 200-500 Hz range (-2 to -4 dB, medium Q). Verify snare is clearer without losing body.',\n      '<strong>Check headroom</strong> — Confirm no channel/bus clips. Master should stay below -6 dBFS peak.',\n      '<strong>Export post-EQ bounce</strong> — Create \"Mixing-3_PostEQ.wav\", import as \"POST-EQ PRINT\".',\n      '<strong>A/B comparison</strong> — Level-match PRE and POST prints. Toggle between them. Write down 3 audible improvements.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Why EQ Follows Gain Staging',\n        content: `EQ decisions are often subtle (frequently a few dB or less), so if the level feeding the EQ is unpredictable, you end up \"chasing\" tone changes that are actually loudness changes.\n\n**Stable pre-fader levels also:**\n- Reduce the chance that an EQ boost pushes later processors into saturation or clipping\n- Make EQ repeatable and teachable\n- Allow honest A/B comparisons\n\nIn short: gain staging makes EQ reliable.`\n      },\n      {\n        title: 'The Frequency Spectrum',\n        content: `The audible band spans roughly **20 Hz to 20 kHz**, drawn on a logarithmic scale because musical pitch perception follows ratios (an octave = doubling of frequency: 100 Hz → 200 Hz).\n\n**Why this matters:**\n- \"Small\" moves at low frequencies cover fewer Hz than the same visual move at high frequencies\n- EQ is rarely about \"one frequency\" — changing low-mids on a vocal affects both thickness AND intelligibility\n- Human hearing isn't equally sensitive at all frequencies — upper-mid boosts feel more dramatic than the same dB in deep bass\n\n**Practical Mixing Bands:**\n\n| Band | Range | Sonic Role | Mix Risks |\n|------|-------|------------|-----------|\n| Sub-bass | 20-60 Hz | Weight, floor, felt pressure | Rumble, wasted headroom |\n| Bass | 60-250 Hz | Body, punch, \"fat vs thin\" | Boominess, kick-bass masking |\n| Low-mids | 250-500 Hz | Warmth, \"bass presence\" | Mud, boxiness |\n| Mids | 500 Hz-2 kHz | Core note info, forwardness | Honk, nasality, fatigue |\n| Upper-mids | 2-4 kHz | Attack, definition, consonants | Harshness, edge |\n| Presence | 4-6 kHz | Clarity, detail | Sibilance, brittle transients |\n| Brilliance/Air | 6-20 kHz | Sparkle, sheen, breath | Hiss, harsh cymbals |`\n      },\n      {\n        title: 'EQ Filter Types',\n        content: `An equaliser is a family of filters used to adjust amplitude at selected frequencies. Each type behaves differently:\n\n**Parametric EQ (Bell/Peak)**\n- Targets a band around a centre frequency\n- Controls: Frequency, Gain (boost/cut), Q (bandwidth)\n- Narrow bells = resonance control\n- Wide bells = tonal shaping\n\n**Shelving EQ (Low/High Shelf)**\n- Raises or lowers an entire end of the spectrum\n- Acts like \"tilt at the edge\" rather than \"spot treatment\"\n- Useful for broad tone moves (brightness, low-end heaviness)\n\n**High-Pass Filter (HPF)**\n- Removes energy BELOW the cutoff frequency\n- Common use: eliminate rumble, handling noise, sub build-up\n- Applied to most tracks except kick and bass\n\n**Low-Pass Filter (LPF)**\n- Removes energy ABOVE the cutoff frequency\n- Used for distance effects, texture, or taming harsh tops\n\n**Bell vs Shelf Shape:**\n\\`\\`\\`\nBell (parametric)              Shelf (high shelf)\n      /\\\\                            _________\n     /  \\\\                          /\n____/    \\\\____              ______/\n  f0 (centre)               fc (corner)\n\\`\\`\\``\n      },\n      {\n        title: 'EQ Parameters Explained',\n        content: `**Frequency**\nWhere the EQ \"aims\" — centre frequency for bells, cutoff for filters. Choose by listening in context, not just looking at analysers.\n\n**Gain**\nThe amplitude change in dB. Small changes can be meaningful; large changes may indicate arrangement or mic issues doing the real work.\n\n**Q (Quality Factor) / Bandwidth**\nControls how wide the affected region is:\n- Higher Q = narrower (more \"surgical\")\n- Lower Q = wider (more \"musical broadstroke\")\n\nFor resonance hunting: use high Q temporarily to find the problem, then widen slightly for the final cut.\n\n**Slope (dB/octave)**\nHow fast a filter attenuates beyond the cutoff:\n- 6 dB/oct = gentle, natural transition\n- 12 dB/oct = common starting point\n- 24 dB/oct = steep, hard boundary\n\nSteeper isn't inherently better — it can make the cutoff sound unnatural.\n\n| Parameter | Applies To | Common Trap |\n|-----------|------------|-------------|\n| Frequency | All EQ types | Choosing by looking, not listening |\n| Gain | Bell / Shelf | Boosting until solo sounds exciting, then harsh in mix |\n| Q | Bell (some shelves) | Extremely narrow cuts everywhere → hollow tone |\n| Slope | HPF / LPF | Steep by default → losing warmth/air |`\n      },\n      {\n        title: 'Corrective vs Creative EQ',\n        content: `**Corrective EQ (Problem-driven)**\nRemove rumble, reduce harshness, control resonances, solve masking.\n\nTypical moves:\n- HPF to remove non-musical low-end\n- Narrow bell cut to tame ringing resonance\n- Gentle low-mid cut to reduce mud\n\nWorks best when you can NAME the problem: \"boxy snare\", \"nasal vocal\", \"guitar harshness\"\n\n**Creative EQ (Intention-driven)**\nAdd presence for intelligibility, warmth for thickness, air for sheen.\n\nTypically:\n- Broader curves\n- Smaller amplitude\n- Judged in full mix, not solo\n\n**Critical check:** If the EQ move only sounds \"better\" because it's louder, it may not be a true tonal improvement. This is where volume-matched bypass comparisons become essential.`\n      },\n      {\n        title: 'Best Practice Habits',\n        content: `**Work in Context**\nA vocal that feels thin in solo can sit perfectly once guitars and cymbals join. A snare that feels bright alone can become abrasive in the chorus. Keep soloing to short diagnostic moments; return quickly to the full mix.\n\n**Try Cutting Before Boosting**\nRemoval creates space without inflating level. But boosting is valid when it serves the mix goal and stays controlled.\n\n**Volume-Matched A/B Comparisons**\nReduces loudness bias and helps manage ear fatigue over long sessions. Match levels within ±0.5 dB for honest comparisons.\n\n**Common HPF Starting Points:**\n- Vocals: 80-100 Hz\n- Acoustic Guitar: 80-100 Hz\n- Electric Guitar: 80-100 Hz\n- Overheads: 100-200 Hz\n- Snare: 80-100 Hz (careful of body)\n- Kick/Bass: Very gentle or none\n\n**Next Lesson:** EQ Techniques will cover surgical vs musical approaches, and how to handle specific problem frequencies in detail.`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Map the audible spectrum (20 Hz–20 kHz) into practical mix bands and describe what each contributes\",\n    \"Distinguish core EQ filter types (parametric, shelving, HPF/LPF) and explain Frequency, Gain, Q, and Slope\",\n    \"Apply corrective vs creative EQ with structured listening and loudness-matched A/B comparisons\",\n    \"Perform a repeatable vocal-and-drum EQ pass without losing headroom or introducing level changes\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Learn to shape frequencies with precision using EQ fundamentals.\",\n    success: \"Excellent! You understand EQ basics and can shape frequencies effectively. Ready for advanced techniques!\",\n    error: \"Review the frequency bands and filter types, then try the exercise again.\",\n    alreadyCompleted: \"You've mastered EQ basics. Keep refining your frequency decisions!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 3,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "mixing-2"
    ],
    "outcomes": [
      "Applicare i concetti chiave di EQ Basics:",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-3",
    "filename": "lesson-sound-design-3.config.js",
    "title": "FM Synthesis Fundamentals:",
    "category": "Sound Design",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Sound Design 3 - FM Synthesis Fundamentals\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-sound-design-3-progress\",\n  lessonNumber: 3,\n  lessonCategory: \"Sound Design\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-sound-design-4.html\",\n  prevLessonUrl: \"lesson-sound-design-2.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 3, categoryLabel: \"Sound Design\" }),\n    title: \"FM Synthesis Fundamentals:\",\n    titleHighlight: \"Create Complex Evolving Timbres\",\n    subtitle: \"Explore frequency modulation to create complex, metallic, and bell-like tones that are impossible with subtractive synthesis. Master professional sound design techniques used in modern music production.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Explore FM Synthesis Fundamentals\",\n    description: \"Explore frequency modulation to create complex, metallic, and bell-like tones that are impossible with subtractive synthesis. This lesson covers the essential concepts and practical techniques you need to master this sound design method.\",\n    tip: \"Listen critically to how each parameter affects the sound. Small changes can have dramatic results in sound design.\",\n    steps: [\n      '<strong>Study the theory</strong> — Read through the sound design concepts and understand the signal flow.',\n      '<strong>Analyze the examples</strong> — Listen to reference sounds and identify key characteristics.',\n      '<strong>Experiment with parameters</strong> — Try different settings and hear how they change the sound.',\n      '<strong>Create variations</strong> — Design multiple versions exploring different timbres.',\n      '<strong>Save your presets</strong> — Document successful sounds for future use.',\n      'Complete the lesson when ready to move forward.'\n    ]\n  },\n  \n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Understanding FM Synthesis Fundamentals',\n        content: `FM Synthesis Fundamentals is a fundamental sound design technique that shapes the sonic character of your productions.\n\n**Key Concepts:**\n- Core synthesis principles and signal flow\n- Parameter relationships and interactions  \n- Frequency spectrum considerations\n- Timbral characteristics and sonic possibilities\n- Common applications in music production\n\n**Professional Applications:**\nModern producers use FM Synthesis Fundamentals for:\n- Creating signature sounds and textures\n- Designing genre-specific timbres\n- Building unique sonic identities\n- Crafting sounds that cut through mixes\n- Generating movement and evolution in arrangements\n\nUnderstanding these concepts gives you complete control over your sound palette.`\n      },\n      {\n        title: 'Practical Sound Design Workflow',\n        content: `Professional sound designers follow systematic approaches to achieve desired results:\n\n**Design Process:**\n1. **Define the goal** — Know what sound you're trying to create\n2. **Choose the method** — Select appropriate synthesis technique\n3. **Start simple** — Begin with basic waveforms and build complexity\n4. **Shape with filters** — Sculpt the frequency content\n5. **Add movement** — Use envelopes and modulation\n6. **Layer if needed** — Combine multiple sounds for richness\n7. **Process and polish** — Apply effects and finalize\n\n**Critical Listening:**\n- A/B compare with reference sounds\n- Analyze frequency spectrum with analyzers\n- Check mono compatibility\n- Test in context with other mix elements\n\n**Common Mistakes to Avoid:**\n- Over-processing before establishing the core sound\n- Too many modulation sources creating chaos\n- Ignoring the frequency spectrum balance\n- Not considering the sound's role in the arrangement\n\nStudy professional productions and reverse-engineer the sounds you admire.`\n      }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master the fundamental concepts of FM Synthesis Fundamentals\",\n    \"Understand signal flow and parameter relationships\",\n    \"Apply sound design techniques to practical productions\",\n    \"Develop critical listening skills for timbre and texture\",\n    \"Create professional-quality sounds for your productions\"\n  ],\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this lesson to master FM Synthesis Fundamentals techniques.\",\n    success: \"Excellent! You've mastered FM Synthesis Fundamentals. Your sound design skills are growing!\",\n    error: \"Review the theory and try again.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these techniques!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 3,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "sound-design-2"
    ],
    "outcomes": [
      "Applicare i concetti chiave di FM Synthesis Fundamentals:",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "theory-3",
    "filename": "lesson-theory-3.config.js",
    "title": "Note Names & Staff Reading:",
    "category": "Music Theory Fundamentals",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-theory-3-progress\",\n  lessonNumber: 3,\n  lessonCategory: \"Music Theory Fundamentals\",\n\n  nextLessonUrl: \"lesson-theory-4.html\",\n  prevLessonUrl: \"lesson-theory-2.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 3, categoryLabel: \"Music Theory Fundamentals\" }),\n    title: \"Note Names & Staff Reading:\",\n    titleHighlight: \"Master Music Notation\",\n    subtitle: \"Master note names on the treble and bass clef. Learn how to read and write music notation efficiently.\"\n  },\n\n  exercise: {\n    title: \"Read Notes on the Grand Staff\",\n    description: \"The grand staff combines treble clef (right hand, higher notes) and bass clef (left hand, lower notes). Each line and space represents a specific pitch. Learning to read notation quickly is essential for communicating musical ideas and understanding written music.\",\n    tip: \"Use mnemonics: Treble spaces spell FACE. Treble lines are Every Good Boy Does Fine (EGBDF).\",\n    steps: [\n      '<strong>Treble Clef Lines</strong> — From bottom to top: E-G-B-D-F. Mnemonic: \"Every Good Boy Does Fine.\"',\n      '<strong>Treble Clef Spaces</strong> — From bottom to top: F-A-C-E. They spell \"FACE\"!',\n      '<strong>Bass Clef Lines</strong> — From bottom to top: G-B-D-F-A. Mnemonic: \"Good Boys Do Fine Always.\"',\n      '<strong>Bass Clef Spaces</strong> — From bottom to top: A-C-E-G. Mnemonic: \"All Cows Eat Grass.\"',\n      '<strong>Ledger Lines</strong> — Notes above or below the staff use small extra lines. Middle C sits on a ledger line between both clefs.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Music Notation Basics',\n        content: `\n**The Grand Staff:**\n\n**Treble Clef (G Clef):**\n- Used for higher-pitched instruments (piano right hand, guitar, flute, violin)\n- The curl wraps around the G line (second line from bottom)\n- Lines: E-G-B-D-F\n- Spaces: F-A-C-E\n\n**Bass Clef (F Clef):**\n- Used for lower-pitched instruments (piano left hand, bass guitar, trombone)\n- The two dots surround the F line (second line from top)\n- Lines: G-B-D-F-A\n- Spaces: A-C-E-G\n\n**Middle C:**\n- The note between both clefs\n- Sits on a ledger line\n- MIDI note 60 / C4 in scientific pitch notation\n\n**Ledger Lines:**\n- Short lines above or below the staff for extended range\n- Each line/space continues the alphabet pattern\n- Can extend indefinitely in both directions\n\n**Accidentals:**\n- ♯ (Sharp) — Raises pitch by one half step\n- ♭ (Flat) — Lowers pitch by one half step\n- ♮ (Natural) — Cancels previous sharp or flat\n- ♯♯ (Double sharp) / ♭♭ (Double flat) — Rare, but exist\n        `\n      },\n      {\n        title: 'Practical Staff Reading Strategy',\n        content: `\n**Learning Strategy:**\n\n1. **Memorize landmark notes** — Middle C, treble G, bass F\n2. **Use mnemonics** — FACE, EGBDF, All Cows Eat Grass\n3. **Practice daily** — Flashcards or sight-reading apps\n4. **Read intervals, not just notes** — Recognize patterns (steps, skips, leaps)\n5. **Connect to your instrument** — Play notes as you read them\n\n**Reading Tips:**\n- Look ahead while playing (don't stare at one note)\n- Recognize repeated patterns and sequences\n- Group notes into chords and shapes\n- Use finger numbers for efficient hand positioning\n\n**Common Mistakes:**\n- Confusing treble and bass clef note names\n- Forgetting to apply accidentals throughout the measure\n- Not counting ledger lines accurately\n- Reading too slowly (not recognizing patterns)\n\n**Why Notation Matters:**\n- Universal language across instruments and cultures\n- Preserves music for future generations\n- Enables collaboration between musicians\n- Required for formal music education and professional work\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Identify notes on treble and bass clef instantly\",\n    \"Use ledger lines to read extended range notes\",\n    \"Apply accidentals correctly within measures\",\n    \"Read intervals and patterns, not just individual notes\",\n    \"Connect notation to your instrument or DAW piano roll\"\n  ]\n};\n",
    "number": 3,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "theory-2"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Note Names & Staff Reading:",
      "Prepararsi alla lezione successiva del modulo Music Theory Fundamentals"
    ]
  },
  {
    "slug": "vocals-3",
    "filename": "lesson-vocals-3.config.js",
    "title": "Vocal Editing Fundamentals:",
    "category": "Vocals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Vocals 3 - Vocal Editing Fundamentals\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-vocals-3-progress\",\n  lessonNumber: 3,\n  lessonCategory: \"Vocals\",\n  \n  nextLessonUrl: \"lesson-vocals-4.html\",\n  prevLessonUrl: \"lesson-vocals-2.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 3, categoryLabel: \"Vocals\" }),\n    title: \"Vocal Editing Fundamentals:\",\n    titleHighlight: \"Clean Up & Comp Your Recordings\",\n    subtitle: \"Remove breaths, pops, and noise. Learn comping workflow and timing adjustments. Master professional vocal production techniques for commercial-quality results.\"\n  },\n  \n  exercise: {\n    title: \"Master Vocal Editing Fundamentals\",\n    description: \"Remove breaths, pops, and noise. Learn comping workflow and timing adjustments. This lesson covers the essential vocal production techniques used in professional recordings.\",\n    tip: \"Vocals are usually the focal point of a track. Spend extra time getting them right - they make or break the production.\",\n    steps: [\n      '<strong>Study vocal production theory</strong> — Understand the concepts and workflow.',\n      '<strong>Analyze reference vocals</strong> — Listen to professional vocal productions in your genre.',\n      '<strong>Apply the techniques</strong> — Practice the specific vocal processing methods.',\n      '<strong>Critical listening</strong> — Compare your results to professional standards.',\n      '<strong>Iterate and refine</strong> — Make adjustments based on what you hear.',\n      'Complete when you understand the practical application.'\n    ]\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Understanding Vocal Editing Fundamentals',\n        content: `Vocal Editing Fundamentals is crucial for achieving professional vocal productions that compete with commercial releases.\n\n**Core Concepts:**\n- Vocal recording and production fundamentals\n- Technical requirements and equipment considerations\n- Signal flow and processing chain order\n- Common issues and how to solve them\n- Genre-specific approaches and standards\n\n**Professional Workflow:**\n1. **Preparation** — Set up properly before recording\n2. **Capture** — Record high-quality source material\n3. **Edit** — Clean up and comp the best takes\n4. **Process** — Apply corrective and creative processing\n5. **Mix** — Blend vocals perfectly with the track\n6. **Finalize** — Ensure vocals translate across systems\n\n**Critical Factors:**\n- **Source quality** — Good recording = easier mixing\n- **Performance** — Technical skill matters more than processing\n- **Context** — Vocals must serve the song\n- **Reference** — Always compare to professional standards\n\nProfessional vocal producers understand that Vocal Editing Fundamentals is both technical skill and artistic judgment.`\n      },\n      {\n        title: 'Professional Vocal Production Techniques',\n        content: `Apply Vocal Editing Fundamentals in your productions with professional approaches:\n\n**Recording Best Practices:**\n- Proper mic placement and distance\n- Optimal gain staging and headroom\n- Multiple takes for comping\n- Consistent recording environment\n- Reference monitoring and acoustics\n\n**Processing Workflow:**\n1. **Clean up** — Remove unwanted sounds and noise\n2. **Tune** — Correct pitch issues (subtle or creative)\n3. **Time align** — Fix timing and rhythm issues\n4. **EQ** — Remove muddiness, add presence\n5. **Compress** — Control dynamics and consistency\n6. **De-ess** — Tame harsh sibilance\n7. **FX** — Add reverb, delay, modulation\n\n**Common Vocal Issues:**\n- **Muddiness** — High-pass filter at 80-100 Hz\n- **Harshness** — De-ess or cut 6-8 kHz\n- **Lack of presence** — Boost 3-5 kHz subtly\n- **Inconsistent levels** — Compression and automation\n- **Poor timing** — Edit before processing\n- **Pitch issues** — Tune before heavy processing\n\n**Genre Considerations:**\nDifferent genres require different vocal approaches:\n- **Pop** — Polished, present, tuned, compressed\n- **Hip-Hop** — Dry, upfront, minimal reverb\n- **R&B** — Smooth, warm, layered harmonies\n- **Rock** — Raw energy, less processing\n- **Electronic** — Creative effects, vocoders, pitch shifts\n\nStudy vocal productions in your genre and understand what makes them work.`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Master professional vocal production techniques\",\n    \"Understand the complete vocal workflow from recording to mixing\",\n    \"Apply genre-specific vocal processing approaches\",\n    \"Develop critical listening skills for vocal production\",\n    \"Create commercial-quality vocal recordings\"\n  ],\n  \n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this vocal production lesson to advance.\",\n    success: \"Excellent! You've mastered Vocal Editing Fundamentals. Your vocal productions are pro-level!\",\n    error: \"Review the vocal production concepts and try again.\",\n    alreadyCompleted: \"You've completed this vocal technique. Keep refining your skills!\"\n  }),\n  \n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 3,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "vocals-2"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Vocal Editing Fundamentals:",
      "Prepararsi alla lezione successiva del modulo Vocals"
    ]
  },
  {
    "slug": "arrangement-4",
    "filename": "lesson-arrangement-4.config.js",
    "title": "The 5 Elements of",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 4 - The 5 Elements of Arrangement\n * \n * This lesson teaches Bobby Owsinski's arrangement framework:\n * Foundation, Pad, Rhythm, Lead, and Fills.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-arrangement-4-progress\",\n  lessonNumber: 4,\n  lessonCategory: \"Arrangement\",\n  depthLevel: 3,\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-arrangement-5.html\",\n  prevLessonUrl: \"lesson-arrangement-3.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 4, categoryLabel: \"Arrangement\" }),\n    title: \"The 5 Elements of\",\n    titleHighlight: \"Arrangement\",\n    subtitle: \"Learn <strong>Bobby Owsinski's legendary framework</strong> for professional arrangements. Master the <strong>5 essential elements</strong>—Foundation, Pad, Rhythm, Lead, and Fills.\"\n  },\n  \n  // ====================\n  // THE 5 ELEMENTS\n  // ====================\n  elements: [\n    {\n      name: \"Foundation\",\n      icon: '<img src=\"images/speakerwave.png\" alt=\"🔊\" style=\"width: 1.5em;\">',\n      color: \"#e17055\",\n      description: \"The low-end elements that ground your song. Usually bass and drums working together.\",\n      examples: [\"Kick + Bass\", \"808\", \"Drums + Synth Bass\", \"Upright Bass + Drums\"],\n      purpose: \"Anchor the track harmonically and rhythmically\",\n      frequencyRange: \"Sub-bass to low-mids (20Hz-300Hz)\"\n    },\n    {\n      name: \"Pad\",\n      icon: \"☁️\",\n      color: \"#a29bfe\",\n      description: \"Sustained elements that provide harmonic context and fill the mid-range.\",\n      examples: [\"Synth Pad\", \"Strings\", \"Organ\", \"Electric Piano\", \"Choir\"],\n      purpose: \"Create warmth and harmonic bed for other elements\",\n      frequencyRange: \"Low-mids to high-mids (200Hz-4kHz)\"\n    },\n    {\n      name: \"Rhythm\",\n      icon: \"🎸\",\n      color: \"#fdcb6e\",\n      description: \"Elements that add rhythmic interest and forward motion.\",\n      examples: [\"Rhythm Guitar\", \"Synth Arpeggios\", \"Percussion\", \"Piano Comping\"],\n      purpose: \"Add motion and groove beyond the drums\",\n      frequencyRange: \"Mids (300Hz-5kHz)\"\n    },\n    {\n      name: \"Lead\",\n      icon: \"🎤\",\n      color: \"#00cec9\",\n      description: \"The main melodic element that listeners focus on.\",\n      examples: [\"Vocals\", \"Lead Synth\", \"Guitar Solo\", \"Saxophone\", \"Whistle\"],\n      purpose: \"Carry the melody and focal point of the track\",\n      frequencyRange: \"Mids to highs (300Hz-8kHz)\"\n    },\n    {\n      name: \"Fills\",\n      icon: \"\",\n      color: \"#fd79a8\",\n      description: \"Short, attention-grabbing elements in gaps or transitions.\",\n      examples: [\"Drum Fills\", \"Vocal Ad-libs\", \"FX Sweeps\", \"Guitar Licks\", \"One-shots\"],\n      purpose: \"Add interest and ear candy without competing with lead\",\n      frequencyRange: \"Variable (based on fill type)\"\n    }\n  ],\n  \n  // ====================\n  // THE GOLDEN RULE\n  // ====================\n  goldenRule: {\n    maxElements: 5,\n    recommendedElements: 4,\n    reasoning: \"More than 4-5 simultaneous elements creates frequency clashing and muddiness. Professional producers know: less is more.\"\n  },\n  \n  // ====================\n  // SECTION EXAMPLES\n  // ====================\n  sectionExamples: [\n    { section: \"Intro\", elements: [\"Foundation (light)\", \"Pad\"], count: 2 },\n    { section: \"Verse\", elements: [\"Foundation\", \"Pad\", \"Lead (Vocals)\"], count: 3 },\n    { section: \"Chorus\", elements: [\"Foundation\", \"Pad\", \"Rhythm\", \"Lead\"], count: 4 },\n    { section: \"Drop\", elements: [\"Foundation (heavy)\", \"Rhythm\", \"Lead\", \"Fills\"], count: 4 }\n  ],\n  \n  // ====================\n  // EXERCISE\n  // ====================\n  exercise: {\n    title: \"Build an Arrangement with the 5 Elements\",\n    description: \"Use the interactive builder to understand how elements combine. Keep under 5 elements for clarity!\",\n    tip: \"Start with Foundation, add elements one by one, and notice how the 'fullness' changes.\",\n    steps: [\n      { text: \"<strong>Start with Foundation</strong> — Click the Foundation element to add kick and bass as your low-end anchor.\" },\n      { text: \"<strong>Add a Pad</strong> — Layer in a pad element to create harmonic context and fill the mid-range.\" },\n      { text: \"<strong>Introduce Rhythm</strong> — Add a rhythm element (guitar, arpeggio, or percussion) to create forward motion.\" },\n      { text: \"<strong>Bring in the Lead</strong> — Add the lead element that listeners will focus on (vocals, synth, or melody).\" },\n      { text: \"<strong>Experiment with Fills</strong> — Try adding fills for transitions, then notice how 5+ elements can feel cluttered.\" },\n      { text: \"<strong>Apply the 4-5 Rule</strong> — Remove elements until you have 4-5 playing together. Notice how the mix sounds clearer.\" }\n    ],\n    validation: {\n      minElementsCombined: 3, // User must try at least 3 elements together\n      maxBeforeWarning: 5\n    }\n  },\n  \n  // ====================\n  // MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Experiment with the 5 elements to understand how they combine.\",\n    success: \"You understand the 5 elements! Now you can build clear, professional arrangements.\",\n    error: \"Try combining more elements to see how they interact.\",\n    alreadyCompleted: \"You've mastered the 5 elements framework!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"interactive\",\n    sandbox: true,\n    showTargetHint: false,\n    enablePresets: false,\n    enableExport: false\n  },\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"Bobby Owsinski's 5-Element Framework\",\n        content: `\n**The Professional Arrangement Secret:**\nLegendary mixing engineer Bobby Owsinski analyzed thousands of hit records and discovered a pattern: the best arrangements consistently use 4-5 distinct sonic elements working together. More than 5 elements creates mud and confusion. Fewer than 4 feels empty and amateur. This isn't coincidence—it's based on how human hearing processes layered sounds.\n\n**Why This Framework Matters:**\nAmateur producers add sounds randomly: \"This synth sounds cool, let's add it.\" Professional producers think in elements: \"I need a pad to fill the mids, a lead for focus, and a rhythm element for movement.\" The difference is intentionality. When you understand elements, you stop cluttering tracks with redundant layers and start building clear, powerful arrangements.\n\n**The Frequency and Role Relationship:**\nEach element occupies a specific frequency range AND serves a specific musical purpose. This dual organization (frequency + role) prevents elements from fighting for the same sonic space while ensuring each part of the arrangement has a clear job.\n\n**The Human Hearing Limitation:**\nYour ears can consciously focus on about 3-4 distinct elements simultaneously. Anything beyond that blurs into texture. Great arrangements respect this limitation—they ensure no more than 4-5 clear elements are playing at once, allowing listeners to perceive each layer without cognitive overload.\n\n**Real-World Application:**\nPull up any professional pop, EDM, or rock track. Solo each instrument and categorize it: Foundation (kick + bass), Pad (synth pad or strings), Rhythm (guitar or arpeggio), Lead (vocals or lead synth), Fills (effects, risers, hits). You'll rarely find more than 5 elements playing simultaneously, even in dense productions. When choruses feel \"full,\" it's not because of 20 layers—it's because 4-5 well-chosen elements fill the complete frequency spectrum perfectly.\n        `\n      },\n      {\n        title: \"The 5 Elements Explained in Detail\",\n        content: `\n**1. Foundation (20Hz-300Hz - Sub-bass to Low-mids)**\nThe foundation is your low-end anchor—typically kick drum and bass working together. These elements provide:\n- **Physical impact**: You feel foundation elements in your chest\n- **Harmonic root**: Bass defines the chord progression's root notes\n- **Rhythmic pulse**: Kick creates the primary rhythmic anchor\n\n*Examples:* Kick + 808 (trap), Kick + synth bass (EDM), Kick + electric bass (rock), Drum kit + upright bass (jazz)\n\n*Common Mistake:* Overcrowding the low-end with multiple bass sounds. You can only have ONE dominant bass element—choose kick OR bass to lead, then support with the other.\n\n**2. Pad (200Hz-4kHz - Low-mids to High-mids)**\nPads provide sustained harmonic context—the \"bed\" other elements sit on. They:\n- **Fill frequency gaps**: Pads occupy mids without cluttering them\n- **Create atmosphere**: Emotional tone often comes from pad choice\n- **Support harmony**: Pads typically play full chords, not melodies\n\n*Examples:* Synth pads (EDM), string sections (pop), electric piano (R&B), organ (gospel), choir vocals (cinematic)\n\n*Common Mistake:* Using pads that are too loud or too bright. Pads should be felt more than noticed—they support, not dominate.\n\n**3. Rhythm (300Hz-5kHz - Mids)**\nRhythm elements add motion and groove beyond the basic drum pattern. They:\n- **Create forward momentum**: Repeated patterns drive the track forward\n- **Add texture**: Rhythmic patterns create interest and complexity\n- **Support harmony rhythmically**: Chords played rhythmically, not sustained\n\n*Examples:* Rhythm guitar (rock), synth arpeggios (EDM), piano comping (jazz), marimba patterns (world), hi-hats and shakers (all genres)\n\n*Common Mistake:* Confusing rhythm elements with lead melodies. Rhythm elements repeat consistently; leads vary and evolve.\n\n**4. Lead (300Hz-8kHz - Mids to Highs)**\nThe lead is what listeners consciously focus on—the main melody or vocal. Leads:\n- **Carry the main melody**: The part people sing along to\n- **Command attention**: Leads should be the loudest, clearest element\n- **Vary throughout sections**: Unlike rhythm elements, leads change frequently\n\n*Examples:* Lead vocals (pop), lead guitar (rock), saxophone solo (jazz), synth lead (EDM), rap vocals (hip-hop)\n\n*Common Mistake:* Having multiple competing leads. Only ONE lead at a time—solos and vocals should trade off, never fight for attention.\n\n**5. Fills (Full Spectrum - 50Hz-15kHz)**\nFills are transitional elements that add excitement and signal changes. They:\n- **Prevent monotony**: Break up repetitive patterns\n- **Signal transitions**: Announce upcoming section changes\n- **Add ear candy**: Small details that reward repeated listening\n\n*Examples:* Riser sweeps (EDM), snare rolls (all genres), vocal ad-libs (R&B), guitar licks (rock), reverse cymbals (pop)\n\n*Common Mistake:* Overusing fills. They're called \"fills\" because they fill gaps—use sparingly or they lose impact.\n        `\n      },\n      {\n        title: \"Applying the 5 Elements in Your DAW\",\n        content: `\n**The Element Organization Workflow:**\n\n**Step 1: Create Separate Element Folders**\nIn your DAW, create 5 color-coded track folders:\n- 🔴 Foundation (Red) - Kick, bass, sub\n- 🔵 Pad (Blue) - Synth pads, strings, atmospheres\n- 🟡 Rhythm (Yellow) - Guitars, arpeggios, percussion\n- 🟢 Lead (Green) - Vocals, lead synths, solos\n- 🟣 Fills (Purple) - Risers, effects, transitions\n\n**Step 2: Assign Every Sound to an Element**\nBefore adding any sound, ask: \"Which element is this?\" If you can't answer, you probably don't need it. This prevents the common mistake of adding sounds just because they're cool.\n\n**Step 3: The 4-5 Element Rule Per Section**\nIn any given section (verse, chorus, etc.), use 4-5 elements maximum:\n\n*Example Verse:*\n- Foundation: Kick + Bass ✅\n- Pad: Subtle synth pad ✅\n- Rhythm: Hi-hats ✅\n- Lead: Vocals ✅\n- Fills: None (verses are typically sparse)\n= 4 elements\n\n*Example Chorus:*\n- Foundation: Kick + Bass ✅\n- Pad: Lush string section ✅\n- Rhythm: Strummed guitar ✅\n- Lead: Doubled vocals ✅\n- Fills: Occasional risers ✅\n= 5 elements\n\nNotice how the chorus feels \"bigger\" than the verse not because it has 10 more layers, but because it uses one additional element (fills) plus slightly fuller versions of existing elements.\n\n**Step 4: Build Sections by Adding Elements**\nStart minimal, then add elements progressively:\n\n*Intro:* Foundation only (kick + bass)\n*Verse 1:* Foundation + Rhythm + Lead (3 elements)\n*Chorus 1:* Foundation + Pad + Rhythm + Lead (4 elements)\n*Verse 2:* Foundation + Pad + Rhythm + Lead (same as chorus but different arrangement)\n*Chorus 2:* Foundation + Pad + Rhythm + Lead + Fills (5 elements - biggest section)\n\n**Step 5: The Solo Check**\nSolo each element individually and ask:\n- Does it serve a clear purpose?\n- Does it occupy a unique frequency range?\n- Would the song lose something important without it?\n\nIf you answer \"no\" to any question, consider removing that element.\n\n**Common DAW Mistakes:**\n\n**Mistake 1: Too Many Foundation Elements**\nDon't run kick + bass + sub-bass + 808 simultaneously. Choose ONE primary low-end element.\n\n**Mistake 2: Pad vs Rhythm Confusion**\nSustained chords = Pad. Repeated rhythmic chords = Rhythm. Don't put both if they occupy the same frequency range.\n\n**Mistake 3: Multiple Leads Fighting**\nVocals + lead synth + guitar solo all at once = chaos. Leads take turns, they don't share the spotlight.\n\n**Mistake 4: Fills as Constant Elements**\nFills should appear 10-20% of the time, not constantly. Overuse destroys their impact.\n\n**Pro Tip - The Subtraction Exercise:**\nTake a dense arrangement you're working on. Mute tracks until you're down to exactly 5 elements. Play it. Often, the \"stripped down\" version sounds clearer and more professional than the 20-layer version. This is Bobby Owsinski's framework proving itself—less is more, when each element has a clear purpose.\n\n**Genre Variations:**\n- **EDM:** Heavy focus on Foundation (massive bass) + Lead (catchy synth hook)\n- **Pop:** Lead vocals dominate, everything else supports\n- **Rock:** Rhythm elements (guitars) often take priority over pads\n- **Hip-Hop:** Foundation (808 bass + drums) and Lead (vocals) are essential, other elements come and go\n\nBut regardless of genre, the principle holds: 4-5 clear elements, each with a distinct purpose and frequency range. Master this, and your arrangements will instantly sound more professional and polished.\n        `\n      }\n    ]\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Identify the 5 arrangement elements: Foundation, Pad, Rhythm, Lead, Fills\",\n    \"Understand the purpose of each element in a mix\",\n    \"Apply the 4-5 element rule for clear arrangements\",\n    \"Know which elements to use in different sections\"\n  ],\n  \n  // ====================\n  // SOURCE ATTRIBUTION\n  // ====================\n  source: {\n    author: \"Bobby Owsinski\",\n    reference: \"The Mixing Engineer's Handbook\",\n    concept: \"5 Elements of a Great Arrangement\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 4,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "arrangement-3"
    ],
    "outcomes": [
      "Applicare i concetti chiave di The 5 Elements of",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-4",
    "filename": "lesson-bass-4.config.js",
    "title": "House Bass:",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 4 - House Bass:\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-4-progress\",\n  lessonNumber: 4,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-5.html\",\n  prevLessonUrl: \"lesson-bass-3.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 4, categoryLabel: \"Bass & Low End\" }),\n    title: \"House Bass:\",\n    titleHighlight: \"Repetitive Grooves\",\n    subtitle: \"Program the classic house bass pattern: repetitive root notes with rhythmic variation. Master the hypnotic, driving bassline that defines house, techno, and electronic dance music.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    bars: 1,\n    noteRange: { min: 36, max: 60 }, // C2 to C4 (bass range)\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Create a House Bass Groove\",\n    description: \"House bass is about repetition and groove, not melody. You repeat the same note but create interest through rhythm and emphasis. This hypnotic quality is what makes people dance.\",\n    tip: \"In house music, less is more. One note repeated with the right rhythm is more powerful than a complex melody.\",\n    steps: ['Place <strong>C3 on steps 1, 5, 9, 13</strong> (on every beat).', \"Add <strong>C3 on the 'and' of beat 2 (step 7)</strong> for syncopation.\", \"Add <strong>C3 on the 'and' of beat 4 (step 15)</strong>.\", 'Play and feel the driving, hypnotic groove.']\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [{'title': 'The House Bass Philosophy', 'content': \"House music bass is minimalist by design:\\n\\n- **Repetition = Hypnosis**: Same note looping creates trance-like state\\n- **Rhythm over melody**: Pattern and timing matter more than pitch\\n- **Locked with kick**: Bass and kick are one unified element\\n- **Space for other elements**: Simple bass leaves room for chords, vocals, effects\\n\\nThis isn't lazy—it's intentional restraint that serves the dance floor.\"}]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [{'pitch': 48, 'step': 0, 'duration': 1}, {'pitch': 48, 'step': 4, 'duration': 1}, {'pitch': 48, 'step': 6, 'duration': 1}, {'pitch': 48, 'step': 8, 'duration': 1}, {'pitch': 48, 'step': 12, 'duration': 1}, {'pitch': 48, 'step': 14, 'duration': 1}],\n    highlightScale: [48, 50, 52, 53, 55, 57, 59, 60], // C major scale in bass range\n    showChordDetection: false,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete the bass pattern exercise.\",\n    success: \"Excellent! You've mastered this bass technique.\",\n    error: \"Not quite. Check the target pattern and try again.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 4,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "bass-3"
    ],
    "outcomes": [
      "Applicare i concetti chiave di House Bass:",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-4",
    "filename": "lesson-drums-4.config.js",
    "title": "16th-note groove:",
    "category": "Drum pattern",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Drums 4 - 16th-Note Groove (More Movement)\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-lesson4-progress\",\n  lessonNumber: 4,\n  lessonCategory: \"Drum pattern\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-drums-5.html\",\n  prevLessonUrl: \"lesson-drums-3.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 4, categoryLabel: \"Drum pattern\" }),\n    title: \"16th-note groove:\",\n    titleHighlight: \"more movement\",\n    subtitle: \"Add 16th-note hi-hats or selective ghost notes to create movement and variation inside the bar.\"\n  },\n  \n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    swing: 0,\n    enableVelocity: true, // Enable velocity control for practice\n    requiredTempo: 120\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Create a 16th-Note Hi-Hat Groove\",\n    description: \"Make your beat more energetic by adding <strong>16th-note movement</strong> to the hi-hats. You'll add one extra hi-hat hit to create that modern, danceable feel.\",\n    tip: \"That extra hi-hat on step 8 creates anticipation. It's a small change that makes a big difference!\",\n    steps: [\n      { text: \"<strong>Set the tempo to 120 BPM</strong> using the Tempo slider.\" },\n      { text: \"<strong>Kick row:</strong> Steps <strong>1, 5, 9, 13</strong> (unchanged).\" },\n      { text: \"<strong>Snare row:</strong> Steps <strong>5 and 13</strong> (unchanged).\" },\n      { text: \"<strong>Hi-Hat row:</strong> Start with eighth notes <strong>(1, 3, 5, 7, 9, 11, 13, 15)</strong> then add step <strong>8</strong>.\" },\n      { text: \"Step 8 is the 'e' of beat 2 - it adds a subtle push before the snare resolves.\" }\n    ]\n  },\n  \n  // ====================\n  // INSTRUMENTS CONFIG\n  // ====================\n  instruments: [\n    {\n      id: \"kick\",\n      label: \"Kick\",\n      color: \"linear-gradient(135deg,#ff5a3d,#ffb28a)\",\n      targetSteps: [0, 4, 8, 12],\n      instructionText: \"Kick: 4 on the floor pattern (locked).\",\n      patternHint: { label: \"Kick\" }\n    },\n    {\n      id: \"snare\",\n      label: \"Snare\",\n      color: \"linear-gradient(135deg,#5f4dff,#8a9bff)\",\n      targetSteps: [4, 12],\n      instructionText: \"Snare: Backbeat on 2 and 4 (locked).\",\n      patternHint: { label: \"Snare\" }\n    },\n    {\n      id: \"hihat\",\n      label: \"Hi-Hat\",\n      color: \"linear-gradient(135deg,#00d4ff,#b8ffdd)\",\n      targetSteps: [0, 2, 4, 6, 7, 8, 10, 12, 14],\n      instructionText: \"Hi-Hat: Add selective 16th notes for a more energetic groove. Target: 1, 3, 5, 7, the 'e' of 2 (step 8), 9, 11, 13, 15.\",\n      patternHint: {\n        label: \"Hi-Hat\",\n        highlightSteps: [7]\n      }\n    }\n  ],\n  \n  // ====================\n  // PATTERN HINT CONFIG\n  // ====================\n  patternHint: {\n    enabled: true,\n    note: \"The highlighted step 8 is the new 16th-note addition!\"\n  },\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"drums\", {\n    initial: \"Add 16th-note movement to unlock the next lesson.\",\n    success: \"Correct! You've added rhythmic movement with 16th notes. Proceed to the next lesson.\",\n    error: \"Not quite right. Remember to add step 8 to your eighth-note hi-hat pattern!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 4,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "drums-3"
    ],
    "outcomes": [
      "Applicare i concetti chiave di 16th-note groove:",
      "Prepararsi alla lezione successiva del modulo Drum pattern"
    ]
  },
  {
    "slug": "ear-4",
    "filename": "lesson-ear-4.config.js",
    "title": "Scale & Mode Recognition:",
    "category": "Ear Training",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-ear-4-progress\",\n  lessonNumber: 4,\n  lessonCategory: \"Ear Training\",\n\n  nextLessonUrl: \"lesson-ear-5.html\",\n  prevLessonUrl: \"lesson-ear-3.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 4, categoryLabel: \"Ear Training\" }),\n    title: \"Scale & Mode Recognition:\",\n    titleHighlight: \"Major, Minor, and Modal Sounds\",\n    subtitle: \"Identify scales and modes by their characteristic sound. Recognize major, minor, and modal patterns in music.\"\n  },\n\n  exercise: {\n    title: \"Identify Scales and Modes by Ear\",\n    description: \"Every scale and mode has a unique sonic fingerprint based on its interval pattern. Major scales sound bright and happy. Natural minor sounds dark and sad. Each of the 7 modes (Ionian, Dorian, Phrygian, Lydian, Mixolydian, Aeolian, Locrian) has characteristic notes that define its color. Training your ear to recognize these patterns helps you identify the key and mood of any song instantly.\",\n    tip: \"Focus on the 'characteristic note' of each mode. Dorian has a raised 6th, Phrygian has a flat 2nd, Lydian has a raised 4th, Mixolydian has a flat 7th.\",\n    steps: [\n      '<strong>Major (Ionian)</strong> — W-W-H-W-W-W-H pattern. Sounds bright, happy, stable. C major: C-D-E-F-G-A-B.',\n      '<strong>Natural Minor (Aeolian)</strong> — W-H-W-W-H-W-W pattern. Sounds dark, sad, melancholic. A minor: A-B-C-D-E-F-G.',\n      '<strong>Dorian</strong> — Like minor but with raised 6th. Sounds jazzy, funky, bright minor. D Dorian: D-E-F-G-A-B-C.',\n      '<strong>Phrygian</strong> — Like minor but with flat 2nd. Sounds Spanish, exotic, dark. E Phrygian: E-F-G-A-B-C-D.',\n      '<strong>Lydian</strong> — Like major but with raised 4th (#11). Sounds dreamy, floating, ethereal. F Lydian: F-G-A-B-C-D-E.',\n      '<strong>Mixolydian</strong> — Like major but with flat 7th. Sounds bluesy, rocky, dominant. G Mixolydian: G-A-B-C-D-E-F.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Scale and Mode Recognition',\n        content: \\`\n**Major vs. Minor: The Foundation**\n\n**Major Scale (Ionian):**\n- Formula: W-W-H-W-W-W-H\n- Sound: Bright, happy, stable, resolved\n- Characteristic: Natural 3rd, natural 7th (leading tone)\n- Usage: Most pop, rock, classical, happy music\n\n**Natural Minor (Aeolian):**\n- Formula: W-H-W-W-H-W-W\n- Sound: Dark, sad, melancholic\n- Characteristic: Flat 3rd, flat 6th, flat 7th\n- Usage: Ballads, emotional music, metal\n\n**The 7 Modes (from C major parent scale):**\n\n**Bright Modes (Major-ish):**\n1. **Ionian (C major)**: C-D-E-F-G-A-B\n   - Standard major scale\n   - Most stable, brightest\n\n2. **Lydian (F)**: F-G-A-B-C-D-E\n   - Major with raised 4th (#11)\n   - Characteristic note: B (the #4)\n   - Sound: Dreamy, floating, film scores\n   - Example: \"The Simpsons\" theme\n\n3. **Mixolydian (G)**: G-A-B-C-D-E-F\n   - Major with flat 7th\n   - Characteristic note: F (the b7)\n   - Sound: Bluesy, rock, dominant function\n   - Example: \"Norwegian Wood\", \"Sweet Home Alabama\"\n\n**Dark Modes (Minor-ish):**\n4. **Aeolian (A minor)**: A-B-C-D-E-F-G\n   - Standard natural minor scale\n   - Most stable minor sound\n\n5. **Dorian (D)**: D-E-F-G-A-B-C\n   - Minor with raised 6th\n   - Characteristic note: B (the natural 6)\n   - Sound: Jazzy, funky, brighter minor\n   - Example: \"So What\" (Miles Davis), \"Scarborough Fair\"\n\n6. **Phrygian (E)**: E-F-G-A-B-C-D\n   - Minor with flat 2nd\n   - Characteristic note: F (the b2)\n   - Sound: Spanish, flamenco, exotic, dark\n   - Example: \"White Rabbit\" (Jefferson Airplane), metal\n\n**Unstable Modes:**\n7. **Locrian (B)**: B-C-D-E-F-G-A\n   - Diminished sound (b5)\n   - Very unstable, rarely used\n   - Theoretical more than practical\n        \\`\n      },\n      {\n        title: 'Practical Scale and Mode Training',\n        content: \\`\n**Training Progression:**\n\n**Phase 1: Major vs. Minor (Weeks 1-2)**\n- Only distinguish between major (Ionian) and minor (Aeolian)\n- 95% accuracy required before moving on\n- Listen to pop songs, identify if major or minor key\n\n**Phase 2: Add Dorian, Mixolydian (Weeks 3-4)**\n- Most common modes after Ionian/Aeolian\n- Dorian: funky, jazzy minor feel\n- Mixolydian: blues-rock major feel\n- Listen to: \"So What\" (Dorian), \"Sweet Home Alabama\" (Mixolydian)\n\n**Phase 3: Add Phrygian, Lydian (Weeks 5-6)**\n- Phrygian: Spanish/exotic feel, metal\n- Lydian: dreamy, film score feel\n- Listen to: \"White Rabbit\" (Phrygian), \"The Simpsons\" theme (Lydian)\n\n**Phase 4: Context and Modulation**\n- Identify modes in progressions (not just single scales)\n- Detect when songs shift between modes\n- Example: verse in minor, chorus in major\n\n**Recognition Strategy:**\n\n**Step 1: Major or Minor Family?**\n- Listen to the 3rd scale degree\n- If bright/happy → Major family (Ionian, Lydian, Mixolydian)\n- If dark/sad → Minor family (Aeolian, Dorian, Phrygian)\n\n**Step 2: Characteristic Note**\n- **Lydian**: Raised 4th stands out (dreamy quality)\n- **Mixolydian**: Flat 7th creates bluesy sound\n- **Dorian**: Raised 6th brightens the minor\n- **Phrygian**: Flat 2nd creates exotic flavor\n\n**Step 3: Emotional Context**\n- Lydian: Magical, floating, otherworldly\n- Mixolydian: Earthy, bluesy, dominant\n- Dorian: Sophisticated, jazzy, funky\n- Phrygian: Dark, exotic, Spanish\n\n**Common Mistakes:**\n- Confusing Dorian with Aeolian (listen for the 6th!)\n- Confusing Mixolydian with Ionian (listen for the 7th!)\n- Not using reference songs (memorize modal song examples)\n- Practicing modes in isolation (they work best in context)\n\n**Song Examples by Mode:**\n- **Ionian**: Most pop songs (\"Let It Be\", \"Don't Stop Believin'\")\n- **Dorian**: \"So What\", \"Scarborough Fair\", \"Mad World\"\n- **Phrygian**: \"White Rabbit\", \"Wherever I May Roam\", flamenco\n- **Lydian**: \"Dreams\" (Fleetwood Mac), \"The Simpsons\" theme\n- **Mixolydian**: \"Sweet Home Alabama\", \"Norwegian Wood\", \"Hey Jude\" (end)\n- **Aeolian**: \"Losing My Religion\", \"Stairway to Heaven\" intro\n\n**DAW Practice:**\n1. Create a MIDI loop playing a mode\n2. Emphasize characteristic notes\n3. Randomize modes, identify them\n4. Compare two modes side-by-side (e.g., Dorian vs. Aeolian)\n        \\`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Instantly distinguish major from minor scales by ear\",\n    \"Identify the characteristic sound of each mode\",\n    \"Recognize Dorian, Mixolydian, Phrygian, and Lydian in music\",\n    \"Use characteristic notes to pinpoint modal identity\",\n    \"Apply modal recognition to song analysis and production\"\n  ]\n};\n",
    "number": 4,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "ear-3"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Scale & Mode Recognition:",
      "Prepararsi alla lezione successiva del modulo Ear Training"
    ]
  },
  {
    "slug": "harmony-4",
    "filename": "lesson-harmony-4.config.js",
    "title": "Build a Classic:",
    "category": "Chord Fundamentals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 4 - Build a Classic: I–IV–V\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-harmony-4-progress\",\n  lessonNumber: 4,\n  lessonCategory: \"Chord Fundamentals\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-harmony-5.html\",\n  prevLessonUrl: \"lesson-harmony-3.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 4, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Build a Classic:\",\n    titleHighlight: \"I–IV–V\",\n    subtitle: \"Program the most common 'song backbone' progression using C, F, and G major chords. The I–IV–V is the foundation of rock, blues, and pop music - literally thousands of songs use these same three chords. This teaches you the chord family that creates complete, satisfying progressions.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 90,\n    key: \"C\",\n    scale: \"Major\",\n    stepCount: 64,\n    bars: 4,\n    pitchRange: {\n      low: 48,  // C3\n      high: 76  // E5\n    }\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Build the I–IV–V–I Progression\",\n    description: \"The <strong>I–IV–V progression</strong> is the backbone of rock, blues, and pop. You'll build <strong>C major (I), F major (IV), and G major (V)</strong>, then resolve back to C. These three chords work together to create complete musical statements.\",\n    tip: \"Each chord should sustain for one full bar (4 beats). Loop all 4 bars to hear the complete cycle: stable → supportive → tension → resolution.\",\n    steps: [\n      { text: \"Bar 1: Place <strong>C major (I)</strong> - C4, E4, G4 (home base)\" },\n      { text: \"Bar 2: Place <strong>F major (IV)</strong> - F4, A4, C5 (supportive movement)\" },\n      { text: \"Bar 3: Place <strong>G major (V)</strong> - G4, B4, D5 (tension)\" },\n      { text: \"Bar 4: Place <strong>C major (I)</strong> - C4, E4, G4 again (resolution)\" },\n      { text: \"Loop all 4 bars and hear the complete journey\" },\n      { text: \"Notice how bar 4 feels like 'arriving home' after the journey\" }\n    ]\n  },\n\n  // ====================\n  // VALIDATION CONFIG\n  // ====================\n  validation: {\n    type: \"chord_progression\",\n    requiredChords: [\n      {\n        name: \"C Major (I)\",\n        pitches: [60, 64, 67],  // C4, E4, G4\n        time: 0,  // Bar 1\n        function: \"tonic\"\n      },\n      {\n        name: \"F Major (IV)\",\n        pitches: [65, 69, 72],  // F4, A4, C5\n        time: 16,  // Bar 2\n        function: \"subdominant\"\n      },\n      {\n        name: \"G Major (V)\",\n        pitches: [67, 71, 74],  // G4, B4, D5\n        time: 32,  // Bar 3\n        function: \"dominant\"\n      },\n      {\n        name: \"C Major (I)\",\n        pitches: [60, 64, 67],  // C4, E4, G4\n        time: 48,  // Bar 4\n        function: \"tonic\"\n      }\n    ],\n    allowInversions: false,\n    allowExtraNotes: false\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Build the I–IV–V–I progression (C → F → G → C) to create a complete musical statement.\",\n    success: \"Excellent! You've built the most important progression in popular music. You can now create complete songs with just three chords.\",\n    error: \"Check your progression: Bar 1 = C-E-G (I), Bar 2 = F-A-C (IV), Bar 3 = G-B-D (V), Bar 4 = C-E-G (I).\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 4,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "harmony-3"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Build a Classic:",
      "Prepararsi alla lezione successiva del modulo Chord Fundamentals"
    ]
  },
  {
    "slug": "mastering-4",
    "filename": "lesson-mastering-4.config.js",
    "title": "Mastering Compression & Dynamics:",
    "category": "Mastering",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mastering 4 - Mastering Compression & Dynamics\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mastering-4-progress\",\n  lessonNumber: 4,\n  lessonCategory: \"Mastering\",\n\n  nextLessonUrl: \"lesson-mastering-5.html\",\n  prevLessonUrl: \"lesson-mastering-3.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 4, categoryLabel: \"Mastering\" }),\n    title: \"Mastering Compression & Dynamics:\",\n    titleHighlight: \"Control Without Crushing\",\n    subtitle: \"Learn to apply gentle glue compression and multiband dynamics that enhance cohesion and punch while preserving the mix's natural dynamics\"\n  },\n\n  exercise: {\n    title: \"Apply Mastering Compression for Glue and Punch\",\n    description: \"Set up mastering compression that adds cohesion and subtle punch without over-compressing. Learn the difference between mix compression and mastering compression through hands-on application.\",\n    tip: \"In mastering, compression should be felt, not heard. If you can obviously hear the compressor working (pumping, breathing, squashing), you're doing too much. The goal is subtle 'glue' that makes the mix feel more cohesive—not dynamic reshaping.\",\n    steps: [\n      '<strong>Insert mastering compressor</strong> — Add a high-quality compressor after your EQ in the mastering chain (FabFilter Pro-C, iZotope Dynamics, Waves SSL, or similar). Choose a model known for transparency.',\n      '<strong>Set conservative starting point</strong> — Start with: <strong>Ratio 1.5:1 to 2:1</strong>, <strong>Attack 30-50 ms</strong>, <strong>Release auto or 100-200 ms</strong>, <strong>Threshold high (minimal compression)</strong>.',\n      '<strong>Lower threshold gradually</strong> — Play the loudest section (chorus). Slowly lower threshold until you see <strong>1-2 dB of gain reduction</strong> on peaks. Watch the meter—compression should be gentle and intermittent.',\n      '<strong>Adjust attack time</strong> — If transients feel dulled, <strong>increase attack (slower, 50-100 ms)</strong> to let transients through. If the mix feels loose and unfocused, <strong>decrease attack (faster, 10-30 ms)</strong> to catch more transients.',\n      '<strong>Adjust release time</strong> — Listen for pumping (release too fast) or sluggishness (release too slow). <strong>Auto release</strong> often works well. Manual release of <strong>100-300 ms</strong> is typical for mastering.',\n      '<strong>Apply makeup gain</strong> — Match the output level to the input (bypassed) level. Compression reduces peaks, so you need makeup gain. Level-match before A/B comparison.',\n      '<strong>A/B test compression</strong> — Bypass the compressor and compare. The compressed version should feel slightly more \"together\" and cohesive—not obviously squashed or pumping.',\n      '<strong>Try parallel compression (optional)</strong> — Set compressor mix/blend to <strong>30-50%</strong> (if available). This blends compressed and dry signal for transparent glue.',\n      '<strong>Consider multiband (optional)</strong> — If only one frequency range needs control (e.g., boomy low-mids), insert a multiband compressor. Compress only the problem band—leave others untouched.',\n      '<strong>Set multiband conservatively</strong> — If using multiband, target <strong>1-3 dB gain reduction</strong> on the problem band only. Don\\'t compress all bands—this defeats the purpose.',\n      '<strong>Check dynamic range</strong> — Compare DR (dynamic range) before and after compression. Losing more than 1-2 DR from compression suggests over-processing.',\n      '<strong>Final A/B and reference check</strong> — Compare compressed master to uncompressed, and to your reference. Does compression add cohesion without sacrificing dynamics? If yes, you\\'re done.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Mastering Compression vs Mixing Compression',\n        content: `Compression in mastering serves a fundamentally different purpose than compression in mixing. Understanding this difference prevents over-processing.\n\n**Mixing Compression:**\n- Controls individual element dynamics (vocal, drums, bass)\n- Can be aggressive (6-10+ dB gain reduction)\n- Shapes attack and sustain of individual sounds\n- Part of creative sound design\n\n**Mastering Compression:**\n- Glues the entire mix together\n- Very gentle (1-3 dB gain reduction typical)\n- Preserves the mix's existing dynamics\n- Enhancement, not reshaping\n\n**The \"Glue\" Effect:**\nWhen you compress a full mix gently, the elements move together dynamically. Loud moments bring everything down slightly; quiet moments let everything breathe. This creates cohesion—the sense that all elements belong together.\n\n**Why Mastering Compression is Optional:**\nNot every mix needs mastering compression. Well-mixed tracks with good bus compression may need nothing. Heavily compressed mixes definitely need nothing more. The test: does adding compression make it sound better? If not, don't use it.\n\n**The Danger of Over-Compression:**\n- Kills transients (kick, snare lose punch)\n- Creates pumping artifacts\n- Reduces dynamic range\n- Causes listener fatigue\n- Can't be undone in mastering\n\n**A Good Rule:**\nIf you can hear the compressor obviously working, it's probably doing too much. Mastering compression should be subtle enough that you might wonder if it's even on.`\n      },\n      {\n        title: 'Setting Attack and Release for Mastering',\n        content: `Attack and release times in mastering require a different approach than mixing. The goal is transparency—affecting the overall envelope without obviously reshaping transients.\n\n**Attack Time in Mastering:**\n\n**Slow Attack (30-100+ ms):**\n- Lets transients through untouched\n- Preserves kick and snare punch\n- Compresses only the sustained body of sounds\n- Standard choice for most mastering\n\n**Fast Attack (5-20 ms):**\n- Catches transients, reducing peak levels\n- Can dull the mix if overdone\n- Occasionally useful for overly peaky mixes\n- Use sparingly—you're fighting the mix balance\n\n**Recommended Starting Point:** 30-50 ms\n\n**Release Time in Mastering:**\n\n**Fast Release (<100 ms):**\n- Compressor recovers quickly\n- Can cause audible pumping on bass-heavy material\n- Creates more obvious compression effect\n- Generally avoid for transparent mastering\n\n**Medium Release (100-300 ms):**\n- Natural recovery between notes\n- Works for most tempos and genres\n- Less audible compression artifacts\n\n**Slow Release (300+ ms):**\n- Very smooth, gentle compression\n- May not recover between beats\n- Can cause \"sluggish\" feel\n\n**Auto Release:**\n- Adjusts release based on program material\n- Often the best choice for mastering\n- Adapts to both fast and slow sections\n\n**Recommended Starting Point:** Auto release, or 150-200 ms manual\n\n**The \"Musical Timing\" Concept:**\nAt 120 BPM, a beat is 500 ms. Setting release so the compressor recovers between beats (around 400-500 ms or faster) prevents sluggishness. Slower tempos allow slower release; faster tempos need faster release.`\n      },\n      {\n        title: 'Ratio and Threshold: The Gentle Approach',\n        content: `In mastering, ratio and threshold work together to create gentle, transparent compression. The key is restraint.\n\n**Ratio in Mastering:**\n\n| Ratio | Character | Use Case |\n|-------|-----------|----------|\n| 1.5:1 | Very gentle, almost invisible | Most mastering situations |\n| 2:1 | Gentle, standard mastering | Default starting point |\n| 3:1 | Moderate, noticeable | More aggressive glue |\n| 4:1+ | Significant compression | Rarely appropriate for mastering |\n\n**Recommended:** Start at 1.5:1 or 2:1. Only increase if you need more control.\n\n**Threshold Setting:**\n\n**The Gain Reduction Target:**\n- **1-2 dB GR:** Very subtle, transparent glue\n- **2-3 dB GR:** Noticeable cohesion, still natural\n- **3-4 dB GR:** Aggressive for mastering\n- **4+ dB GR:** Too much for most mastering\n\n**How to Set Threshold:**\n1. Start with threshold high (no compression)\n2. Play the loudest section\n3. Lower threshold until you see 1-2 dB GR on peaks\n4. Verify compression is intermittent, not constant\n5. If GR is constant, threshold is too low\n\n**Knee Setting:**\n- **Hard knee:** Compression engages abruptly at threshold\n- **Soft knee:** Compression engages gradually around threshold\n- **For mastering:** Soft knee almost always (smoother, more transparent)\n\n**The \"Barely Touching\" Test:**\nYour compressor should be barely touching the signal—reducing peaks by 1-2 dB, then recovering. If it's constantly compressing, you're over-threshold. Pull back.`\n      },\n      {\n        title: 'Parallel and Mix Compression',\n        content: `Parallel compression (also called New York compression) blends compressed and uncompressed signal. This technique is powerful in mastering because it adds density and glue while preserving dynamics.\n\n**How Parallel Compression Works:**\n- Dry signal retains original transients and dynamics\n- Compressed signal adds density and sustain\n- Blending them together gives you the best of both\n\n**Setting Up Parallel Compression:**\n\n**Method 1: Mix/Blend Knob**\nIf your compressor has a mix/blend control:\n1. Set compression more aggressively than normal (3-6 dB GR)\n2. Set mix to 30-50%\n3. Result: Aggressive compression blended with dry signal\n\n**Method 2: Parallel Bus**\nIf your compressor lacks a mix knob:\n1. Duplicate signal to a parallel bus\n2. Compress the parallel bus aggressively\n3. Blend parallel bus under the main signal\n4. More complex but offers more control\n\n**Parallel Compression Settings:**\nBecause you're blending, you can compress more aggressively:\n- Ratio: 4:1 to 8:1\n- Attack: 20-50 ms\n- Release: 100-200 ms or auto\n- Gain reduction: 4-8 dB\n- Mix: 20-50%\n\n**When Parallel Compression Helps:**\n- Mix feels thin or lacking density\n- You want more punch without obvious compression\n- Standard compression sounds too obvious\n- You need to add weight to quiet elements\n\n**The Key Advantage:**\nParallel compression lets you add intensity and density while retaining the original transients and dynamics. It's more forgiving than standard compression.`\n      },\n      {\n        title: 'Multiband Compression: Surgical Dynamic Control',\n        content: `Multiband compression lets you compress different frequency ranges independently. It's powerful but dangerous—easy to over-process and create unnatural sound.\n\n**When Multiband is Appropriate:**\n- One frequency range has dynamic problems others don't\n- Low end is boomy/uncontrolled but mids and highs are fine\n- High end is harsh on loud passages but OK otherwise\n- You need to tame one element without affecting others\n\n**When Multiband is NOT Appropriate:**\n- As a \"default\" mastering tool—it rarely is\n- To \"improve\" a well-balanced mix\n- When the whole mix needs compression (use wideband)\n- When the problem is in the mix (request revision)\n\n**Common Multiband Applications:**\n\n**Low-End Control (Most Common):**\n- Band: 0-150 Hz\n- Issue: Boomy, uncontrolled bass\n- Settings: Ratio 2:1-3:1, slow attack, medium release\n- Target: 2-3 dB GR on boomy moments only\n\n**Low-Mid Mud:**\n- Band: 150-400 Hz\n- Issue: Muddy buildup on loud passages\n- Settings: Ratio 2:1, medium attack/release\n- Target: 1-2 dB GR\n\n**Harsh High-Mids:**\n- Band: 2-6 kHz\n- Issue: Harsh presence on loud vocals/guitars\n- Settings: Ratio 2:1-3:1, fast attack, medium release\n- Target: 1-3 dB GR on harsh moments\n\n**Multiband Dangers:**\n- Processing all bands equally (defeats the purpose)\n- Too many bands (3-4 maximum, often 2 is enough)\n- Too much gain reduction (1-3 dB per band max)\n- Creating unnatural \"robotic\" sound\n\n**The Rule:**\nIf you're using multiband compression, you should be compressing only 1-2 bands, and only by 1-3 dB. If you're compressing everything, use a wideband compressor instead.`\n      },\n      {\n        title: 'Compression Workflow and Decision Making',\n        content: `A structured approach to mastering compression prevents over-processing and ensures your decisions serve the music.\n\n**Step 1: Decide if Compression is Needed**\nListen to the mix without compression:\n- Does it already feel cohesive? (May not need compression)\n- Is it already heavily compressed? (Definitely don't add more)\n- Does it feel loose or disconnected? (May benefit from glue)\n\n**Step 2: Start Ultra-Conservative**\nInitial settings:\n- Ratio: 1.5:1\n- Attack: 30-50 ms\n- Release: Auto\n- Threshold: High (no compression yet)\n\n**Step 3: Find the Threshold**\n1. Play the loudest section\n2. Lower threshold until you see 1-2 dB GR on peaks\n3. GR should be intermittent, not constant\n\n**Step 4: Refine Attack/Release**\n- If transients are dulled: slower attack\n- If mix feels loose: faster attack\n- If pumping: slower release\n- If sluggish: faster release\n\n**Step 5: Level-Match and A/B**\n1. Set makeup gain to match bypassed level\n2. A/B rapidly\n3. Compressed version should feel slightly more cohesive\n4. If it just sounds different (not better), reconsider\n\n**Step 6: Check Dynamic Range**\nCompare DR before and after:\n- Lost 1 DR: Normal\n- Lost 2 DR: On the edge\n- Lost 3+ DR: Probably too much\n\n**Decision Framework:**\n| Observation | Action |\n|-------------|--------|\n| Mix already sounds cohesive | Skip compression |\n| Mix is already squashed | Skip compression |\n| Mix feels loose/disconnected | Apply light glue compression |\n| Only one frequency range is problematic | Consider multiband |\n| Compression sounds obvious | Use parallel, or use less |\n\n**The Ultimate Test:**\nPlay for someone who doesn't know you added compression. If they notice compression artifacts, you did too much. If they say it sounds \"polished\" or \"professional,\" you got it right.`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Understand the difference between mixing and mastering compression: glue vs dynamic shaping\",\n    \"Set appropriate mastering compression parameters: ratio 1.5-2:1, attack 30-50 ms, release auto, 1-3 dB GR\",\n    \"Apply parallel compression using mix/blend controls (30-50%) for transparent density and punch\",\n    \"Use multiband compression surgically to address frequency-specific dynamic issues without over-processing\",\n    \"Follow a structured compression workflow: evaluate need, start conservative, level-match A/B, check DR\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mastering lesson to master compression techniques.\",\n    success: \"Excellent! You can now apply mastering compression with subtlety and purpose.\",\n    error: \"Review the compression concepts and try again.\",\n    alreadyCompleted: \"You've mastered Mastering Compression. Ready for Lesson 5!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 4,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "mastering-3"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Mastering Compression & Dynamics:",
      "Prepararsi alla lezione successiva del modulo Mastering"
    ]
  },
  {
    "slug": "mixing-4",
    "filename": "lesson-mixing-4.config.js",
    "title": "EQ Techniques:",
    "category": "Mixing",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mixing 4 - EQ Techniques - Surgical vs Musical\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-4-progress\",\n  lessonNumber: 4,\n  lessonCategory: \"Mixing\",\n\n  nextLessonUrl: \"lesson-mixing-5.html\",\n  prevLessonUrl: \"lesson-mixing-3.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 4, categoryLabel: \"Mixing\" }),\n    title: \"EQ Techniques:\",\n    titleHighlight: \"Surgical vs Musical\",\n    subtitle: \"Choosing the right bandwidth, curve, and workflow for problem-solving and tone shaping\"\n  },\n\n  exercise: {\n    title: \"Surgical Problem Solving + Musical Enhancement Pass\",\n    description: \"Perform a structured two-stage EQ pass: first fix specific problems with narrow moves, then shape tone with broad musical curves, while verifying level matching and headroom.\",\n    tip: \"If you end up stacking many narrow cuts, pause and reassess: often one or two well-placed notches plus a broad 'musical' rebalancing move translates better than building a highly complex notch 'comb'. Keep decisions honest with level-matched A/B and short breaks to reduce fatigue.\",\n    steps: [\n      '<strong>Load session</strong> — Open your previous session \"Mixing-3_EQBasics\" and immediately save a new version named \"Mixing-4_EQTechniques\".',\n      '<strong>Set loop region</strong> — Loop a representative 20–30 seconds (often a chorus/drop). Keep the full mix playing for most decisions; reserve solo for short diagnosis only.',\n      '<strong>Check headroom</strong> — On the master bus, confirm your metering is still behaving as in Lesson 2 (no clipping; comfortable headroom). Keep a peak meter visible throughout the exercise.',\n      '<strong>Select surgical targets</strong> — Choose three tracks for surgical work: (1) Lead Vocal, (2) Snare (or a ringy drum close mic), and (3) a harmonic instrument (guitar/synth/piano).',\n      '<strong>Vocal resonance notch</strong> — Add (or use) your \"EQ1 (surgical)\" instance. Create a bell band with Q = 12 and gain = +10 dB. Sweep slowly until the worst resonance is obvious. Set that band to a cut of -4 dB at the found frequency, keep Q ≥ 10, and write down the final frequency value.',\n      '<strong>Snare resonance notch</strong> — Create another bell band with Q = 10–14 and gain = +10 dB. Sweep to find a ringing overtone. Convert to a cut of -5 dB at the found frequency. Keep Q ≥ 10 and write down the final frequency value.',\n      '<strong>Instrument resonance notch</strong> — Repeat the same method on your guitar/synth/piano track. Convert the found resonance to a cut of -3 dB with Q ≥ 10, and write down the final frequency value.',\n      '<strong>Level-matched A/B</strong> — For each of the three tracks, do a level-matched A/B: bypass the EQ (or the band) and adjust the EQ output (or a trim after the EQ) so the processed and bypassed levels match within roughly ±0.5 dB. Confirm the improvement still holds when level-matched.',\n      '<strong>Dynamic de-essing</strong> — On the Lead Vocal (or Vocals Bus), add a dynamic EQ band centred between 6–10 kHz (start around 7 kHz) with Q ≈ 3 and dynamic range ≈ -4 dB. Set attack ≈ 2 ms and release ≈ 100 ms. Adjust threshold so gain reduction occurs mainly on sibilant moments (aim for roughly 2–5 dB reduction on the loudest \"S\" sounds).',\n      '<strong>Musical presence lift</strong> — Create (or enable) \"EQ2 (musical)\" after your surgical stage. On the Lead Vocal, add a broad presence lift (e.g., 3–5 kHz) with Q ≈ 0.7–1.0 and +1 to +2 dB. Level-match output again.',\n      '<strong>Pultec-style low end</strong> — On Kick or Bass (track or bus), if you have a Pultec-style EQ, set low frequency to 60 Hz, apply a low boost in the +2 to +4 dB range and a smaller attenuation in the 1 to 3 dB range. If you do not have a Pultec-style EQ, approximate the idea with a gentle low-shelf boost at 60 Hz and a small low-mid cut around 150–300 Hz. Level-match output.',\n      '<strong>Tilt EQ move</strong> — On a Music Bus (guitars/synths) or a single instrument, apply a tilt EQ (or emulate tilt with a broad high shelf plus a broad low shelf in opposite directions). Choose a pivot around 1 kHz and apply a small tilt (±1 dB). Keep the move subtle and level-match.',\n      '<strong>Final headroom check</strong> — Check that none of your edited tracks, buses, or the master are clipping. If your master peak has risen noticeably, reduce EQ output trims or bus faders slightly rather than undoing the EQ decisions.',\n      '<strong>Export and compare</strong> — Export two 20–30 second bounces: (A) \"Mixing-4_PrePass\" with your new EQ changes bypassed, and (B) \"Mixing-4_PostPass\" with EQ enabled. Re-import both files, level-match them, and A/B. Write down three audible improvements and one tradeoff (if any) that you can still hear at two different monitoring levels.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'From Frequency Spectrum to Technique',\n        content: `Lesson 3 gave you a practical map of the spectrum (where mud tends to live, where presence tends to live) and a first set of EQ moves (HPF, gentle shelves, and bell boosts/cuts). This lesson adds a second axis: <em>how wide and how selective</em> a move should be, and whether it should be static or level-dependent.\n\n**The AES Definition:**\nThe Audio Engineering Society (AES) defines a parametric equaliser as a multi-band variable equaliser that lets you control amplitude, centre frequency, and bandwidth. In mixing terms, that bandwidth control is the core decision behind \"surgical\" versus \"musical\" EQ:\n- **Surgical moves** aim to remove a narrow offender with minimal collateral tone change\n- **Musical moves** aim to shift an entire region's perceived balance in a cohesive way\n\n**Understanding Q (Quality Factor):**\nBandwidth is frequently controlled via Q. AES defines Q as the ratio of centre frequency (f) to bandwidth (BW), so higher Q values create narrower filters around the selected frequency. A practical implication is that Q is proportional rather than a fixed width in Hertz: the filter's absolute width scales with frequency.\n\n**Before You Touch the EQ:**\nDecide the intent—resonance removal, tonal shaping, or unmasking—and keep Lesson 2 habits: compare in context and level-match bypass so you don't mistake \"louder\" for \"better\".`\n      },\n      {\n        title: 'Surgical EQ: Resonance Hunting, Notch Filtering, and Dynamic De-Essing',\n        content: `Surgical EQ is typically about achieving a clear improvement with minimal tonal \"side damage\".\n\n**The Hunt → Lock → Cut Method:**\n1. Create a narrow bell (often Q ≈ 8–16)\n2. Temporarily boost +8 to +12 dB\n3. Sweep slowly until the resonance becomes obvious (ringing snare overtone, whistling synth partial, nasal vocal spike)\n4. Convert the boost into a controlled cut (often -2 to -8 dB)\n5. Widen Q slightly until the cut stops sounding \"pinched\" but still reduces the offender\n\n**Notch Filters:**\nAES describes a notch filter as a cut-only equaliser used to attenuate a narrow band, with frequency, bandwidth, and depth determining the notch. In a DAW, you can implement this either via a notch filter type or a very narrow bell cut, then verify by toggling the band and checking that the track still feels natural in the full mix.\n\n**Dynamic EQ for Intermittent Problems:**\nWhere surgical EQ becomes more advanced is when the problem is intermittent. AES defines a de-esser as a special compressor operating only at high frequencies (above ~3 kHz) to reduce sibilant sounds.\n\n**Dynamic De-Essing Settings:**\n- Place a dynamic bell in the 6–10 kHz region\n- Choose Q ≈ 2–5\n- Set dynamic range around -2 to -6 dB\n- Tune threshold so gain reduction happens mainly on \"S/SH\" bursts\n- Start with attack ≈ 1–5 ms and release ≈ 50–150 ms\n- Adjust by listening for lisping, dullness, or over-reduction\n- Keep the vocal output level matched when you bypass`\n      },\n      {\n        title: 'Masking Resolution Between Competing Sources',\n        content: `Masking (often called frequency masking) is a perceptual situation where one sound makes another harder to perceive when they overlap in frequency and time.\n\n**AES Research Perspective:**\nAES research on multitrack mixing treats masking reduction as a recurring objective, commonly addressed through gain, equalisation, and panning, while also recognising that some masking can be acceptable or even desirable depending on style.\n\n**Surgical vs Musical in Masking:**\nIn practice, \"surgical versus musical\" becomes a prioritisation exercise: you decide which element should read clearly in a contested band, and then you shape competing elements so they don't fight for the same perceptual space.\n\n**DAW-Friendly Masking Workflow:**\n1. Identify the contested band in context\n2. Choose the priority source for that band\n3. Apply complementary EQ to the competitor\n4. Re-check balance and tone\n\n**Practical Example:**\nIf the vocal needs intelligibility around 3–5 kHz, you might:\n- Apply a small, broad cut on guitars/keys in the same zone (commonly -1 to -3 dB with Q ≈ 0.7–1.4)\n- Give those instruments a different identity band elsewhere (a gentle shelf above ~8–10 kHz for sheen, or a body lift around ~150–250 Hz if the arrangement allows)\n\nThe \"musical\" part is the rebalancing: you're not only removing, you're re-assigning roles so the mix remains exciting.`\n      },\n      {\n        title: 'Musical EQ: Broad Strokes, Tilt Balance, and Analogue Character',\n        content: `Musical EQ is usually about tonal narrative: making a source feel warmer, brighter, bigger, or more \"finished\" without the listener noticing the processing.\n\n**Typical Musical EQ Settings:**\n- Wider bandwidths (often Q ≈ 0.3–1.0)\n- Smaller gain moves (+/- 0.5 to 3 dB)\n- Judged while the full mix plays\n\n**Shelves vs Bells:**\n- **Shelves** are often chosen when you want an end-band to move together (overall brightness/dullness or overall weight/leanness). AES uses the term \"shelving response\" for a flat end-band shape applied to programme equalisation.\n- **Bells** are often preferred when you want to emphasise or reduce a specific region (for example, a vocal presence lift) without shifting the entire top end the way a shelf would.\n\n**Tilt EQ:**\nAn efficient overall-balance move that behaves like extremely wide high/low shelves working together, so boosting one end also attenuates the other around a pivot (often ~800 Hz–2 kHz). Small tilts (±0.5 to 2 dB) can steer a sound brighter/thinner or darker/thicker quickly.\n\n**Pultec-Style EQ:**\nDocumentation for the EQP-1A highlights the signature low-end effect where it can appear to boost and cut the same low frequency, creating a tightening effect via an adjacent resonant dip. A starting point is 60 Hz: boost +2–4 dB, attenuate 1–3 dB, then level-match.\n\n**Analogue-Modelled EQs:**\nWith analogue-modelled EQs, input drive can also add harmonic colour, so keep gain staging intentional.`\n      },\n      {\n        title: 'Problem-Frequency Playbook',\n        content: `The ranges below come directly from your Lesson 3 band map, but the technique choice is new: broad bells for \"tone zones\", narrow bells/notches for isolated resonances, and dynamic bands for problems that only jump out on peaks.\n\n<strong>Common Problem Frequencies:</strong>\n\n<table style=\"width:100%; border-collapse: collapse; margin: 1em 0;\">\n<tr style=\"border-bottom: 2px solid #444;\">\n<th style=\"text-align:left; padding: 8px;\">Issue</th>\n<th style=\"text-align:left; padding: 8px;\">Range</th>\n<th style=\"text-align:left; padding: 8px;\">Description</th>\n<th style=\"text-align:left; padding: 8px;\">Starting Move</th>\n</tr>\n<tr style=\"border-bottom: 1px solid #333;\">\n<td style=\"padding: 8px;\"><strong>Mud</strong></td>\n<td style=\"padding: 8px;\">200–400 Hz</td>\n<td style=\"padding: 8px;\">Cloudy, smeared low-mids</td>\n<td style=\"padding: 8px;\">Broad cut -2 to -4 dB, Q ≈ 0.7–1.2</td>\n</tr>\n<tr style=\"border-bottom: 1px solid #333;\">\n<td style=\"padding: 8px;\"><strong>Boxiness</strong></td>\n<td style=\"padding: 8px;\">400–600 Hz</td>\n<td style=\"padding: 8px;\">\"Cardboard\", small-room tone</td>\n<td style=\"padding: 8px;\">Cut -2 to -5 dB, Q ≈ 1.0–2.0</td>\n</tr>\n<tr style=\"border-bottom: 1px solid #333;\">\n<td style=\"padding: 8px;\"><strong>Nasal / honky</strong></td>\n<td style=\"padding: 8px;\">800 Hz–1.5 kHz</td>\n<td style=\"padding: 8px;\">Telephone-like, nasal spike</td>\n<td style=\"padding: 8px;\">Cut -2 to -4 dB, Q ≈ 1.5–3.0</td>\n</tr>\n<tr style=\"border-bottom: 1px solid #333;\">\n<td style=\"padding: 8px;\"><strong>Harshness</strong></td>\n<td style=\"padding: 8px;\">2–4 kHz</td>\n<td style=\"padding: 8px;\">Hard edge, fatigue, \"shout\"</td>\n<td style=\"padding: 8px;\">Cut -1 to -3 dB, Q ≈ 1.0–1.6</td>\n</tr>\n<tr>\n<td style=\"padding: 8px;\"><strong>Sibilance</strong></td>\n<td style=\"padding: 8px;\">6–10 kHz</td>\n<td style=\"padding: 8px;\">Ess/ssh bite, brittle top</td>\n<td style=\"padding: 8px;\">Dynamic band: range -2 to -6 dB, Q ≈ 2–5</td>\n</tr>\n</table>\n\n<strong>Important Notes:</strong>\n- Treat the dB and Q values as starting points and confirm by ear in context\n- EQ implementations can interpret Q differently\n- Extremely narrow moves can sound over-precise even when they look \"correct\"`\n      },\n      {\n        title: 'EQ Order, Serial Instances, and Verification',\n        content: `EQ order is not a strict rule, but common patterns exist because processors interact.\n\n**Why Subtractive EQ Often Comes First:**\nSubtractive EQ (HPF for rumble, resonance notches, harshness reduction) is often placed early so compressors and saturators are not \"forced\" to react to problems. If a vocal has a sharp ring at, say, 3 kHz, compressing first can make that ring more consistently present, which can push you into deeper cuts later.\n\n**Why Additive EQ Often Comes After Compression:**\nAdditive \"polish\" moves (air shelves, gentle presence, low-end lift) are often easier to judge after dynamics are stabilised, because you are not chasing moving targets.\n\n**Typical Serial EQ Chain:**\n<pre style=\"background: #1a1a2e; padding: 12px; border-radius: 4px; margin: 1em 0;\">\n[EQ1: HPF + notches] → [Compressor] → [EQ2: shelves / broad bells]\n</pre>\n\n**Stacking Filters:**\nMany DAW EQ designs support stacking filters for stronger shapes; Ableton notes that assigning the same parameters to multiple EQ filters can achieve more drastic filtering effects.\n\n**Verification Loop (From Lesson 2):**\nWhen you use serial EQ or steep slopes, re-run your verification:\n- Volume-matched bypass comparisons (often within ±0.5 dB)\n- No channel or bus clipping\n- Stable master headroom (keeping mix peaks comfortably below full scale during mixing)`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Identify when a problem calls for surgical EQ (resonances, sibilance, masking) versus musical EQ (overall tone, character, balance)\",\n    \"Apply narrow-Q resonance hunting and notch filtering with appropriate cut depths while avoiding loudness bias via level-matched A/B\",\n    \"Distinguish musical EQ approaches (broad bells, shelves, tilt EQ, Pultec-style boost/cut interaction) and choose shelves versus bells intentionally\",\n    \"Diagnose masking conflicts between competing sources and resolve them with complementary EQ in context\",\n    \"Build and verify serial EQ workflows (subtractive before additive, EQ placement around compression, stacked filters) without losing headroom\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mixing lesson to advance your skills.\",\n    success: \"Excellent! You've mastered EQ Techniques - Surgical vs Musical. Your mixes are improving!\",\n    error: \"Review the mixing concepts and try again.\",\n    alreadyCompleted: \"You've completed this mixing technique. Keep practicing!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 4,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "mixing-3"
    ],
    "outcomes": [
      "Applicare i concetti chiave di EQ Techniques:",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-4",
    "filename": "lesson-sound-design-4.config.js",
    "title": "Wavetable Synthesis:",
    "category": "Sound Design",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Sound Design 4 - Wavetable Synthesis\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-sound-design-4-progress\",\n  lessonNumber: 4,\n  lessonCategory: \"Sound Design\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-sound-design-5.html\",\n  prevLessonUrl: \"lesson-sound-design-3.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 4, categoryLabel: \"Sound Design\" }),\n    title: \"Wavetable Synthesis:\",\n    titleHighlight: \"Modern Digital Textures\",\n    subtitle: \"Navigate through wavetables to create modern, evolving digital sounds that dominate electronic music. Master professional sound design techniques used in modern music production.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Explore Wavetable Synthesis\",\n    description: \"Navigate through wavetables to create modern, evolving digital sounds that dominate electronic music. This lesson covers the essential concepts and practical techniques you need to master this sound design method.\",\n    tip: \"Listen critically to how each parameter affects the sound. Small changes can have dramatic results in sound design.\",\n    steps: [\n      '<strong>Study the theory</strong> — Read through the sound design concepts and understand the signal flow.',\n      '<strong>Analyze the examples</strong> — Listen to reference sounds and identify key characteristics.',\n      '<strong>Experiment with parameters</strong> — Try different settings and hear how they change the sound.',\n      '<strong>Create variations</strong> — Design multiple versions exploring different timbres.',\n      '<strong>Save your presets</strong> — Document successful sounds for future use.',\n      'Complete the lesson when ready to move forward.'\n    ]\n  },\n  \n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Wavetable Synthesis',\n        content: `Wavetable Synthesis is a fundamental sound design technique that shapes the sonic character of your productions.\n\n**Key Concepts:**\n- Core synthesis principles and signal flow\n- Parameter relationships and interactions  \n- Frequency spectrum considerations\n- Timbral characteristics and sonic possibilities\n- Common applications in music production\n\n**Professional Applications:**\nModern producers use Wavetable Synthesis for:\n- Creating signature sounds and textures\n- Designing genre-specific timbres\n- Building unique sonic identities\n- Crafting sounds that cut through mixes\n- Generating movement and evolution in arrangements\n\nUnderstanding these concepts gives you complete control over your sound palette.`\n      },\n      {\n        title: 'Practical Sound Design Workflow',\n        content: `Professional sound designers follow systematic approaches to achieve desired results:\n\n**Design Process:**\n1. **Define the goal** — Know what sound you're trying to create\n2. **Choose the method** — Select appropriate synthesis technique\n3. **Start simple** — Begin with basic waveforms and build complexity\n4. **Shape with filters** — Sculpt the frequency content\n5. **Add movement** — Use envelopes and modulation\n6. **Layer if needed** — Combine multiple sounds for richness\n7. **Process and polish** — Apply effects and finalize\n\n**Critical Listening:**\n- A/B compare with reference sounds\n- Analyze frequency spectrum with analyzers\n- Check mono compatibility\n- Test in context with other mix elements\n\n**Common Mistakes to Avoid:**\n- Over-processing before establishing the core sound\n- Too many modulation sources creating chaos\n- Ignoring the frequency spectrum balance\n- Not considering the sound's role in the arrangement\n\nStudy professional productions and reverse-engineer the sounds you admire.`\n      }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master the fundamental concepts of Wavetable Synthesis\",\n    \"Understand signal flow and parameter relationships\",\n    \"Apply sound design techniques to practical productions\",\n    \"Develop critical listening skills for timbre and texture\",\n    \"Create professional-quality sounds for your productions\"\n  ],\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this lesson to master Wavetable Synthesis techniques.\",\n    success: \"Excellent! You've mastered Wavetable Synthesis. Your sound design skills are growing!\",\n    error: \"Review the theory and try again.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these techniques!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 4,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "sound-design-3"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Wavetable Synthesis:",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "theory-4",
    "filename": "lesson-theory-4.config.js",
    "title": "The 7 Modes:",
    "category": "Music Theory Fundamentals",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-theory-4-progress\",\n  lessonNumber: 4,\n  lessonCategory: \"Music Theory Fundamentals\",\n\n  nextLessonUrl: \"lesson-theory-5.html\",\n  prevLessonUrl: \"lesson-theory-3.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 4, categoryLabel: \"Music Theory Fundamentals\" }),\n    title: \"The 7 Modes:\",\n    titleHighlight: \"Complete Modal System\",\n    subtitle: \"Master all 7 modes derived from the major scale: Ionian, Dorian, Phrygian, Lydian, Mixolydian, Aeolian, and Locrian. Understand their unique characteristics and applications.\"\n  },\n\n  exercise: {\n    title: \"Explore All 7 Modes from C\",\n    description: \"Modes are scales created by starting on different degrees of the major scale. Each mode has a unique flavor and emotional character. From C major (C-D-E-F-G-A-B), we can derive 7 modes by starting on each note: C Ionian, D Dorian, E Phrygian, F Lydian, G Mixolydian, A Aeolian, B Locrian.\",\n    tip: \"Think of modes as different 'moods' of the major scale. Lydian is bright, Phrygian is dark and exotic.\",\n    steps: [\n      '<strong>C Ionian (Major)</strong> — C-D-E-F-G-A-B. The standard major scale. Bright and happy.',\n      '<strong>D Dorian</strong> — D-E-F-G-A-B-C. Minor sound with raised 6th. Jazz and funk favorite.',\n      '<strong>E Phrygian</strong> — E-F-G-A-B-C-D. Minor with flat 2nd. Spanish, flamenco, metal.',\n      '<strong>F Lydian</strong> — F-G-A-B-C-D-E. Major with raised 4th. Dreamy, ethereal, film scores.',\n      '<strong>G Mixolydian</strong> — G-A-B-C-D-E-F. Major with flat 7th. Blues, rock, pop.',\n      '<strong>A Aeolian (Natural Minor)</strong> — A-B-C-D-E-F-G. Standard minor scale. Sad, melancholic.',\n      '<strong>B Locrian</strong> — B-C-D-E-F-G-A. Diminished sound. Rare, unstable, theoretical.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding the Modal System',\n        content: `\n**The 7 Modes (from C major):**\n\n**1. Ionian (C-D-E-F-G-A-B)**\n- Formula: W-W-H-W-W-W-H\n- Character: Bright, stable, happy\n- Same as major scale\n- Use: Pop, classical, happy melodies\n\n**2. Dorian (D-E-F-G-A-B-C)**\n- Formula: W-H-W-W-W-H-W\n- Character: Minor with brightness\n- Raised 6th compared to natural minor\n- Use: Jazz, funk, hip-hop\n\n**3. Phrygian (E-F-G-A-B-C-D)**\n- Formula: H-W-W-W-H-W-W\n- Character: Dark, exotic, Spanish\n- Flat 2nd is signature interval\n- Use: Flamenco, metal, Middle Eastern\n\n**4. Lydian (F-G-A-B-C-D-E)**\n- Formula: W-W-W-H-W-W-H\n- Character: Dreamy, floating, magical\n- Raised 4th (#11) is signature\n- Use: Film scores, prog rock, jazz\n\n**5. Mixolydian (G-A-B-C-D-E-F)**\n- Formula: W-W-H-W-W-H-W\n- Character: Major with edge\n- Flat 7th creates bluesy sound\n- Use: Rock, blues, country\n\n**6. Aeolian (A-B-C-D-E-F-G)**\n- Formula: W-H-W-W-H-W-W\n- Character: Sad, melancholic, minor\n- Same as natural minor scale\n- Use: Ballads, emotional music\n\n**7. Locrian (B-C-D-E-F-G-A)**\n- Formula: H-W-W-H-W-W-W\n- Character: Unstable, diminished\n- Flat 2nd and flat 5th\n- Use: Theoretical, rare in practice\n        `\n      },\n      {\n        title: 'Practical Modal Application',\n        content: `\n**How to Use Modes:**\n\n**Parallel Modes:**\nStart all modes from the same root note (e.g., all from C):\n- C Ionian: C-D-E-F-G-A-B\n- C Dorian: C-D-E♭-F-G-A-B♭\n- C Phrygian: C-D♭-E♭-F-G-A♭-B♭\n- C Lydian: C-D-E-F♯-G-A-B\n- C Mixolydian: C-D-E-F-G-A-B♭\n- C Aeolian: C-D-E♭-F-G-A♭-B♭\n- C Locrian: C-D♭-E♭-F-G♭-A♭-B♭\n\n**Modal Interchange:**\n- Borrow chords from parallel modes\n- E.g., use iv minor chord in major key (borrowed from Aeolian)\n- Creates color and emotional contrast\n\n**Characteristic Notes:**\n- Each mode has notes that define its sound\n- Lydian: raised 4th (#11)\n- Mixolydian: flat 7th\n- Dorian: raised 6th\n- Phrygian: flat 2nd\n\n**Common Mistakes:**\n- Confusing relative and parallel modes\n- Not emphasizing characteristic notes\n- Treating modes as just scales (they're harmonic contexts too)\n\n**Genre Applications:**\n- Jazz: Dorian, Mixolydian, Lydian\n- Rock/Blues: Mixolydian, Dorian\n- Metal: Phrygian, Locrian\n- Film: Lydian, Phrygian\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Identify all 7 modes and their interval formulas\",\n    \"Build parallel modes from any root note\",\n    \"Recognize the characteristic note of each mode\",\n    \"Apply modes to melody and chord progressions\",\n    \"Understand modal interchange in composition\"\n  ]\n};\n",
    "number": 4,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "theory-3"
    ],
    "outcomes": [
      "Applicare i concetti chiave di The 7 Modes:",
      "Prepararsi alla lezione successiva del modulo Music Theory Fundamentals"
    ]
  },
  {
    "slug": "vocals-4",
    "filename": "lesson-vocals-4.config.js",
    "title": "Pitch Correction & Tuning:",
    "category": "Vocals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Vocals 4 - Pitch Correction & Tuning\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-vocals-4-progress\",\n  lessonNumber: 4,\n  lessonCategory: \"Vocals\",\n  \n  nextLessonUrl: \"lesson-vocals-5.html\",\n  prevLessonUrl: \"lesson-vocals-3.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 4, categoryLabel: \"Vocals\" }),\n    title: \"Pitch Correction & Tuning:\",\n    titleHighlight: \"Auto-Tune, Melodyne & Natural Tuning\",\n    subtitle: \"Use pitch correction tools for both natural and creative vocal effects. Master professional vocal production techniques for commercial-quality results.\"\n  },\n  \n  exercise: {\n    title: \"Master Pitch Correction & Tuning\",\n    description: \"Use pitch correction tools for both natural and creative vocal effects. This lesson covers the essential vocal production techniques used in professional recordings.\",\n    tip: \"Vocals are usually the focal point of a track. Spend extra time getting them right - they make or break the production.\",\n    steps: [\n      '<strong>Study vocal production theory</strong> — Understand the concepts and workflow.',\n      '<strong>Analyze reference vocals</strong> — Listen to professional vocal productions in your genre.',\n      '<strong>Apply the techniques</strong> — Practice the specific vocal processing methods.',\n      '<strong>Critical listening</strong> — Compare your results to professional standards.',\n      '<strong>Iterate and refine</strong> — Make adjustments based on what you hear.',\n      'Complete when you understand the practical application.'\n    ]\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Understanding Pitch Correction & Tuning',\n        content: `Pitch Correction & Tuning is crucial for achieving professional vocal productions that compete with commercial releases.\n\n**Core Concepts:**\n- Vocal recording and production fundamentals\n- Technical requirements and equipment considerations\n- Signal flow and processing chain order\n- Common issues and how to solve them\n- Genre-specific approaches and standards\n\n**Professional Workflow:**\n1. **Preparation** — Set up properly before recording\n2. **Capture** — Record high-quality source material\n3. **Edit** — Clean up and comp the best takes\n4. **Process** — Apply corrective and creative processing\n5. **Mix** — Blend vocals perfectly with the track\n6. **Finalize** — Ensure vocals translate across systems\n\n**Critical Factors:**\n- **Source quality** — Good recording = easier mixing\n- **Performance** — Technical skill matters more than processing\n- **Context** — Vocals must serve the song\n- **Reference** — Always compare to professional standards\n\nProfessional vocal producers understand that Pitch Correction & Tuning is both technical skill and artistic judgment.`\n      },\n      {\n        title: 'Professional Vocal Production Techniques',\n        content: `Apply Pitch Correction & Tuning in your productions with professional approaches:\n\n**Recording Best Practices:**\n- Proper mic placement and distance\n- Optimal gain staging and headroom\n- Multiple takes for comping\n- Consistent recording environment\n- Reference monitoring and acoustics\n\n**Processing Workflow:**\n1. **Clean up** — Remove unwanted sounds and noise\n2. **Tune** — Correct pitch issues (subtle or creative)\n3. **Time align** — Fix timing and rhythm issues\n4. **EQ** — Remove muddiness, add presence\n5. **Compress** — Control dynamics and consistency\n6. **De-ess** — Tame harsh sibilance\n7. **FX** — Add reverb, delay, modulation\n\n**Common Vocal Issues:**\n- **Muddiness** — High-pass filter at 80-100 Hz\n- **Harshness** — De-ess or cut 6-8 kHz\n- **Lack of presence** — Boost 3-5 kHz subtly\n- **Inconsistent levels** — Compression and automation\n- **Poor timing** — Edit before processing\n- **Pitch issues** — Tune before heavy processing\n\n**Genre Considerations:**\nDifferent genres require different vocal approaches:\n- **Pop** — Polished, present, tuned, compressed\n- **Hip-Hop** — Dry, upfront, minimal reverb\n- **R&B** — Smooth, warm, layered harmonies\n- **Rock** — Raw energy, less processing\n- **Electronic** — Creative effects, vocoders, pitch shifts\n\nStudy vocal productions in your genre and understand what makes them work.`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Master professional vocal production techniques\",\n    \"Understand the complete vocal workflow from recording to mixing\",\n    \"Apply genre-specific vocal processing approaches\",\n    \"Develop critical listening skills for vocal production\",\n    \"Create commercial-quality vocal recordings\"\n  ],\n  \n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this vocal production lesson to advance.\",\n    success: \"Excellent! You've mastered Pitch Correction & Tuning. Your vocal productions are pro-level!\",\n    error: \"Review the vocal production concepts and try again.\",\n    alreadyCompleted: \"You've completed this vocal technique. Keep refining your skills!\"\n  }),\n  \n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 4,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "vocals-3"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Pitch Correction & Tuning:",
      "Prepararsi alla lezione successiva del modulo Vocals"
    ]
  },
  {
    "slug": "arrangement-5",
    "filename": "lesson-arrangement-5.config.js",
    "title": "Pop & Rock",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 5 - Pop & Rock Song Structures\n * \n * This lesson teaches classic ABABCB structures, verse-chorus dynamics,\n * pre-chorus techniques, and bridge placement.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-arrangement-5-progress\",\n  lessonNumber: 5,\n  lessonCategory: \"Arrangement\",\n  depthLevel: 4,\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-arrangement-6.html\",\n  prevLessonUrl: \"lesson-arrangement-4.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 5, categoryLabel: \"Arrangement\" }),\n    title: \"Pop & Rock\",\n    titleHighlight: \"Song Structures\",\n    subtitle: \"Master the <strong>classic ABABCB structure</strong> used in countless hits. Learn <strong>verse-chorus dynamics</strong>, <strong>pre-chorus techniques</strong>, and strategic <strong>bridge placement</strong>.\"\n  },\n  \n  // ====================\n  // EXERCISE\n  // ====================\n  exercise: {\n    title: \"Build a Classic Pop Structure\",\n    description: \"Arrange sections in the correct ABABCB order to create a radio-ready song structure.\",\n    tip: \"The pre-chorus builds anticipation before the chorus—use it to create lift!\",\n    steps: [\n      { text: \"<strong>Intro:</strong> 4-8 bars to hook the listener immediately.\" },\n      { text: \"<strong>Verse 1:</strong> 16 bars to establish the story/theme.\" },\n      { text: \"<strong>Pre-Chorus:</strong> 4-8 bars of rising energy.\" },\n      { text: \"<strong>Chorus:</strong> 8-16 bars—the hook and emotional peak.\" },\n      { text: \"<strong>Bridge:</strong> 8 bars of contrast before final chorus.\" }\n    ]\n  },\n  \n  // ====================\n  // STRUCTURE FORMULAS\n  // ====================\n  structures: [\n    {\n      id: \"ababcb\",\n      name: \"ABABCB (Classic)\",\n      formula: \"I - V - C - V - C - B - C\",\n      description: \"The most common pop/rock structure. Perfect balance of repetition and variety.\",\n      examples: [\"Let It Be - Beatles\", \"Someone Like You - Adele\", \"Don't Stop Believin' - Journey\"]\n    },\n    {\n      id: \"aaba\",\n      name: \"AABA (32-bar)\",\n      formula: \"V - V - B - V\",\n      description: \"Classic jazz and older pop form. Simple and elegant.\",\n      examples: [\"Over the Rainbow\", \"Yesterday - Beatles\"]\n    },\n    {\n      id: \"verse-chorus\",\n      name: \"Verse-Chorus\",\n      formula: \"V - C - V - C - C\",\n      description: \"Stripped down for impact. Great for high-energy songs.\",\n      examples: [\"Smells Like Teen Spirit - Nirvana\", \"Seven Nation Army - White Stripes\"]\n    },\n    {\n      id: \"verse-prechorus-chorus\",\n      name: \"Verse-PreC-Chorus\",\n      formula: \"V - PC - C - V - PC - C - B - C\",\n      description: \"Modern pop standard. Pre-chorus adds buildup.\",\n      examples: [\"Firework - Katy Perry\", \"Rolling in the Deep - Adele\"]\n    }\n  ],\n  \n  // ====================\n  // SECTION DEFINITIONS\n  // ====================\n  sections: [\n    {\n      id: \"intro\",\n      name: \"Intro\",\n      color: \"#636e72\",\n      bars: \"4-8\",\n      purpose: \"Hook the listener, set the mood\",\n      tips: [\"Start with the hook melody\", \"Use signature sound/riff\", \"Keep it under 15 seconds\"]\n    },\n    {\n      id: \"verse\",\n      name: \"Verse\",\n      color: \"#00cec9\",\n      bars: \"8-16\",\n      purpose: \"Tell the story, lower energy than chorus\",\n      tips: [\"Establish the theme/story\", \"Leave room for vocals\", \"Build toward pre-chorus\"]\n    },\n    {\n      id: \"prechorus\",\n      name: \"Pre-Chorus\",\n      color: \"#fdcb6e\",\n      bars: \"4-8\",\n      purpose: \"Build anticipation before the chorus\",\n      tips: [\"Rise in energy and pitch\", \"Change the chord progression\", \"Create harmonic tension\"]\n    },\n    {\n      id: \"chorus\",\n      name: \"Chorus\",\n      color: \"#e17055\",\n      bars: \"8-16\",\n      purpose: \"The hook—emotional peak and memorable part\",\n      tips: [\"Highest energy level\", \"Memorable melody/hook\", \"Full arrangement\"]\n    },\n    {\n      id: \"bridge\",\n      name: \"Bridge\",\n      color: \"#a29bfe\",\n      bars: \"8\",\n      purpose: \"Contrast and surprise before final chorus\",\n      tips: [\"Change key or chord progression\", \"Different melody\", \"Creates last-minute interest\"]\n    },\n    {\n      id: \"outro\",\n      name: \"Outro\",\n      color: \"#636e72\",\n      bars: \"4-8\",\n      purpose: \"Bring the song to a satisfying close\",\n      tips: [\"Fade out or hard ending\", \"Callback to intro\", \"Leave impression\"]\n    }\n  ],\n  \n  // ====================\n  // VALIDATION\n  // ====================\n  validation: {\n    type: \"structure-builder\",\n    requiredSections: [\"intro\", \"verse\", \"chorus\"],\n    minSections: 5,\n    correctOrder: [\"intro\", \"verse\", \"prechorus\", \"chorus\", \"verse\", \"prechorus\", \"chorus\", \"bridge\", \"chorus\", \"outro\"]\n  },\n  \n  // ====================\n  // MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"arrangement\", {\n    initial: \"Arrange the sections to create a classic pop song structure!\",\n    success: \"🎵 Perfect structure! This arrangement will keep listeners engaged from start to finish.\",\n    error: \"Check your section order—remember: build tension before the chorus!\",\n    alreadyCompleted: \"You've mastered pop structures! Try experimenting with variations.\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"structure-builder\",\n    sandbox: false,\n    showTimeline: true,\n    showBarCounts: true,\n    enableDragDrop: true\n  },\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"Understanding Pop & Rock Song Structures\",\n        content: `\n**Why Pop/Rock Structures Dominate:**\nPop and rock song structures have evolved over 70+ years to maximize emotional impact and commercial appeal. The verse-chorus format isn't arbitrary—it's been refined through decades of radio play, chart performance, and listener psychology research. These structures work because they balance repetition (memorability) with variation (sustained interest).\n\n**The Verse-Chorus Paradigm:**\nAt its core, pop/rock structure alternates between two contrasting sections:\n- **Verses** deliver narrative and context (lower energy, more detailed lyrics)\n- **Choruses** deliver emotional payoff and hooks (higher energy, simpler/repetitive lyrics)\n\nThis alternation creates a question-and-answer dynamic that keeps listeners engaged. Verses set up expectations; choruses fulfill them. The best pop songs are essentially conversations between verses and choruses.\n\n**The ABABCB Structure (Most Common):**\nThis is the industry-standard pop structure:\n- **A** = Verse 1\n- **B** = Chorus 1\n- **A** = Verse 2\n- **B** = Chorus 2\n- **C** = Bridge\n- **B** = Final Chorus (often repeated)\n\nWhy it works:\n1. Quick hook (chorus at 0:45-1:00)\n2. Enough verse content to tell a story\n3. Bridge provides contrast exactly when repetition becomes predictable\n4. Final chorus feels earned and satisfying\n\n**Real-World Examples:**\n- \"Shape of You\" by Ed Sheeran: Classic ABABCB\n- \"Rolling in the Deep\" by Adele: ABABCB with extended final chorus\n- \"Mr. Brightside\" by The Killers: ABABAB (no bridge, pure verse-chorus)\n- \"Someone Like You\" by Adele: ABABCB with piano-only bridge\n\n**Why This Structure Sells:**\nRadio programmers and streaming algorithms favor 3:00-3:30 songs that hook listeners quickly. ABABCB delivers the first chorus around 0:45, keeps energy high with minimal \"dead time,\" and wraps up before listener attention wanes. It's commercially optimized.\n        `\n      },\n      {\n        title: \"Essential Pop/Rock Sections Explained\",\n        content: `\n**Verse (16-24 bars typically)**\nPurpose: Tell the story, deliver information, set emotional context\n\nCharacteristics:\n- Lower energy than chorus\n- More complex/varied lyrics (verses 1 and 2 usually have different words)\n- Sparser arrangement (fewer instruments/elements)\n- Melodically less repetitive than chorus\n- \"Setup\" energy—building toward the chorus\n\n*Best Practices:*\n- Keep verses 16 bars (2x 8-bar phrases) or 24 bars (3x 8-bar phrases)\n- Second verse should add new musical elements (extra percussion, background vocals)\n- Avoid making verses too long—listeners wait for the chorus\n\n*Common Mistake:* Verses that are louder/fuller than choruses. This inverts the energy dynamic and makes choruses feel anticlimactic.\n\n**Chorus (8-16 bars typically)**\nPurpose: Deliver the hook, emotional peak, memorable moment\n\nCharacteristics:\n- Highest energy section\n- Simplest, most repetitive lyrics (often just the song title repeated)\n- Fullest arrangement (all elements playing)\n- Melodically hooky and singable\n- \"Payoff\" energy—the release after verse tension\n\n*Best Practices:*\n- Keep choruses concise (8-16 bars max)—short choruses avoid outstaying their welcome\n- Make the chorus LOUDER and FULLER than verses (add harmonies, double tracking, extra instruments)\n- The title/hook should appear in the chorus, ideally at the start or end\n\n*Common Mistake:* Choruses that are too long (24+ bars) or too complicated lyrically. Choruses should be instantly memorable.\n\n**Pre-Chorus (4-8 bars optional but powerful)**\nPurpose: Bridge between verse and chorus, build anticipation\n\nCharacteristics:\n- Medium energy (between verse and chorus)\n- Transitional section that signals \"chorus is coming!\"\n- Often uses rising melody or chord progression\n- Creates extra anticipation before chorus payoff\n\n*Best Practices:*\n- Keep it short (4-8 bars)\n- Use rising harmonic motion (subdominant to dominant chords)\n- Change drum pattern or add energy-building elements (risers, increasing hi-hats)\n- Make the lyrics create anticipation (\"And I can't wait to...\", \"Here it comes...\")\n\n*When to Use:* If your verse-to-chorus transition feels abrupt, add a pre-chorus. Not every song needs one, but it's powerful when the chorus needs extra setup.\n\n**Bridge (8-16 bars, usually appears 2/3 through the song)**\nPurpose: Provide contrast, break repetition, refresh listener attention\n\nCharacteristics:\n- Different melody than verse or chorus\n- Different chord progression (or at least variation)\n- Often includes a key change, tempo shift, or stripped-down section\n- Lyrical perspective shift or new information\n- Medium energy or deliberately contrasting energy\n\n*Best Practices:*\n- Position the bridge after Chorus 2 (around 2:00-2:30 into the track)\n- Make it sound noticeably different—new chords, new rhythm, new vibe\n- Use it to build into the final chorus (stripped-down bridge → explosive final chorus is a classic move)\n- Keep it 8-16 bars—long enough for contrast, short enough not to derail the song\n\n*Common Mistake:* Bridges that sound like just another verse. Bridges must provide real contrast or they're pointless.\n\n**Instrumental Break (4-8 bars optional)**\nPurpose: Give vocals a rest, showcase instrumental skills, create variety\n\nCharacteristics:\n- No vocals (or minimal background vocals)\n- Features instrumental solo or riff\n- Same chord progression as verse or chorus typically\n- Medium-to-high energy\n\n*When to Use:*\n- Guitar solos in rock songs (classic 8-16 bar solo after Chorus 2)\n- Synth/saxophone solos in pop (think \"Careless Whisper\" or \"Baker Street\")\n- Drop sections in pop-EDM hybrids (Chorus → Instrumental drop → Verse 2)\n\n**Outro/Coda (4-8 bars)**\nPurpose: Bring the song to a satisfying close\n\nCharacteristics:\n- Often repeats the chorus hook or title\n- Gradually reduces energy and elements\n- Can fade out or end definitively\n\n*Best Practices:*\n- Reference the intro for symmetry (many songs end how they began)\n- Fade outs work but feel dated—modern productions often end definitely\n- Keep it short—don't add 30 seconds of noodling\n        `\n      },\n      {\n        title: \"Building Pop/Rock Structures in Your DAW\",\n        content: `\n**The Practical Workflow for ABABCB Structure:**\n\n**Step 1: Create Your Core Sections (Verse and Chorus)**\nBefore arranging, build your verse and chorus as complete 16-bar and 8-bar loops:\n- **Verse Loop (16 bars)**: Intro hook, kick, bass, light percussion, vocals\n- **Chorus Loop (8-16 bars)**: Full drums, bass, lead guitar/synth, doubled vocals, all elements\n\nColor-code these: Verse = Blue, Chorus = Red\n\n**Step 2: Map Out the Structure with Markers**\nBefore dragging anything, mark your timeline:\n- Bars 1-8: Intro\n- Bars 9-24: Verse 1 (16 bars)\n- Bars 25-32: Chorus 1 (8 bars)\n- Bars 33-48: Verse 2 (16 bars)\n- Bars 49-56: Chorus 2 (8 bars)\n- Bars 57-72: Bridge (16 bars)\n- Bars 73-88: Chorus 3 (16 bars—extended final chorus)\n- Bars 89-96: Outro (8 bars)\n\nTotal: 96 bars = ~3:00 at 120 BPM\n\n**Step 3: Populate Each Section**\nNow drag your pre-built loops into the marked sections:\n- Intro: Use verse instrumental (no vocals)\n- Verse 1: Full verse loop\n- Chorus 1: Full chorus loop\n- Verse 2: Verse loop + add ONE new element (shaker, background vocals, extra synth)\n- Chorus 2: Chorus loop (can be identical to Chorus 1)\n- Bridge: Create new 16-bar section with different chords/energy\n- Chorus 3: Chorus loop + add extra elements (harmonies, strings, rises in energy)\n- Outro: Chorus hook + gradual removal of elements\n\n**Step 4: Add Pre-Choruses (Optional Refinement)**\nIf verse-to-chorus feels abrupt, add a 4-8 bar pre-chorus:\n- Bars 21-24: Pre-Chorus 1 (4 bars before Chorus 1)\n- Bars 45-48: Pre-Chorus 2 (4 bars before Chorus 2)\n\nPre-chorus template:\n- Use rising chord progression (IV → V or vi → V)\n- Add building elements (riser, increasing drums)\n- Create anticipation lyrically (\"And I know that...\", \"Here it comes...\")\n\n**Step 5: Variation for Second Verse and Choruses**\nAvoid copy-pasting sections identically:\n\n*Verse 2 variations:*\n- Add background vocals\n- Add extra percussion (shaker, tambourine)\n- Vary the drum pattern slightly\n- Add a counter-melody\n\n*Chorus 2 variations:*\n- Can be identical to Chorus 1 (repetition works here)\n- Or add subtle harmonies\n\n*Final Chorus variations:*\n- Add ALL the extras: harmonies, strings, extra percussion\n- Extend it (16 bars instead of 8)\n- Add a key change (classic pop move—raise everything by 1-2 semitones)\n- Build to the loudest, fullest moment of the song\n\n**Step 6: Check Total Length and Energy Flow**\n- **Total length**: Aim for 2:30-3:30 (80-110 bars at 120 BPM)\n- **Energy check**: Verses should be noticeably quieter than choruses\n- **Section timing**: First chorus should hit around 0:45-1:00\n\nZoom out, look at the waveform—you should see:\n- Intro/Verses = smaller waveforms\n- Choruses = larger, fuller waveforms\n- Bridge = varied (can be small or large depending on approach)\n\nIf the waveform is flat throughout, you lack dynamic range.\n\n**Common Structural Variations:**\n\n**ABAB (Verse-Chorus Only, No Bridge):**\n- Simple, direct\n- Works for shorter songs (2:30-2:45)\n- Example: \"Mr. Brightside\" by The Killers\n\n**AABA (Classic Tin Pan Alley / Jazz Standard):**\n- Two verses, contrasting section, return to verse\n- Less common in modern pop but still used\n- Example: \"Somewhere Over the Rainbow\"\n\n**ABABCBB (Extended Final Section):**\n- Standard ABABCB + repeat final chorus twice\n- Creates a longer outro/fade\n- Example: \"Don't Stop Believin'\" (repeats \"Don't stop...\" for extended outro)\n\n**Pop/Rock + EDM Hybrid:**\n- Use pop verse-chorus structure but add buildups and drops\n- Verse → Buildup → Drop (instead of traditional chorus)\n- Example: \"Closer\" by The Chainsmokers\n\n**Pro Tip - The \"Template Shortcut\":**\nOnce you've built an ABABCB structure that works, save it as a DAW template. Next song? Load the template, delete all the audio/MIDI, keep the markers and structure, fill with new material. Professional pop producers reuse proven structures constantly. There's no creativity prize for reinventing song structure—save your creativity for melodies, lyrics, and sound design. Use proven structures that work.\n\nThe goal is to deliver a satisfying listening experience that hooks quickly, maintains interest, and ends on a high note. Master ABABCB, and you've mastered the blueprint for 80% of hit songs.\n        `\n      }\n    ]\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Build ABABCB and other classic song structures\",\n    \"Create effective pre-choruses that build anticipation\",\n    \"Position bridges for maximum impact\",\n    \"Use instrumental breaks strategically\"\n  ]\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 5,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "arrangement-4"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Pop & Rock",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-5",
    "filename": "lesson-bass-5.config.js",
    "title": "808 Bass Basics",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 5 - 808 Bass Basics\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-5-progress\",\n  lessonNumber: 5,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-6.html\",\n  prevLessonUrl: \"lesson-bass-4.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 5, categoryLabel: \"Bass & Low End\" }),\n    title: \"808 Bass Basics\",\n    titleHighlight: \"\",\n    subtitle: \"Create 808-style bass: sustained low notes with pitch decay. The foundation of trap, hip-hop, and modern bass music. Master the iconic bass sound that dominates contemporary production.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    bars: 1,\n    noteRange: { min: 36, max: 60 }, // C2 to C4 (bass range)\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Program an 808 Bass Pattern\",\n    description: \"808 bass is about long, sustained notes that sit below the kick. Unlike house bass (short, punchy), 808s ring out and occupy space. They're the sub-bass foundation of hip-hop and trap.\",\n    tip: \"808s should sustain longer than your kick. Let them ring out to fill the space between hits.\",\n    steps: ['Place a long <strong>C2 note on step 1</strong> (very low, duration 4 steps).', 'Add <strong>C2 on step 13</strong> for variation (duration 4 steps).', 'Play and feel the heavy, sustained low end.', 'Check exercise when ready.']\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [{'title': 'What Makes 808 Bass Special', 'content': 'The Roland TR-808 drum machine (1980) had a unique bass drum that producers started using as a bass instrument:\\n\\n**Characteristics:**\\n- Very low pitch (often C1-C2)\\n- Long sustain (1-4 beats)\\n- Pitch envelope (slight decay)\\n- Sub-bass heavy (felt more than heard)\\n\\n**Modern use:** Hip-hop, trap, future bass, dubstep all use 808-style sustained sub-bass as a foundational element.'}]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [{'pitch': 36, 'step': 0, 'duration': 4}, {'pitch': 36, 'step': 12, 'duration': 4}],\n    highlightScale: [48, 50, 52, 53, 55, 57, 59, 60], // C major scale in bass range\n    showChordDetection: false,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete the bass pattern exercise.\",\n    success: \"Excellent! You've mastered this bass technique.\",\n    error: \"Not quite. Check the target pattern and try again.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 5,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "bass-4"
    ],
    "outcomes": [
      "Applicare i concetti chiave di 808 Bass Basics",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-5",
    "filename": "lesson-drums-5.config.js",
    "title": "Variation & fills:",
    "category": "Drum pattern",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Drums 5 - Variation & Fills\n *\n * This config file defines all lesson parameters that can be used\n * by the lesson template to generate a fully functional lesson page.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-lesson5-progress\",\n  lessonNumber: 5,\n  lessonCategory: \"Drum pattern\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"explanation.html\",\n  prevLessonUrl: \"lesson-drums-4.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 5, categoryLabel: \"Drum pattern\" }),\n    title: \"Variation & fills:\",\n    titleHighlight: \"end of loop\",\n    subtitle: \"Create a small fill in the last bar to make the loop feel like it breathes before repeating.\"\n  },\n  \n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,        // Options: 8, 16, 32\n    swing: 0,             // 0-100, 0 = no swing\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,  // Save to localStorage on every change\n    enableVelocity: true, // Enable velocity control for practice\n    requiredTempo: 120    // Students must set tempo to 120 BPM\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Create a Fill at the End of the Bar\",\n    description: \"Drum fills add excitement and signal transitions in music. In this exercise, you'll create a <strong>fill pattern</strong> in the last beat (beat 4) while keeping the groove in beats 1-3.\",\n    tip: \"Fills 'break' the pattern to signal something new is coming. The silence in the hi-hats makes the kick/snare fill pop!\",\n    steps: [\n      { text: \"<strong>Set the tempo to 120 BPM</strong> using the Tempo slider.\" },\n      { text: \"<strong>Kick row:</strong> Steps <strong>1, 5, 9, 13, 15</strong> - normal pattern plus extra kicks in beat 4.\" },\n      { text: \"<strong>Snare row:</strong> Steps <strong>5, 13, 16</strong> - backbeat plus a final hit on step 16.\" },\n      { text: \"<strong>Hi-Hat row:</strong> Steps <strong>1, 3, 5, 7, 9, 11</strong> only - stop the hi-hats before the fill.\" },\n      { text: \"The fill creates tension before the loop restarts!\" }\n    ]\n  },\n  \n  // ====================\n  // INSTRUMENTS CONFIG\n  // ====================\n  instruments: [\n    {\n      id: \"kick\",\n      label: \"Kick\",\n      color: \"linear-gradient(135deg,#ff5a3d,#ffb28a)\",\n      targetSteps: [0, 4, 8, 12, 14],\n      instructionText: \"Kick: Program 4/4 (steps 1, 5, 9) and create a fill with steps 13-16. Suggested target: 1, 5, 9, 13, 15.\",\n      // For pattern hint display\n      patternHint: {\n        label: \"Kick\",\n        highlightSteps: [14]  // Steps to highlight as \"special\" (0-indexed)\n      }\n    },\n    {\n      id: \"snare\",\n      label: \"Snare\",\n      color: \"linear-gradient(135deg,#5f4dff,#8a9bff)\",\n      targetSteps: [4, 12, 15],\n      instructionText: \"Snare: Program the backbeat (steps 5, 13) and add a final hit on step 16. Suggested target: 5, 13, 16.\",\n      patternHint: {\n        label: \"Snare\",\n        highlightSteps: [15]\n      }\n    },\n    {\n      id: \"hihat\",\n      label: \"Hi-Hat\",\n      color: \"linear-gradient(135deg,#00d4ff,#b8ffdd)\",\n      targetSteps: [0, 2, 4, 6, 8, 10],\n      instructionText: \"Hi-Hat: Program straight eighths for the first 3 beats (steps 1-12), leaving space for the fill.\",\n      patternHint: {\n        label: \"Hi-Hat\",\n        fillZoneSteps: [11, 12, 13, 14, 15]  // Steps to show as \"fill zone\"\n      }\n    }\n  ],\n  \n  // ====================\n  // PATTERN HINT CONFIG (optional)\n  // ====================\n  patternHint: {\n    enabled: true,\n    note: \"Steps 12-16 are the \\\"fill zone\\\" - hi-hats stop to let kick/snare shine!\"\n  },\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"drums\"),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,        // If true, no target pattern required\n    showTargetHint: true,  // Show visual pattern hint\n    enablePresets: false,  // Allow saving/loading presets\n    enableExport: false    // Allow exporting pattern as JSON/MIDI\n  }\n};\n\n// For non-module scripts\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 5,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "drums-4"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Variation & fills:",
      "Prepararsi alla lezione successiva del modulo Drum pattern"
    ]
  },
  {
    "slug": "ear-5",
    "filename": "lesson-ear-5.config.js",
    "title": "Rhythm Pattern Recognition:",
    "category": "Ear Training",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-ear-5-progress\",\n  lessonNumber: 5,\n  lessonCategory: \"Ear Training\",\n\n  nextLessonUrl: \"lesson-ear-6.html\",\n  prevLessonUrl: \"lesson-ear-4.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 5, categoryLabel: \"Ear Training\" }),\n    title: \"Rhythm Pattern Recognition:\",\n    titleHighlight: \"Transcribe Grooves & Beats\",\n    subtitle: \"Transcribe and identify rhythm patterns. Train your ear to recognize note values, syncopation, and groove elements.\"\n  },\n\n  exercise: {\n    title: \"Transcribe Rhythm Patterns by Ear\",\n    description: \"Rhythm recognition is the ability to hear a rhythmic pattern and accurately reproduce or notate it. This involves identifying note values (quarters, eighths, sixteenths), rests, syncopation (off-beat emphasis), and groove feel (swing, shuffle, straight). Strong rhythm ear training is essential for programming drums, understanding groove, and transcribing music accurately.\",\n    tip: \"Count out loud using subdivisions: '1 e & a, 2 e & a, 3 e & a, 4 e & a' for sixteenth notes. Tap the pulse with your foot while clapping the rhythm.\",\n    steps: [\n      '<strong>Quarter Notes</strong> — Steady pulse on each beat. Count: 1, 2, 3, 4. Simplest rhythm, foundation of all groove.',\n      '<strong>Eighth Notes</strong> — Two notes per beat. Count: 1 &, 2 &, 3 &, 4 &. Common in rock, pop, house.',\n      '<strong>Sixteenth Notes</strong> — Four notes per beat. Count: 1 e & a, 2 e & a. Common in hip-hop, trap, double-time feel.',\n      '<strong>Syncopation</strong> — Emphasis on off-beats (the \"&\" or weak beats). Creates rhythmic tension. Essential in funk, reggae.',\n      '<strong>Rests</strong> — Silence is part of rhythm. Quarter rest = 1 beat of silence. Eighth rest = 0.5 beats silence.',\n      '<strong>Triplets</strong> — Three notes per beat. Count: 1-trip-let, 2-trip-let. Creates swing feel in jazz, shuffle in blues.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Rhythm Pattern Recognition',\n        content: \\`\n**Note Values and Subdivisions:**\n\n**Basic Note Values (in 4/4 time):**\n- **Whole note**: 4 beats (rare in modern music)\n- **Half note**: 2 beats\n- **Quarter note**: 1 beat (the pulse in most music)\n- **Eighth note**: 0.5 beats (1 & 2 & 3 & 4 &)\n- **Sixteenth note**: 0.25 beats (1 e & a, 2 e & a...)\n\n**Counting Systems:**\n\n**Quarter Note Pulse:**\n- Count: 1, 2, 3, 4\n- Used for: Slow ballads, half-time feels\n\n**Eighth Note Subdivision:**\n- Count: 1 &, 2 &, 3 &, 4 &\n- Used for: Rock, pop, house, most common\n\n**Sixteenth Note Subdivision:**\n- Count: 1 e & a, 2 e & a, 3 e & a, 4 e & a\n- Used for: Hip-hop, trap, funk, fast passages\n\n**Triplet Feel:**\n- Count: 1 trip let, 2 trip let, 3 trip let\n- Each beat divided into 3 equal parts\n- Used for: Jazz, swing, shuffle, blues\n\n**Syncopation:**\nDefinition: Emphasis on off-beats or weak beats\n- **On-beat**: Kick on 1 and 3 (boring, march-like)\n- **Off-beat**: Snare on 2 and 4 (standard backbeat)\n- **Syncopated**: Emphasis on \"&\" or \"e\" or \"a\" (funk, hip-hop, reggae)\n\n**Example Syncopated Pattern (funk):**\n- Kick: 1, &, 3\n- Snare: 2, 4\n- Hi-hat: Steady 16ths with ghost notes\n\n**Common Rhythm Patterns:**\n\n**Rock/Pop:**\n- Kick: 1, 3\n- Snare: 2, 4\n- Hi-hat: Steady 8ths or 16ths\n\n**Hip-Hop/Trap:**\n- Kick: 1, \"e\" of 2, 3\n- Snare: 2, 4\n- Hi-hats: Fast triplets or 16ths with rolls\n\n**Reggae:**\n- Kick: 3\n- Snare/Rimshot: 2, 4\n- Off-beat emphasis on \"&\" (skank rhythm)\n        \\`\n      },\n      {\n        title: 'Practical Rhythm Ear Training',\n        content: \\`\n**Training Progression:**\n\n**Week 1: Quarter and Eighth Notes**\n- Clap or tap simple patterns\n- Count out loud: \"1 &, 2 &, 3 &, 4 &\"\n- Transcribe basic melodies (nursery rhymes)\n\n**Week 2: Sixteenth Notes**\n- Introduce \"1 e & a\" counting\n- Practice faster subdivisions\n- Transcribe hip-hop hi-hat patterns\n\n**Week 3: Rests and Syncopation**\n- Identify silence (rests) in patterns\n- Clap syncopated rhythms (funk grooves)\n- Listen to James Brown, Funkadelic\n\n**Week 4: Triplets and Swing**\n- \"1 trip let\" counting\n- Practice swing feel (jazz, blues)\n- Listen to swing drummers, shuffle beats\n\n**Exercise 1: Tap and Count**\n1. Listen to a drum loop\n2. Tap the pulse (quarter note) with your foot\n3. Count subdivisions out loud\n4. Clap the pattern you hear\n5. Write it down (or program in MIDI)\n\n**Exercise 2: Isolation**\n- Listen to kick drum only → transcribe\n- Listen to snare only → transcribe\n- Listen to hi-hat only → transcribe\n- Combine all three\n\n**Exercise 3: Layering**\n1. Start with kick (usually on strong beats: 1, 3)\n2. Add snare (usually on 2, 4)\n3. Add hi-hats (usually 8ths or 16ths)\n4. Add percussion (often syncopated)\n\n**Exercise 4: Genre Recognition**\nListen and identify:\n- **Four-on-the-floor**: House, techno, disco\n- **Breakbeat**: Amen break, hip-hop\n- **Half-time**: Trap, dubstep\n- **Two-step**: UK garage, grime\n\n**Common Mistakes:**\n- Not counting out loud (internal counting is harder)\n- Guessing instead of systematically analyzing\n- Ignoring the pulse (always establish the quarter note first)\n- Not tapping along (kinesthetic memory helps)\n- Skipping rests (silence is part of rhythm)\n\n**DAW Practice:**\n1. Load a drum loop\n2. Enable metronome\n3. Transcribe by ear into MIDI\n4. Check against original (time-stretch and compare)\n5. Analyze where you made mistakes\n\n**Advanced: Polyrhythm and Odd Time**\n- 3 against 2 (triplets over duple feel)\n- 5/4, 7/8 time signatures (odd meters)\n- Listen to: Dave Brubeck \"Take Five\" (5/4), Tool (complex polyrhythms)\n        \\`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Identify quarter, eighth, and sixteenth note patterns by ear\",\n    \"Recognize syncopation and off-beat emphasis\",\n    \"Transcribe drum grooves accurately in MIDI\",\n    \"Distinguish between straight and swung rhythms\",\n    \"Apply rhythm recognition to programming and arrangement\"\n  ]\n};\n",
    "number": 5,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "ear-4"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Rhythm Pattern Recognition:",
      "Prepararsi alla lezione successiva del modulo Ear Training"
    ]
  },
  {
    "slug": "harmony-5",
    "filename": "lesson-harmony-5.config.js",
    "title": "Write the Pop Loop:",
    "category": "Chord Fundamentals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 5 - Write the Pop Loop: I–V–vi–IV\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-harmony-5-progress\",\n  lessonNumber: 5,\n  lessonCategory: \"Chord Fundamentals\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-harmony-6.html\",\n  prevLessonUrl: \"lesson-harmony-4.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 5, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Write the Pop Loop:\",\n    titleHighlight: \"I–V–vi–IV\",\n    subtitle: \"Build the modern hit-style progression (C–G–Am–F) that powers thousands of pop songs. This four-chord loop creates an endless, emotionally satisfying cycle that listeners can't get enough of. Learn why this specific sequence became the backbone of contemporary songwriting.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 95,\n    key: \"C\",\n    scale: \"Major\",\n    stepCount: 64,\n    bars: 4,\n    pitchRange: {\n      low: 48,  // C3\n      high: 76  // E5\n    }\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Build the I–V–vi–IV Pop Progression\",\n    description: \"The <strong>I–V–vi–IV</strong> is the most popular chord progression in modern pop music. You'll build <strong>C (I) → G (V) → Am (vi) → F (IV)</strong> - a sequence that creates an infinitely loopable, emotionally engaging cycle used in thousands of hit songs.\",\n    tip: \"The vi chord (Am) adds emotional depth with its minor quality. When this loops back to I (C major), the cycle feels natural and endless - perfect for repeating song sections.\",\n    steps: [\n      { text: \"Bar 1: Place <strong>C major (I)</strong> - C4, E4, G4 (bright start)\" },\n      { text: \"Bar 2: Place <strong>G major (V)</strong> - G4, B4, D5 (energy)\" },\n      { text: \"Bar 3: Place <strong>A minor (vi)</strong> - A4, C5, E5 (emotional depth)\" },\n      { text: \"Bar 4: Place <strong>F major (IV)</strong> - F4, A4, C5 (supportive lift)\" },\n      { text: \"Loop all 4 bars and hear the endless cycle\" },\n      { text: \"Notice how the minor chord (Am) adds contrast and emotion\" }\n    ]\n  },\n\n  // ====================\n  // VALIDATION CONFIG\n  // ====================\n  validation: {\n    type: \"chord_progression\",\n    requiredChords: [\n      {\n        name: \"C Major (I)\",\n        pitches: [60, 64, 67],  // C4, E4, G4\n        time: 0,  // Bar 1\n        function: \"tonic\"\n      },\n      {\n        name: \"G Major (V)\",\n        pitches: [67, 71, 74],  // G4, B4, D5\n        time: 16,  // Bar 2\n        function: \"dominant\"\n      },\n      {\n        name: \"A Minor (vi)\",\n        pitches: [69, 72, 76],  // A4, C5, E5\n        time: 32,  // Bar 3\n        function: \"relative_minor\"\n      },\n      {\n        name: \"F Major (IV)\",\n        pitches: [65, 69, 72],  // F4, A4, C5\n        time: 48,  // Bar 4\n        function: \"subdominant\"\n      }\n    ],\n    allowInversions: false,\n    allowExtraNotes: false\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Build the I–V–vi–IV pop progression (C → G → Am → F) for an infinitely loopable cycle.\",\n    success: \"Amazing! You've built the most popular progression in modern pop. You now have the foundation for countless hit songs.\",\n    error: \"Check your progression: Bar 1 = C-E-G (I), Bar 2 = G-B-D (V), Bar 3 = A-C-E (vi), Bar 4 = F-A-C (IV).\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 5,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "harmony-4"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Write the Pop Loop:",
      "Prepararsi alla lezione successiva del modulo Chord Fundamentals"
    ]
  },
  {
    "slug": "mastering-5",
    "filename": "lesson-mastering-5.config.js",
    "title": "Stereo Enhancement & Width:",
    "category": "Mastering",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mastering 5 - Stereo Enhancement & Width\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mastering-5-progress\",\n  lessonNumber: 5,\n  lessonCategory: \"Mastering\",\n\n  nextLessonUrl: \"lesson-mastering-6.html\",\n  prevLessonUrl: \"lesson-mastering-4.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 5, categoryLabel: \"Mastering\" }),\n    title: \"Stereo Enhancement & Width:\",\n    titleHighlight: \"Widen Without Destroying Mono\",\n    subtitle: \"Master the art of stereo imaging—adding width and dimension while maintaining rock-solid mono compatibility and a focused center image\"\n  },\n\n  exercise: {\n    title: \"Enhance Stereo Width While Preserving Mono Compatibility\",\n    description: \"Apply stereo enhancement techniques that add width and dimension to your master without sacrificing mono compatibility or creating phase problems.\",\n    tip: \"The most common stereo mistake: adding width that disappears in mono. Before ANY stereo processing, listen in mono. After stereo processing, check mono again. If elements vanish or thin out, your widening is too aggressive. Width that works only in stereo is width that fails on 50% of playback systems.\",\n    steps: [\n      '<strong>Check baseline mono compatibility</strong> — Before any stereo processing, sum your mix to mono (use a utility plugin). Listen: Does anything disappear? Does the balance change dramatically? Note any existing mono problems.',\n      '<strong>Insert stereo imager</strong> — Add a stereo imaging plugin after compression (iZotope Ozone Imager, Waves S1, or similar). Set to neutral/bypass initially.',\n      '<strong>Analyze the stereo image</strong> — Use your stereo meter (Lesson 2) to visualize the current stereo spread. Note: Is it narrow? Wide? Balanced?',\n      '<strong>Apply subtle overall width</strong> — Increase stereo width by <strong>5-15%</strong> (or equivalent on your plugin). Listen for increased spaciousness. Immediately check mono—if anything disappears, reduce width.',\n      '<strong>Try multiband stereo processing</strong> — If your plugin supports multiband, keep low frequencies (<strong>100-150 Hz</strong>) mono or narrow, while widening mids and highs. This focuses bass while adding width elsewhere.',\n      '<strong>Apply mid-side balance adjustment</strong> — If your plugin has M/S controls, try boosting Sides by <strong>+0.5 to +1 dB</strong> for subtle width, or cutting Sides by <strong>-0.5 to -1 dB</strong> for more focus. Always check mono.',\n      '<strong>Consider the Haas effect (carefully)</strong> — Some imagers use tiny delays for width (Haas effect). This can cause severe mono problems. If using, keep delay under <strong>10-15 ms</strong> and check mono thoroughly.',\n      '<strong>Test on narrow sections</strong> — Play a verse or sparse section. Does widening make it feel empty or disconnected? Stereo enhancement often works better on dense sections than sparse ones.',\n      '<strong>A/B stereo processing</strong> — Bypass the stereo imager. Compare: Does the widened version sound better, or just different? Is the center still focused? Is the low end still tight?',\n      '<strong>Mono check after processing</strong> — Sum to mono again. Compare to your baseline mono check. If mono compatibility is worse, reduce stereo processing or reconsider your approach.',\n      '<strong>Check on headphones</strong> — Stereo processing sounds different on speakers vs headphones. Verify your width works in both. Extreme width that sounds good on speakers can be fatiguing on headphones.',\n      '<strong>Reference check</strong> — A/B against your reference track\\'s stereo image. Is your master\\'s width appropriate for the genre? Some genres are wider than others.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Stereo Width in Mastering',\n        content: `Stereo width creates the sense of space, dimension, and \"bigness\" in a master. But width without control creates problems—mono collapse, phase issues, and unfocused mixes.\n\n**What Creates Stereo Width:**\n- **Panning:** Different elements placed at different positions (mix decision)\n- **Stereo recordings:** Room mics, stereo instruments\n- **Stereo effects:** Reverb, delay, chorus with stereo outputs\n- **M/S processing:** Boosting the side signal relative to mid\n- **Haas effect:** Small time delays between L and R\n\n**The Width Continuum:**\n| Width | Character | Mono Behavior |\n|-------|-----------|---------------|\n| Very Narrow | Focused, intimate, mono-like | Perfect mono compatibility |\n| Normal | Balanced, natural | Good mono compatibility |\n| Wide | Spacious, impressive | Some mono reduction |\n| Very Wide | Extreme, immersive | Significant mono issues |\n\n**Why Mono Compatibility Matters:**\n- Phone speakers are essentially mono\n- Club systems often sum to mono for subs\n- Bluetooth speakers vary widely\n- Radio broadcast can be mono\n- Sound bars and TV speakers are often narrow/mono\n\n**The Mastering Challenge:**\nYou can't change the mix's inherent width—panning and stereo choices are baked in. Mastering can:\n- Subtly enhance existing width\n- Focus an overly wide mix\n- Tighten bass in the center\n- Add air/sparkle to the sides\n\nWhat mastering cannot do:\n- Make a mono mix stereo\n- Fix fundamental phase problems from the mix\n- Create width that doesn't exist in the source`\n      },\n      {\n        title: 'Stereo Imaging Tools and Techniques',\n        content: `Several techniques can adjust stereo width in mastering. Each has strengths and potential problems.\n\n**Mid-Side (M/S) Processing:**\nThe most common and generally safest approach:\n- **Boost Sides:** +0.5 to +2 dB increases width\n- **Cut Sides:** -0.5 to -2 dB focuses/narrows\n- **Cut Mid:** Increases relative side level (sounds wider)\n- **Boost Mid:** Increases center focus\n\n**Advantages of M/S:**\n- Relatively mono-compatible (no phase manipulation)\n- Frequency-selective when combined with EQ\n- Predictable, controllable results\n\n**Stereo Enhancers/Imagers:**\nDedicated plugins that increase perceived width:\n- Often combine M/S with other techniques\n- May use subtle Haas effect or phase manipulation\n- Results vary by plugin—some are mono-safe, others aren't\n\n**The Haas Effect:**\nCreating width by delaying one channel slightly:\n- Delays of 10-30 ms create width\n- Very effective but causes severe mono collapse\n- Summing L+R creates comb filtering\n- Use with extreme caution in mastering\n\n**Phase Rotation:**\nSome tools widen by manipulating phase relationships:\n- Can sound impressive in stereo\n- Often causes significant mono problems\n- Generally avoid in mastering\n\n**Safe Width Enhancement Priority:**\n1. **M/S balance:** Safest, most controllable\n2. **Multiband M/S:** Target specific frequencies\n3. **Dedicated imagers (mono-safe):** Ozone Imager, etc.\n4. **Haas/delay-based:** Use carefully, check mono\n5. **Phase manipulation:** Avoid for mastering`\n      },\n      {\n        title: 'Multiband Stereo Processing',\n        content: `Different frequency ranges benefit from different stereo treatments. Multiband stereo processing lets you optimize width per frequency.\n\n**The Frequency-Width Relationship:**\n\n**Low Frequencies (Below 150 Hz):**\n- Should be mono or near-mono\n- Stereo bass causes phase issues\n- Club systems, subs, and many speakers sum bass\n- Wide bass = weak bass in mono\n\n**Low-Mids (150-500 Hz):**\n- Narrow to moderate width\n- Keeps the mix's \"body\" focused\n- Some width OK, but center should dominate\n\n**Mids (500 Hz-2 kHz):**\n- Moderate width appropriate\n- This is where vocals, snare, main elements live\n- Too wide = disconnected, hollow center\n\n**High-Mids (2-8 kHz):**\n- Can be wider\n- Presence range—detail and clarity\n- Width here adds \"air\" and dimension\n\n**Highs (8 kHz+):**\n- Widest potential\n- Air, shimmer, sparkle\n- Width here is least mono-problematic\n\n**Practical Multiband Settings:**\n\n| Band | Frequency | Width Setting | Reasoning |\n|------|-----------|---------------|-----------|\n| Low | 0-150 Hz | Mono/0% | Tight, focused bass |\n| Low-mid | 150-500 Hz | Narrow/30% | Centered body |\n| Mid | 500 Hz-2 kHz | Normal/50% | Balanced core |\n| High-mid | 2-8 kHz | Wide/70% | Detailed width |\n| High | 8 kHz+ | Wide/80-100% | Air and sparkle |\n\n**The Bass Mono Rule:**\nAlways keep bass frequencies (below 100-150 Hz) mono or near-mono. This is non-negotiable for professional masters. Wide bass:\n- Causes vinyl cutting problems\n- Creates phase issues on club systems\n- Reduces impact on most speakers\n- Fails the mono check`\n      },\n      {\n        title: 'The Mono Compatibility Test',\n        content: `Mono compatibility is the ultimate test of your stereo processing. If your master falls apart in mono, your width is problematic.\n\n**How to Check Mono:**\n1. Insert a utility plugin at the end of your chain\n2. Set to mono sum (L+R combined)\n3. Listen through your entire track in mono\n4. Note any problems\n\n**What to Listen For:**\n\n**Elements Disappearing:**\nIf instruments vanish or become very quiet in mono, they had significant out-of-phase content. This might be:\n- From the mix (can't fix in mastering)\n- From your stereo processing (reduce or change approach)\n\n**Thinning Low End:**\nIf bass becomes weak in mono, there's phase cancellation in the low frequencies. Solutions:\n- Ensure bass is mono (multiband stereo processing)\n- Reduce overall width\n- Check if the problem exists in the source mix\n\n**Changed Balance:**\nIf the overall balance shifts dramatically (e.g., guitars much louder, vocals quieter), elements have different mono/stereo characteristics. Subtle shifts are normal; dramatic shifts indicate problems.\n\n**Comb Filtering:**\nIf you hear a \"hollow,\" \"phasey,\" or \"underwater\" quality in mono, there's significant phase cancellation. This usually indicates:\n- Haas effect widening\n- Phase-based stereo enhancement\n- Problems in the source mix\n\n**The Acceptable Standard:**\nA professional master should:\n- Sound good in mono (obviously narrower, but balanced)\n- Not lose significant elements\n- Maintain tonal balance\n- Not have obvious phase artifacts\n\nPerfect mono compatibility isn't always possible (some stereo effects inherently reduce mono), but dramatic problems indicate issues that need fixing.`\n      },\n      {\n        title: 'Stereo Enhancement Workflow',\n        content: `A structured approach to stereo processing prevents over-widening and mono disasters.\n\n**Step 1: Evaluate the Source**\nBefore any processing:\n- Listen in stereo: How wide is it already?\n- Listen in mono: Any existing problems?\n- Compare to reference: Is width appropriate for genre?\n\n**Step 2: Decide if Enhancement is Needed**\nQuestions to ask:\n- Does the mix feel narrow compared to references?\n- Is the mix already appropriately wide?\n- Is the mix too wide (need to focus)?\n\nIf the mix is already appropriate, skip stereo processing.\n\n**Step 3: Choose Your Tool**\nBased on need:\n- Subtle width: M/S balance (+0.5 to +1 dB sides)\n- Frequency-specific: Multiband stereo\n- Overall enhancement: Dedicated imager\n\n**Step 4: Apply Conservatively**\n- Start at 0 (neutral)\n- Increase slowly (5-10% at a time)\n- Listen for improvement vs artifacts\n- Stop before it becomes obvious\n\n**Step 5: Mono Check**\nEvery time you adjust stereo:\n1. Sum to mono\n2. Listen for problems\n3. If problems appear, reduce processing\n4. Re-check mono\n\n**Step 6: A/B Test**\n- Bypass all stereo processing\n- Level-match if needed\n- Compare: Better, or just different?\n- If just different, reconsider\n\n**Step 7: Multiple Playback Check**\n- Speakers (your main monitors)\n- Headphones\n- Smaller speakers if available\n- Phone speaker (mono-ish)\n\n**The \"Less is More\" Principle:**\nIf you're unsure whether to add more width, don't. Subtle width enhancement that maintains mono compatibility is always better than impressive width that collapses in mono.`\n      },\n      {\n        title: 'Common Stereo Problems and Solutions',\n        content: `Troubleshooting stereo issues in mastering often reveals problems that originated in the mix.\n\n**Problem: Mix Sounds Narrow**\nPossible causes:\n- Mix was actually mixed narrow\n- Limited stereo elements in the mix\n- Mono-heavy production choices\n\nSolutions:\n- Subtle M/S boost (sides +0.5 to +1 dB)\n- Multiband width on high frequencies\n- Accept that some mixes are meant to be narrow\n\nWhat NOT to do:\n- Extreme widening that causes mono collapse\n- Haas effect on the entire mix\n\n**Problem: Mix Sounds Too Wide**\nPossible causes:\n- Excessive stereo effects in mix\n- Hard-panned elements without center anchor\n- Over-widened synths or pads\n\nSolutions:\n- M/S cut (sides -0.5 to -1 dB)\n- Boost mid channel slightly\n- Multiband narrowing in problematic range\n\n**Problem: Weak Mono Collapse**\nPossible causes:\n- Phase issues in the mix\n- Stereo widening on bass\n- Out-of-phase elements\n\nSolutions:\n- Mono bass frequencies (HPF on sides at 100-150 Hz)\n- Reduce overall width\n- If problem is in mix, request revision\n\n**Problem: Hollow Center**\nPossible causes:\n- Over-boosted sides\n- Scooped mids in the mix\n- Phase cancellation in center\n\nSolutions:\n- Reduce side level\n- Boost mid channel\n- Mid-channel EQ presence boost\n\n**Problem: Unbalanced Left/Right**\nPossible causes:\n- Mix issue (lopsided panning)\n- Phase problems creating imbalance\n\nSolutions:\n- Check if it's in the source mix\n- Use balance control sparingly (±0.5 dB max)\n- Request mix revision if significant\n\n**The Mastering Limitation:**\nMany stereo problems originate in the mix and can't be fully fixed in mastering. If the mix has fundamental stereo issues, the best solution is often to request a revised mix rather than trying to fix it with mastering tools.`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Understand stereo width fundamentals: M/S processing, stereo imaging, and the Haas effect\",\n    \"Apply multiband stereo processing: mono bass, narrow low-mids, wider highs for optimal width distribution\",\n    \"Perform rigorous mono compatibility testing before and after stereo processing\",\n    \"Use stereo enhancement conservatively: 5-15% overall, M/S adjustments of ±0.5 to ±1 dB\",\n    \"Diagnose and address common stereo problems: narrow mixes, mono collapse, hollow center, unbalanced image\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mastering lesson to master stereo enhancement.\",\n    success: \"Excellent! You can now enhance stereo width while maintaining professional mono compatibility.\",\n    error: \"Review the stereo concepts and try again.\",\n    alreadyCompleted: \"You've mastered Stereo Enhancement. Ready for Lesson 6!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 5,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "mastering-4"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Stereo Enhancement & Width:",
      "Prepararsi alla lezione successiva del modulo Mastering"
    ]
  },
  {
    "slug": "mixing-5",
    "filename": "lesson-mixing-5.config.js",
    "title": "Compression Fundamentals:",
    "category": "Mixing",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mixing 5 - Compression Fundamentals\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-5-progress\",\n  lessonNumber: 5,\n  lessonCategory: \"Mixing\",\n\n  nextLessonUrl: \"lesson-mixing-6.html\",\n  prevLessonUrl: \"lesson-mixing-4.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 5, categoryLabel: \"Mixing\" }),\n    title: \"Compression Fundamentals:\",\n    titleHighlight: \"Controlling Dynamics\",\n    subtitle: \"Controlling dynamics for consistency, punch, glue, and tone\"\n  },\n\n  exercise: {\n    title: \"First Compression Pass - Vocals and Drums\",\n    description: \"Apply controlled, level-matched compression to lead vocal and core drum elements, then add subtle drum-bus glue while protecting headroom from Lesson 2 and the serial EQ workflow from Lesson 4.\",\n    tip: \"If you are not getting the gain reduction you expect, check the chain order and gain staging before increasing ratio. A stable input level (Lesson 2) and level-matched comparisons often make 'moderate' compression settings feel more effective than extreme settings applied to an unstable signal.\",\n    steps: [\n      '<strong>Load session</strong> — Open your previous session \"Mixing-4_EQTechniques\" and immediately save a new version named \"Mixing-5_CompressionFundamentals\".',\n      '<strong>Set loop region</strong> — Loop a representative 20–30 second section (often the chorus/drop). Keep the full mix playing for most decisions and use solo only briefly for diagnosis.',\n      '<strong>Visibility check</strong> — Confirm no track, bus, or master is clipping. Keep a peak meter on the master and aim to keep mix peaks comfortably below 0 dBFS; a practical mixing target is to stay under about -6 dBFS peak on the master while you work.',\n      '<strong>Verify serial chain</strong> — On the Lead Vocal, confirm your serial chain from Lesson 4: place compression after your subtractive/surgical EQ stage and before any \"musical\" EQ stage (if you are using two EQ instances).',\n      '<strong>Vocal compressor setup</strong> — Insert a stock compressor on the Lead Vocal. Set a starting ratio of 3:1, attack 15–25 ms, release 80–120 ms, and a soft or medium knee (if available).',\n      '<strong>Set vocal threshold</strong> — Lower the threshold until the gain-reduction meter shows roughly 2–4 dB of GR on the loudest phrases. If your compressor offers Peak/RMS detection, start with RMS for a smoother levelling feel, then compare Peak if you need firmer transient control.',\n      '<strong>Level-match vocal</strong> — Toggle bypass on/off and adjust makeup/output gain so the vocal\\'s perceived loudness stays similar. Use the compressor\\'s output meter (or a meter after the compressor) to keep the comparison honest.',\n      '<strong>Kick compression</strong> — On the Kick track, insert a compressor after your EQ. Start with ratio 4:1, attack 15–30 ms, release 50–100 ms, and adjust threshold for about 3–6 dB GR on the strongest hits. Listen for punch: if the kick loses attack, try a slower attack; if peaks still poke out, try a slightly faster attack.',\n      '<strong>Snare compression</strong> — On the Snare track, insert a compressor after EQ. Start with ratio 4:1, attack 10–25 ms, release 70–150 ms, and adjust threshold for about 3–6 dB GR on peaks. Check that ghost notes remain audible rather than being pulled down excessively.',\n      '<strong>Level-match drums</strong> — Level-match Kick and Snare compressors individually using bypass comparisons and output trims. Confirm that any \"better\" feeling remains when levels are matched.',\n      '<strong>Drum bus glue</strong> — On the Drum Bus, insert a bus-style compressor (VCA/glue style if available). Start with ratio 2:1, attack around 30 ms, release Auto or around 0.1–0.3 s. Lower threshold until you see about 1–3 dB GR on the loudest section.',\n      '<strong>Check for pumping</strong> — Listen for unwanted pumping on the Drum Bus. If the kit \"breathes\" in an unmusical way, lengthen release, reduce threshold (less GR), or consider filtering the sidechain if your compressor supports it.',\n      '<strong>Headroom verification</strong> — After compression, re-check peak levels on the Drum Bus and master. If the master peak rises materially because of makeup gain, reduce compressor outputs or bus faders slightly to restore comfortable headroom.',\n      '<strong>Export and compare</strong> — Export two 20–30 second bounces of the loop: (A) with your new compressors bypassed (\"Mixing-5_PreComp\"), and (B) with compression enabled (\"Mixing-5_PostComp\"). Re-import both prints onto new tracks, level-match them, then A/B to confirm improvements.',\n      '<strong>Document settings</strong> — Write down your final settings for Lead Vocal, Kick, Snare, and Drum Bus (ratio, attack, release, approximate GR). Note one audible benefit and one tradeoff for each, so you build a repeatable decision process for Lesson 6 (Attack & Release).'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'What Compression Actually Does in a Mix',\n        content: `A compressor is a signal-processing device used to reduce dynamic range: when the input exceeds a chosen threshold, the device applies gain reduction so the output level increases more slowly than the input. In a mix, you can think of it as a repeatable, level-dependent fader move.\n\n**Two Related Goals:**\n- **Peak control**: Taming fast transients so a part does not jump out unpredictably\n- **Level stabilisation**: Smoothing the average level so words, notes, or ghost hits remain intelligible in context\n\n**Four Mixing Reasons for Compression:**\n- **Consistency**: Common on lead vocals and bass so phrases hold together without constant automation\n- **Punch**: Envelope shaping—letting some transient through, then controlling sustain so a hit feels solid\n- **Glue**: Subtle bus compression (often only 1–3 dB of reduction) that makes multiple elements feel unified\n- **Tone**: Many compressors add harmonic colour or subtle saturation, especially when driven\n\n**Building on Previous Lessons:**\nThis lesson builds directly on Lesson 2 gain staging: stable pre-fader levels make threshold and ratio choices meaningful rather than random. It also extends Lesson 4's serial EQ workflow: a common chain is subtractive EQ (rumble/resonances) → compression → musical EQ (presence/air), verified with level-matched bypass so \"better\" is not simply \"louder.\"`\n      },\n      {\n        title: 'Core Controls: Threshold, Ratio, Timing, Knee, and Makeup Gain',\n        content: `**Threshold** sets where compression begins. **Ratio** sets how strongly levels above threshold are reduced; for example, at 4:1 a signal that moves 4 dB above the threshold will typically emerge about 1 dB above it.\n\n**Attack** sets how quickly the compressor reaches its target reduction after the threshold is exceeded. **Release** sets how quickly it returns toward unity once the signal falls back. These timing choices are what make compression feel transparent, punchy, or \"grabby\" on the same source.\n\n**Knee** describes how gradually compression turns on around the threshold:\n- Harder knees tend to sound more immediate\n- Softer knees tend to sound smoother when the level hovers around threshold (common on vocals and buses)\n\n**Makeup gain** (and/or output gain) compensates for the level lost to gain reduction and enables honest A/B comparisons.\n\n**Practical Starting Points:**\n\n| Source | Ratio | Attack | Release | Target GR |\n|--------|-------|--------|---------|-----------|\n| Lead Vocal | 2:1–4:1 | 10–30 ms | 60–150 ms | 2–4 dB |\n| Kick/Snare | 4:1–8:1 | 10–30 ms | 50–120 ms | 3–6 dB |\n| Drum Bus | ~2:1 | ~30 ms | Auto/0.1–0.3s | 1–3 dB |`\n      },\n      {\n        title: 'Reading Compressor Meters and Interpreting Gain Reduction',\n        content: `Compression is easy to misjudge if you only listen and never look, or only look and never listen. Use both.\n\n**Essential Meters:**\n1. An input meter\n2. An output meter\n3. A gain-reduction (GR) meter\n\nMany compressors offer an activity view that shows input level and either GR or output over time, which is helpful for timing decisions because \"pumping\" or \"stuck\" gain reduction becomes visible as well as audible.\n\n**GR Amount Guidelines:**\n- **Light (1–3 dB GR on peaks)**: Stabilises a part while preserving performance dynamics\n- **Moderate (3–6 dB GR)**: Sounds clearly controlled; common in contemporary vocals and drums\n- **Heavy (6+ dB)**: Usually an audible effect; can reduce articulation if applied continuously; works well as deliberate effect or in parallel for density\n\n**Level-Matching Is Critical:**\nMakeup gain is where headroom disappears. After setting threshold/ratio/timing, adjust makeup so the processed and bypassed signals are close in level (often within ±0.5 dB). If the compressed version feels better only because it is louder, keep tuning.\n\nTreat input trim as gain staging and output trim as the comparison tool.`\n      },\n      {\n        title: 'Compressor Types and Their Typical Sonic \"Feel\"',\n        content: `Many compressors expose similar knobs, but the gain element and detector design shape character.\n\n**VCA (Voltage-Controlled Amplifier):**\nClean, predictable control. Common on drum buses and mix-bus \"glue\" because they can tighten dynamics without heavy tonal shift at light settings.\n\n**FET (Field-Effect Transistor):**\nVery fast transient response, can sound forward and energetic. Classic 1176-style units are famous for fast \"grab\" and sounding exciting when pushed.\n\n**Optical:**\nUses a light-dependent element; timing is often programme-dependent. Feels smooth and forgiving on vocals and bass.\n\n**Variable-Mu (Tube):**\nReduces gain by re-biasing a tube, producing a naturally soft curve that often feels \"musical\" on buses when used for only a dB or two of reduction.\n\n**Important Notes:**\n- These categories are starting points rather than rules\n- Different models can behave differently, especially at heavier GR or when driven harder\n- Modern DAWs sometimes present these as \"circuit types\" inside one compressor plugin\n- Keep Lesson 2 in mind: feeding an analogue-modelled compressor far above its nominal level may cause more distortion and less transient clarity than intended`\n      },\n      {\n        title: 'Workflow Integration: Where Compression Sits in Your Chain',\n        content: `Compression interacts with EQ because it reacts to level. If a vocal has a sharp resonance, compressing first can make that resonance more consistently loud, which may force deeper cuts later.\n\n**The Serial Approach (from Lesson 4):**\n<pre style=\"background: #1a1a2e; padding: 12px; border-radius: 4px; margin: 1em 0;\">\n[EQ1: filters + surgical cuts] → [Compressor] → [EQ2: broad musical shaping]\n</pre>\n\nThis arrangement reduces the chance that a compressor is \"triggered\" by rumble, plosives, or narrow rings you do not want emphasised.\n\n**Detector Mode Matters:**\n- **Peak mode**: Reacts to very short transients; useful for strict peak control\n- **RMS mode**: Less sensitive to short spikes; often feels smoother for musical levelling\n- **Lookahead**: Can help catch peaks more cleanly, but may soften the front edge of a transient if overused\n- **Sidechain filtering**: High-passing the detector can reduce low-frequency pumping on a drum bus or vocal when plosives are present\n\n**Verification (from Lesson 2):**\nAfter every compressor, check that you did not create clipping at the plugin output, bus, or master. Compression often reduces peaks, but makeup gain can raise the overall level and unexpectedly remove headroom if not managed intentionally.`\n      },\n      {\n        title: 'Common Compression Mistakes and How to Diagnose Them',\n        content: `**Over-Compression:**\nIdentifiable by flattened phrasing, reduced groove contrast, and audible pumping. If the GR meter is pinned high most of the time, reduce ratio, raise threshold, or consider parallel compression to keep uncompressed transients.\n\n**Attack/Release Mismatches:**\nA frequent cause of \"why did my drums get smaller?\" Extremely fast attack can shave off transients and dull punch, while very fast release can create pumping or audible distortion on sustained tones and low-frequency material.\n\n**Failing to Level-Match:**\nCompression often sounds \"better\" simply because makeup gain makes it louder. Level-match bypass before you decide.\n\n**Threshold Chasing:**\nIf your track levels are inconsistent (clip gain not controlled), the compressor will behave like a different setting every phrase. Fix the input first (Lesson 2) before assuming you need more ratio.\n\n**Hidden Headroom Loss:**\nIt is common to reduce peak energy with compression, then add too much makeup gain, then clip a bus or the master. Keep meters visible, clear clip indicators regularly, and maintain conservative master peaks during mixing so you keep space for later processing and export.`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Identify when compression is being used for peak control versus RMS-style levelling, and describe how each affects perceived consistency and punch\",\n    \"Apply core compressor parameters (threshold, ratio, attack, release, knee, makeup gain) using realistic starting values and context-based listening\",\n    \"Interpret compressor metering (gain reduction, input/output meters) and choose an appropriate gain-reduction range from light (1–3 dB) to heavy (6+ dB)\",\n    \"Distinguish common compressor types (VCA, FET, optical, variable-mu/tube) and select a type based on source and mixing intent\",\n    \"Diagnose common compression mistakes (over-compression, attack/release mismatches, non-level-matched comparisons) while maintaining headroom and serial EQ workflow\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mixing lesson to advance your skills.\",\n    success: \"Excellent! You've mastered Compression Fundamentals. Your mixes are improving!\",\n    error: \"Review the mixing concepts and try again.\",\n    alreadyCompleted: \"You've completed this mixing technique. Keep practicing!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 5,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "mixing-4"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Compression Fundamentals:",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-5",
    "filename": "lesson-sound-design-5.config.js",
    "title": "Sampling Fundamentals:",
    "category": "Sound Design",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Sound Design 5 - Sampling Fundamentals\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-sound-design-5-progress\",\n  lessonNumber: 5,\n  lessonCategory: \"Sound Design\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-sound-design-6.html\",\n  prevLessonUrl: \"lesson-sound-design-4.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 5, categoryLabel: \"Sound Design\" }),\n    title: \"Sampling Fundamentals:\",\n    titleHighlight: \"Record, Edit & Process Samples\",\n    subtitle: \"Master the art of recording, editing, and processing samples for use in your productions. Master professional sound design techniques used in modern music production.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Explore Sampling Fundamentals\",\n    description: \"Master the art of recording, editing, and processing samples for use in your productions. This lesson covers the essential concepts and practical techniques you need to master this sound design method.\",\n    tip: \"Listen critically to how each parameter affects the sound. Small changes can have dramatic results in sound design.\",\n    steps: [\n      '<strong>Study the theory</strong> — Read through the sound design concepts and understand the signal flow.',\n      '<strong>Analyze the examples</strong> — Listen to reference sounds and identify key characteristics.',\n      '<strong>Experiment with parameters</strong> — Try different settings and hear how they change the sound.',\n      '<strong>Create variations</strong> — Design multiple versions exploring different timbres.',\n      '<strong>Save your presets</strong> — Document successful sounds for future use.',\n      'Complete the lesson when ready to move forward.'\n    ]\n  },\n  \n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Sampling Fundamentals',\n        content: `Sampling Fundamentals is a fundamental sound design technique that shapes the sonic character of your productions.\n\n**Key Concepts:**\n- Core synthesis principles and signal flow\n- Parameter relationships and interactions  \n- Frequency spectrum considerations\n- Timbral characteristics and sonic possibilities\n- Common applications in music production\n\n**Professional Applications:**\nModern producers use Sampling Fundamentals for:\n- Creating signature sounds and textures\n- Designing genre-specific timbres\n- Building unique sonic identities\n- Crafting sounds that cut through mixes\n- Generating movement and evolution in arrangements\n\nUnderstanding these concepts gives you complete control over your sound palette.`\n      },\n      {\n        title: 'Practical Sound Design Workflow',\n        content: `Professional sound designers follow systematic approaches to achieve desired results:\n\n**Design Process:**\n1. **Define the goal** — Know what sound you're trying to create\n2. **Choose the method** — Select appropriate synthesis technique\n3. **Start simple** — Begin with basic waveforms and build complexity\n4. **Shape with filters** — Sculpt the frequency content\n5. **Add movement** — Use envelopes and modulation\n6. **Layer if needed** — Combine multiple sounds for richness\n7. **Process and polish** — Apply effects and finalize\n\n**Critical Listening:**\n- A/B compare with reference sounds\n- Analyze frequency spectrum with analyzers\n- Check mono compatibility\n- Test in context with other mix elements\n\n**Common Mistakes to Avoid:**\n- Over-processing before establishing the core sound\n- Too many modulation sources creating chaos\n- Ignoring the frequency spectrum balance\n- Not considering the sound's role in the arrangement\n\nStudy professional productions and reverse-engineer the sounds you admire.`\n      }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master the fundamental concepts of Sampling Fundamentals\",\n    \"Understand signal flow and parameter relationships\",\n    \"Apply sound design techniques to practical productions\",\n    \"Develop critical listening skills for timbre and texture\",\n    \"Create professional-quality sounds for your productions\"\n  ],\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this lesson to master Sampling Fundamentals techniques.\",\n    success: \"Excellent! You've mastered Sampling Fundamentals. Your sound design skills are growing!\",\n    error: \"Review the theory and try again.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these techniques!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 5,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "sound-design-4"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Sampling Fundamentals:",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "theory-5",
    "filename": "lesson-theory-5.config.js",
    "title": "Rhythm Notation:",
    "category": "Music Theory Fundamentals",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-theory-5-progress\",\n  lessonNumber: 5,\n  lessonCategory: \"Music Theory Fundamentals\",\n\n  nextLessonUrl: \"lesson-theory-6.html\",\n  prevLessonUrl: \"lesson-theory-4.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 5, categoryLabel: \"Music Theory Fundamentals\" }),\n    title: \"Rhythm Notation:\",\n    titleHighlight: \"Time Signatures & Note Values\",\n    subtitle: \"Learn to read and write rhythms. Master note values, rests, ties, dots, and how time signatures organize music.\"\n  },\n\n  exercise: {\n    title: \"Read and Program Rhythmic Patterns\",\n    description: \"Rhythm notation tells us when to play notes and for how long. Note values (whole, half, quarter, eighth, sixteenth) divide time into precise durations. Time signatures (4/4, 3/4, 6/8) organize beats into measures. Understanding rhythm notation is essential for reading scores and programming accurate MIDI.\",\n    tip: \"In 4/4 time: 1 whole note = 2 half notes = 4 quarter notes = 8 eighth notes = 16 sixteenth notes.\",\n    steps: [\n      '<strong>Note Values</strong> — Whole note (4 beats), half note (2 beats), quarter note (1 beat), eighth note (0.5 beats), sixteenth note (0.25 beats).',\n      '<strong>Rests</strong> — Silence for the same duration as their note counterparts. Whole rest, half rest, quarter rest, eighth rest, sixteenth rest.',\n      '<strong>Dots</strong> — Add half the note\\'s value. Dotted quarter = 1.5 beats. Dotted half = 3 beats.',\n      '<strong>Ties</strong> — Connect two notes into one sustained duration. Quarter tied to quarter = half note.',\n      '<strong>Time Signatures</strong> — Top number = beats per measure. Bottom number = note value per beat. 4/4 = 4 beats, quarter note gets the beat.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Rhythm Notation',\n        content: `\n**Note Values (in 4/4 time):**\n\n- **Whole Note** (semibreve): 4 beats, open oval\n- **Half Note** (minim): 2 beats, open oval with stem\n- **Quarter Note** (crotchet): 1 beat, filled oval with stem\n- **Eighth Note** (quaver): 0.5 beats, filled with flag or beam\n- **Sixteenth Note** (semiquaver): 0.25 beats, two flags or beams\n- **Thirty-second Note**: 0.125 beats, three flags (rare in electronic music)\n\n**Rests (Silence):**\n- Whole rest: hangs below line (4 beats)\n- Half rest: sits on line (2 beats)\n- Quarter rest: squiggle (1 beat)\n- Eighth rest: flag shape (0.5 beats)\n- Sixteenth rest: two flags (0.25 beats)\n\n**Augmentation:**\n- **Dot**: Adds 50% of note value. Quarter (1) + dot = 1.5 beats\n- **Double Dot**: Adds 50% + 25% = 75% total\n- **Tie**: Connects notes across barlines or for readability\n- **Tuplets**: Divide beats irregularly (triplets, quintuplets)\n\n**Time Signatures:**\n- **4/4** (Common Time): 4 beats per measure, quarter note = 1 beat\n- **3/4** (Waltz): 3 beats per measure\n- **6/8**: 6 beats, eighth note = 1 beat (often felt as 2 groups of 3)\n- **5/4**: 5 beats (odd meter, Pink Floyd, Dave Brubeck)\n- **7/8**: 7 eighth notes (progressive rock, metal)\n        `\n      },\n      {\n        title: 'Practical Rhythm Reading and Programming',\n        content: `\n**Counting Systems:**\n\n**4/4 Time:**\n- Quarter notes: 1, 2, 3, 4\n- Eighth notes: 1 &, 2 &, 3 &, 4 &\n- Sixteenth notes: 1 e & a, 2 e & a, 3 e & a, 4 e & a\n\n**Triplets:**\n- Divide beat into 3 equal parts\n- Count: 1-trip-let, 2-trip-let, 3-trip-let, 4-trip-let\n- Creates \"swing\" feel in jazz, shuffle in blues\n\n**Syncopation:**\n- Emphasis on off-beats (the \"&\" or weak beats)\n- Creates rhythmic tension and groove\n- Common in funk, reggae, Latin music\n\n**DAW / MIDI Translation:**\n- Most DAWs use PPQ (Pulses Per Quarter note), typically 480 or 960\n- Sixteenth notes are 1/16 of a bar in grid view\n- Use quantization carefully — over-quantizing kills groove\n- Swing/shuffle settings delay every other note slightly\n\n**Common Mistakes:**\n- Not counting subdivisions (eighths, sixteenths)\n- Ignoring rests (silence is part of rhythm)\n- Over-quantizing and losing human feel\n- Not understanding compound time signatures (6/8, 9/8, 12/8)\n\n**Practice Tips:**\n- Use a metronome and count out loud\n- Tap rhythms before playing them\n- Transcribe rhythms from your favorite tracks\n- Program complex rhythms in MIDI to understand their structure\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Read and write standard note values and rests\",\n    \"Understand dots, ties, and triplets\",\n    \"Count complex rhythms using proper subdivision\",\n    \"Interpret time signatures and their implications\",\n    \"Translate notation to MIDI programming in a DAW\"\n  ]\n};\n",
    "number": 5,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "theory-4"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Rhythm Notation:",
      "Prepararsi alla lezione successiva del modulo Music Theory Fundamentals"
    ]
  },
  {
    "slug": "vocals-5",
    "filename": "lesson-vocals-5.config.js",
    "title": "Vocal Chain Essentials:",
    "category": "Vocals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Vocals 5 - Vocal Chain Essentials\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-vocals-5-progress\",\n  lessonNumber: 5,\n  lessonCategory: \"Vocals\",\n  \n  nextLessonUrl: \"lesson-vocals-6.html\",\n  prevLessonUrl: \"lesson-vocals-4.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 5, categoryLabel: \"Vocals\" }),\n    title: \"Vocal Chain Essentials:\",\n    titleHighlight: \"Build Your Go-To Vocal Processing\",\n    subtitle: \"Master the professional vocal chain: EQ, compression, de-essing, and saturation. Master professional vocal production techniques for commercial-quality results.\"\n  },\n  \n  exercise: {\n    title: \"Master Vocal Chain Essentials\",\n    description: \"Master the professional vocal chain: EQ, compression, de-essing, and saturation. This lesson covers the essential vocal production techniques used in professional recordings.\",\n    tip: \"Vocals are usually the focal point of a track. Spend extra time getting them right - they make or break the production.\",\n    steps: [\n      '<strong>Study vocal production theory</strong> — Understand the concepts and workflow.',\n      '<strong>Analyze reference vocals</strong> — Listen to professional vocal productions in your genre.',\n      '<strong>Apply the techniques</strong> — Practice the specific vocal processing methods.',\n      '<strong>Critical listening</strong> — Compare your results to professional standards.',\n      '<strong>Iterate and refine</strong> — Make adjustments based on what you hear.',\n      'Complete when you understand the practical application.'\n    ]\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Understanding Vocal Chain Essentials',\n        content: `Vocal Chain Essentials is crucial for achieving professional vocal productions that compete with commercial releases.\n\n**Core Concepts:**\n- Vocal recording and production fundamentals\n- Technical requirements and equipment considerations\n- Signal flow and processing chain order\n- Common issues and how to solve them\n- Genre-specific approaches and standards\n\n**Professional Workflow:**\n1. **Preparation** — Set up properly before recording\n2. **Capture** — Record high-quality source material\n3. **Edit** — Clean up and comp the best takes\n4. **Process** — Apply corrective and creative processing\n5. **Mix** — Blend vocals perfectly with the track\n6. **Finalize** — Ensure vocals translate across systems\n\n**Critical Factors:**\n- **Source quality** — Good recording = easier mixing\n- **Performance** — Technical skill matters more than processing\n- **Context** — Vocals must serve the song\n- **Reference** — Always compare to professional standards\n\nProfessional vocal producers understand that Vocal Chain Essentials is both technical skill and artistic judgment.`\n      },\n      {\n        title: 'Professional Vocal Production Techniques',\n        content: `Apply Vocal Chain Essentials in your productions with professional approaches:\n\n**Recording Best Practices:**\n- Proper mic placement and distance\n- Optimal gain staging and headroom\n- Multiple takes for comping\n- Consistent recording environment\n- Reference monitoring and acoustics\n\n**Processing Workflow:**\n1. **Clean up** — Remove unwanted sounds and noise\n2. **Tune** — Correct pitch issues (subtle or creative)\n3. **Time align** — Fix timing and rhythm issues\n4. **EQ** — Remove muddiness, add presence\n5. **Compress** — Control dynamics and consistency\n6. **De-ess** — Tame harsh sibilance\n7. **FX** — Add reverb, delay, modulation\n\n**Common Vocal Issues:**\n- **Muddiness** — High-pass filter at 80-100 Hz\n- **Harshness** — De-ess or cut 6-8 kHz\n- **Lack of presence** — Boost 3-5 kHz subtly\n- **Inconsistent levels** — Compression and automation\n- **Poor timing** — Edit before processing\n- **Pitch issues** — Tune before heavy processing\n\n**Genre Considerations:**\nDifferent genres require different vocal approaches:\n- **Pop** — Polished, present, tuned, compressed\n- **Hip-Hop** — Dry, upfront, minimal reverb\n- **R&B** — Smooth, warm, layered harmonies\n- **Rock** — Raw energy, less processing\n- **Electronic** — Creative effects, vocoders, pitch shifts\n\nStudy vocal productions in your genre and understand what makes them work.`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Master professional vocal production techniques\",\n    \"Understand the complete vocal workflow from recording to mixing\",\n    \"Apply genre-specific vocal processing approaches\",\n    \"Develop critical listening skills for vocal production\",\n    \"Create commercial-quality vocal recordings\"\n  ],\n  \n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this vocal production lesson to advance.\",\n    success: \"Excellent! You've mastered Vocal Chain Essentials. Your vocal productions are pro-level!\",\n    error: \"Review the vocal production concepts and try again.\",\n    alreadyCompleted: \"You've completed this vocal technique. Keep refining your skills!\"\n  }),\n  \n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 5,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "vocals-4"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Vocal Chain Essentials:",
      "Prepararsi alla lezione successiva del modulo Vocals"
    ]
  },
  {
    "slug": "arrangement-6",
    "filename": "lesson-arrangement-6.config.js",
    "title": "EDM & Electronic",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 6 - EDM & Electronic Structures\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-arrangement-6-progress\",\n  lessonNumber: 6,\n  lessonCategory: \"Arrangement\",\n  depthLevel: 4,\n  \n  nextLessonUrl: \"lesson-arrangement-7.html\",\n  prevLessonUrl: \"lesson-arrangement-5.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 6, categoryLabel: \"Arrangement\" }),\n    title: \"EDM & Electronic\",\n    titleHighlight: \"Structures\",\n    subtitle: \"Master <strong>build-drop-breakdown cycles</strong>. Learn <strong>tension building</strong> and <strong>impact moments</strong>.\"\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Build an EDM Track Structure\",\n    description: \"Create a classic EDM arrangement using the <strong>Build-Drop-Breakdown</strong> cycle. This structure is essential for house, techno, trance, and most electronic dance music. Learn to control energy flow and create maximum impact.\",\n    tip: \"The drop should feel like a payoff after the buildup. Use all 4-5 arrangement elements in the drop for maximum energy, then strip back to 2-3 elements in the breakdown.\",\n    steps: [\n      { text: \"<strong>Start with an Intro</strong> (8-16 bars) - DJ-friendly, minimal elements\" },\n      { text: \"<strong>Add a Buildup</strong> (8-16 bars) - Rising tension with risers and filter sweeps\" },\n      { text: \"<strong>Create the Drop</strong> (16-32 bars) - Full energy with all elements\" },\n      { text: \"<strong>Add a Breakdown</strong> (8-16 bars) - Strip back to create contrast\" },\n      { text: \"<strong>Repeat the cycle</strong> - Second buildup and drop for a complete track\" },\n      { text: \"<strong>End with an Outro</strong> (8 bars) - DJ-friendly minimal ending\" }\n    ]\n  },\n\n  // ====================\n  // SECTION DEFINITIONS\n  // ====================\n  sections: [\n    { id: \"intro\", name: \"Intro\", bars: \"8-16\", energy: 30, description: \"DJ-friendly, minimal\" },\n    { id: \"buildup\", name: \"Buildup\", bars: \"8-16\", energy: 70, description: \"Rising tension\" },\n    { id: \"drop\", name: \"Drop\", bars: \"16-32\", energy: 100, description: \"Maximum energy\" },\n    { id: \"breakdown\", name: \"Breakdown\", bars: \"8-16\", energy: 40, description: \"Stripped back\" }\n  ],\n  \n  buildupTechniques: [\n    { id: \"riser\", name: \"Risers\", description: \"White noise/synth sweeps\" },\n    { id: \"snare-roll\", name: \"Snare Rolls\", description: \"Increasing density\" },\n    { id: \"filter\", name: \"Filter Sweeps\", description: \"HP filter opening\" },\n    { id: \"pitch\", name: \"Pitch Rising\", description: \"Elements rising in pitch\" }\n  ],\n  \n  messages: applyMessagePreset(\"arrangement\", {\n    initial: \"Build an EDM structure with build-drop-breakdown!\",\n    success: \"🎛️ Perfect EDM structure! The tension and release are perfectly balanced.\",\n    error: \"Make sure you have clear buildup before the drop.\"\n  }),\n\n  // ====================\n  // VALIDATION RULES\n  // ====================\n  validation: {\n    type: \"structure_arrangement\",\n    minBars: 64,\n    maxBars: 128,\n    requiredSections: [\"intro\", \"buildup\", \"drop\", \"breakdown\"],\n    minDrops: 1,\n    minBuildups: 1,\n    requireEnergyPeak: true,\n    peakEnergyMin: 90\n  },\n\n  mode: { type: \"structure-builder\", showTimeline: true, showEnergyGraph: true },\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"The EDM Build-Drop-Breakdown Cycle\",\n        content: `\n**Why EDM Structures Are Different:**\nUnlike pop/rock which prioritizes storytelling through verses and choruses, EDM structures prioritize physical response and energy manipulation. The genre exists primarily for dance floors where music isn't background—it's the main event. EDM structures are designed to control crowd energy: build unbearable tension, release it explosively, provide rest, then repeat.\n\n**The Physics of Tension and Release:**\nThe build-drop cycle works because of basic human psychology: tension creates anticipation, and the longer you can sustain it, the more powerful the release feels. Buildups literally increase physiological tension (rising heart rate, muscle tension), and drops provide cathartic release. This isn't metaphorical—you can measure it with biometrics.\n\n**The Three Core Sections:**\n1. **Buildup**: Create tension using risers, filter sweeps, increasing drum complexity, and rising pitch\n2. **Drop**: Release tension with full-energy arrangement and signature hook\n3. **Breakdown**: Provide recovery time with stripped-back elements before building again\n\n**Why 8/16/32 Bar Phrases Matter:**\nEDM tracks use strict 8/16/32-bar phrasing because DJs need predictable structures for beatmatching and mixing. When every track uses the same phrase lengths, DJs can seamlessly transition between songs. This isn't creative limitation—it's functional design for the medium (DJ performance).\n\n**The Energy Graph Pattern:**\nIf you visualized EDM energy on a graph, you'd see a sawtooth wave:\n- Intro: Low (30%)\n- Buildup: Rising (30% → 70%)\n- Drop: Peak (100%)\n- Breakdown: Valley (40%)\n- Buildup 2: Rising (40% → 80%)\n- Drop 2: Peak (100%)\n- Outro: Falling (30% → 0%)\n\nThis pattern keeps dancers engaged through constant energy variation. Flat energy = bored dancers = empty floor.\n\n**Real-World Examples:**\n- \"Animals\" by Martin Garrix: Classic 16-bar buildup → 32-bar drop → 16-bar breakdown cycle\n- \"Levels\" by Avicii: Intro-Build-Drop-Breakdown-Build-Drop (no bridge, pure energy cycles)\n- \"Titanium\" by David Guetta: Pop/EDM hybrid using vocals in breakdowns\n- \"Strobe\" by deadmau5: Extended 10-minute progressive structure with multiple build/drop cycles\n        `\n      },\n      {\n        title: \"The Four Essential EDM Sections Explained\",\n        content: `\n**Intro (8-16 bars) - The DJ Entry Point:**\nPurpose: Provide a beatmatched entry point for DJs to mix into\n\nCharacteristics:\n- Minimal elements (usually just drums + bass or a single melodic loop)\n- Consistent energy (no buildups yet)\n- Establishes tempo and key instantly\n- Often references the main drop hook in stripped form\n\n*Best Practices:*\n- Keep it DJ-friendly: 8-16 bars of consistent energy\n- Start with kick drum on beat 1 (crucial for beatmatching)\n- Avoid complex changes—DJs need stability for mixing\n- Can be instrumental-only or feature minimal vocals\n\n*Common Mistake:* Complex intros with multiple changes. DJs skip these—they want clean, mixable 8-16 bars.\n\n**Buildup (8-16 bars) - The Tension Creator:**\nPurpose: Create unbearable anticipation before the drop\n\nCharacteristics:\n- Rising energy from 40% → 80%\n- Layered tension elements: risers, snare rolls, filter sweeps\n- Often features rising pitch on melodic elements\n- Final 1-4 bars strip drums entirely (just the riser before the drop)\n- Ends with brief silence (1/4 beat before drop for maximum impact)\n\n*Essential Buildup Techniques:*\n1. **White Noise Risers**: Sweeping upward from low to high frequencies\n2. **Snare Rolls**: Increasing from 1/4 notes → 1/8 notes → 1/16 notes\n3. **High-Pass Filter Sweeps**: Gradually opening filter to add brightness\n4. **Pitch Rising**: Melodic elements rising 1-2 semitones\n5. **Vocal Chops**: \"Here we go\" / \"Drop it\" (classic EDM move)\n6. **Silence Before Drop**: Cut everything for 1/4-1/2 beat before impact\n\n*Timing Variations:*\n- 8 bars: Quick, aggressive buildups (big room house, trap)\n- 12 bars: Standard buildup length (most EDM)\n- 16 bars: Extended builds for progressive house/trance\n\n*Common Mistake:* Buildups that don't actually build. Every bar should add something: more risers, faster snares, higher pitch. If energy plateaus, the drop won't hit.\n\n**Drop (16-32 bars) - The Payoff:**\nPurpose: Deliver maximum energy and the track's signature hook\n\nCharacteristics:\n- 100% energy—fullest possible arrangement\n- Features the main hook (synth lead, bass pattern, or vocal hook)\n- Uses all 4-5 Bobby Owsinski elements simultaneously\n- Maintains high energy consistently (no variation within the drop itself)\n- Typically 16 bars for first drop, 32 bars for final drop\n\n*Elements of a Great Drop:*\n- **Signature Sound**: One unique, memorable sound (the hook)\n- **Powerful Kick**: Massive, punchy, dominates the low-end\n- **Rolling Bass**: Sub-bass or bass line driving the groove\n- **Top-End Energy**: Hi-hats, shakers, white noise for brightness\n- **Melodic Hook**: Simple, repetitive, catchy\n\n*Drop Variations:*\n- **First Drop (16 bars)**: Introduce the hook, keep it tight\n- **Second Drop (32 bars)**: Extend it, add variations, go bigger\n- **Final Drop**: Often includes key change or extra elements for climax\n\n*Common Mistakes:*\n- Drops that are too busy (15 competing synths = mud)\n- Drops with no clear hook (listeners need a focal point)\n- Weak kicks (kick should be the loudest, punchiest element)\n- Drops that change too much (consistency within the drop creates impact)\n\n**Breakdown (8-16 bars) - The Recovery Period:**\nPurpose: Provide rest and contrast before building again\n\nCharacteristics:\n- Low energy (30-50%)\n- Stripped-back arrangement (2-3 elements max)\n- Often features vocals, pads, or atmospheric elements\n- Creates valley energy to make next drop feel even bigger\n- Provides dancers literal physical recovery time\n\n*Common Breakdown Elements:*\n- Vocal hooks or verses (often without drums)\n- Atmospheric pads or strings\n- Light percussion (shakers, hi-hats only)\n- Melodic elements from the drop, but quiet and sustained\n\n*Best Practices:*\n- Make breakdowns noticeably quieter than drops (30-50% energy)\n- Strip drums entirely or use only light percussion\n- Feature vocals or emotional melodic content\n- Keep it 8-16 bars—long enough for contrast, short enough not to kill momentum\n\n*When to Use:*\n- After first drop (Drop 1 → Breakdown → Buildup 2 → Drop 2)\n- In longer progressive tracks, multiple breakdowns create journey-like structures\n\n*Common Mistake:* Breakdowns that are too similar to the drop energy. The point is contrast—if your breakdown feels like a quieter drop, it's not doing its job.\n        `\n      },\n      {\n        title: \"Building EDM Structures in Your DAW\",\n        content: `\n**The Classic EDM Structure Template:**\n\n**Bars 1-16: Intro**\n- Elements: Kick + bass (minimal, DJ-friendly)\n- Energy: 30%\n\n**Bars 17-32: Buildup 1**\n- Elements: Add risers, snare rolls, filter sweeps over 16 bars\n- Energy: 30% → 80%\n- Final 2 bars: Strip drums, just riser + silence before drop\n\n**Bars 33-48: Drop 1**\n- Elements: Full arrangement (kick, bass, synth hook, hi-hats, all elements)\n- Energy: 100%\n- Length: 16 bars\n\n**Bars 49-64: Breakdown 1**\n- Elements: Vocals/pads + light percussion only\n- Energy: 40%\n- Length: 16 bars\n\n**Bars 65-80: Buildup 2**\n- Elements: Same as Buildup 1 but even more intense\n- Energy: 40% → 90%\n\n**Bars 81-112: Drop 2 (Extended)**\n- Elements: Full arrangement + add extra layers for bigger feel\n- Energy: 100%\n- Length: 32 bars (double the first drop)\n\n**Bars 113-128: Outro**\n- Elements: Kick + bass (mirror of intro for DJ mixing out)\n- Energy: 30% → 0%\n- Length: 16 bars\n\n**Total: 128 bars = ~4:00 at 128 BPM**\n\n**DAW Workflow:**\n\n**Step 1: Set BPM and Grid**\n- EDM tempos: House (120-130), Trance (130-140), Dubstep (140-150), Trap (140-160)\n- Enable snap-to-grid at 1-bar resolution\n- Create markers for each section\n\n**Step 2: Build the Drop First (Reverse Engineering)**\nMost professional EDM producers build the drop first, then create everything else around it:\n- Create a 16-bar loop with kick, bass, hook, and all elements\n- This is your energy reference point—everything else derives from it\n\n**Step 3: Create the Breakdown (Strip Elements)**\nDuplicate the drop, then remove elements:\n- Remove: Kick, bass, main synth hook\n- Keep: Atmospheric pads, vocals, light percussion\n- Add: Reverb tails, space, emotion\n\n**Step 4: Create the Buildup (Tension Elements)**\n8-16 bars before each drop:\n- Bars 1-8: Add white noise riser (starting quiet, ending loud)\n- Bars 5-8: Add snare roll (increasing from 1/4 notes to 1/16 notes)\n- Bars 7-8: High-pass filter sweep (opening from 1kHz to full spectrum)\n- Final bar: Strip everything except riser → silence for 1/4 beat → DROP\n\n**Step 5: Create the Intro/Outro (DJ Tools)**\n- Intro = Drop elements but minimal (just kick + bass loop)\n- Outro = Same as intro (for mixing out)\n\n**Step 6: Arrange on Timeline**\nDrag sections into timeline following the template above. Color-code:\n- Intro/Outro: Gray\n- Buildup: Yellow\n- Drop: Red\n- Breakdown: Blue\n\n**Step 7: Energy Flow Check**\nZoom out and look at waveforms:\n- Buildups should show increasing density\n- Drops should show maximum amplitude\n- Breakdowns should show significant reduction\n- Clear sawtooth pattern overall\n\n**Advanced Variations:**\n\n**Progressive House (Extended Journey):**\n- Intro (16) → Build (16) → Drop (32) → Break (16) → Build (16) → Drop (32) → Outro (16)\n- Total: 144 bars (~5:00)\n- Emphasizes longer builds and extended drops\n\n**Big Room / Festival EDM:**\n- Shorter builds (8 bars), massive drops (32 bars)\n- Emphasis on impact over complexity\n\n**Trap / Bass Music:**\n- Half-time feel (70-75 BPM but 140-150 BPM grid)\n- Drops feature heavy bass and sparse drums\n- Buildups use vocal chops and risers\n\n**Pro Tips:**\n\n**The \"8-Bar Rule\":** Every section should be divisible by 8. DJs need phrase markers every 8/16/32 bars for beatmatching.\n\n**The \"Silence Before Impact\":** Cut everything (including risers) for 1/4 to 1/2 beat immediately before the drop. This micro-silence makes the drop hit 10x harder.\n\n**The \"Second Drop Extension\":** First drop = 16 bars (introduce the hook), Second drop = 32 bars (let them dance to it). This is standard in almost all professional EDM.\n\n**The \"Breakdown Vocal Rule\":** Breakdowns are where vocals shine. Even instrumental EDM often features vocal hooks or toplines in breakdowns for emotional peaks.\n\n**Reference Mixing:** Pull up 3 professional EDM tracks in your genre. Analyze exactly how long each section is, where buildups start, when drops hit. You'll notice consistent patterns—use them as templates.\n\nMaster the build-drop-breakdown cycle, and you've mastered the core of EDM production. It's not about complexity—it's about tension and release, over and over, creating a physical and emotional journey on the dance floor.\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Create effective buildups with risers and snare rolls\",\n    \"Design impactful drops with full arrangement\",\n    \"Use breakdowns for contrast and rest\",\n    \"Structure DJ-friendly tracks in 8/16/32 bar phrases\"\n  ]\n};\n\nif (typeof window !== 'undefined') window.LESSON_CONFIG = lessonConfig;\n",
    "number": 6,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "arrangement-5"
    ],
    "outcomes": [
      "Applicare i concetti chiave di EDM & Electronic",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-6",
    "filename": "lesson-bass-6.config.js",
    "title": "Walking Basslines",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 6 - Walking Basslines\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-6-progress\",\n  lessonNumber: 6,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-7.html\",\n  prevLessonUrl: \"lesson-bass-5.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 6, categoryLabel: \"Bass & Low End\" }),\n    title: \"Walking Basslines\",\n    titleHighlight: \"\",\n    subtitle: \"Build smooth, walking basslines that move through chord changes. Use passing tones to connect chords musically and create elegant, flowing bass movement.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    bars: 1,\n    noteRange: { min: 36, max: 60 }, // C2 to C4 (bass range)\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Create a Walking Bass Line\",\n    description: \"Walking bass creates smooth connection between chords by using scale tones and chromatic passing notes. It's the foundation of jazz, blues, and many pop styles.\",\n    tip: \"Think of walking bass as a smooth path between destinations (chord roots). You're creating a journey, not teleporting.\",\n    steps: ['Start with <strong>C3 on step 1</strong> (root of C chord).', 'Add <strong>D3 on step 5</strong> (passing tone).', 'Add <strong>E3 on step 9</strong> (passing tone).', 'Add <strong>G3 on step 13</strong> (arrival at G chord root).', 'Listen to the smooth walk from C to G.']\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [{'title': 'Walking Bass Principles', 'content': '**Goal:** Smooth connection between chord roots\\n\\n**Techniques:**\\n1. Stepwise motion (C→D→E)\\n2. Arpeggios (C→E→G from C chord)\\n3. Chromatic passing (C→C#→D)\\n4. Approach tones (leading tone before target)\\n\\n**Common pattern:** Root → Scale tone → Passing tone → Next root'}]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [{'pitch': 48, 'step': 0, 'duration': 1}, {'pitch': 50, 'step': 4, 'duration': 1}, {'pitch': 52, 'step': 8, 'duration': 1}, {'pitch': 55, 'step': 12, 'duration': 1}],\n    highlightScale: [48, 50, 52, 53, 55, 57, 59, 60], // C major scale in bass range\n    showChordDetection: false,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete the bass pattern exercise.\",\n    success: \"Excellent! You've mastered this bass technique.\",\n    error: \"Not quite. Check the target pattern and try again.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 6,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "bass-5"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Walking Basslines",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-6",
    "filename": "lesson-drums-6.config.js",
    "title": "Syncopated kick:",
    "category": "Drum pattern",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Drums 6 - Syncopated Kick (Break from 4/4)\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-lesson6-progress\",\n  lessonNumber: 6,\n  lessonCategory: \"Drum pattern\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"labs.html\",\n  prevLessonUrl: \"lesson-drums-5.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 6, categoryLabel: \"Drum pattern\" }),\n    title: \"Syncopated kick:\",\n    titleHighlight: \"break from the 4/4\",\n    subtitle: \"In this lesson the kick does not follow a classic 4 on the floor: we'll use a syncopated pattern that adds extra push and groove.\"\n  },\n  \n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 110,\n    stepCount: 16,\n    swing: 0,\n    enableVelocity: true, // Enable velocity control for practice\n    requiredTempo: 110\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Master Syncopated Kick Patterns\",\n    description: \"Break free from the 4-on-the-floor! <strong>Syncopation</strong> places kicks on unexpected beats, creating that groovy, off-beat feel found in funk, hip-hop, and many electronic genres.\",\n    tip: \"Syncopation = surprise! The kick lands 'between' where you expect it. The steady snare/hi-hat anchors the groove while the kick adds movement.\",\n    steps: [\n      { text: \"<strong>Set the tempo to 110 BPM</strong> using the Tempo slider.\" },\n      { text: \"<strong>Kick row:</strong> Steps <strong>1, 3, 6, 11</strong> - NOT on every beat!\" },\n      { text: \"<strong>Snare row:</strong> Steps <strong>5 and 13</strong> (keep the backbeat steady).\" },\n      { text: \"<strong>Hi-Hat row:</strong> Steps <strong>1, 3, 5, 7, 9, 11, 13, 15</strong> (straight eighths).\" },\n      { text: \"Notice how the kick on steps 3 and 6 creates tension against the snare.\" }\n    ]\n  },\n  \n  // ====================\n  // INSTRUMENTS CONFIG\n  // ====================\n  instruments: [\n    {\n      id: \"kick\",\n      label: \"Kick\",\n      color: \"linear-gradient(135deg,#ff5a3d,#ffb28a)\",\n      targetSteps: [0, 2, 5, 10],\n      instructionText: \"Kick: Program a syncopated pattern on the suggested steps (1, 3, 6, 11). Try to avoid straight quarters.\",\n      patternHint: {\n        label: \"Kick\",\n        highlightSteps: [2, 5, 10]\n      }\n    },\n    {\n      id: \"snare\",\n      label: \"Snare\",\n      color: \"linear-gradient(135deg,#5f4dff,#8a9bff)\",\n      targetSteps: [4, 12],\n      instructionText: \"Snare: Keep the backbeat on 2 and 4 (steps 5 & 13).\",\n      patternHint: { label: \"Snare\" }\n    },\n    {\n      id: \"hihat\",\n      label: \"Hi-Hat\",\n      color: \"linear-gradient(135deg,#00d4ff,#b8ffdd)\",\n      targetSteps: [0, 2, 4, 6, 8, 10, 12, 14],\n      instructionText: \"Hi-Hat: Straight eighths to keep the pulse.\",\n      patternHint: { label: \"Hi-Hat\" }\n    }\n  ],\n  \n  // ====================\n  // PATTERN HINT CONFIG\n  // ====================\n  patternHint: {\n    enabled: true,\n    note: \"Highlighted kicks show syncopated positions - they don't fall on the main beats!\"\n  },\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"drums\", {\n    initial: \"Master syncopation to complete the drums module!\",\n    success: \"Congratulations! You've completed the Drums module. Explore other categories or practice more!\",\n    error: \"Not quite right. Check the syncopated kick pattern (1, 3, 6, 11) and keep the backbeat steady!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 6,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "drums-5"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Syncopated kick:",
      "Prepararsi alla lezione successiva del modulo Drum pattern"
    ]
  },
  {
    "slug": "ear-6",
    "filename": "lesson-ear-6.config.js",
    "title": "Pitch Accuracy Training:",
    "category": "Ear Training",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-ear-6-progress\",\n  lessonNumber: 6,\n  lessonCategory: \"Ear Training\",\n\n  nextLessonUrl: \"lesson-ear-7.html\",\n  prevLessonUrl: \"lesson-ear-5.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 6, categoryLabel: \"Ear Training\" }),\n    title: \"Pitch Accuracy Training:\",\n    titleHighlight: \"Relative & Perfect Pitch\",\n    subtitle: \"Develop perfect pitch awareness and relative pitch skills. Improve your ability to sing and identify specific pitches.\"\n  },\n\n  exercise: {\n    title: \"Develop Pitch Accuracy and Recognition\",\n    description: \"Pitch accuracy training develops your ability to identify and reproduce specific pitches. Relative pitch (hearing relationships between notes) can be learned by anyone. Perfect pitch (identifying absolute note names without reference) is rare but can be improved with training. Both skills dramatically improve your musicianship, transcription ability, and vocal performance.\",\n    tip: \"Relative pitch is more important and practical than perfect pitch. Focus on hearing intervals and scale degrees rather than trying to memorize absolute pitches.\",\n    steps: [\n      '<strong>Relative Pitch</strong> — Identify notes by their relationship to a reference pitch. Example: hear C, then identify E as \"major 3rd up.\"',\n      '<strong>Scale Degree Recognition</strong> — Identify notes by their position in a key. Example: in C major, G is the 5th, F is the 4th.',\n      '<strong>Vocal Matching</strong> — Sing pitches accurately. Use a piano or tuner app to check your accuracy.',\n      '<strong>Perfect Pitch Awareness</strong> — Associate specific pitches with timbres, colors, or feelings. C might feel \"bright,\" E might feel \"warm.\"',\n      '<strong>Daily Practice</strong> — 10 minutes daily: play random notes, identify them (relative pitch), then sing them back.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Pitch Accuracy and Recognition',\n        content: `\n**Relative Pitch vs. Perfect Pitch:**\n\n**Relative Pitch (Learnable by Everyone):**\n- Ability to identify notes based on their relationship to a reference\n- Example: Given an A, identify D as \"perfect 4th up\"\n- Most professional musicians use relative pitch\n- Can be trained systematically\n- More practical than perfect pitch for most music tasks\n\n**Perfect Pitch (Rare, Partially Genetic):**\n- Ability to identify or produce a note without reference\n- Example: Hear a G# and say \"that's G sharp\" instantly\n- Only ~1 in 10,000 people have true perfect pitch\n- Often develops in early childhood (critical period: 2-5 years old)\n- Can be improved with training but rarely fully acquired as adult\n\n**Pseudo-Absolute Pitch (Trainable):**\n- Strong relative pitch + memorized reference tones\n- Example: Memorize what A440 sounds like, derive others from it\n- Many \"perfect pitch\" claims are actually this\n- Good enough for practical music production\n\n**Scale Degree Hearing:**\nThe most practical skill for musicians:\n- **Tonic (1)**: Home, stable, resolved\n- **Supertonic (2)**: Wants to move to 1 or 3\n- **Mediant (3)**: Defines major/minor quality\n- **Subdominant (4)**: Pulls upward or outward\n- **Dominant (5)**: Strong, wants to resolve to 1\n- **Submediant (6)**: Emotional pivot point\n- **Leading Tone (7)**: Pulls strongly up to 1\n\n**Training Benefits:**\n- Faster transcription (hear melodies, write them down)\n- Better vocal performance (sing in tune)\n- Improved improvisation (know where you are in the key)\n- Easier composition (hear ideas in your head, reproduce them)\n        `\n      },\n      {\n        title: 'Practical Pitch Training Strategy',\n        content: `\n**12-Week Pitch Training Program:**\n\n**Weeks 1-4: Scale Degree Recognition**\n1. Play a major scale (C major: C-D-E-F-G-A-B-C)\n2. Play root note (C) as reference\n3. Play random notes from scale\n4. Identify by number (1, 2, 3, 4, 5, 6, 7)\n5. Goal: Instant recognition of scale degrees\n\n**Weeks 5-8: Interval Reinforcement**\n1. Combine scale degrees with interval training\n2. Example: \"5 to 1\" = perfect 4th down\n3. Example: \"1 to 3\" = major 3rd up\n4. Strengthens relative pitch foundation\n\n**Weeks 9-12: Vocal Matching**\n1. Play a note on piano\n2. Sing it back (use tuner app to verify)\n3. Increase difficulty: arpeggios, melodies\n4. Record yourself, analyze pitch drift\n\n**Advanced: Reference Tone Method**\n- Memorize A440 (concert A, tuning fork pitch)\n- Practice recalling A440 throughout the day\n- Derive other notes from this reference\n- Eventually memorize all 12 chromatic notes\n\n**Exercise 1: Sing the Scale**\n1. Play C major scale ascending\n2. Sing along with it\n3. Play scale again, pause on random notes\n4. Sing that note, check with piano\n\n**Exercise 2: Scale Degree Dictation**\n1. Establish tonic (play root note)\n2. Play random scale degrees: 5, 3, 1, 6, 4\n3. Sing them back\n4. Write them down (using numbers)\n\n**Exercise 3: Melodic Dictation**\n1. Play a simple melody (4-8 notes)\n2. Identify each note by scale degree\n3. Write it down: 1-3-5-5-6-5-4-3-1\n4. Verify by playing it back\n\n**Exercise 4: Perfect Pitch Training (Advanced)**\n1. Play C note every day at same time\n2. Try to recall it 1 hour later (sing or hum)\n3. Check accuracy\n4. Gradually add other notes (C, E, G, etc.)\n5. This builds pitch memory anchors\n\n**Common Mistakes:**\n- Trying to develop perfect pitch instead of relative pitch (wrong priority)\n- Not using a reference tone (always establish tonic first)\n- Practicing pitch without rhythm (rhythm + pitch = melody)\n- Not singing (passive listening doesn't build muscle memory)\n- Expecting overnight results (pitch training takes months)\n\n**Tools and Apps:**\n- **Perfect Ear** (Android/iOS) - scale degree training\n- **EarMaster** - comprehensive ear training\n- **Functional Ear Trainer** - scale degree focus\n- **Tuner apps** - verify vocal accuracy (Pitched Tuner, Tunable)\n\n**DAW Practice:**\n1. Create a simple melody in MIDI\n2. Play it once\n3. Try to recreate it by ear (don't look at MIDI)\n4. Compare your version to original\n5. Analyze mistakes (wrong scale degree? wrong rhythm?)\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Develop strong relative pitch skills for interval recognition\",\n    \"Identify scale degrees (1-7) instantly within a key\",\n    \"Sing pitches accurately using vocal matching techniques\",\n    \"Build pitch memory anchors for reference tones\",\n    \"Apply pitch accuracy to transcription and vocal performance\"\n  ]\n};\n",
    "number": 6,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "ear-5"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Pitch Accuracy Training:",
      "Prepararsi alla lezione successiva del modulo Ear Training"
    ]
  },
  {
    "slug": "harmony-6",
    "filename": "lesson-harmony-6.config.js",
    "title": "Melody from",
    "category": "Melody Fundamentals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 6 - Melody from Chord Tones\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-harmony-6-progress\",\n  lessonNumber: 6,\n  lessonCategory: \"Melody Fundamentals\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-harmony-7.html\",\n  prevLessonUrl: \"lesson-harmony-5.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 6, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Melody from\",\n    titleHighlight: \"Chord Tones\",\n    subtitle: \"Write a simple melody that 'fits' perfectly by targeting chord tones. You'll create melodic lines using only the notes from each chord (root, third, fifth), ensuring every note harmonizes beautifully. This teaches you the safest, most effective way to write melodies over any progression.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 100,\n    key: \"C\",\n    scale: \"Major\",\n    stepCount: 64,\n    bars: 4,\n    pitchRange: {\n      low: 60,  // C4\n      high: 84  // C6 (for melody range)\n    }\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Write a Chord Tone Melody\",\n    description: \"Create a melody using <strong>only chord tones</strong> (1-3-5 of each chord). Over the I–V–vi–IV progression, you'll write at least 8 melody notes that harmonize perfectly because they're all part of the underlying chords.\",\n    tip: \"Start simple - use quarter notes or 8th notes with a clear rhythm. Aim for chord tones on strong beats (beats 1 and 3) for maximum stability.\",\n    steps: [\n      { text: \"Set up your I–V–vi–IV progression from Lesson 5 (C–G–Am–F)\" },\n      { text: \"Bar 1 (C major): Write melody notes using <strong>only C, E, or G</strong>\" },\n      { text: \"Bar 2 (G major): Write melody notes using <strong>only G, B, or D</strong>\" },\n      { text: \"Bar 3 (A minor): Write melody notes using <strong>only A, C, or E</strong>\" },\n      { text: \"Bar 4 (F major): Write melody notes using <strong>only F, A, or C</strong>\" },\n      { text: \"Create at least <strong>8 total melody notes</strong> (2 per bar minimum)\" }\n    ]\n  },\n\n  // ====================\n  // VALIDATION CONFIG\n  // ====================\n  validation: {\n    type: \"melody_with_harmony\",\n    chordProgression: [\n      { name: \"C\", pitches: [60, 64, 67], time: 0 },\n      { name: \"G\", pitches: [67, 71, 74], time: 16 },\n      { name: \"Am\", pitches: [69, 72, 76], time: 32 },\n      { name: \"F\", pitches: [65, 69, 72], time: 48 }\n    ],\n    melodyRules: {\n      minNotes: 8,\n      mustUseChordTonesOnly: true,\n      allowedNotesPerBar: [\n        { bar: 1, notes: [60, 64, 67, 72, 76, 79] },  // C, E, G (multiple octaves)\n        { bar: 2, notes: [62, 67, 71, 74, 79, 83] },  // D, G, B (multiple octaves)\n        { bar: 3, notes: [64, 69, 72, 76, 81, 84] },  // E, A, C (multiple octaves)\n        { bar: 4, notes: [60, 65, 69, 72, 77, 81] }   // C, F, A (multiple octaves)\n      ],\n      strongBeatPreference: \"chord_tones\"\n    }\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Write a melody using only chord tones (1-3-5 of each chord) over your progression.\",\n    success: \"Perfect! You've written a melody that harmonizes beautifully. You understand how chord tones create stable, fitting melodies.\",\n    error: \"Check that all your melody notes are chord tones: Bar 1 (C/E/G), Bar 2 (G/B/D), Bar 3 (A/C/E), Bar 4 (F/A/C).\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 6,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "harmony-5"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Melody from",
      "Prepararsi alla lezione successiva del modulo Melody Fundamentals"
    ]
  },
  {
    "slug": "mastering-6",
    "filename": "lesson-mastering-6.config.js",
    "title": "Limiting & Loudness Maximization:",
    "category": "Mastering",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mastering 6 - Limiting & Loudness Maximization\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mastering-6-progress\",\n  lessonNumber: 6,\n  lessonCategory: \"Mastering\",\n\n  nextLessonUrl: \"lesson-mastering-7.html\",\n  prevLessonUrl: \"lesson-mastering-5.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 6, categoryLabel: \"Mastering\" }),\n    title: \"Limiting & Loudness Maximization:\",\n    titleHighlight: \"Achieve Competitive Loudness\",\n    subtitle: \"Master the art of limiting—achieving competitive loudness while preserving transients, dynamics, and musicality without distortion or pumping\"\n  },\n\n  exercise: {\n    title: \"Set Up Professional Limiting for Streaming\",\n    description: \"Apply a limiter to achieve streaming-optimized loudness (-14 LUFS integrated) while maintaining transient punch and dynamic range. Learn to recognize when you've gone too far.\",\n    tip: \"The loudness war is over—streaming normalization won. A master at -14 LUFS with great dynamics will sound better than one crushed to -6 LUFS that gets turned down by 8 dB. Focus on quality, not loudness. Let the limiter control peaks; don't use it to destroy dynamics.\",\n    steps: [\n      '<strong>Insert limiter last in chain</strong> — Add a true peak limiter at the end of your mastering chain (after EQ, compression, stereo). Use a quality limiter: FabFilter Pro-L2, iZotope Maximizer, Waves L2, or similar.',\n      '<strong>Set true peak ceiling</strong> — Set the output ceiling to <strong>-1.0 dBTP</strong> (true peak). This is the standard for streaming. Some limiters show this as \"ceiling\" or \"out ceiling.\"',\n      '<strong>Check your input level</strong> — Play the loudest section. Note the peak level hitting the limiter. If it\\'s already at -3 to -6 dBFS, you have typical headroom. If it\\'s at 0 dBFS, EQ/compression may have raised levels too high.',\n      '<strong>Set threshold conservatively</strong> — Start with threshold at 0 dB (no limiting). Play the track and slowly lower threshold until you see <strong>1-2 dB of gain reduction</strong> on loud peaks.',\n      '<strong>Measure integrated LUFS</strong> — Play the entire track while monitoring your loudness meter. Note the integrated LUFS at the end. For streaming, target approximately <strong>-14 LUFS</strong>.',\n      '<strong>Adjust for target loudness</strong> — If you need more loudness, lower the threshold (more limiting). If too loud, raise threshold. Each 1 dB of threshold change roughly equals 1 LUFS. Stop when you hit your target.',\n      '<strong>Check gain reduction meter</strong> — Watch the limiter\\'s GR meter during the loudest sections. <strong>3-6 dB GR</strong> is typical for streaming masters. <strong>8+ dB GR</strong> suggests over-limiting.',\n      '<strong>Listen for distortion</strong> — Lower the threshold further until you hear distortion, pumping, or dulled transients. Note where this happens. Back off 1-2 dB from this point.',\n      '<strong>Adjust attack/release (if available)</strong> — <strong>Faster attack</strong> catches transients but can dull the mix. <strong>Slower attack</strong> preserves punch but may miss peaks. <strong>Auto release</strong> often works best.',\n      '<strong>A/B with bypass</strong> — Bypass the limiter entirely (note: it will be quieter). Adjust comparison level mentally or use a gain plugin. Does the limited version maintain punch and clarity?',\n      '<strong>Check dynamic range</strong> — Compare DR before and after limiting. Losing 2-3 DR from limiting is typical. Losing 5+ DR suggests over-limiting.',\n      '<strong>Final verification</strong> — Confirm: True peak at or below <strong>-1 dBTP</strong>, integrated LUFS at target (approximately <strong>-14 LUFS</strong> for streaming), no audible distortion or pumping.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Limiting in Mastering',\n        content: `A limiter is a compressor with a very high ratio (∞:1 or near-infinite). It prevents signal from exceeding a set ceiling, allowing you to raise overall loudness without clipping.\n\n**How Limiting Works:**\n1. Signal approaches the threshold/ceiling\n2. Limiter engages, preventing signal from exceeding ceiling\n3. Peaks are \"limited\" (reduced)\n4. Overall level can be raised because peaks are controlled\n\n**Limiting vs Compression:**\n| Aspect | Compression | Limiting |\n|--------|-------------|----------|\n| Ratio | 2:1 to 10:1 | ∞:1 or 20:1+ |\n| Purpose | Dynamic control | Peak control |\n| Gain reduction | 2-10 dB typical | 1-6 dB typical |\n| Transparency | Character varies | Should be transparent |\n| Position in chain | Before limiter | Last in chain |\n\n**The True Peak Limiter:**\nStandard limiters measure sample peaks. True peak limiters oversample to catch inter-sample peaks that occur during D/A conversion. For streaming masters, always use a true peak limiter.\n\n**Why Limiting is Necessary:**\n- Raises perceived loudness without clipping\n- Achieves competitive loudness for the platform\n- Controls peaks that would cause distortion\n- Ensures compliance with platform requirements (-1 dBTP)\n\n**Why Over-Limiting is Harmful:**\n- Destroys transients (kick, snare lose punch)\n- Creates distortion and artifacts\n- Causes listener fatigue\n- Reduces dynamic range\n- Streaming platforms turn it down anyway`\n      },\n      {\n        title: 'Loudness Standards and Streaming Normalization',\n        content: `Streaming platforms normalize loudness—they turn loud tracks down and quiet tracks up. Understanding this changes how you approach limiting.\n\n**How Streaming Normalization Works:**\n1. Platform measures integrated LUFS of your master\n2. Compares to platform's target (e.g., -14 LUFS for Spotify)\n3. If louder than target: turns your track DOWN\n4. If quieter than target: may turn up (varies by platform)\n\n**Platform Targets:**\n| Platform | Target LUFS | Loud Track Behavior |\n|----------|-------------|---------------------|\n| Spotify | -14 LUFS | Turned down |\n| Apple Music | -16 LUFS | Turned down (Sound Check) |\n| YouTube | -14 LUFS | Turned down |\n| Tidal | -14 LUFS | Turned down |\n| Amazon | -14 LUFS | Turned down |\n\n**The Loudness War Outcome:**\nIf you master to -8 LUFS (very loud, heavily limited):\n- Spotify turns it down 6 dB\n- Your track now has crushed dynamics AND is no louder than -14 LUFS tracks\n- You lost dynamics for nothing\n\nIf you master to -14 LUFS with preserved dynamics:\n- Spotify plays it at unity (no change)\n- Your track has punchy transients and dynamic range\n- It sounds better than the over-limited version\n\n**The Modern Approach:**\nTarget -14 LUFS integrated for streaming. This:\n- Avoids being turned down\n- Preserves dynamics and punch\n- Sounds better on normalized platforms\n- Is the professional standard for 2020s releases\n\n**When to Go Louder:**\n- Club/DJ masters (-8 to -6 LUFS): DJs need loudness for mixing\n- CD masters (-10 to -8 LUFS): No normalization on CD\n- Special requests: Client specifically wants loud master`\n      },\n      {\n        title: 'Limiter Settings: Threshold, Ceiling, Attack, Release',\n        content: `Understanding limiter parameters helps you achieve loudness without destroying your master.\n\n**Threshold (or Input Gain):**\nHow much signal you're pushing into the limiter.\n- Higher input = more limiting = louder\n- Lower input = less limiting = more dynamics\n\n**Setting Threshold:**\n1. Set ceiling to -1 dBTP\n2. Lower threshold (or raise input) until you hit target LUFS\n3. Watch GR meter—3-6 dB is typical for streaming\n4. Listen for artifacts—back off if you hear distortion\n\n**Ceiling (Output):**\nThe maximum level the signal can reach.\n- For streaming: -1.0 dBTP (true peak)\n- For CD: -0.3 dBTP (tighter tolerance)\n- For broadcast: -2.0 dBTP (strictest)\n\n**Attack Time:**\nHow quickly the limiter engages.\n\n| Attack | Effect | Use Case |\n|--------|--------|----------|\n| Fast (0.1-1 ms) | Catches all transients, can dull punch | When peaks are problematic |\n| Medium (1-5 ms) | Balanced transient preservation | Default for most |\n| Slow (5-20 ms) | Preserves punch, may miss peaks | When punch is paramount |\n| Lookahead | Perfect peak control without attack delay | Most modern limiters |\n\n**Release Time:**\nHow quickly the limiter recovers.\n\n| Release | Effect | Use Case |\n|---------|--------|----------|\n| Fast (<50 ms) | Quick recovery, can pump | Dense, fast material |\n| Medium (50-200 ms) | Natural recovery | General use |\n| Slow (>200 ms) | Smooth, gentle | Sparse, dynamic material |\n| Auto | Adapts to material | Usually best choice |\n\n**Recommended Starting Point:**\n- Ceiling: -1.0 dBTP\n- Attack: Lookahead or medium (1-5 ms)\n- Release: Auto\n- Threshold: Adjust for target LUFS (aim for 3-6 dB GR)`\n      },\n      {\n        title: 'Recognizing Over-Limiting',\n        content: `Learning to hear over-limiting is crucial. Once you push too far, the damage is obvious—but it's easy to miss if you're not listening for it.\n\n**Signs of Over-Limiting:**\n\n**1. Pumping:**\nThe volume noticeably dips and recovers rhythmically, often timed with the kick drum. Sounds like the track is \"breathing\" or \"pumping.\"\nCause: Too much gain reduction, release too fast or too slow.\n\n**2. Distortion:**\nHarsh, crunchy quality, especially on transients. Snare sounds \"broken,\" vocals sound \"gritty.\"\nCause: Limiter pushed past its transparent range, or poor limiter quality.\n\n**3. Dulled Transients:**\nKick and snare lose impact. Everything sounds \"soft\" or \"rounded.\" The mix lacks punch.\nCause: Too much gain reduction, attack too fast.\n\n**4. Listener Fatigue:**\nThe track becomes tiring to listen to after 30 seconds. You want to turn it down.\nCause: Excessive limiting removes the dynamic \"breathing\" that makes music pleasant.\n\n**5. \"Wall of Sound\":**\nNo dynamic variation—verse and chorus at the same level. Everything feels flat and monotonous.\nCause: Crushing dynamics to achieve loudness.\n\n**The A/B Test for Over-Limiting:**\n1. Bypass the limiter\n2. Listen to the unlimited version (adjust playback level to compensate)\n3. Re-enable the limiter\n4. Compare: Does the limited version still have life and punch?\n5. If the unlimited version sounds dramatically better, you're over-limiting\n\n**The DR Check:**\n- Mix before limiting: typically DR10-14\n- Master after limiting: typically DR8-10 for streaming\n- If you've lost 4+ DR from limiting alone, you've probably gone too far\n\n**The Golden Rule:**\nIf in doubt, limit less. A slightly quieter master with dynamics always beats a loud, crushed master that gets turned down anyway.`\n      },\n      {\n        title: 'Limiter Modes and Algorithms',\n        content: `Modern limiters offer multiple modes or algorithms optimized for different material. Understanding these helps you choose the right tool.\n\n**Common Limiter Modes:**\n\n**Transparent/Clean:**\n- Minimal coloration\n- Preserves transients\n- Best for dynamic material\n- May struggle with very dense material\n\n**Aggressive/Loud:**\n- Optimized for maximum loudness\n- May sacrifice some transient detail\n- Good for already-compressed material\n- Can sound harsh if pushed too far\n\n**Warm/Analog:**\n- Adds subtle saturation/coloration\n- Can help \"glue\" overly clinical mixes\n- Masks limiting artifacts with pleasant harmonics\n- Not truly transparent, but often sounds good\n\n**Multi-Band:**\n- Limits different frequency ranges independently\n- Prevents bass from triggering limiting on whole mix\n- More transparent at high levels\n- Can sound \"robotic\" if overdone\n\n**Mode Selection Guidelines:**\n| Material Type | Recommended Mode |\n|---------------|------------------|\n| Dynamic, acoustic | Transparent |\n| Dense, electronic | Aggressive or Multi-Band |\n| Already compressed | Transparent or Warm |\n| Needs glue/warmth | Warm/Analog |\n\n**Limiter Quality Matters:**\nCheap or stock limiters often produce artifacts earlier than quality limiters. Professional limiters (FabFilter Pro-L2, iZotope Ozone Maximizer, Sonnox Oxford Limiter) are more transparent at high gain reduction.\n\n**Plugin Recommendations:**\n- **FabFilter Pro-L2:** Multiple algorithms, excellent metering, very transparent\n- **iZotope Ozone Maximizer:** IRC modes for different material, integrated with Ozone\n- **Waves L2/L3:** Classic limiters, good for moderate limiting\n- **Sonnox Oxford Limiter:** Very transparent, excellent for classical/acoustic`\n      },\n      {\n        title: 'Practical Limiting Workflow',\n        content: `A structured limiting workflow ensures you achieve target loudness without damaging your master.\n\n**Step 1: Set Your Target**\nBefore limiting, decide on your loudness target:\n- Streaming master: -14 LUFS integrated\n- CD master: -10 to -8 LUFS integrated\n- Club master: -8 to -6 LUFS integrated\n\n**Step 2: Set Ceiling**\n- For streaming: -1.0 dBTP\n- For CD: -0.3 dBTP\n- For broadcast: -2.0 dBTP\n\n**Step 3: Measure Baseline**\n- Play the entire track\n- Note integrated LUFS before limiting\n- Note true peak before limiting\n- Calculate how much gain is needed to hit target\n\n**Step 4: Apply Limiting Gradually**\n1. Start with threshold at 0 (no limiting)\n2. Lower threshold in 1 dB increments\n3. After each adjustment, measure LUFS\n4. Stop when you hit target\n\n**Step 5: Listen Critically**\n- A/B bypass (accounting for level difference)\n- Listen for pumping, distortion, dulled transients\n- If artifacts appear, back off threshold\n\n**Step 6: Check Metrics**\n✅ Integrated LUFS at target (±0.5 LUFS)\n✅ True peak at or below ceiling (-1 dBTP)\n✅ Gain reduction reasonable (3-6 dB typical)\n✅ Dynamic range preserved (lost ≤3 DR from limiting)\n\n**Step 7: Final Verification**\n- Play entire track start to finish\n- Listen on multiple systems if possible\n- Confirm no artifacts in quiet sections or transitions\n\n**Common Mistakes to Avoid:**\n- Setting target before analyzing source material\n- Limiting to a specific GR number instead of listening\n- Ignoring true peak (using sample peak instead)\n- Not A/B comparing to catch artifacts\n- Pushing for loudness beyond what the material supports`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Understand limiting fundamentals: true peak limiting, ceiling, threshold, and the relationship between limiting and loudness\",\n    \"Apply streaming normalization knowledge: target -14 LUFS integrated for Spotify/YouTube, -1 dBTP true peak ceiling\",\n    \"Set appropriate limiter parameters: threshold for 3-6 dB GR, lookahead or medium attack, auto release\",\n    \"Recognize over-limiting artifacts: pumping, distortion, dulled transients, listener fatigue\",\n    \"Execute a structured limiting workflow: set target → set ceiling → measure baseline → limit gradually → verify metrics\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mastering lesson to master limiting techniques.\",\n    success: \"Excellent! You can now achieve competitive loudness while preserving dynamics and punch.\",\n    error: \"Review the limiting concepts and try again.\",\n    alreadyCompleted: \"You've mastered Limiting & Loudness. Ready for Lesson 7!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 6,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "mastering-5"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Limiting & Loudness Maximization:",
      "Prepararsi alla lezione successiva del modulo Mastering"
    ]
  },
  {
    "slug": "mixing-6",
    "filename": "lesson-mixing-6.config.js",
    "title": "Compression Techniques:",
    "category": "Mixing",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mixing 6 - Compression Techniques - Attack & Release\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-6-progress\",\n  lessonNumber: 6,\n  lessonCategory: \"Mixing\",\n\n  nextLessonUrl: \"lesson-mixing-7.html\",\n  prevLessonUrl: \"lesson-mixing-5.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 6, categoryLabel: \"Mixing\" }),\n    title: \"Compression Techniques:\",\n    titleHighlight: \"Attack & Release\",\n    subtitle: \"Envelope shaping, groove timing, and parallel compression workflows\"\n  },\n\n  exercise: {\n    title: \"Attack & Release Envelope Shaping\",\n    description: \"Use extreme and musical attack/release settings to hear envelope shaping clearly, then apply controlled timing choices to vocal, kick, snare, and a drum parallel chain while maintaining headroom and level-matched comparisons.\",\n    tip: \"When you feel stuck, stop changing threshold/ratio and only move attack and release while watching the GR meter. Try to make the GR 'dance' with the groove: returning too quickly often sounds like pumping; returning too slowly often sounds like the compressor never lets go.\",\n    steps: [\n      '<strong>Load session</strong> — Open your previous session \"Mixing-5_CompressionFundamentals\" and immediately save a new version named \"Mixing-6_AttackRelease\".',\n      '<strong>Note tempo</strong> — Choose a representative 20–30 second loop (commonly the chorus/drop). Note the project tempo (BPM) displayed in your DAW, because you will use it later for release-time sanity checks.',\n      '<strong>Visibility check</strong> — Confirm no track, bus, or master is clipping. Keep a peak meter visible on the master and aim to keep mix peaks comfortably below full scale (a practical mixing target is to remain under about -6 dBFS peak while working).',\n      '<strong>Select focus channels</strong> — Pick the three focus channels: Lead Vocal, Kick, Snare. Also keep the Drum Bus visible (you will do release experiments on the bus as well).',\n      '<strong>Snare compressor setup</strong> — On the Snare channel, insert a standard compressor (stock is fine). Set ratio to about 6:1, knee medium/soft if available, and set release to 120 ms. Adjust threshold until the gain reduction meter shows about 6 dB GR on strong hits. Set output/makeup so bypass on/off is roughly level-matched.',\n      '<strong>Snare attack extreme test</strong> — Set attack to 1 ms and listen for transient dulling and \"thickness\". Then set attack to 20 ms and listen for restored crack/punch. Then set attack to 80 ms and listen for increased transient emphasis with more body control. Keep threshold fixed. Write down which attack best supports the groove in the full mix.',\n      '<strong>Kick attack extreme test</strong> — Repeat the attack extreme test on Kick with release still around 80–120 ms. Try attack at 1 ms, 15–25 ms, and 50–80 ms. Choose a \"musical\" kick attack that preserves beater definition without letting peaks dominate the mix, and note the chosen value.',\n      '<strong>Vocal compressor setup</strong> — On the Lead Vocal, insert a compressor in the serial position (after subtractive EQ, before musical EQ). Set ratio to about 3:1, attack 15–25 ms, release 80–150 ms. Adjust threshold for about 2–4 dB GR on louder phrases. Level-match output.',\n      '<strong>Vocal attack comparison</strong> — Without changing threshold, test attack at ~3 ms (fast), ~15–25 ms (medium), and ~60 ms (slow). Confirm how consonant clarity and \"front\" change. Keep only the setting that improves intelligibility in context when level-matched.',\n      '<strong>Drum bus compressor setup</strong> — On the Drum Bus, insert a bus compressor (or any compressor). Set ratio to 2:1 and attack to 30 ms. Adjust threshold for 1–3 dB GR on the loudest section so the effect is subtle but visible on the GR meter.',\n      '<strong>Release extreme test</strong> — Set release to 20 ms (fast) and listen for pumping/breathing; then set to 150 ms (medium) and listen for smoother control; then set to 600 ms (slow) and listen for \"stuck\" GR flattening the groove. Watch the GR meter: verify whether it returns toward 0 dB before the next backbeat or stays engaged across beats.',\n      '<strong>Tempo sanity check</strong> — Estimate note durations using your BPM. Quarter-note (ms) ≈ 60,000 ÷ BPM; eighth ≈ 30,000 ÷ BPM; sixteenth ≈ 15,000 ÷ BPM. Set the Drum Bus release close to one rhythmic value (often a sixteenth or eighth) and compare it to a release about 2× longer. Choose the one where the GR meter returns in a way that supports the groove.',\n      '<strong>Auto-release comparison</strong> — If your compressor offers Auto Release (or a log/programme-dependent release mode), enable it and compare against your best manual release. Choose the mode that produces fewer pumping artefacts while preserving groove, and confirm with a level-matched A/B.',\n      '<strong>Parallel compression setup</strong> — Create a return/aux track named \"Drum Parallel\". Send the Drum Bus to this aux (start the send at -∞ and raise gradually). Insert a compressor on the aux with aggressive settings: ratio 8:1 or higher, attack 1–5 ms, release 50–150 ms, threshold for approximately 10–20 dB GR. Blend the aux return fader under the dry drums until you hear added density and sustain while the dry transients remain present.',\n      '<strong>Final verification</strong> — Check that no channel, bus, or master clips after adding parallel return. Export two loop bounces: (A) \"Mixing-6_PreAR\" with timing changes bypassed, and (B) \"Mixing-6_PostAR\" with timing changes enabled. Re-import both, level-match, and A/B. Confirm that improvements (punch, consistency, groove support) remain when loudness is matched.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Attack Time in Depth: Controlling Transient Pass-Through',\n        content: `Attack time determines how quickly the compressor reaches its full gain reduction after the signal crosses the threshold. During the attack phase, some of the transient passes through relatively uncompressed—this is why attack is the primary \"punch\" control.\n\n**Attack Time Ranges:**\n- **Fast attack (< 5 ms)**: Catches transients quickly. Can dull punch and introduce a \"thick\" or even \"buzzy\" quality on percussive sources. Useful when you want to tame aggressive peaks.\n- **Medium attack (10–30 ms)**: A common starting zone that balances control with transient preservation. Often works well on vocals, drums, and bass.\n- **Slow attack (> 50 ms)**: Lets the transient through largely untouched while controlling the body/sustain that follows. Can increase perceived punch because the initial hit is louder relative to the compressed tail.\n\n**Source-Dependent Choices:**\n- **Drums**: Often benefit from medium-to-slow attack (15–50 ms) to preserve the crack/beater while controlling ring and sustain\n- **Vocals**: Medium attack (10–30 ms) typically preserves consonant articulation while smoothing level\n- **Bass**: Medium attack helps maintain note definition; too fast can cause low-frequency distortion\n\nAbleton's documentation notes that 10–50 ms attack can preserve peaks while still controlling dynamics, and warns that extremely short attack times can introduce unwanted artifacts.`\n      },\n      {\n        title: 'Release Time in Depth: Recovery and Groove Interaction',\n        content: `Release time determines how quickly the compressor returns toward unity gain once the signal falls back below threshold. This parameter has a profound effect on how compression feels rhythmically.\n\n**Release Time Ranges:**\n- **Fast release (< 50 ms)**: The compressor recovers quickly, but this can cause audible \"pumping\" or \"breathing\" as the background noise or sustain surges up between hits. On low-frequency material, very fast release can introduce distortion.\n- **Medium release (100–300 ms)**: Musical for most sources. Allows natural-sounding recovery without obvious artifacts.\n- **Slow release (> 500 ms)**: Gentle, gradual leveling effect. However, on rhythmic material the compressor may stay \"stuck\" in gain reduction across multiple beats, flattening dynamic contrast and groove.\n\n**Auto/Programme-Dependent Release:**\nMany compressors offer an Auto Release mode where the release time adapts to the incoming signal—faster for transients, slower for sustained material. This can be a useful \"set and forget\" option, though manual timing often provides more precise control for specific groove needs.\n\n**Watching the Meter:**\nThe GR meter is your best friend when setting release. Watch whether it returns toward 0 dB before the next significant hit. If it stays pinned, try a faster release or less gain reduction.`\n      },\n      {\n        title: 'Attack/Release Interaction: Shaping the Envelope',\n        content: `Attack and release work together to reshape the amplitude envelope of your audio. Understanding their interaction is key to intentional compression.\n\n**The Envelope Dance:**\n- **Fast attack + fast release**: Maximum control but can sound aggressive, pumping, or \"squashed\"\n- **Fast attack + slow release**: Clamps down quickly and holds—can sound very controlled but potentially lifeless\n- **Slow attack + fast release**: Lets transients through, then quickly recovers—can sound punchy but may pump\n- **Slow attack + slow release**: Gentle overall leveling with minimal transient impact—transparent but less \"exciting\"\n\n**Breathing and Pumping Artifacts:**\n- **Pumping**: Audible surging when release is too fast relative to the material\n- **Breathing**: Background noise or room tone rising and falling with gain reduction\n- **Stuck/flat**: When release is too slow, the compressor never recovers and the groove feels compressed out\n\n**Timing to Tempo:**\nAES research describes an engineer-style approach where release is tuned to relate to the rhythm of the song. A useful starting point: calculate note durations (quarter = 60,000 ÷ BPM in ms) and try release times near a sixteenth or eighth note. This helps the compressor \"breathe\" with the groove rather than against it.`\n      },\n      {\n        title: 'Relating Release Time to Tempo',\n        content: `Tying release time to musical subdivisions can help compression feel rhythmically coherent rather than arbitrary.\n\n**Note Duration Formulas:**\n<pre style=\"background: #1a1a2e; padding: 12px; border-radius: 4px; margin: 1em 0;\">\nQuarter note (ms) = 60,000 ÷ BPM\nEighth note (ms) = 30,000 ÷ BPM\nSixteenth note (ms) = 15,000 ÷ BPM\n</pre>\n\n**Example at 120 BPM:**\n- Quarter note = 500 ms\n- Eighth note = 250 ms\n- Sixteenth note = 125 ms\n\n**Practical Application:**\nOn a drum bus at 120 BPM, you might try release around 125 ms (sixteenth) for tight, punchy control, or 250 ms (eighth) for smoother, more relaxed recovery. The \"right\" choice depends on genre and feel—faster release for aggressive EDM, slower for laid-back grooves.\n\n**It's a Starting Point, Not a Rule:**\nThese calculations give you a musically informed starting point, but always verify by ear. The GR meter should \"dance\" with the rhythm—returning to near-zero before the next significant hit in most cases. Trust your ears over the math.`\n      },\n      {\n        title: 'Introduction to Parallel Compression',\n        content: `Parallel compression (also called \"New York compression\") blends a heavily compressed signal with the original dry signal. This lets you add density and sustain while preserving natural transients.\n\n**Why Parallel Works:**\n- The dry signal maintains punch and dynamics\n- The compressed signal adds body, sustain, and loudness\n- Blending them gives you the benefits of heavy compression without the drawbacks\n\n**Two Setup Methods:**\n\n**1. Aux/Send Method (DAW-Agnostic):**\n- Create a return/aux track\n- Send your source (e.g., Drum Bus) to this aux\n- Insert a compressor on the aux with aggressive settings (high ratio, fast attack, heavy GR)\n- Blend the aux fader under the dry signal to taste\n\n**2. Dry/Wet (Mix) Knob:**\n- Many modern compressors include a Mix or Dry/Wet control\n- Set up aggressive compression, then dial back the Mix knob (e.g., 30–50% wet)\n- Simpler routing but less flexible than aux method\n\n**Typical Parallel Settings:**\n- Ratio: 8:1 to 20:1 (or limiting)\n- Attack: 1–5 ms (catch everything)\n- Release: 50–150 ms (fast recovery)\n- GR: 10–20 dB (heavy)\n- Blend: Start low, raise until you hear added density without losing transient clarity`\n      },\n      {\n        title: 'Verification and Level-Matching After Timing Changes',\n        content: `Every timing change can affect perceived loudness, which makes honest comparison difficult without discipline.\n\n**The Level-Matching Habit:**\nAfter adjusting attack or release, re-check your bypass comparison:\n- Toggle the compressor on/off\n- Adjust makeup/output gain until both states sound equally loud\n- Only then judge whether the compression is actually improving the sound\n\n**Common Pitfalls:**\n- Faster attack often reduces peak level → you may add makeup gain → track gets louder → \"sounds better\" (but it's just louder)\n- Slower release may allow more peaks through → less makeup needed → track sounds quieter → you think \"it's not working\"\n\n**Headroom Check (Lesson 2):**\nAfter all timing adjustments and especially after adding parallel compression:\n- Check that no channel, bus, or master is clipping\n- Parallel returns add level—reduce the return fader or individual compressor outputs to maintain headroom\n- Keep master peaks comfortably below 0 dBFS (around -6 dBFS is a practical mixing target)\n\n**Serial Chain Integrity (Lesson 4):**\nRemember where compression sits in your chain. If you change attack dramatically, the compressor may react differently to resonances that your upstream EQ was handling. Re-verify the full chain sounds coherent.`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Manipulate attack time to control transient-to-body balance on drums, vocals, and bass without losing the intent of the performance\",\n    \"Compare fast, medium, and slow release settings and identify pumping/breathing versus 'stuck' gain reduction using meter behaviour and context listening\",\n    \"Identify how attack and release interact to shape the envelope, and relate release time to tempo using note-duration estimates when appropriate\",\n    \"Implement parallel compression on drums using both DAW-agnostic routing (aux/return) and in-plugin Dry/Wet (Mix) blending when available\",\n    \"Verify headroom and level-matched A/B comparisons after timing changes, reinforcing Lesson 2 gain staging discipline and Lesson 4 serial chain thinking\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mixing lesson to advance your skills.\",\n    success: \"Excellent! You've mastered Attack & Release compression techniques. Your mixes are improving!\",\n    error: \"Review the mixing concepts and try again.\",\n    alreadyCompleted: \"You've completed this mixing technique. Keep practicing!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 6,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "mixing-5"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Compression Techniques:",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-6",
    "filename": "lesson-sound-design-6.config.js",
    "title": "Sound Layering Techniques:",
    "category": "Sound Design",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Sound Design 6 - Sound Layering Techniques\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-sound-design-6-progress\",\n  lessonNumber: 6,\n  lessonCategory: \"Sound Design\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-sound-design-7.html\",\n  prevLessonUrl: \"lesson-sound-design-5.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 6, categoryLabel: \"Sound Design\" }),\n    title: \"Sound Layering Techniques:\",\n    titleHighlight: \"Combine Sounds for Rich Textures\",\n    subtitle: \"Learn to layer multiple sounds to create rich, complex textures that fill the frequency spectrum. Master professional sound design techniques used in modern music production.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Explore Sound Layering Techniques\",\n    description: \"Learn to layer multiple sounds to create rich, complex textures that fill the frequency spectrum. This lesson covers the essential concepts and practical techniques you need to master this sound design method.\",\n    tip: \"Listen critically to how each parameter affects the sound. Small changes can have dramatic results in sound design.\",\n    steps: [\n      '<strong>Study the theory</strong> — Read through the sound design concepts and understand the signal flow.',\n      '<strong>Analyze the examples</strong> — Listen to reference sounds and identify key characteristics.',\n      '<strong>Experiment with parameters</strong> — Try different settings and hear how they change the sound.',\n      '<strong>Create variations</strong> — Design multiple versions exploring different timbres.',\n      '<strong>Save your presets</strong> — Document successful sounds for future use.',\n      'Complete the lesson when ready to move forward.'\n    ]\n  },\n  \n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Sound Layering Techniques',\n        content: `Sound Layering Techniques is a fundamental sound design technique that shapes the sonic character of your productions.\n\n**Key Concepts:**\n- Core synthesis principles and signal flow\n- Parameter relationships and interactions  \n- Frequency spectrum considerations\n- Timbral characteristics and sonic possibilities\n- Common applications in music production\n\n**Professional Applications:**\nModern producers use Sound Layering Techniques for:\n- Creating signature sounds and textures\n- Designing genre-specific timbres\n- Building unique sonic identities\n- Crafting sounds that cut through mixes\n- Generating movement and evolution in arrangements\n\nUnderstanding these concepts gives you complete control over your sound palette.`\n      },\n      {\n        title: 'Practical Sound Design Workflow',\n        content: `Professional sound designers follow systematic approaches to achieve desired results:\n\n**Design Process:**\n1. **Define the goal** — Know what sound you're trying to create\n2. **Choose the method** — Select appropriate synthesis technique\n3. **Start simple** — Begin with basic waveforms and build complexity\n4. **Shape with filters** — Sculpt the frequency content\n5. **Add movement** — Use envelopes and modulation\n6. **Layer if needed** — Combine multiple sounds for richness\n7. **Process and polish** — Apply effects and finalize\n\n**Critical Listening:**\n- A/B compare with reference sounds\n- Analyze frequency spectrum with analyzers\n- Check mono compatibility\n- Test in context with other mix elements\n\n**Common Mistakes to Avoid:**\n- Over-processing before establishing the core sound\n- Too many modulation sources creating chaos\n- Ignoring the frequency spectrum balance\n- Not considering the sound's role in the arrangement\n\nStudy professional productions and reverse-engineer the sounds you admire.`\n      }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master the fundamental concepts of Sound Layering Techniques\",\n    \"Understand signal flow and parameter relationships\",\n    \"Apply sound design techniques to practical productions\",\n    \"Develop critical listening skills for timbre and texture\",\n    \"Create professional-quality sounds for your productions\"\n  ],\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this lesson to master Sound Layering Techniques techniques.\",\n    success: \"Excellent! You've mastered Sound Layering Techniques. Your sound design skills are growing!\",\n    error: \"Review the theory and try again.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these techniques!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 6,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "sound-design-5"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Sound Layering Techniques:",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "theory-6",
    "filename": "lesson-theory-6.config.js",
    "title": "Key Signatures:",
    "category": "Music Theory Fundamentals",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-theory-6-progress\",\n  lessonNumber: 6,\n  lessonCategory: \"Music Theory Fundamentals\",\n\n  nextLessonUrl: \"lesson-theory-7.html\",\n  prevLessonUrl: \"lesson-theory-5.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 6, categoryLabel: \"Music Theory Fundamentals\" }),\n    title: \"Key Signatures:\",\n    titleHighlight: \"Circle of Fifths Mastery\",\n    subtitle: \"Understand key signatures and how the circle of fifths organizes all 12 keys. Learn sharps, flats, and relative major/minor relationships.\"\n  },\n\n  exercise: {\n    title: \"Navigate the Circle of Fifths\",\n    description: \"The circle of fifths is a visual map of all 12 keys arranged by their relationship of perfect fifths. Moving clockwise adds sharps; counterclockwise adds flats. Each major key has a relative minor (starting on the 6th degree) that shares the same key signature. This tool helps with transposition, chord progressions, and understanding key relationships.\",\n    tip: \"The circle pattern: C → G → D → A → E → B → F♯/G♭ → D♭ → A♭ → E♭ → B♭ → F → C. Each step is a perfect fifth (7 semitones).\",\n    steps: [\n      '<strong>Sharps Order</strong> — F♯, C♯, G♯, D♯, A♯, E♯, B♯. Mnemonic: \"Father Charles Goes Down And Ends Battle.\"',\n      '<strong>Flats Order</strong> — B♭, E♭, A♭, D♭, G♭, C♭, F♭. Reverse: \"Battle Ends And Down Goes Charles\\' Father.\"',\n      '<strong>Major Keys with Sharps</strong> — G(1♯), D(2♯), A(3♯), E(4♯), B(5♯), F♯(6♯), C♯(7♯).',\n      '<strong>Major Keys with Flats</strong> — F(1♭), B♭(2♭), E♭(3♭), A♭(4♭), D♭(5♭), G♭(6♭), C♭(7♭).',\n      '<strong>Relative Minors</strong> — Each major key has a relative minor 3 semitones below. C major ↔ A minor, G major ↔ E minor, etc.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Key Signatures and the Circle of Fifths',\n        content: `\n**The Circle of Fifths:**\n\n**Clockwise (Adding Sharps):**\nC → G → D → A → E → B → F♯ (→ C♯)\n- Each step is a perfect 5th interval up\n- Adds one sharp each time\n- Order of sharps: F♯-C♯-G♯-D♯-A♯-E♯-B♯\n\n**Counterclockwise (Adding Flats):**\nC → F → B♭ → E♭ → A♭ → D♭ → G♭ (→ C♭)\n- Each step is a perfect 4th up (or 5th down)\n- Adds one flat each time\n- Order of flats: B♭-E♭-A♭-D♭-G♭-C♭-F♭\n\n**Key Signatures:**\n- **C Major / A minor**: No sharps or flats\n- **G Major / E minor**: 1 sharp (F♯)\n- **D Major / B minor**: 2 sharps (F♯, C♯)\n- **A Major / F♯ minor**: 3 sharps\n- **E Major / C♯ minor**: 4 sharps\n- **F Major / D minor**: 1 flat (B♭)\n- **B♭ Major / G minor**: 2 flats (B♭, E♭)\n- **E♭ Major / C minor**: 3 flats\n\n**Relative Major/Minor:**\nEvery major key has a relative minor that shares identical notes:\n- Start on the 6th degree of the major scale\n- C major → count up 6 notes → A minor\n- Both have no sharps/flats\n\n**Parallel Major/Minor:**\nSame root note, different quality:\n- C major vs C minor (different notes)\n- C minor has 3 flats (B♭, E♭, A♭)\n        `\n      },\n      {\n        title: 'Practical Application of Key Signatures',\n        content: `\n**Why Key Signatures Matter:**\n\n1. **Transposition** — Change key while maintaining relationships\n2. **Chord Progressions** — Diatonic chords come from key signature\n3. **Modulation** — Moving between related keys smoothly\n4. **Instrument Compatibility** — Singers, guitarists, horn players have preferred keys\n\n**How to Find Key from Signature:**\n\n**Sharp Keys:**\n- Last sharp in the signature is the 7th degree\n- Go up one semitone = major key\n- Example: 2 sharps (F♯, C♯) → last sharp is C♯ → up one = D major\n\n**Flat Keys:**\n- Second-to-last flat is the major key name\n- Example: 3 flats (B♭, E♭, A♭) → second-to-last = E♭ major\n- Exception: F major (only 1 flat, must memorize)\n\n**Common Progressions:**\n- I-IV-V-I moves through the circle: C-F-G-C (in C major)\n- Jazz \"Cycle of 5ths\": Dm7-G7-CM7-FM7-Bb7-etc.\n- Modulation to dominant (up a 5th) is smooth: C major → G major\n\n**DAW Applications:**\n- Most DAWs have key signature settings\n- Scale highlighting in piano roll\n- Transposition tools use circle of fifths logic\n- Chord generators follow diatonic rules\n\n**Common Mistakes:**\n- Confusing relative and parallel major/minor\n- Not learning sharp/flat order (leads to wrong key identification)\n- Forgetting enharmonic equivalents (F♯ = G♭, C♯ = D♭)\n- Ignoring circle of fifths when writing progressions\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Memorize the circle of fifths and its pattern\",\n    \"Identify key signatures by counting sharps or flats\",\n    \"Find relative minor/major keys instantly\",\n    \"Use the circle for transposition and modulation\",\n    \"Apply key signature knowledge to chord progressions\"\n  ]\n};\n",
    "number": 6,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "theory-5"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Key Signatures:",
      "Prepararsi alla lezione successiva del modulo Music Theory Fundamentals"
    ]
  },
  {
    "slug": "vocals-6",
    "filename": "lesson-vocals-6.config.js",
    "title": "Vocal Effects & Processing:",
    "category": "Vocals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Vocals 6 - Vocal Effects & Processing\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-vocals-6-progress\",\n  lessonNumber: 6,\n  lessonCategory: \"Vocals\",\n  \n  nextLessonUrl: \"lesson-vocals-7.html\",\n  prevLessonUrl: \"lesson-vocals-5.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 6, categoryLabel: \"Vocals\" }),\n    title: \"Vocal Effects & Processing:\",\n    titleHighlight: \"Reverb, Delay & Modulation\",\n    subtitle: \"Add depth, space, and character with reverb, delay, chorus, and modulation effects. Master professional vocal production techniques for commercial-quality results.\"\n  },\n  \n  exercise: {\n    title: \"Master Vocal Effects & Processing\",\n    description: \"Add depth, space, and character with reverb, delay, chorus, and modulation effects. This lesson covers the essential vocal production techniques used in professional recordings.\",\n    tip: \"Vocals are usually the focal point of a track. Spend extra time getting them right - they make or break the production.\",\n    steps: [\n      '<strong>Study vocal production theory</strong> — Understand the concepts and workflow.',\n      '<strong>Analyze reference vocals</strong> — Listen to professional vocal productions in your genre.',\n      '<strong>Apply the techniques</strong> — Practice the specific vocal processing methods.',\n      '<strong>Critical listening</strong> — Compare your results to professional standards.',\n      '<strong>Iterate and refine</strong> — Make adjustments based on what you hear.',\n      'Complete when you understand the practical application.'\n    ]\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Understanding Vocal Effects & Processing',\n        content: `Vocal Effects & Processing is crucial for achieving professional vocal productions that compete with commercial releases.\n\n**Core Concepts:**\n- Vocal recording and production fundamentals\n- Technical requirements and equipment considerations\n- Signal flow and processing chain order\n- Common issues and how to solve them\n- Genre-specific approaches and standards\n\n**Professional Workflow:**\n1. **Preparation** — Set up properly before recording\n2. **Capture** — Record high-quality source material\n3. **Edit** — Clean up and comp the best takes\n4. **Process** — Apply corrective and creative processing\n5. **Mix** — Blend vocals perfectly with the track\n6. **Finalize** — Ensure vocals translate across systems\n\n**Critical Factors:**\n- **Source quality** — Good recording = easier mixing\n- **Performance** — Technical skill matters more than processing\n- **Context** — Vocals must serve the song\n- **Reference** — Always compare to professional standards\n\nProfessional vocal producers understand that Vocal Effects & Processing is both technical skill and artistic judgment.`\n      },\n      {\n        title: 'Professional Vocal Production Techniques',\n        content: `Apply Vocal Effects & Processing in your productions with professional approaches:\n\n**Recording Best Practices:**\n- Proper mic placement and distance\n- Optimal gain staging and headroom\n- Multiple takes for comping\n- Consistent recording environment\n- Reference monitoring and acoustics\n\n**Processing Workflow:**\n1. **Clean up** — Remove unwanted sounds and noise\n2. **Tune** — Correct pitch issues (subtle or creative)\n3. **Time align** — Fix timing and rhythm issues\n4. **EQ** — Remove muddiness, add presence\n5. **Compress** — Control dynamics and consistency\n6. **De-ess** — Tame harsh sibilance\n7. **FX** — Add reverb, delay, modulation\n\n**Common Vocal Issues:**\n- **Muddiness** — High-pass filter at 80-100 Hz\n- **Harshness** — De-ess or cut 6-8 kHz\n- **Lack of presence** — Boost 3-5 kHz subtly\n- **Inconsistent levels** — Compression and automation\n- **Poor timing** — Edit before processing\n- **Pitch issues** — Tune before heavy processing\n\n**Genre Considerations:**\nDifferent genres require different vocal approaches:\n- **Pop** — Polished, present, tuned, compressed\n- **Hip-Hop** — Dry, upfront, minimal reverb\n- **R&B** — Smooth, warm, layered harmonies\n- **Rock** — Raw energy, less processing\n- **Electronic** — Creative effects, vocoders, pitch shifts\n\nStudy vocal productions in your genre and understand what makes them work.`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Master professional vocal production techniques\",\n    \"Understand the complete vocal workflow from recording to mixing\",\n    \"Apply genre-specific vocal processing approaches\",\n    \"Develop critical listening skills for vocal production\",\n    \"Create commercial-quality vocal recordings\"\n  ],\n  \n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this vocal production lesson to advance.\",\n    success: \"Excellent! You've mastered Vocal Effects & Processing. Your vocal productions are pro-level!\",\n    error: \"Review the vocal production concepts and try again.\",\n    alreadyCompleted: \"You've completed this vocal technique. Keep refining your skills!\"\n  }),\n  \n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 6,
    "access": "paid",
    "difficulty": "beginner",
    "prerequisites": [
      "vocals-5"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Vocal Effects & Processing:",
      "Prepararsi alla lezione successiva del modulo Vocals"
    ]
  },
  {
    "slug": "arrangement-7",
    "filename": "lesson-arrangement-7.config.js",
    "title": "Hip-Hop & Urban",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 7 - Hip-Hop & Urban Structures\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-arrangement-7-progress\",\n  lessonNumber: 7,\n  lessonCategory: \"Arrangement\",\n  depthLevel: 5,\n  \n  nextLessonUrl: \"lesson-arrangement-8.html\",\n  prevLessonUrl: \"lesson-arrangement-6.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 7, categoryLabel: \"Arrangement\" }),\n    title: \"Hip-Hop & Urban\",\n    titleHighlight: \"Structures\",\n    subtitle: \"Arrange <strong>hip-hop tracks</strong> with <strong>verses, hooks, and 808s</strong>. Master <strong>beat switches</strong> and <strong>interludes</strong>.\"\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Build a Hip-Hop Track Structure\",\n    description: \"Create a hip-hop arrangement using the <strong>Verse-Hook</strong> structure. Hip-hop differs from pop/EDM—verses are the star, hooks are short and punchy, and the beat creates the vibe. Learn to leave space for vocals while maintaining energy.\",\n    tip: \"Verses should be stripped back (2-3 elements) to leave room for rap vocals. Hooks should be fuller (4-5 elements) for impact. Keep it at 16-bar verses and 8-bar hooks for classic hip-hop structure.\",\n    steps: [\n      { text: \"<strong>Start with an Intro</strong> (4-8 bars) - Establish the vibe quickly\" },\n      { text: \"<strong>Add Verse 1</strong> (16 bars) - Minimal arrangement, vocals are the focus\" },\n      { text: \"<strong>Add the Hook</strong> (8 bars) - Fuller sound, memorable melody\" },\n      { text: \"<strong>Add Verse 2</strong> (16 bars) - Similar to Verse 1 with slight variation\" },\n      { text: \"<strong>Repeat the Hook</strong> (8 bars) - Keep it consistent for catchiness\" },\n      { text: \"<strong>Optional: Add a Bridge</strong> (8 bars) - Beat switch or breakdown\" },\n      { text: \"<strong>Final Hook and Outro</strong> - End strong or fade on the hook\" }\n    ]\n  },\n\n  // ====================\n  // SECTION DEFINITIONS\n  // ====================\n  sections: [\n    { id: \"intro\", name: \"Intro\", bars: \"4-8\", energy: 40 },\n    { id: \"verse\", name: \"Verse\", bars: \"16\", energy: 60 },\n    { id: \"hook\", name: \"Hook\", bars: \"8\", energy: 85 },\n    { id: \"bridge\", name: \"Bridge\", bars: \"8\", energy: 50 }\n  ],\n  \n  messages: applyMessagePreset(\"arrangement\", {\n    initial: \"Build a hip-hop arrangement with verse-hook structure!\",\n    success: \"🎤 Fire arrangement! The verse-hook flow is perfect.\",\n    error: \"Make sure verses have room for vocals and hooks are fuller.\"\n  }),\n\n  // ====================\n  // VALIDATION RULES\n  // ====================\n  validation: {\n    type: \"structure_arrangement\",\n    minBars: 64,\n    maxBars: 120,\n    requiredSections: [\"verse\", \"hook\"],\n    minVerses: 2,\n    minHooks: 2,\n    requireSpaceForVocals: true\n  },\n\n  mode: { type: \"structure-builder\", showTimeline: true },\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"Hip-Hop Arrangement Fundamentals\",\n        content: `\n**Why Hip-Hop Structures Are Unique:**\nHip-hop arrangements prioritize the MC (rapper/vocalist) above everything else. Unlike pop where vocals and instrumentals share the spotlight, hip-hop beats exist to support the verses. The golden rule: leave space for vocals. Overstuffed arrangements bury the lyrics—and in hip-hop, lyrics are often the main attraction.\n\n**The Verse-Hook Paradigm:**\nHip-hop doesn't use \"chorus\" in the traditional pop sense. Instead, it uses \"hooks\"—short, catchy, often sung sections that anchor the track between verses. Hooks are 4-8 bars (not 16 like pop choruses), punchy, and memorable. They provide breathing space between dense lyrical verses.\n\n**The 808 Foundation:**\nHip-hop production is built on powerful low-end. The iconic Roland TR-808 drum machine defined the genre's signature bass sound—deep, resonant, pitch-able sub-bass that forms the harmonic and rhythmic foundation. Modern hip-hop producers use 808 samples or emulations to create this essential element.\n\n**Beat Switches and Variation:**\nModern hip-hop (especially trap and drill) features \"beat switches\"—sudden changes in tempo, rhythm, or entire instrumental sections mid-track. This keeps listeners engaged and showcases production versatility. Think Travis Scott or Drake—their tracks often have 2-3 distinct beat sections within one song.\n\n**The Minimal Arrangement Philosophy:**\nLess is more in hip-hop. Professional beats often use 3-5 elements total: drums, 808 bass, melody (loop or sample), and maybe one atmospheric element. This minimalism serves the vocals—when the MC is rapping, the beat strips back. When there's a hook or break, the beat can get fuller.\n\n**Real-World Examples:**\n- \"HUMBLE.\" by Kendrick Lamar: Minimal beat, massive 808, space for aggressive verses\n- \"Sicko Mode\" by Travis Scott: Multiple beat switches creating distinct sections\n- \"God's Plan\" by Drake: Simple verse-hook structure with emphasis on vocals\n- \"A Milli\" by Lil Wayne: Relentless beat loop, verses carry the entire track\n        `\n      },\n      {\n        title: \"Essential Hip-Hop Sections Explained\",\n        content: `\n**Intro (4-8 bars):**\nPurpose: Set the vibe and establish the beat before vocals enter\n\nCharacteristics:\n- 4-8 bars of instrumental beat\n- Showcases the main loop/sample\n- Often features producer tag (\"Murda on the beat so it's not nice!\")\n- Sets tempo and energy\n\n*Best Practices:*\n- Keep it short (4-8 bars max)—listeners want to hear the MC ASAP\n- Establish the core beat loop instantly\n- Feature the signature sound (sample, melody, or bass line)\n\n*Common Mistake:* Long intros (16+ bars). Hip-hop audiences have short attention spans—get to the vocals fast.\n\n**Verse (16-24 bars):**\nPurpose: Deliver the main lyrical content and storytelling\n\nCharacteristics:\n- Longest section (16-24 bars typically)\n- Beat is often stripped back (minimal elements for vocal clarity)\n- Lyrics are dense, rapid-fire, or conversational\n- Energy comes from the MC's delivery, not the production\n\n*Structure Within Verses:*\n- 16-bar verses: 4x 4-bar phrases (most common)\n- 24-bar verses: 3x 8-bar phrases (less common, used for extended storytelling)\n- Each 4-bar phrase typically has a punch line or key line at the end\n\n*Production for Verses:*\n- Keep it minimal: drums + bass + maybe one melody element\n- Remove or reduce hi-hats to prevent frequency masking of vocals\n- Subtle variations every 8 bars (add a snare roll, change hi-hat pattern)\n- The beat should loop consistently—verses aren't the place for complex production changes\n\n*Common Mistake:* Overproducing verses. Too many elements compete with vocals and make the mix muddy.\n\n**Hook/Chorus (4-8 bars):**\nPurpose: Provide the memorable, catchy anchor between verses\n\nCharacteristics:\n- Short and punchy (4-8 bars, not 16 like pop)\n- Often sung rather than rapped (even in rap songs)\n- More melodic than verses\n- Fuller production (add elements that were removed for verses)\n- Repeated 2-3 times throughout the track\n\n*Types of Hooks:*\n1. **Sung Hook**: Melodic, often auto-tuned (Post Malone, Drake style)\n2. **Chanted Hook**: Repeated phrase, rhythmic (Migos, \"Versace, Versace\")\n3. **Sampled Hook**: Vocal sample looped (Kanye West, \"Stronger\")\n4. **Ad-Lib Hook**: Short repeated ad-libs over the beat (\"yeah,\" \"uh\")\n\n*Production for Hooks:*\n- Add elements: strings, extra percussion, synth layers\n- Increase energy slightly\n- Make the 808 more present\n- Add reverb or space effects for size\n\n*Common Mistake:* Hooks that are too long (16 bars). Hip-hop hooks should be concise—get in, deliver the hook, get out.\n\n**Interlude/Bridge (4-8 bars optional):**\nPurpose: Provide variation and breathing room between repeated verse-hook cycles\n\nCharacteristics:\n- Breaks up the pattern (appears after verse 2 typically)\n- Can feature a beat switch, tempo change, or entirely different instrumental\n- Might include spoken word, dialogue samples, or atmospheric sounds\n- Resets listener attention before final verse/hook\n\n*When to Use:*\n- Tracks longer than 3 minutes benefit from interludes\n- When you want to showcase production versatility\n- To separate distinct sections in longer narrative tracks\n\n**Beat Switch (Optional but Powerful):**\nPurpose: Create dramatic contrast and showcase multiple production ideas in one track\n\nCharacteristics:\n- Completely different beat, tempo, or vibe mid-track\n- Often occurs after verse 2 or during the bridge\n- Creates a \"two songs in one\" effect\n- Popular in modern trap and experimental hip-hop\n\n*Examples:*\n- \"Sicko Mode\" by Travis Scott: 3 distinct beat sections\n- \"DNA.\" by Kendrick Lamar: Beat switch at 1:50 completely changes vibe\n- \"The Box\" by Roddy Ricch: Beat switch after first chorus\n\n*How to Execute:*\n- Use a short transitional element (riser, drum roll, vocal sample)\n- Or use abrupt cut (dramatic effect)\n- New beat should contrast in tempo, rhythm, or mood\n\n**Outro (4-8 bars):**\nPurpose: Bring the track to a close\n\nCharacteristics:\n- Returns to intro elements or fades out\n- Often features repeated hook or ad-libs\n- Gradually removes elements\n- Can end abruptly (popular in modern hip-hop)\n\n*Best Practices:*\n- Mirror the intro for symmetry\n- Fade outs work but abrupt endings are more common now\n- Keep it brief (4-8 bars)\n        `\n      },\n      {\n        title: \"Building Hip-Hop Arrangements in Your DAW\",\n        content: `\n**The Classic Hip-Hop Structure:**\n\n**Bars 1-8: Intro**\n- Elements: Drums + 808 + melody loop\n- Energy: 60%\n\n**Bars 9-24: Verse 1 (16 bars)**\n- Elements: Drums + 808 (strip melody or reduce significantly)\n- Energy: 70% (energy comes from vocal delivery)\n\n**Bars 25-32: Hook 1 (8 bars)**\n- Elements: Drums + 808 + full melody + extra layers\n- Energy: 85%\n\n**Bars 33-48: Verse 2 (16 bars)**\n- Elements: Same as Verse 1 (minimal for vocals)\n- Energy: 75% (slightly higher than Verse 1)\n\n**Bars 49-56: Hook 2 (8 bars)**\n- Elements: Same as Hook 1 (consistency is key)\n- Energy: 90%\n\n**Bars 57-64: Bridge/Interlude (8 bars)**\n- Elements: Beat switch OR stripped-down section\n- Energy: 50-80% (varies by approach)\n\n**Bars 65-80: Verse 3 (16 bars)**\n- Elements: Minimal beat + variations from previous verses\n- Energy: 80%\n\n**Bars 81-88: Hook 3 (8 bars)**\n- Elements: Full production + possible add-ons for finale\n- Energy: 95%\n\n**Bars 89-96: Outro (8 bars)**\n- Elements: Repeat hook or return to intro beat\n- Energy: Fade to 30%\n\n**Total: 96 bars = ~2:40 at 140 BPM (typical trap tempo)**\n\n**DAW Production Workflow:**\n\n**Step 1: Create the Core Beat Loop**\nBefore arranging, build your 4-8 bar beat loop:\n- Kick: Punchy, not too long (hip-hop kicks are short and tight)\n- Snare: On beats 2 and 4 (classic placement)\n- Hi-hats: 1/16 note patterns with velocity variation (trap style) or simpler 1/8 patterns\n- 808 Bass: Root note bass line following your melody/sample\n\n**Step 2: Build the Melody/Sample Layer**\nHip-hop melodies are typically:\n- Looped samples (chopped and rearranged)\n- Simple piano or synth melodies (2-4 note patterns)\n- Vocal chops or stabs\n- String or pad atmospheres\n\n*Keep it simple*—complex melodies compete with vocals\n\n**Step 3: Arrangement Strategy (Additive/Subtractive)**\n\n**Verses = Subtractive:**\n- Remove melody layers or reduce their volume by -6 to -12dB\n- Remove or simplify hi-hats\n- Keep kick + snare + 808 bass as foundation\n- Goal: maximum clarity for vocals\n\n**Hooks = Additive:**\n- Bring melody layers to full volume\n- Add extra percussion (shakers, claps, snaps)\n- Increase 808 presence\n- Add atmospheric elements (strings, pads, risers)\n- Goal: create fullness and impact\n\n**Step 4: The 808 Treatment**\n808 bass is the most important element in hip-hop:\n- **Pitch it**: 808s should follow your melody's root notes\n- **Side-chain it**: Duck the 808 slightly when the kick hits (prevents muddy low-end)\n- **Tune it**: A-440Hz standard tuning ensures 808 notes are in key\n- **Length matters**: Short 808s (staccato) for trap, longer 808s (sustained) for boom-bap\n\nCommon 808 patterns:\n- Root note on beat 1, octave jump on beat 3\n- Sliding bass (pitch bend between notes)\n- Rhythmic patterns matching kick (synchronized low-end)\n\n**Step 5: Add Variation Every 8 Bars**\nHip-hop beats loop, but not identically:\n- Bars 1-8: Core loop\n- Bars 9-16: Add snare variation or hi-hat roll\n- Bars 17-24: Change hi-hat pattern\n- Bars 25-32: Add percussion element\n\nSubtle changes prevent monotony while maintaining the core groove\n\n**Step 6: Implement a Beat Switch (Advanced)**\nIf using a beat switch:\n1. Mark the switch point (usually bar 49-64)\n2. Create a completely different 8-bar loop (different tempo, different samples, different vibe)\n3. Add transition element:\n   - Quick riser or drum roll (1-2 bars before switch)\n   - Or use abrupt cut (modern approach)\n4. Return to original beat or continue with new beat for remainder\n\n**Common Hip-Hop Arrangement Variations:**\n\n**Trap Structure (Modern):**\n- Shorter verses (12 bars instead of 16)\n- Multiple hooks (repeat hook 2x in a row)\n- Heavy 808 and hi-hat rolls\n- Minimalist production\n\n**Boom-Bap Structure (Classic 90s):**\n- Longer verses (24 bars common)\n- Sample-based hooks\n- Live drum breaks\n- Jazz/soul samples\n\n**Drill Structure (UK/Chicago):**\n- Dark, menacing beats\n- Sliding 808s\n- Sparse arrangements\n- Verses dominate, hooks minimal\n\n**Pro Tips:**\n\n**The \"Verse Space Rule\":** During verses, your mix should have at least -6dB of headroom compared to hooks. This gives vocals room to breathe and prevents frequency masking.\n\n**The \"Hook Consistency Rule\":** Don't change the hook between repetitions. Listeners need consistency to latch onto the hook. Variation goes in verses, not hooks.\n\n**The \"808 Slide Technique\":** Modern trap uses pitch-sliding 808s (portamento/glide). Set your sampler to glide mode and create melodic bass patterns that slide between notes.\n\n**The \"Loop Economy Rule\":** Hip-hop beats are fundamentally loop-based. Don't create 32 bars of unique content—create 4-8 bars of perfect content and arrange it strategically. The repetition is the point.\n\n**Reference Listening:** Pull up tracks from your target subgenre (trap, boom-bap, drill, etc.) and analyze:\n- How long are verses? (usually 16 bars)\n- How long are hooks? (usually 4-8 bars)\n- What gets added/removed between verses and hooks?\n- Where do beat switches occur?\n- How minimal is the production during verses?\n\nHip-hop arrangement is about restraint, space, and serving the vocals. Master these principles, and your beats will provide the perfect canvas for MCs to shine.\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Structure verse-hook patterns effectively\",\n    \"Create beat switches for variety\",\n    \"Use interludes and bridges strategically\",\n    \"Build momentum through hip-hop tracks\"\n  ]\n};\n\nif (typeof window !== 'undefined') window.LESSON_CONFIG = lessonConfig;\n",
    "number": 7,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "arrangement-6"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Hip-Hop & Urban",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-7",
    "filename": "lesson-bass-7.config.js",
    "title": "Sidechain Compression Basics",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 7 - Sidechain Compression Basics\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-7-progress\",\n  lessonNumber: 7,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-8.html\",\n  prevLessonUrl: \"lesson-bass-6.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 7, categoryLabel: \"Bass & Low End\" }),\n    title: \"Sidechain Compression Basics\",\n    titleHighlight: \"\",\n    subtitle: \"Learn why bass 'ducks' when the kick hits. Program patterns designed for sidechain compression to avoid mud and create the pumping effect that defines modern electronic music.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    bars: 1,\n    noteRange: { min: 36, max: 60 }, // C2 to C4 (bass range)\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Bass Pattern for Sidechain\",\n    description: \"Sidechain compression automatically reduces bass volume when kick hits, preventing frequency masking. You'll create a pattern that works perfectly with this technique.\",\n    tip: \"Even without actual sidechain compression, programming bass to leave space for kick creates a cleaner mix.\",\n    steps: [\"Place bass notes on the <strong>'and' of each beat (steps 2, 6, 10, 14)</strong>.\", 'Leave beats 1, 5, 9, 13 empty for kick.', \"Play and hear how bass and kick don't clash.\", \"This creates the 'pumping' rhythm even without compression.\"]\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [{'title': 'What Is Sidechain Compression?', 'content': \"Sidechain compression uses the kick drum to trigger volume reduction in the bass:\\n\\n**Without sidechain:** Kick + Bass play together → Mud, phase issues\\n**With sidechain:** Kick hits → Bass ducks → Kick cuts through clearly\\n\\nThis creates the 'pumping' effect in EDM, house, techno. The bass seems to 'breathe' with the kick pattern.\"}, {'title': 'Programming for Sidechain', 'content': \"Even if you don't have compression, you can program bass to work like it's sidechained:\\n\\n- Place bass notes BETWEEN kick hits\\n- Use shorter note durations\\n- Leave the downbeats (1, 5, 9, 13) for kick\\n\\nThis arrangement technique achieves similar results through timing alone.\"}]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [{'pitch': 48, 'step': 1, 'duration': 1}, {'pitch': 48, 'step': 5, 'duration': 1}, {'pitch': 48, 'step': 9, 'duration': 1}, {'pitch': 48, 'step': 13, 'duration': 1}],\n    highlightScale: [48, 50, 52, 53, 55, 57, 59, 60], // C major scale in bass range\n    showChordDetection: false,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete the bass pattern exercise.\",\n    success: \"Excellent! You've mastered this bass technique.\",\n    error: \"Not quite. Check the target pattern and try again.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 7,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "bass-6"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Sidechain Compression Basics",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-7",
    "filename": "lesson-drums-7.config.js",
    "title": "Ghost Notes &",
    "category": "Drums & Rhythm",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Drums 7 - Ghost Notes & Dynamics\n * \n * This lesson teaches velocity control, ghost notes, and dynamic expression\n * to transform robotic patterns into human-feeling grooves.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-drums-7-progress\",\n  lessonNumber: 7,\n  lessonCategory: \"Drums & Rhythm\",\n  depthLevel: 4,\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-drums-8.html\",\n  prevLessonUrl: \"lesson-drums-6.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 7, categoryLabel: \"Drums & Rhythm\" }),\n    title: \"Ghost Notes &\",\n    titleHighlight: \"Dynamics\",\n    subtitle: \"Add <strong>ghost notes</strong> (soft snare hits between main beats) and master <strong>velocity control</strong> to transform robotic patterns into grooves with human feel.\"\n  },\n  \n  // ====================\n  // SEQUENCER CONFIG\n  // ====================\n  sequencer: {\n    tempo: 95,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true, // ENABLE VELOCITY LANES UI - Key feature for this lesson\n    requiredTempo: 95\n  },\n  \n  // ====================\n  // EXERCISE\n  // ====================\n  exercise: {\n    title: \"Add Ghost Notes to a Backbeat\",\n    description: \"Transform a basic kick-snare pattern into a professional groove by adding ghost notes (soft snare hits) on strategic positions.\",\n    tip: \"Ghost notes should be FELT, not obviously heard. Use low velocity (25-35) for ghost notes, high velocity (100+) for accents.\",\n    steps: [\n      { text: \"<strong>Set the tempo to 95 BPM</strong> using the Tempo slider.\" },\n      { text: \"<strong>Foundation:</strong> Kick on steps 1 and 9 (beats 1 and 3 only).\" },\n      { text: \"<strong>Backbeat snare:</strong> Place snare at HIGH velocity (100+) on steps 5 and 13 (beats 2 and 4).\" },\n      { text: \"<strong>Ghost notes:</strong> Add soft snare hits (velocity 25-35) on steps 7 and 10.\" },\n      { text: \"<strong>Hi-hat pattern:</strong> Eighth notes on all steps (1, 3, 5, 7, 9, 11, 13, 15) with accent dynamics.\" }\n    ]\n  },\n  \n  // ====================\n  // INSTRUMENTS\n  // ====================\n  instruments: [\n    {\n      id: \"kick\",\n      label: \"Kick\",\n      color: \"linear-gradient(135deg, #ff6b6b, #ee5a24)\",\n      targetSteps: [0, 8],\n      targetVelocity: [100, 100],\n      instructionText: \"Kick on beats 1 and 3 at normal velocity.\",\n      patternHint: {\n        enabled: true,\n        note: \"Kick on steps 1 and 9 (beats 1 and 3)\"\n      }\n    },\n    {\n      id: \"snare\",\n      label: \"Snare\",\n      color: \"linear-gradient(135deg, #feca57, #ff9f43)\",\n      targetSteps: [4, 12],\n      targetVelocity: [110, 110],\n      instructionText: \"Backbeat snare on 2 and 4 at HIGH velocity (accent).\",\n      patternHint: {\n        enabled: true,\n        note: \"LOUD snare on 5 and 13 (beats 2 & 4)\"\n      }\n    },\n    {\n      id: \"snare-ghost\",\n      label: \"Snare Ghost\",\n      color: \"linear-gradient(135deg, rgba(254, 202, 87, 0.5), rgba(255, 159, 67, 0.5))\",\n      targetSteps: [6, 9],\n      targetVelocity: [30, 30],\n      instructionText: \"Ghost notes at LOW velocity (25-35) on steps 7 and 10.\",\n      patternHint: {\n        enabled: true,\n        note: \"SOFT snare on steps 7 and 10 (velocity ~25-35)\"\n      }\n    },\n    {\n      id: \"hihat\",\n      label: \"Hi-Hat\",\n      color: \"linear-gradient(135deg, #00d2d3, #01a3a4)\",\n      targetSteps: [0, 2, 4, 6, 8, 10, 12, 14],\n      targetVelocity: [100, 60, 100, 60, 100, 60, 100, 60],\n      instructionText: \"8th note hi-hats with accented downbeats and softer off-beats.\",\n      patternHint: {\n        enabled: true,\n        note: \"Accent on 1, 5, 9, 13; softer on &'s\"\n      }\n    }\n  ],\n  \n  // ====================\n  // VELOCITY TARGETS\n  // ====================\n  velocityTargets: {\n    snareAccent: { min: 100, max: 127 },\n    snareGhost: { min: 15, max: 45 },\n    hihatAccent: { min: 85, max: 127 },\n    hihatSoft: { min: 45, max: 75 }\n  },\n  \n  // ====================\n  // VALIDATION\n  // ====================\n  validation: {\n    checkVelocity: true,\n    velocityTolerance: 15, // Allow ±15 velocity variance\n    requireGhostNotes: true,\n    minimumGhostNotes: 2, // Exactly 2 ghost notes in this pattern\n    requireDynamicContrast: true,\n    minimumDynamicRange: 60 // At least 60 velocity difference between ghost (30) and accent (110)\n  },\n  \n  // ====================\n  // PATTERN HINT\n  // ====================\n  patternHint: {\n    enabled: true,\n    note: \"Ghost notes on steps 7 and 10. Accents on 5 and 13. Dynamic contrast is key!\"\n  },\n  \n  // ====================\n  // MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"drums\", {\n    initial: \"Add ghost notes and vary your velocity to complete this exercise.\",\n    success: \"Excellent dynamics! Your groove has real human feel now. Proceed to the next lesson!\",\n    error: \"Check your ghost notes—they should be soft (velocity 25-40) and your accents should be loud (100+).\",\n    alreadyCompleted: \"You've mastered ghost notes! Feel free to experiment with different velocity patterns.\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    showVelocityLane: true,\n    enableVelocityEditing: true\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Understand what ghost notes are and why they matter\",\n    \"Program ghost notes at appropriate velocity (15-40)\",\n    \"Create dynamic contrast between accents and soft notes\",\n    \"Transform robotic patterns into human-feeling grooves\",\n    \"Use velocity to add expression and texture\"\n  ],\n  \n  // ====================\n  // CONCEPTS TAUGHT\n  // ====================\n  conceptsTaught: [\n    {\n      name: \"Ghost Notes\",\n      description: \"Very soft drum hits (velocity 15-40) placed between main beats to add texture and groove.\",\n      velocityRange: \"15-40\"\n    },\n    {\n      name: \"Accents\",\n      description: \"Emphasized hits (velocity 100-127) on important beats that define the rhythm.\",\n      velocityRange: \"100-127\"\n    },\n    {\n      name: \"Dynamic Range\",\n      description: \"The difference between the softest and loudest notes, creating expression and life.\",\n      velocityRange: \"Full spectrum\"\n    }\n  ]\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 7,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "drums-6"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Ghost Notes &",
      "Prepararsi alla lezione successiva del modulo Drums & Rhythm"
    ]
  },
  {
    "slug": "ear-7",
    "filename": "lesson-ear-7.config.js",
    "title": "Melodic Dictation:",
    "category": "Ear Training",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-ear-7-progress\",\n  lessonNumber: 7,\n  lessonCategory: \"Ear Training\",\n\n  nextLessonUrl: \"lesson-ear-8.html\",\n  prevLessonUrl: \"lesson-ear-6.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 7, categoryLabel: \"Ear Training\" }),\n    title: \"Melodic Dictation:\",\n    titleHighlight: \"Transcribe Melodies by Ear\",\n    subtitle: \"Transcribe simple melodies by ear. Combine interval recognition, rhythm, and pitch to write what you hear.\"\n  },\n\n  exercise: {\n    title: \"Transcribe Melodies Accurately\",\n    description: \"Melodic dictation is the process of hearing a melody and writing it down (either in notation or MIDI). This combines all ear training skills: pitch recognition, interval hearing, rhythm transcription, and scale degree awareness. It's the ultimate test of musical listening and essential for learning songs, creating covers, and developing your musical memory.\",\n    tip: \"Listen multiple times. First pass: get the rhythm. Second pass: get the pitches (scale degrees). Third pass: refine details. Don't try to get everything in one listening.\",\n    steps: [\n      '<strong>First Listen</strong> — Focus only on rhythm. How many notes? What are the note values? Ignore pitch completely.',\n      '<strong>Second Listen</strong> — Identify the starting pitch and ending pitch. These are your anchors.',\n      '<strong>Third Listen</strong> — Fill in the middle notes by scale degree (1, 2, 3, 4, 5, 6, 7) or interval (up a 3rd, down a 2nd).',\n      '<strong>Fourth Listen</strong> — Check for details: grace notes, slides, ornaments, dynamics.',\n      '<strong>Verify</strong> — Play back what you transcribed. Does it match the original? Fix mistakes and repeat.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Melodic Dictation',\n        content: `\n**What is Melodic Dictation?**\n\nMelodic dictation is transcribing a melody by ear using:\n1. **Pitch** (which notes: C, D, E, F, etc.)\n2. **Rhythm** (when and how long: quarters, eighths, etc.)\n3. **Phrasing** (how it's shaped: legato, staccato, accents)\n\n**Why It's Important:**\n- Learn songs without sheet music or tabs\n- Create accurate covers and remixes\n- Develop musical memory\n- Train your ear comprehensively (all skills combined)\n- Professional skill for session musicians, arrangers\n\n**Three Approaches to Melodic Dictation:**\n\n**1. Scale Degree Method (Recommended):**\n- Establish the key/tonic first\n- Identify each note by its scale degree (1-7)\n- Example in C major: melody goes 1-3-5-5-6-5-4-3-1\n- Advantage: Works in any key, builds strong relative pitch\n\n**2. Interval Method:**\n- Identify the interval between consecutive notes\n- Example: M3 up, m2 down, P4 up, etc.\n- Advantage: Doesn't require knowing the key\n- Disadvantage: Can get lost if you make one mistake\n\n**3. Absolute Pitch Method:**\n- Directly identify note names (C, D#, F, etc.)\n- Only works if you have perfect pitch or pseudo-absolute pitch\n- Rare, but fastest when available\n\n**Melodic Contour:**\nUnderstanding the shape helps transcription:\n- **Ascending**: Melody goes up (1-2-3-4-5)\n- **Descending**: Melody goes down (5-4-3-2-1)\n- **Arch**: Up then down (1-3-5-3-1)\n- **Valley**: Down then up (5-3-1-3-5)\n- **Static**: Repeating notes (3-3-3-3)\n        `\n      },\n      {\n        title: 'Practical Melodic Dictation Strategy',\n        content: `\n**Step-by-Step Dictation Process:**\n\n**Preparation:**\n1. Listen to the entire melody once (don't write anything)\n2. Identify the key (major or minor?)\n3. Identify the time signature (4/4, 3/4, 6/8?)\n4. Find the starting note (scale degree 1, 3, or 5 usually)\n\n**Pass 1: Rhythm Only**\n1. Ignore pitch completely\n2. Tap or clap the rhythm\n3. Write rhythm notation: ♩ ♩ ♪♪ ♩ 𝅗𝅥\n4. Count: \"1 & 2 & 3 & 4 &\"\n5. Verify rhythm is correct before moving on\n\n**Pass 2: Contour and Range**\n1. Does melody go up, down, or stay the same?\n2. What's the highest note? Lowest note?\n3. Sketch the general shape (helps with later passes)\n\n**Pass 3: Scale Degrees**\n1. Play the tonic note as reference\n2. Listen for first note (identify scale degree)\n3. Listen for last note (melodies often end on 1 or 5)\n4. Fill in the middle notes one by one\n5. Use scale degree numbers: 1-3-5-5-6-5-4-3-1\n\n**Pass 4: Verification**\n1. Sing or play back what you transcribed\n2. Compare to original (does it match?)\n3. Fix wrong notes\n4. Check rhythm accuracy again\n\n**Pass 5: Details**\n1. Listen for articulation (staccato, legato)\n2. Listen for ornaments (trills, grace notes)\n3. Listen for dynamics (loud, soft, crescendo)\n4. Add expression markings if notating\n\n**Difficulty Progression:**\n\n**Level 1: Nursery Rhymes (Start Here)**\n- \"Mary Had a Little Lamb\"\n- \"Twinkle Twinkle Little Star\"\n- \"Happy Birthday\"\n- 4-8 notes, mostly stepwise motion, simple rhythm\n\n**Level 2: Folk Melodies**\n- \"Greensleeves\"\n- \"Scarborough Fair\"\n- \"Auld Lang Syne\"\n- 8-16 notes, some leaps, slightly complex rhythm\n\n**Level 3: Pop Hooks**\n- \"Yesterday\" (Beatles) verse\n- \"Let It Be\" chorus\n- \"Someone Like You\" (Adele) verse\n- 16-32 notes, varied rhythm, occasional chromatic notes\n\n**Level 4: Jazz Standards**\n- \"Autumn Leaves\"\n- \"All the Things You Are\"\n- \"Fly Me to the Moon\"\n- Complex harmony, chromatic passing tones, syncopation\n\n**Level 5: Classical Themes**\n- Beethoven Symphony themes\n- Mozart melodies\n- Bach inventions\n- Fast runs, ornaments, complex phrasing\n\n**Common Mistakes:**\n- Trying to get everything in one listen (use multiple passes!)\n- Not establishing the key first (you'll get lost)\n- Mixing up rhythm and pitch (separate them!)\n- Starting too difficult (use nursery rhymes first)\n- Not singing it back to verify (singing reveals errors)\n\n**DAW Practice:**\n1. Find a simple melody on YouTube\n2. Load blank MIDI track in your DAW\n3. Transcribe by ear (follow the 5-pass system)\n4. Slow down the audio if needed (50% speed)\n5. Compare to original MIDI if available\n\n**Advanced Techniques:**\n- **Chunking**: Transcribe in small phrases (2-4 measures at a time)\n- **Loop Section**: Repeat difficult sections 10-20 times\n- **Slow Down**: Use time-stretch to hear fast passages clearly\n- **Octave Shifting**: Sing melody in comfortable range, then transpose\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Transcribe simple melodies accurately using scale degrees\",\n    \"Separate rhythm and pitch in the dictation process\",\n    \"Apply the 5-pass system for systematic transcription\",\n    \"Verify transcriptions by playing them back\",\n    \"Progress from nursery rhymes to complex melodies\"\n  ]\n};\n",
    "number": 7,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "ear-6"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Melodic Dictation:",
      "Prepararsi alla lezione successiva del modulo Ear Training"
    ]
  },
  {
    "slug": "harmony-7",
    "filename": "lesson-harmony-7.config.js",
    "title": "Stepwise Melody:",
    "category": "Melody Fundamentals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 7 - Stepwise Melody: Use the Scale\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-harmony-7-progress\",\n  lessonNumber: 7,\n  lessonCategory: \"Melody Fundamentals\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-harmony-8.html\",\n  prevLessonUrl: \"lesson-harmony-6.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 7, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Stepwise Melody:\",\n    titleHighlight: \"Use the Scale\",\n    subtitle: \"Expand beyond chord tones using the C major scale safely. You'll add 'passing tones' between chord tones to create smooth, flowing melodies with professional stepwise motion. This teaches you how to use scale notes as travel notes between your stable anchor points.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 110,\n    key: \"C\",\n    scale: \"Major\",\n    stepCount: 64,\n    bars: 4,\n    pitchRange: {\n      low: 60,  // C4\n      high: 84  // C6 (for melody range)\n    }\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Add Passing Tones for Smooth Melody\",\n    description: \"Create a melody that uses <strong>chord tones on strong beats (1 and 3)</strong> for stability, and <strong>any C major scale note on weak beats</strong> for smooth motion. Passing tones connect chord tones with stepwise movement, creating professional-sounding phrases.\",\n    tip: \"The key is balance: chord tones anchor the melody on important beats, while passing tones create flowing motion between them. This is how pros write singable, memorable melodies.\",\n    steps: [\n      { text: \"Set up your I–V–vi–IV progression (C–G–Am–F)\" },\n      { text: \"Rule: <strong>Beats 1 and 3 must use chord tones</strong> for stability\" },\n      { text: \"Rule: <strong>Beats 2, 4, and off-beats can use any C major scale note</strong> (C-D-E-F-G-A-B)\" },\n      { text: \"Create a melody with at least <strong>4 passing tones</strong> total\" },\n      { text: \"Use passing tones to create <strong>stepwise motion</strong> between chord tones\" },\n      { text: \"Listen for smooth, flowing phrases that feel natural and singable\" }\n    ]\n  },\n\n  // ====================\n  // VALIDATION CONFIG\n  // ====================\n  validation: {\n    type: \"melody_with_passing_tones\",\n    chordProgression: [\n      { name: \"C\", pitches: [60, 64, 67], time: 0 },\n      { name: \"G\", pitches: [67, 71, 74], time: 16 },\n      { name: \"Am\", pitches: [69, 72, 76], time: 32 },\n      { name: \"F\", pitches: [65, 69, 72], time: 48 }\n    ],\n    scale: {\n      key: \"C\",\n      type: \"Major\",\n      notes: [60, 62, 64, 65, 67, 69, 71, 72, 74, 76, 77, 79, 81, 83, 84]  // C-D-E-F-G-A-B (multiple octaves)\n    },\n    melodyRules: {\n      minNotes: 12,\n      minPassingTones: 4,\n      strongBeats: [0, 8, 16, 24, 32, 40, 48, 56],  // Beats 1 and 3 of each bar\n      strongBeatsMustUseChordTones: true,\n      weakBeatsAllowAnyScaleNote: true,\n      preferStepwiseMotion: true,\n      maxConsecutiveLeaps: 2\n    }\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Write a melody using chord tones on strong beats (1 and 3) and any scale note on weak beats. Include at least 4 passing tones.\",\n    success: \"Congratulations! You've completed the beginner harmony and melody lessons. You can now write chord progressions and melodies with professional techniques!\",\n    error: \"Check: Strong beats (1 and 3) should use chord tones. All notes should be from C major scale (C-D-E-F-G-A-B). Include at least 4 passing tones.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 7,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "harmony-6"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Stepwise Melody:",
      "Prepararsi alla lezione successiva del modulo Melody Fundamentals"
    ]
  },
  {
    "slug": "mastering-7",
    "filename": "lesson-mastering-7.config.js",
    "title": "Mastering for Streaming Platforms:",
    "category": "Mastering",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mastering 7 - Mastering for Streaming Platforms\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mastering-7-progress\",\n  lessonNumber: 7,\n  lessonCategory: \"Mastering\",\n\n  nextLessonUrl: \"lesson-mastering-8.html\",\n  prevLessonUrl: \"lesson-mastering-6.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 7, categoryLabel: \"Mastering\" }),\n    title: \"Mastering for Streaming Platforms:\",\n    titleHighlight: \"Spotify, Apple Music & YouTube\",\n    subtitle: \"Optimize your masters for the streaming era—understanding platform-specific loudness normalization, codec artifacts, and delivery specifications\"\n  },\n\n  exercise: {\n    title: \"Create a Streaming-Optimized Master\",\n    description: \"Master a track specifically for streaming platforms, hitting the -14 LUFS target, ensuring codec compatibility, and preparing proper metadata for distribution.\",\n    tip: \"Every major streaming platform normalizes loudness. Your goal isn't maximum loudness—it's optimal loudness with preserved dynamics. A master at -14 LUFS with punchy transients will outperform a crushed -8 LUFS master that gets turned down 6 dB and sounds lifeless.\",\n    steps: [\n      '<strong>Set your loudness target</strong> — For streaming (Spotify, Apple Music, YouTube, etc.), target <strong>-14 LUFS integrated</strong>. This is the normalization reference for most platforms.',\n      '<strong>Set true peak ceiling</strong> — Set your limiter ceiling to <strong>-1.0 dBTP</strong>. This prevents inter-sample peaks and leaves headroom for codec encoding.',\n      '<strong>Apply limiting to target</strong> — Limit until you reach approximately -14 LUFS integrated. Aim for <strong>3-6 dB of gain reduction</strong> maximum. Listen for artifacts.',\n      '<strong>Verify loudness range</strong> — Check your Loudness Range (LRA). Streaming-friendly masters typically have <strong>LRA of 5-10 LU</strong>. Too narrow = over-compressed. Too wide = might need more compression.',\n      '<strong>Test for codec artifacts</strong> — Export a test bounce, then convert to 128 kbps MP3 or AAC. Listen for artifacts, especially in the high frequencies and transients. If artifacts are severe, reduce high-frequency content slightly.',\n      '<strong>Check true peak after conversion</strong> — Codec conversion can introduce new peaks. If your -1 dBTP master clips after AAC conversion, reduce ceiling to <strong>-1.5 dBTP</strong> and re-export.',\n      '<strong>Verify mono compatibility</strong> — Streaming on phone speakers is essentially mono. Sum to mono and verify your master still sounds balanced.',\n      '<strong>Compare to platform references</strong> — Pull up a well-mastered track on Spotify/Apple Music. Level-match and A/B. Does your master fit with the platform\\'s overall sound?',\n      '<strong>Export at correct specs</strong> — Export as <strong>24-bit WAV at 44.1 kHz or 48 kHz</strong>. Most distributors accept both. 16-bit is acceptable but 24-bit is preferred.',\n      '<strong>Name files correctly</strong> — Use clear naming: \"ArtistName_TrackTitle_Master.wav\". Avoid special characters. Include version if needed: \"_v1\", \"_v2\".',\n      '<strong>Document loudness</strong> — Note your final integrated LUFS and true peak in a text file or spreadsheet. This is useful for album consistency and client records.',\n      '<strong>Create alternate versions if needed</strong> — Some distributors request specific versions (instrumental, radio edit). Create these from the same mastering session for consistency.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'How Streaming Platforms Handle Your Master',\n        content: `Understanding the streaming pipeline helps you optimize your master for the listener's actual experience.\n\n**The Streaming Process:**\n1. You upload a high-quality master (WAV, FLAC, or high-bitrate lossy)\n2. Platform analyzes loudness (measures integrated LUFS)\n3. Platform transcodes to various codecs (AAC, Ogg Vorbis, MP3)\n4. Platform applies loudness normalization on playback\n5. Listener hears normalized, transcoded version\n\n**Loudness Normalization:**\nMost platforms normalize to around -14 LUFS:\n- Masters louder than -14 LUFS are turned DOWN\n- Masters quieter than -14 LUFS may be turned up (varies by platform)\n- Goal: consistent listening experience across all tracks\n\n**Why This Matters for Mastering:**\nIf you master to -8 LUFS (very loud):\n- Platform turns you down 6 dB\n- You end up at -14 LUFS anyway\n- But with crushed dynamics and limiting artifacts\n- You lost dynamics for zero gain\n\nIf you master to -14 LUFS:\n- Platform plays at unity (no change)\n- Full dynamics and transients preserved\n- Sounds better than over-limited alternatives\n\n**Platform-Specific Details:**\n| Platform | Target | Normalization | Notes |\n|----------|--------|---------------|-------|\n| Spotify | -14 LUFS | Always on (can be disabled) | Most popular platform |\n| Apple Music | -16 LUFS | Sound Check (user can disable) | Slightly quieter target |\n| YouTube | -14 LUFS | Always on | Video platform, consistent |\n| Tidal | -14 LUFS | User controllable | Hi-res option available |\n| Amazon Music | -14 LUFS | Standard normalization | Similar to Spotify |`\n      },\n      {\n        title: 'Codec Considerations: MP3, AAC, and Ogg Vorbis',\n        content: `Streaming platforms transcode your master to lossy codecs. Understanding codec behavior helps you master for better results after encoding.\n\n**Common Streaming Codecs:**\n- **AAC:** Used by Apple Music, YouTube, Spotify (some tiers)\n- **Ogg Vorbis:** Used by Spotify (most tiers)\n- **MP3:** Legacy format, still used by some platforms\n\n**What Codecs Do to Your Audio:**\n1. Remove \"inaudible\" frequencies (psychoacoustic model)\n2. Reduce file size dramatically (10:1 or more)\n3. Introduce artifacts, especially at lower bitrates\n4. May create new peaks (inter-sample and encoding artifacts)\n\n**Common Codec Artifacts:**\n- **Pre-echo:** Ghost sounds before transients\n- **High-frequency loss:** Cymbals, air become dull or \"swishy\"\n- **Stereo imaging changes:** Wide content may narrow\n- **Transient smearing:** Attack becomes less precise\n\n**How to Master for Codec Robustness:**\n\n**True Peak Headroom:**\n- Leave -1.0 to -1.5 dBTP headroom\n- Codec encoding can add 0.5-1 dB of peak\n- Prevents clipping after encoding\n\n**High-Frequency Care:**\n- Extreme high-end boosting (above 14 kHz) may artifact badly\n- Harsh, brittle highs become worse after encoding\n- Smooth, natural highs encode better\n\n**Dense Midrange:**\n- Very dense midrange (lots of information 1-5 kHz) is hardest to encode\n- If your mix is extremely dense, codec will struggle more\n- Consider slightly more dynamic range in dense sections\n\n**Testing Your Master:**\n1. Export your master at final specs\n2. Convert to 128 kbps MP3 or AAC (worst-case scenario)\n3. A/B your master vs the lossy conversion\n4. Listen for artifacts, especially highs and transients\n5. If severe, adjust master and re-test`\n      },\n      {\n        title: 'Platform-Specific Requirements',\n        content: `Different platforms have slightly different requirements and behaviors. Here's what you need to know for the major platforms.\n\n**Spotify:**\n- Target: -14 LUFS integrated\n- True peak: -1.0 dBTP recommended\n- Format: 16-bit or 24-bit WAV/FLAC through distributor\n- Normalization: Always on by default (user can disable \"Loud\" mode)\n- Codec: Ogg Vorbis (various bitrates by subscription)\n\n**Apple Music:**\n- Target: -16 LUFS integrated (Sound Check target)\n- True peak: -1.0 dBTP recommended\n- Format: 24-bit preferred, supports Apple Digital Masters program\n- Normalization: Sound Check (user can disable)\n- Codec: AAC 256 kbps, or ALAC for lossless\n\n**YouTube:**\n- Target: -14 LUFS integrated\n- True peak: -1.0 dBTP recommended\n- Format: Accepts most video formats with audio\n- Normalization: Always on\n- Codec: AAC (various bitrates)\n\n**Tidal:**\n- Target: -14 LUFS integrated\n- True peak: -1.0 dBTP recommended\n- Format: Supports MQA, FLAC, and standard lossy\n- Normalization: User controllable\n- Codec: Various including lossless options\n\n**Best Practice for All Platforms:**\n| Specification | Recommendation |\n|---------------|----------------|\n| Integrated LUFS | -14 LUFS (±1) |\n| True Peak | ≤ -1.0 dBTP |\n| Bit Depth | 24-bit preferred |\n| Sample Rate | 44.1 kHz or 48 kHz |\n| Format | WAV or FLAC |\n| Dynamic Range | DR8+ preserved |`\n      },\n      {\n        title: 'The Apple Digital Masters Program',\n        content: `Apple Digital Masters (formerly \"Mastered for iTunes\") is Apple's program for high-quality masters optimized for their encoding.\n\n**What Apple Digital Masters Requires:**\n- 24-bit source files (higher resolution = better encoding)\n- True peak of -1.0 dBTP or lower\n- No clipping or distortion\n- Approved by Apple's quality control\n\n**Benefits of Apple Digital Masters:**\n- \"Apple Digital Master\" badge on releases\n- Verified quality control\n- Optimized AAC encoding\n- Marketing differentiation\n\n**Technical Requirements:**\n- Bit depth: 24-bit minimum\n- Sample rate: 44.1 kHz minimum (higher accepted)\n- True peak: Must not exceed -1.0 dBTP\n- No codec pre-conditioning (don't degrade before submission)\n\n**How to Get ADM Certification:**\n1. Master to ADM specifications\n2. Use Apple's afclip tool to verify no clipping after AAC encoding\n3. Submit through an ADM-approved distributor\n4. Apple reviews and approves\n\n**Should You Care About ADM?**\n- If targeting Apple Music specifically, worth pursuing\n- Requires no extra mastering work if you're already following best practices (-14 LUFS, -1 dBTP, 24-bit)\n- Marketing value of the badge\n- Not necessary for good-sounding masters—standard best practices already cover it`\n      },\n      {\n        title: 'Loudness vs Quality: Finding the Balance',\n        content: `The streaming era has ended the loudness war, but clients may still request \"loud\" masters. Here's how to navigate this.\n\n**The Old Paradigm (Pre-Streaming):**\n- Louder = competitive on radio, CD, shuffle playlists\n- \"Loudness war\" pushed masters to -6 to -4 LUFS\n- Dynamics destroyed, listener fatigue ignored\n- No normalization—loud wins\n\n**The New Paradigm (Streaming):**\n- Loudness normalized—everyone's at -14 LUFS\n- Louder masters get turned down\n- Dynamics preserved = sounds better\n- Quality wins, not loudness\n\n**Client Education:**\nWhen clients request \"loud\" masters:\n1. Explain streaming normalization\n2. A/B demonstrate: a -14 LUFS master vs -8 LUFS master after normalization\n3. Show that the dynamic master sounds better\n4. Offer both versions if they insist (streaming vs club/DJ)\n\n**When Louder is Appropriate:**\n- DJ/club use (no normalization, needs to match other tracks)\n- CD release (no normalization)\n- Client specifically understands and still wants it\n- Specific genre expectations (some EDM intentionally dense)\n\n**Creating Multiple Versions:**\nProfessional approach: create multiple masters from the same session:\n- **Streaming master:** -14 LUFS, -1 dBTP, full dynamics\n- **CD/DJ master:** -10 to -8 LUFS, more limiting\n- **Apple Digital Master:** Same as streaming, verified specs\n\nThis serves all use cases without compromising any single version.`\n      },\n      {\n        title: 'Delivery and Distribution Workflow',\n        content: `Getting your streaming-optimized master to listeners requires proper delivery through distribution.\n\n**Distribution Options:**\n- **Aggregators:** DistroKid, TuneCore, CD Baby, LANDR\n- **Direct deals:** Labels with direct platform relationships\n- **Self-distribution:** Limited options, mostly for established artists\n\n**File Delivery Specifications:**\n| Specification | Recommended |\n|---------------|-------------|\n| Format | WAV or FLAC |\n| Bit Depth | 24-bit |\n| Sample Rate | 44.1 kHz or 48 kHz |\n| Channels | Stereo (2-channel) |\n| File naming | ArtistName_TrackTitle_Master.wav |\n\n**Metadata Requirements:**\n- Track title (correct spelling and formatting)\n- Artist name(s)\n- Album title\n- Track number\n- ISRC code (if available)\n- Release date\n- Genre tags\n- Composer/songwriter credits\n\n**Quality Control Before Delivery:**\n✅ Loudness verified (-14 LUFS ±1)\n✅ True peak verified (≤ -1.0 dBTP)\n✅ No clipping or distortion\n✅ Correct sample rate and bit depth\n✅ Proper file naming\n✅ Metadata prepared\n✅ Listened through entire track for glitches\n\n**The Final Checklist:**\nBefore submitting to distributor:\n1. Play entire master start to finish—any glitches?\n2. Check first and last 2 seconds—clean starts/ends?\n3. Verify loudness and peak one more time\n4. Confirm file format matches distributor requirements\n5. Double-check metadata accuracy\n\n**Album Consistency:**\nFor albums/EPs, ensure:\n- Consistent loudness across all tracks (within 1-2 LUFS)\n- Consistent tonal character\n- Proper track spacing and fades\n- Cohesive listening experience`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Understand streaming normalization: how platforms measure and adjust loudness to -14 LUFS\",\n    \"Master for codec robustness: leave -1.0 dBTP headroom, avoid extreme high-frequency boosts\",\n    \"Apply platform-specific requirements: Spotify, Apple Music, YouTube specifications\",\n    \"Understand Apple Digital Masters program requirements and benefits\",\n    \"Prepare proper delivery: 24-bit WAV, correct metadata, quality control checklist\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mastering lesson to optimize for streaming.\",\n    success: \"Excellent! You can now create streaming-optimized masters for all major platforms.\",\n    error: \"Review the streaming concepts and try again.\",\n    alreadyCompleted: \"You've mastered Streaming Platform optimization. Ready for Lesson 8!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 7,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "mastering-6"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Mastering for Streaming Platforms:",
      "Prepararsi alla lezione successiva del modulo Mastering"
    ]
  },
  {
    "slug": "mixing-7",
    "filename": "lesson-mixing-7.config.js",
    "title": "Reverb Types and Uses:",
    "category": "Mixing",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mixing 7 - Reverb Types and Uses\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-7-progress\",\n  lessonNumber: 7,\n  lessonCategory: \"Mixing\",\n\n  nextLessonUrl: \"lesson-mixing-8.html\",\n  prevLessonUrl: \"lesson-mixing-6.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 7, categoryLabel: \"Mixing\" }),\n    title: \"Reverb Types and Uses:\",\n    titleHighlight: \"Creating Depth\",\n    subtitle: \"Early reflections, pre-delay, and decay for front-to-back depth\"\n  },\n\n  exercise: {\n    title: \"Creating Depth with Reverb\",\n    description: \"Set up two aux reverbs (short room + longer plate/hall), assign them to different mix roles (cohesion vs feature depth), EQ the returns, and use pre-delay to protect clarity while maintaining headroom.\",\n    tip: \"Treat reverb as two jobs: a short room for cohesion (often low in level) and a longer plate/hall for featured depth. Pre-delay is a clarity lever: small changes (e.g., 10 ms → 25 ms) can move a vocal forward without changing the tail length.\",\n    steps: [\n      '<strong>Load session</strong> — Open your previous session \"Mixing-6_AttackRelease\" and immediately save a new version named \"Mixing-7_ReverbDepth\".',\n      '<strong>Set loop region</strong> — Select a 20–30 second loop (chorus/drop). Keep the loop consistent for evaluation, and keep your master peak meter visible (Lesson 2).',\n      '<strong>Create reverb returns</strong> — Create two return/aux tracks: \"RoomVerb (Short)\" and \"Verb (Long)\". Route both returns to the master output (not to other effect returns).',\n      '<strong>Short room setup</strong> — On \"RoomVerb (Short)\", insert a reverb. Set its Wet/Dry (Mix) to 100% wet (return workflow). Choose a Room/Small Room style if available; set Decay to ~0.6 s and Pre-delay to ~5 ms as a starting point.',\n      '<strong>EQ short room</strong> — After the reverb on \"RoomVerb (Short)\", insert an EQ. Apply a high-pass filter around 150 Hz (12 dB/oct) and a low-pass filter around 10 kHz (6–12 dB/oct). Solo the return briefly: confirm it\\'s \"ambience only\" (no boomy lows, no excessive hiss).',\n      '<strong>Long reverb setup</strong> — On \"Verb (Long)\", insert a reverb set to 100% wet. Choose Plate or Hall. Set Decay to ~1.8–2.4 s and Pre-delay to ~25 ms as a starting point. Set damping (HF decay) so the tail is not brighter than the vocal sibilance region.',\n      '<strong>EQ long reverb</strong> — After the reverb on \"Verb (Long)\", insert an EQ. Start with HPF around 120 Hz (12 dB/oct). If the tail feels too sharp, add a gentle high-shelf reduction or LPF somewhere around 8–12 kHz. Confirm by soloing the return briefly, then return to full mix.',\n      '<strong>Set send modes</strong> — For both reverbs, use post-fader sends as the default so the wet/dry relationship follows fader rides. (If your DAW offers post-pan, choose it when you want panning to affect the reverb send.)',\n      '<strong>Drums → short room</strong> — From Drum Bus (or Overheads + Snare), raise the send to \"RoomVerb (Short)\" from -∞ until you can just perceive the room in the full mix, then back off slightly. Verify by muting/unmuting the return: the kit should feel more cohesive without obvious tail.',\n      '<strong>Vocals → long reverb</strong> — From Lead Vocal (or Vocal Bus), raise the send to \"Verb (Long)\" until the vocal gains depth without losing articulation. If the vocal clouds, adjust Pre-delay on \"Verb (Long)\" between ~15 ms and ~35 ms and choose the value that preserves consonants.',\n      '<strong>Depth differentiation check</strong> — Temporarily send a small amount of vocal to \"RoomVerb (Short)\" (very low send) and compare. Keep the approach that makes the vocal feel \"in the track\" while the long verb supplies the sense of distance and emotion.',\n      '<strong>Early-reflection vs tail check</strong> — If your reverb exposes ER level, raise ER slightly and reduce tail level (or reduce decay) and listen for \"closer but still spatial\". Then do the opposite (more tail) for \"further\". Keep the setting that supports the song\\'s front-to-back narrative.',\n      '<strong>Headroom verification</strong> — Clear clip indicators, confirm neither return clips, and confirm the master peak has not crept above your mixing headroom target (commonly keeping peaks below about -6 dBFS during mixing). If headroom shrank, reduce return outputs or send levels rather than shortening decay first.',\n      '<strong>Export and compare</strong> — Export two bounces of the loop: (A) \"Mixing-7_PreReverb\" with both returns muted, and (B) \"Mixing-7_PostReverb\" with both returns active. Re-import both, level-match, and A/B to confirm added depth without lost clarity.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'What Reverb Does: Simulated Space, Depth, and \"Glue\" vs \"Effect\"',\n        content: `Reverb (short for reverberator) is any electronic or acoustical device designed to simulate, or capture, natural reverberation and blend it with the original sound. AES describes reverberation as the total sound field remaining in a room after the source is silenced, and the time it takes that field to decay is quantified as reverberation time (often expressed as RT60).\n\n**In a mix, reverb is a perception tool:**\nYou are changing the ratio of direct sound to reflected energy over time and frequency, and the listener interprets that as room size, distance, and dimensionality.\n\n**Two Roles for Reverb:**\n- **Glue**: Used subtly, shared ambience helps separately recorded elements feel like they occupy one coherent environment without calling attention to the tail\n- **Effect**: Used deliberately—a bright plate halo around a vocal, a dramatic hall tail behind a synth, or a springy guitar-amp character\n\nThe same processor can serve both roles; the difference is intent plus parameter choices (early reflections, pre-delay, decay time, damping/tonality) and how you route and blend the effect (insert versus send/return).\n\n**Building on Previous Lessons:**\nThis lesson builds on Lesson 1 routing (returns), Lesson 2 gain staging (reverb returns steal headroom), Lessons 3–4 EQ (filtering returns), and Lessons 5–6 compression (controlling sustain so reverb sits predictably).`\n      },\n      {\n        title: 'Early Reflections vs Late Reflections: The Anatomy of \"Space\"',\n        content: `Most reverbs can be understood as two time regions.\n\n**Early Reflections:**\nThe first reflections that arrive after the direct sound. AES defines them as the first several reflected sound waves to reach the listener after the direct sound, arriving via slightly longer path lengths. These early arrivals provide strong cues about room size, wall proximity, and the apparent position of the source inside the space. Many mixing references treat early reflections as largely occurring within the first ~50 ms, before the tail becomes diffuse.\n\n**Late Reflections (Reverb Tail):**\nThe decaying, high-density field that follows. This is where \"decay time\" and \"damping\" become audible quickly, and where mixes most often get washed out if the tail is too long or too loud.\n\n**The Haas Effect and Clarity:**\nAES's Haas (precedence) effect notes that humans localise the source using the first arrival if later arrivals remain within roughly 25–35 ms; beyond that, the delayed event starts to be perceived as separate.\n\n**Depth Heuristic:**\n<pre style=\"background: #1a1a2e; padding: 12px; border-radius: 4px; margin: 1em 0;\">\nCloser: more dry, longer pre-delay, less tail\nFarther: less dry, shorter pre-delay, more tail\n</pre>`\n      },\n      {\n        title: 'Core Reverb Parameters and Practical Starting Ranges',\n        content: `**Pre-delay** sets the time offset (ms) between the dry signal and the onset of the first early reflection. Typical \"natural\" values are commonly 1–25 ms. Key depth cue: short pre-delay tends to push sounds back, while longer pre-delay tends to bring sounds more to the forefront by separating the dry attack from the reflections.\n\n**Decay Time / RT60** controls how long the tail persists. AES defines reverberation time as the time for the sound pressure level to decay by 60 dB.\n\n| Decay Range | Character | Typical Use |\n|-------------|-----------|-------------|\n| 0.3–0.8 s | Short | Ambience, cohesion |\n| 1.0–2.0 s | Medium | Vocals, instruments |\n| 2.5–6+ s | Long | Deliberate effect |\n\n**Size** changes reflection density/spacing—larger sizes = more sparse early reflections.\n\n**Damping (HF decay)** darkens the tail over time, making it feel more natural and less harsh.\n\n**ER Level** shifts the clarity-versus-wash balance. More early reflections often reads \"closer\"; more tail reads \"further.\"\n\n**Wet/Dry (or Send Level):**\nOn a return workflow, set Wet/Dry to 100% wet and control the effect amount from the send, so your balance automation stays predictable.`\n      },\n      {\n        title: 'Reverb Types and Their Character',\n        content: `Historically, artificial reverb was created using physical methods (echo chambers, plates, springs) before modern DSP. These names persisted because they describe recognisable reflection behaviour and timbre.\n\n**Room:** Short and intimate, useful for believable ambience and cohesion. Decay typically 0.3–1.0 s.\n\n**Hall:** Larger and smoother, often used for grandeur and long tails. Decay typically 1.5–4+ s.\n\n**Plate:** Dense and often bright, giving vocals or snares a polished \"halo\" that can sit in a mix without sounding like a literal hall. The EMT plate (invented 1957) is the classic reference.\n\n**Chamber:** From dedicated reflective rooms with a speaker/mic capture chain. Often described as warm and classic.\n\n**Spring:** Mechanical (often associated with guitar amps), distinctive boingy/lo-fi character used as colour rather than realism.\n\n**Algorithmic vs Convolution:**\n- **Convolution reverb**: Digital simulation based on convolving audio with an impulse response (IR) captured from a space or hardware. Often wins for realism.\n- **Algorithmic reverb**: Generates reflection patterns using delay networks and filters. Often wins for tweakability and creative shaping.`\n      },\n      {\n        title: 'Routing Best Practices: Aux Returns, Send Modes, and EQ',\n        content: `Because reverb is a time-based effect shared across multiple sources, a **send/return (aux)** workflow is commonly preferred to inserts. One reverb return lets you place many tracks in the same virtual environment and automate \"ambience level\" as a mix element.\n\n**Return Setup:**\nOn a return, set the reverb fully wet (100%). The send level and return fader define the blend.\n\n**Send Position:**\n- **Post-fader sends** (most common for reverb): The dry/wet relationship stays consistent when you ride the channel fader\n- **Pre-fader sends**: Useful for creative \"fade-to-reverb\" moments or when you want the effect level independent of the channel fader\n\n**EQ Your Reverb Returns:**\nThis is standard practice to sculpt the effect so it fits the mix:\n\n<pre style=\"background: #1a1a2e; padding: 12px; border-radius: 4px; margin: 1em 0;\">\nTypical Return EQ:\n• HPF: ~120–200 Hz (higher for vocals) to remove mud\n• LPF: ~8–12 kHz to tame harsh/fizzy tails\n• Adjust in context, not in solo\n</pre>\n\nSound On Sound notes that EQ after reverb/delay helps sculpt the effect—often by rolling off lows and highs—then refine in context.`\n      },\n      {\n        title: 'Common Mistakes and Troubleshooting',\n        content: `**Washing Out the Mix:**\nUsually a level and decay problem rather than \"wrong reverb type\". If the vocal loses intelligibility:\n1. Try lowering the vocal send 2–4 dB (or lowering the return) before shortening decay\n2. Check pre-delay: 10–30 ms range often restores consonant clarity by separating the dry attack from reflections\n3. Near-zero pre-delay tends to push sources backwards\n\n**One Reverb on Everything:**\nThis often collapses front-to-back depth. Solution: use two returns:\n- Short room for cohesion (~0.4–0.9 s)\n- Longer plate/hall for featured elements (~1.5–2.5 s)\n\nCreate depth by giving foreground sources slightly longer pre-delay and a controlled tail.\n\n**Not EQing Returns:**\nCommonly creates low-end build-up and fizzy tails. Start with HPF ~120–200 Hz and LPF ~8–12 kHz on the return, then fine-tune.\n\n**Ignoring Headroom:**\nReturns add energy and can reduce master headroom. Verify peaks after adding reverb and trim return output if needed. Keep Lesson 2 discipline.`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Differentiate early reflections from late reverb tails and explain how each contributes to perceived space and depth\",\n    \"Configure core reverb parameters (pre-delay, decay/RT60, size, damping, early reflections level, wet/dry) using practical starting ranges\",\n    \"Apply appropriate reverb types (room, hall, plate, chamber, spring; algorithmic vs convolution) based on mix intent (glue vs effect)\",\n    \"Configure send/return routing for reverb and evaluate pre-fader vs post-fader send behaviour for mix control\",\n    \"Apply EQ on reverb returns to reduce mud/harshness and maintain headroom established in Lesson 2\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mixing lesson to advance your skills.\",\n    success: \"Excellent! You've mastered Reverb Types and Uses. Your mixes are improving!\",\n    error: \"Review the mixing concepts and try again.\",\n    alreadyCompleted: \"You've completed this mixing technique. Keep practicing!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 7,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "mixing-6"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Reverb Types and Uses:",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-7",
    "filename": "lesson-sound-design-7.config.js",
    "title": "Sample Pack Creation:",
    "category": "Sound Design",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Sound Design 7 - Sample Pack Creation\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-sound-design-7-progress\",\n  lessonNumber: 7,\n  lessonCategory: \"Sound Design\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-sound-design-8.html\",\n  prevLessonUrl: \"lesson-sound-design-6.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 7, categoryLabel: \"Sound Design\" }),\n    title: \"Sample Pack Creation:\",\n    titleHighlight: \"Design Professional Sample Libraries\",\n    subtitle: \"Create and organize professional sample packs for distribution or commercial sale. Master professional sound design techniques used in modern music production.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Explore Sample Pack Creation\",\n    description: \"Create and organize professional sample packs for distribution or commercial sale. This lesson covers the essential concepts and practical techniques you need to master this sound design method.\",\n    tip: \"Listen critically to how each parameter affects the sound. Small changes can have dramatic results in sound design.\",\n    steps: [\n      '<strong>Study the theory</strong> — Read through the sound design concepts and understand the signal flow.',\n      '<strong>Analyze the examples</strong> — Listen to reference sounds and identify key characteristics.',\n      '<strong>Experiment with parameters</strong> — Try different settings and hear how they change the sound.',\n      '<strong>Create variations</strong> — Design multiple versions exploring different timbres.',\n      '<strong>Save your presets</strong> — Document successful sounds for future use.',\n      'Complete the lesson when ready to move forward.'\n    ]\n  },\n  \n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Sample Pack Creation',\n        content: `Sample Pack Creation is a fundamental sound design technique that shapes the sonic character of your productions.\n\n**Key Concepts:**\n- Core synthesis principles and signal flow\n- Parameter relationships and interactions  \n- Frequency spectrum considerations\n- Timbral characteristics and sonic possibilities\n- Common applications in music production\n\n**Professional Applications:**\nModern producers use Sample Pack Creation for:\n- Creating signature sounds and textures\n- Designing genre-specific timbres\n- Building unique sonic identities\n- Crafting sounds that cut through mixes\n- Generating movement and evolution in arrangements\n\nUnderstanding these concepts gives you complete control over your sound palette.`\n      },\n      {\n        title: 'Practical Sound Design Workflow',\n        content: `Professional sound designers follow systematic approaches to achieve desired results:\n\n**Design Process:**\n1. **Define the goal** — Know what sound you're trying to create\n2. **Choose the method** — Select appropriate synthesis technique\n3. **Start simple** — Begin with basic waveforms and build complexity\n4. **Shape with filters** — Sculpt the frequency content\n5. **Add movement** — Use envelopes and modulation\n6. **Layer if needed** — Combine multiple sounds for richness\n7. **Process and polish** — Apply effects and finalize\n\n**Critical Listening:**\n- A/B compare with reference sounds\n- Analyze frequency spectrum with analyzers\n- Check mono compatibility\n- Test in context with other mix elements\n\n**Common Mistakes to Avoid:**\n- Over-processing before establishing the core sound\n- Too many modulation sources creating chaos\n- Ignoring the frequency spectrum balance\n- Not considering the sound's role in the arrangement\n\nStudy professional productions and reverse-engineer the sounds you admire.`\n      }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master the fundamental concepts of Sample Pack Creation\",\n    \"Understand signal flow and parameter relationships\",\n    \"Apply sound design techniques to practical productions\",\n    \"Develop critical listening skills for timbre and texture\",\n    \"Create professional-quality sounds for your productions\"\n  ],\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this lesson to master Sample Pack Creation techniques.\",\n    success: \"Excellent! You've mastered Sample Pack Creation. Your sound design skills are growing!\",\n    error: \"Review the theory and try again.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these techniques!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 7,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "sound-design-6"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Sample Pack Creation:",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "theory-7",
    "filename": "lesson-theory-7.config.js",
    "title": "Chord Construction:",
    "category": "Music Theory Fundamentals",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-theory-7-progress\",\n  lessonNumber: 7,\n  lessonCategory: \"Music Theory Fundamentals\",\n\n  nextLessonUrl: \"lesson-theory-8.html\",\n  prevLessonUrl: \"lesson-theory-6.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 7, categoryLabel: \"Music Theory Fundamentals\" }),\n    title: \"Chord Construction:\",\n    titleHighlight: \"Triads to Extensions\",\n    subtitle: \"Build chords from intervals: triads, seventh chords, extensions (9ths, 11ths, 13ths), and alterations. Master the theoretical foundation of harmony.\"\n  },\n\n  exercise: {\n    title: \"Build Chords from Intervals\",\n    description: \"Chords are built by stacking intervals, usually thirds. A triad has 3 notes (root-3rd-5th). Seventh chords add another 3rd. Extensions (9, 11, 13) continue the stack. Understanding chord construction allows you to build any chord from scratch and analyze harmonic progressions.\",\n    tip: \"Major triad = root + major 3rd (4 semitones) + perfect 5th (7 semitones from root). C major = C-E-G.\",\n    steps: [\n      '<strong>Major Triad</strong> — Root + major 3rd + perfect 5th. Example: C-E-G (C major).',\n      '<strong>Minor Triad</strong> — Root + minor 3rd + perfect 5th. Example: C-E♭-G (C minor).',\n      '<strong>Diminished Triad</strong> — Root + minor 3rd + diminished 5th. Example: C-E♭-G♭ (C dim).',\n      '<strong>Augmented Triad</strong> — Root + major 3rd + augmented 5th. Example: C-E-G♯ (C aug).',\n      '<strong>Seventh Chords</strong> — Add another 3rd above the 5th. Cmaj7: C-E-G-B. C7 (dominant): C-E-G-B♭. Cm7: C-E♭-G-B♭. Cm7♭5 (half-diminished): C-E♭-G♭-B♭.',\n      '<strong>Extensions</strong> — 9th (D), 11th (F), 13th (A) in C. Example: Cmaj9 = C-E-G-B-D.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Chord Construction from Intervals',\n        content: `\n**Triads (3-Note Chords):**\n\n**Major Triad:**\n- Formula: Root + M3 (4 semitones) + P5 (7 semitones)\n- Intervals: major 3rd + minor 3rd\n- Example: C-E-G\n- Sound: Happy, stable, consonant\n\n**Minor Triad:**\n- Formula: Root + m3 (3 semitones) + P5\n- Intervals: minor 3rd + major 3rd\n- Example: C-E♭-G\n- Sound: Sad, melancholic\n\n**Diminished Triad:**\n- Formula: Root + m3 + dim5 (6 semitones)\n- Intervals: minor 3rd + minor 3rd\n- Example: C-E♭-G♭\n- Sound: Tense, unstable, leads to resolution\n\n**Augmented Triad:**\n- Formula: Root + M3 + aug5 (8 semitones)\n- Intervals: major 3rd + major 3rd\n- Example: C-E-G♯\n- Sound: Dreamy, floating, unresolved\n\n**Seventh Chords (4-Note Chords):**\n\n**Major 7th (Maj7):**\n- Major triad + major 7th (11 semitones)\n- Example: Cmaj7 = C-E-G-B\n- Sound: Lush, jazzy, sophisticated\n\n**Dominant 7th (7):**\n- Major triad + minor 7th (10 semitones)\n- Example: C7 = C-E-G-B♭\n- Sound: Blues, tension, wants to resolve\n\n**Minor 7th (m7):**\n- Minor triad + minor 7th\n- Example: Cm7 = C-E♭-G-B♭\n- Sound: Smooth, jazzy, mellow\n\n**Half-Diminished (m7♭5):**\n- Diminished triad + minor 7th\n- Example: Cm7♭5 = C-E♭-G♭-B♭\n- Sound: Jazz, ii chord in minor keys\n\n**Diminished 7th (dim7):**\n- Diminished triad + diminished 7th (9 semitones)\n- Example: Cdim7 = C-E♭-G♭-B♭♭(A)\n- Sound: Maximum tension, symmetrical\n        `\n      },\n      {\n        title: 'Extensions and Alterations',\n        content: `\n**Extended Chords:**\n\n**9th Chords:**\n- Add the 9th (2nd octave up) above the 7th\n- Cmaj9: C-E-G-B-D\n- C9 (dominant): C-E-G-B♭-D\n- Cm9: C-E♭-G-B♭-D\n\n**11th Chords:**\n- Add 11th (4th octave up): F in C\n- Often omit the 3rd to avoid dissonance\n- Cm11: C-E♭-G-B♭-D-F\n- C11: C-(E)-G-B♭-D-F\n\n**13th Chords:**\n- Add 13th (6th octave up): A in C\n- Full stack: 1-3-5-7-9-11-13\n- Often voiced selectively (omit 5th and 11th)\n- Cmaj13: C-E-G-B-D-(F)-A\n\n**Alterations:**\n- **♭9**: Adds tension (C7♭9: C-E-G-B♭-D♭)\n- **♯9**: \"Hendrix chord\" (C7♯9: C-E-G-B♭-D♯)\n- **♭5 or ♯11**: Lydian sound (Cmaj7♯11: C-E-G-B-F♯)\n- **♯5**: Augmented quality (C7♯5: C-E-G♯-B♭)\n\n**Voicing Principles:**\n- **Close voicing**: Notes within an octave\n- **Open voicing**: Spread across multiple octaves\n- **Drop 2/Drop 3**: Lower specific chord tones for smoother voice leading\n- **Rootless voicings**: Omit root (bass plays it)\n\n**Common Mistakes:**\n- Stacking all notes literally (sounds muddy)\n- Not understanding interval quality (major vs minor 3rd)\n- Forgetting the 7th when building extended chords\n- Ignoring voice leading when moving between chords\n\n**Practical Applications:**\n- Jazz: Heavy use of 7ths, 9ths, 11ths, 13ths\n- Pop: Mostly triads with occasional 7ths\n- R&B/Neo-Soul: Extended and altered chords\n- Rock: Power chords (root-5th), triads, occasional 7ths\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Build all triad types from interval formulas\",\n    \"Construct seventh chords by adding thirds\",\n    \"Add extensions (9th, 11th, 13th) correctly\",\n    \"Apply alterations (♭9, ♯9, ♯11, ♭5) for color\",\n    \"Voice chords efficiently for different instruments\"\n  ]\n};\n",
    "number": 7,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "theory-6"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Chord Construction:",
      "Prepararsi alla lezione successiva del modulo Music Theory Fundamentals"
    ]
  },
  {
    "slug": "vocals-7",
    "filename": "lesson-vocals-7.config.js",
    "title": "Vocal Doubling & Layering:",
    "category": "Vocals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Vocals 7 - Vocal Doubling & Layering\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-vocals-7-progress\",\n  lessonNumber: 7,\n  lessonCategory: \"Vocals\",\n  \n  nextLessonUrl: \"lesson-vocals-8.html\",\n  prevLessonUrl: \"lesson-vocals-6.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 7, categoryLabel: \"Vocals\" }),\n    title: \"Vocal Doubling & Layering:\",\n    titleHighlight: \"Create Thick, Wide Vocals\",\n    subtitle: \"Master doubling techniques, harmonies, and layering for professional vocal productions. Master professional vocal production techniques for commercial-quality results.\"\n  },\n  \n  exercise: {\n    title: \"Master Vocal Doubling & Layering\",\n    description: \"Master doubling techniques, harmonies, and layering for professional vocal productions. This lesson covers the essential vocal production techniques used in professional recordings.\",\n    tip: \"Vocals are usually the focal point of a track. Spend extra time getting them right - they make or break the production.\",\n    steps: [\n      '<strong>Study vocal production theory</strong> — Understand the concepts and workflow.',\n      '<strong>Analyze reference vocals</strong> — Listen to professional vocal productions in your genre.',\n      '<strong>Apply the techniques</strong> — Practice the specific vocal processing methods.',\n      '<strong>Critical listening</strong> — Compare your results to professional standards.',\n      '<strong>Iterate and refine</strong> — Make adjustments based on what you hear.',\n      'Complete when you understand the practical application.'\n    ]\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Understanding Vocal Doubling & Layering',\n        content: `Vocal Doubling & Layering is crucial for achieving professional vocal productions that compete with commercial releases.\n\n**Core Concepts:**\n- Vocal recording and production fundamentals\n- Technical requirements and equipment considerations\n- Signal flow and processing chain order\n- Common issues and how to solve them\n- Genre-specific approaches and standards\n\n**Professional Workflow:**\n1. **Preparation** — Set up properly before recording\n2. **Capture** — Record high-quality source material\n3. **Edit** — Clean up and comp the best takes\n4. **Process** — Apply corrective and creative processing\n5. **Mix** — Blend vocals perfectly with the track\n6. **Finalize** — Ensure vocals translate across systems\n\n**Critical Factors:**\n- **Source quality** — Good recording = easier mixing\n- **Performance** — Technical skill matters more than processing\n- **Context** — Vocals must serve the song\n- **Reference** — Always compare to professional standards\n\nProfessional vocal producers understand that Vocal Doubling & Layering is both technical skill and artistic judgment.`\n      },\n      {\n        title: 'Professional Vocal Production Techniques',\n        content: `Apply Vocal Doubling & Layering in your productions with professional approaches:\n\n**Recording Best Practices:**\n- Proper mic placement and distance\n- Optimal gain staging and headroom\n- Multiple takes for comping\n- Consistent recording environment\n- Reference monitoring and acoustics\n\n**Processing Workflow:**\n1. **Clean up** — Remove unwanted sounds and noise\n2. **Tune** — Correct pitch issues (subtle or creative)\n3. **Time align** — Fix timing and rhythm issues\n4. **EQ** — Remove muddiness, add presence\n5. **Compress** — Control dynamics and consistency\n6. **De-ess** — Tame harsh sibilance\n7. **FX** — Add reverb, delay, modulation\n\n**Common Vocal Issues:**\n- **Muddiness** — High-pass filter at 80-100 Hz\n- **Harshness** — De-ess or cut 6-8 kHz\n- **Lack of presence** — Boost 3-5 kHz subtly\n- **Inconsistent levels** — Compression and automation\n- **Poor timing** — Edit before processing\n- **Pitch issues** — Tune before heavy processing\n\n**Genre Considerations:**\nDifferent genres require different vocal approaches:\n- **Pop** — Polished, present, tuned, compressed\n- **Hip-Hop** — Dry, upfront, minimal reverb\n- **R&B** — Smooth, warm, layered harmonies\n- **Rock** — Raw energy, less processing\n- **Electronic** — Creative effects, vocoders, pitch shifts\n\nStudy vocal productions in your genre and understand what makes them work.`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Master professional vocal production techniques\",\n    \"Understand the complete vocal workflow from recording to mixing\",\n    \"Apply genre-specific vocal processing approaches\",\n    \"Develop critical listening skills for vocal production\",\n    \"Create commercial-quality vocal recordings\"\n  ],\n  \n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this vocal production lesson to advance.\",\n    success: \"Excellent! You've mastered Vocal Doubling & Layering. Your vocal productions are pro-level!\",\n    error: \"Review the vocal production concepts and try again.\",\n    alreadyCompleted: \"You've completed this vocal technique. Keep refining your skills!\"\n  }),\n  \n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 7,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "vocals-6"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Vocal Doubling & Layering:",
      "Prepararsi alla lezione successiva del modulo Vocals"
    ]
  },
  {
    "slug": "arrangement-8",
    "filename": "lesson-arrangement-8.config.js",
    "title": "Dynamics & Contrast:",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 8 - Dynamics & Contrast\n *\n * This lesson teaches dynamic range management, the loud-quiet-loud technique,\n * and how to use contrast to create emotional impact.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-arrangement-8-progress\",\n  lessonNumber: 8,\n  lessonCategory: \"Arrangement\",\n  depthLevel: 3,\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-arrangement-9.html\",\n  prevLessonUrl: \"lesson-arrangement-7.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 8, categoryLabel: \"Arrangement\" }),\n    title: \"Dynamics & Contrast:\",\n    titleHighlight: \"The Power of Quiet\",\n    subtitle: \"Master the <strong>loud-quiet-loud</strong> technique. Learn how <strong>contrast creates impact</strong> and why <strong>silence is powerful</strong>. Professional arrangements breathe—they don't stay at one energy level.\"\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Create Dynamic Contrast in an Arrangement\",\n    description: \"Build an arrangement that uses <strong>dynamic contrast</strong> to create emotional impact. The secret to making loud sections hit hard is to have quiet sections before them. Learn to manage energy flow strategically.\",\n    tip: \"The biggest mistake beginners make is keeping everything at maximum energy. Professional tracks have dynamics—they get quieter to make the loud parts feel explosive. Think Pixies' \\\"loud-quiet-loud\\\" formula.\",\n    steps: [\n      { text: \"<strong>Start medium energy</strong> - Intro with 50-60% energy\" },\n      { text: \"<strong>Drop to minimal</strong> - Verse/breakdown with only 2-3 elements (30-40% energy)\" },\n      { text: \"<strong>Build gradually</strong> - Add elements progressively\" },\n      { text: \"<strong>Explode to maximum</strong> - Chorus/drop hits at 100% energy\" },\n      { text: \"<strong>Create at least 40% energy difference</strong> between quiet and loud sections\" },\n      { text: \"Use <strong>strategic silence</strong> (1-2 beats) before impact moments\" }\n    ]\n  },\n\n  // ====================\n  // DYNAMIC TECHNIQUES\n  // ====================\n  dynamicTechniques: [\n    {\n      name: \"Element Subtraction\",\n      icon: '<img src=\"images/speakeroff.png\" alt=\"🔇\" style=\"width: 1.5em;\">',\n      description: \"Remove instruments instead of adding them. Drop the drums, bass, or pads to create instant contrast.\",\n      examples: [\"Verse after chorus\", \"Post-chorus breakdown\", \"Bridge section\"],\n      energyChange: \"Drop 30-50%\"\n    },\n    {\n      name: \"Frequency Filtering\",\n      icon: \"🎛️\",\n      description: \"Use low-pass or high-pass filters to reduce frequency range, creating a 'filtered' or 'underwater' effect.\",\n      examples: [\"Intro buildup\", \"Transition effect\", \"Breakdown\"],\n      energyChange: \"Drop 20-40%\"\n    },\n    {\n      name: \"Strategic Silence\",\n      icon: \"⏸️\",\n      description: \"Brief moments of complete silence (1/4 to 1 beat) before big drops create massive impact.\",\n      examples: [\"Before drops\", \"Before chorus\", \"Before final section\"],\n      energyChange: \"Amplifies following section by 30%\"\n    },\n    {\n      name: \"Density Variation\",\n      icon: \"📊\",\n      description: \"Change the number of active elements. Sparse = low energy, dense = high energy.\",\n      examples: [\"Verse: 2-3 elements\", \"Chorus: 4-5 elements\"],\n      energyChange: \"Variable (20-60%)\"\n    }\n  ],\n\n  // ====================\n  // ENERGY LEVELS GUIDE\n  // ====================\n  energyLevelsGuide: {\n    minimal: { range: \"20-40%\", elements: \"1-2\", examples: [\"Intro\", \"Outro\", \"Breakdown\"] },\n    low: { range: \"40-60%\", elements: \"2-3\", examples: [\"Verse\", \"Pre-chorus\", \"Bridge\"] },\n    medium: { range: \"60-80%\", elements: \"3-4\", examples: [\"Pre-chorus\", \"Build-up\"] },\n    high: { range: \"80-100%\", elements: \"4-5\", examples: [\"Chorus\", \"Drop\", \"Final chorus\"] }\n  },\n\n  // ====================\n  // VALIDATION\n  // ====================\n  validation: {\n    type: \"dynamic-range\",\n    minEnergyDifference: 40, // Must have 40% difference between quietest and loudest\n    requireQuietSection: true,\n    requiredSilence: 1, // Must use at least one strategic silence\n    minSections: 4\n  },\n\n  // ====================\n  // MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"arrangement\", {\n    initial: \"Create an arrangement with strong dynamic contrast (40%+ energy difference)!\",\n    success: \"🎚️ Perfect dynamics! Your contrast creates real emotional impact. This is pro-level arrangement.\",\n    error: \"Check your energy range. You need bigger differences between quiet and loud sections.\",\n    alreadyCompleted: \"You've mastered dynamics! Try experimenting with even more extreme contrasts.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"structure-builder\",\n    sandbox: false,\n    showTimeline: true,\n    showEnergyGraph: true,\n    showDynamicMeter: true,\n    enableSilence: true\n  },\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"The Power of Dynamics and Contrast\",\n        content: `\n**Why Contrast Matters More Than Loudness:**\nAmateur producers try to make their tracks exciting by making everything loud. Professional producers create excitement through contrast—the interplay between loud and quiet, dense and sparse, complex and simple. The human brain responds to change, not constants. A track that stays at 100% energy for 3 minutes feels exhausting and monotonous. A track that moves between 30% and 100% feels dynamic and engaging.\n\n**The Loud-Quiet-Loud Formula:**\nThis technique, popularized by alternative rock bands like Pixies and Nirvana, has become universal across all genres. The formula:\n1. Start moderate or high energy (establish baseline)\n2. Drop energy significantly (create contrast)\n3. Return to high energy (the contrast makes it feel even more powerful)\n\nThe quiet section makes the loud section hit exponentially harder. The contrast is the magic—without the valley, there's no peak.\n\n**The Perceptual Loudness Principle:**\nA section at 80% energy feels loud or quiet depending on what came before it. After a 30% energy breakdown, 80% feels massive. After 100% energy, 80% feels underwhelming. This is perceptual relativity—our brains measure loudness relative to recent context, not absolutely.\n\n**Energy Management = Listener Engagement:**\nProfessional tracks manage energy like a rollercoaster: climb, peak, drop, climb again, bigger peak. Flat energy = listener boredom. Constant 100% energy = listener fatigue. Dynamic variation = sustained attention and emotional investment.\n\n**Real-World Examples:**\n- \"Smells Like Teen Spirit\" by Nirvana: Classic loud-quiet-loud (verse quiet, chorus loud)\n- \"Scary Monsters and Nice Sprites\" by Skrillex: Extreme quiet breakdown before massive drop\n- \"Rolling in the Deep\" by Adele: Verses sparse, chorus full and powerful\n- \"Humble.\" by Kendrick Lamar: Minimal verses, fuller hooks\n\nAll these tracks use contrast to create impact. None of them stay at constant energy.\n        `\n      },\n      {\n        title: \"Techniques for Creating Dynamic Contrast\",\n        content: `\n**1. Element Subtraction (The Most Powerful Tool):**\nDon't add elements to create intensity—remove elements to create valleys. This makes the full sections feel fuller by comparison.\n\n*How to Apply:*\n- Full chorus: Drums + Bass + Synths + Vocals + Strings (5 elements)\n- Sparse verse: Drums + Bass + Vocals (3 elements)\n- Minimal pre-chorus: Bass + Vocals only (2 elements)\n\nThe verse feels intimate because it's sparse. The chorus feels explosive because it's full. The contrast creates the impact.\n\n*Common Mistake:* Adding MORE elements to verses, trying to make them interesting. This destroys contrast. Verses should be intentionally restrained so choruses can explode.\n\n**2. Strategic Silence (Micro-Contrast):**\nBrief moments of silence (1/4 to 1/2 beat) before big moments create massive impact. This is micro-contrast—tiny gaps that reset the listener's ear and make the subsequent sound feel fresh and powerful.\n\n*How to Apply:*\n- Before drops: Cut everything for 1/4-1/2 beat, then hit the drop\n- Before final choruses: Use 1-beat silence before the climax\n- Mid-phrase: Occasional gaps in drum patterns create rhythmic interest\n\n*Famous Example:* The silence before the drop in EDM tracks. That micro-gap makes the drop hit 10x harder.\n\n**3. Frequency Spectrum Contrast:**\nChange which part of the frequency spectrum dominates:\n- Verses: Emphasize mids (vocals, guitar, keys)\n- Choruses: Add low-end power (bass, kick) and high-end sparkle (hi-hats, cymbals)\n- Breakdowns: Reduce low-end entirely (ethereal, floating feeling)\n\nMoving energy between frequency ranges creates contrast without changing overall loudness.\n\n**4. Density Contrast:**\nVary how many notes/events happen per second:\n- Dense sections: Fast hi-hats, arpeggiators, lots of rhythmic hits\n- Sparse sections: Long sustained notes, slow chord changes, space\n\nDensity contrast works independently of loudness—a quiet section with dense hi-hats feels busy, a loud section with whole notes feels spacious.\n\n**5. Mono vs Stereo Width Contrast:**\nNarrow the stereo image for verses (mono or center-focused), widen it for choruses (full stereo field). This creates spatial contrast:\n- Verse: Vocals and bass in center (narrow, intimate)\n- Chorus: Wide stereo guitars, spread synths, expanded field (huge, immersive)\n\n**6. Rhythmic Complexity Contrast:**\nAlternate between simple and complex rhythms:\n- Simple: Straight kick pattern, basic hi-hats\n- Complex: Syncopated kicks, polyrhythmic percussion\n\nThe shift from simple to complex (or vice versa) creates rhythmic contrast that keeps ears engaged.\n\n**7. Harmonic Contrast:**\nChange harmonic complexity:\n- Verses: Simple chord progressions (I-V-vi-IV)\n- Choruses: Add suspended chords, extensions, or key changes\n- Breakdowns: Move to relative minor or different key center\n\nHarmonic shifts create emotional contrast—simple feels stable, complex feels tense or colorful.\n        `\n      },\n      {\n        title: \"Building Dynamic Arrangements in Your DAW\",\n        content: `\n**The Energy Map Template:**\n\nCreate a visual energy map for your track before arranging:\n\n**Intro (Bars 1-8): 30% Energy**\n- Elements: Kick + pad only\n- Purpose: Set the vibe, ease listeners in\n\n**Verse 1 (Bars 9-24): 50% Energy**\n- Elements: Kick + bass + vocals\n- Purpose: Sparse for vocals, intimate feel\n\n**Pre-Chorus (Bars 25-28): 60% Energy**\n- Elements: Add percussion, rising energy\n- Purpose: Build toward chorus\n\n**Chorus 1 (Bars 29-44): 90% Energy**\n- Elements: ALL elements (kick, bass, synths, vocals, strings, percussion)\n- Purpose: Peak #1, full arrangement\n\n**Post-Chorus Silence (Bar 45): 0% Energy**\n- Elements: NOTHING (1-bar gap)\n- Purpose: Reset ears, create micro-contrast\n\n**Verse 2 (Bars 46-61): 55% Energy**\n- Elements: Kick + bass + vocals + light synth\n- Purpose: Slightly fuller than Verse 1 for variation\n\n**Chorus 2 (Bars 62-77): 95% Energy**\n- Elements: Full arrangement + one additional element\n- Purpose: Slightly bigger than Chorus 1\n\n**Breakdown/Bridge (Bars 78-93): 25% Energy**\n- Elements: Vocals + atmospheric pad only\n- Purpose: Create maximum contrast before final chorus\n\n**Final Chorus (Bars 94-117): 100% Energy**\n- Elements: Everything + doubles + key change\n- Purpose: Biggest moment of the track\n\n**Outro (Bars 118-125): 40% → 0% Energy**\n- Elements: Gradual removal leading to silence\n- Purpose: Gentle landing after climax\n\n**DAW Implementation Workflow:**\n\n**Step 1: Build Your Full Arrangement First**\nCreate the fullest version of your track (chorus energy everywhere). This is your 100% energy reference point.\n\n**Step 2: Identify Contrast Points**\nMark where you want valleys:\n- Verses (remove 40-50% of elements)\n- Breakdowns (remove 70-80% of elements)\n- Pre-drops (remove 90-100% of elements for 1-2 bars)\n\n**Step 3: Create Automation Lanes**\nSet up automation for:\n- **Master volume**: Subtle dips and swells (-2dB to +1dB)\n- **Reverb send**: More reverb in sparse sections, less in dense sections\n- **High-pass filter**: Cut lows in breakdowns, full spectrum in drops\n- **Stereo width**: Narrow for verses, wide for choruses\n\n**Step 4: Execute Element Subtraction**\nLiterally mute tracks during verses:\n- Full chorus: 10 active tracks\n- Verse: Mute 4-5 tracks (keep only essentials)\n- Breakdown: Mute 7-8 tracks (near-silence)\n\n**Step 5: Add Strategic Silence**\nUse clip splitting or automation:\n- Select the last 1/4 beat before a drop\n- Delete that section entirely (create silence)\n- Alternatively, automate master volume to -∞ for 1/4 beat\n\n**Step 6: Energy Check (Visual Verification)**\nZoom out and look at your waveform:\n- You should see clear valleys (verses, breakdowns)\n- Clear peaks (choruses, drops)\n- Gradual slopes (buildups)\n\nIf the waveform is a flat, consistent rectangle, you have no dynamic contrast.\n\n**Advanced Techniques:**\n\n**The \"Double Contrast\" Move:**\nAfter a massive chorus, don't go to a medium-energy verse—go to near-silence. The extreme contrast makes the next buildup feel even more powerful. Example structure:\n- Huge Chorus (100%) → Breakdown with just vocals (20%) → Buildup → Even Bigger Chorus (110%)\n\n**The \"False Peak\" Technique:**\nCreate a peak that sounds like it should be the climax, then create an even bigger peak later:\n- Chorus 1 (90%) → Verse → Chorus 2 (95%) → Breakdown (30%) → Final Chorus (110% with key change)\n\nThe final chorus surprises because listeners thought Chorus 2 was the peak.\n\n**The \"Sustained Quiet\" Approach:**\nSome tracks use extended quiet sections (30-60 seconds of sparse arrangement) to create enormous tension before final climaxes. Radiohead and Sigur Rós use this frequently.\n\n**Common Mistakes to Avoid:**\n\n**Mistake #1: \"Everything Loud All the Time\"**\nThis is the #1 amateur mistake. No contrast = no excitement = boring track.\n\n**Mistake #2: \"Timid Valleys\"**\nIf your \"quiet\" sections are still at 70% energy, the contrast isn't strong enough. Go lower—20-40% energy for valleys.\n\n**Mistake #3: \"Constant Dynamics\"**\nSome producers over-automate, creating constant swells and dips. This is distracting. Dynamic changes should be section-based, not bar-by-bar.\n\n**Mistake #4: \"No Reference Mixing\"**\nPull up 3 professional tracks in your genre. Look at their waveforms. Study where they place valleys and peaks. You'll see consistent patterns: big contrast = exciting tracks.\n\n**Pro Tip - The \"Subtraction Before Addition\" Rule:**\nBefore adding a new synth, effect, or layer, try REMOVING something first. Often, the track sounds better with less. Dynamic contrast isn't about having more elements—it's about strategically revealing and hiding the elements you have.\n\nMaster dynamic contrast, and your tracks will feel professional, engaging, and emotionally powerful. Remember: the power isn't in how loud you can make things—it's in how effectively you can contrast loud with quiet.\n        `\n      }\n    ]\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Understand the power of dynamic contrast in arrangements\",\n    \"Apply the loud-quiet-loud formula for maximum impact\",\n    \"Use element subtraction to create breathing room\",\n    \"Implement strategic silence before drops and choruses\",\n    \"Manage energy flow across an entire track\"\n  ],\n\n  // ====================\n  // REFERENCE\n  // ====================\n  reference: {\n    technique: \"Loud-Quiet-Loud\",\n    originators: [\"Pixies\", \"Nirvana\"],\n    modernUse: [\"EDM drops\", \"Pop chorus impact\", \"Hip-hop beat switches\"]\n  }\n};\n\nif (typeof window !== 'undefined') window.LESSON_CONFIG = lessonConfig;\n",
    "number": 8,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "arrangement-7"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Dynamics & Contrast:",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-8",
    "filename": "lesson-bass-8.config.js",
    "title": "Sub Bass Layering",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 8 - Sub Bass Layering\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-8-progress\",\n  lessonNumber: 8,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-9.html\",\n  prevLessonUrl: \"lesson-bass-7.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 8, categoryLabel: \"Bass & Low End\" }),\n    title: \"Sub Bass Layering\",\n    titleHighlight: \"\",\n    subtitle: \"Layer sub bass (pure sine wave) with mid bass for clarity and weight. Master the two-layer bass technique used in professional EDM, dubstep, and bass music production.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    bars: 1,\n    noteRange: { min: 36, max: 60 }, // C2 to C4 (bass range)\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Create a Layered Bass\",\n    description: \"Professional bass sounds often use two layers: a pure sub (felt) and a mid bass (heard). This separation creates weight without mud.\",\n    tip: \"Sub bass (C1-C2) is felt in your chest. Mid bass (C2-C4) is heard with clarity. Together they're powerful.\",\n    steps: ['Place <strong>C2 on step 1</strong> (low sub bass, duration 4).', 'Add <strong>C3 on step 1</strong> (mid bass, same timing, duration 2).', 'The C2 provides weight, C3 provides definition.', 'Play and feel the layered bass punch.']\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [{'title': 'Why Layer Bass?', 'content': '**Problem:** Single bass note can be muddy (too low) or thin (too high)\\n\\n**Solution:** Two layers:\\n1. **Sub bass (C1-C2):** Pure sine wave, felt not heard, provides weight\\n2. **Mid bass (C2-C4):** Richer waveform (saw/square), heard clearly, provides character\\n\\n**Result:** Powerful low end (sub) + clear definition (mid) = Professional bass'}, {'title': 'Production Technique', 'content': \"In a DAW, you'd use:\\n- **Sub:** Sine wave synth, no effects, C1-C2 range\\n- **Mid:** Sawtooth/square synth, distortion/filter, C2-C4 range\\n\\nBoth play same notes, different octaves. Sub provides club-system rumble, mid provides home-speaker clarity.\"}]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [{'pitch': 36, 'step': 0, 'duration': 4}, {'pitch': 48, 'step': 0, 'duration': 2}],\n    highlightScale: [48, 50, 52, 53, 55, 57, 59, 60], // C major scale in bass range\n    showChordDetection: false,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete the bass pattern exercise.\",\n    success: \"Excellent! You've mastered this bass technique.\",\n    error: \"Not quite. Check the target pattern and try again.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 8,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "bass-7"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Sub Bass Layering",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-8",
    "filename": "lesson-drums-8.config.js",
    "title": "House & Techno",
    "category": "Drums & Rhythm",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Drums 8 - House & Techno Drums\n * \n * This lesson teaches electronic dance music drum patterns including\n * four-on-the-floor, off-beat hi-hats, and minimal techno rhythms.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-drums-8-progress\",\n  lessonNumber: 8,\n  lessonCategory: \"Drums & Rhythm\",\n  depthLevel: 4,\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-drums-9.html\",\n  prevLessonUrl: \"lesson-drums-7.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 8, categoryLabel: \"Drums & Rhythm\" }),\n    title: \"House & Techno\",\n    titleHighlight: \"Drums\",\n    subtitle: \"Master the <strong>driving 4/4 patterns</strong> that power dance floors worldwide. Learn <strong>techno hi-hats</strong> and <strong>percussive rimshot accents</strong>.\"\n  },\n  \n  // ====================\n  // SEQUENCER CONFIG\n  // ====================\n  sequencer: {\n    tempo: 125,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true, // Essential for hi-hat dynamics and rimshot accents\n    requiredTempo: 125\n  },\n  \n  // ====================\n  // EXERCISE\n  // ====================\n  exercise: {\n    title: \"Build a Classic Techno Beat\",\n    description: \"Create a techno drum pattern with four-on-the-floor kick, hi-hats, clap backbeat, and rimshot accents.\",\n    tip: \"The rimshot adds percussive texture to the pattern—it hits on steps 7, 9, and 16 to create rhythmic interest.\",\n    steps: [\n      { text: \"<strong>Set the tempo to 125 BPM</strong> using the Tempo slider.\" },\n      { text: \"<strong>Kick:</strong> Four-on-the-floor on steps 1, 5, 9, 13.\" },\n      { text: \"<strong>Clap:</strong> Backbeat on steps 5 and 13 (beats 2 and 4).\" },\n      { text: \"<strong>Closed Hi-Hat:</strong> Off-beat steps 3, 7, 11, 15.\" },\n      { text: \"<strong>Rimshot:</strong> Accents on steps 7, 9, and 16.\" }\n    ]\n  },\n  \n  // ====================\n  // INSTRUMENTS\n  // ====================\n  instruments: [\n    {\n      id: \"kick\",\n      label: \"Kick\",\n      color: \"linear-gradient(135deg, #ff6b6b, #ee5a24)\",\n      targetSteps: [0, 4, 8, 12],\n      instructionText: \"Four-on-the-floor: kick on every quarter note (1, 5, 9, 13).\",\n      patternHint: {\n        enabled: true,\n        note: \"Kick: 1, 5, 9, 13 (every beat)\"\n      }\n    },\n    {\n      id: \"clap\",\n      label: \"Clap\",\n      color: \"linear-gradient(135deg, #feca57, #ff9f43)\",\n      targetSteps: [4, 12],\n      instructionText: \"Clap on beats 2 and 4 (steps 5 and 13).\",\n      patternHint: {\n        enabled: true,\n        note: \"Clap: 5, 13 (backbeat)\"\n      }\n    },\n    {\n      id: \"hihat\",\n      label: \"Hi-Hat (Closed)\",\n      color: \"linear-gradient(135deg, #00d2d3, #01a3a4)\",\n      targetSteps: [2, 6, 10, 14],\n      instructionText: \"Hi-hats on steps 3, 7, 11, 15.\",\n      patternHint: {\n        enabled: true,\n        note: \"Closed HH: 3, 7, 11, 15\"\n      }\n    },\n    {\n      id: \"rim\",\n      label: \"Rimshot\",\n      color: \"linear-gradient(135deg, #54a0ff, #2e86de)\",\n      targetSteps: [6, 8, 15],\n      instructionText: \"Rimshot on steps 7, 9, and 16 for rhythmic accents.\",\n      patternHint: {\n        enabled: true,\n        note: \"Rimshot: 7, 9, 16 (rhythmic accents)\"\n      }\n    }\n  ],\n  \n  // ====================\n  // PATTERN HINT\n  // ====================\n  patternHint: {\n    enabled: true,\n    note: \"Classic techno: Kick every beat, hi-hats, clap on 2 & 4, rimshot accents\"\n  },\n  \n  // ====================\n  // MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"drums\", {\n    initial: \"Build the classic techno beat pattern to complete this exercise.\",\n    success: \"Perfect! That's the authentic techno groove! The rimshot accents add great rhythmic texture.\",\n    error: \"Check your pattern—make sure all instruments match the target steps shown above.\",\n    alreadyCompleted: \"You've mastered techno drums! Try experimenting with tempo and variations.\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  },\n  \n  // ====================\n  // GENRE INFO\n  // ====================\n  genreInfo: {\n    name: \"House / Techno\",\n    tempoRange: { min: 118, max: 140 },\n    subgenres: [\n      { name: \"Deep House\", tempo: \"118-124 BPM\", character: \"Groovy, soulful, organic\" },\n      { name: \"Classic House\", tempo: \"120-128 BPM\", character: \"Driving, uplifting, energetic\" },\n      { name: \"Tech House\", tempo: \"124-130 BPM\", character: \"Minimal, hypnotic, groovy\" },\n      { name: \"Techno\", tempo: \"125-140 BPM\", character: \"Industrial, relentless, dark\" }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Understand the four-on-the-floor kick pattern\",\n    \"Program off-beat hi-hats for the house 'pump'\",\n    \"Create classic house and techno patterns\",\n    \"Know tempo ranges for different electronic subgenres\"\n  ]\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 8,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "drums-7"
    ],
    "outcomes": [
      "Applicare i concetti chiave di House & Techno",
      "Prepararsi alla lezione successiva del modulo Drums & Rhythm"
    ]
  },
  {
    "slug": "ear-8",
    "filename": "lesson-ear-8.config.js",
    "title": "Chord Progression:",
    "category": "Ear Training",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-ear-8-progress\",\n  lessonNumber: 8,\n  lessonCategory: \"Ear Training\",\n\n  nextLessonUrl: \"lesson-ear-9.html\",\n  prevLessonUrl: \"lesson-ear-7.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 8, categoryLabel: \"Ear Training\" }),\n    title: \"Chord Progression:\",\n    titleHighlight: \"Identify Harmonic Movement\",\n    subtitle: \"Identify common chord progressions and harmonic movement. Recognize I-IV-V, ii-V-I, and other foundational patterns by ear.\"\n  },\n\n  exercise: {\n    title: \"Recognize Chord Progressions by Ear\",\n    description: \"Chord progression ear training develops your ability to hear harmonic movement and identify which chords are being played. Instead of hearing individual notes, you hear functional relationships: tonic (home), subdominant (departure), dominant (tension). This skill is essential for learning songs quickly, analyzing harmonic structure, and understanding how chords create emotional movement.\",\n    tip: \"Start by identifying the bass note (root), then determine if the chord is major or minor, then recognize the Roman numeral function (I, IV, V, etc.).\",\n    steps: [\n      '<strong>I-IV-V-I</strong> — The most common progression in Western music. Tonic-Subdominant-Dominant-Tonic. Sounds: home-away-tension-home.',\n      '<strong>I-V-vi-IV</strong> — Pop progression (\"Axis of Awesome\"). Millions of songs use this. C-G-Am-F in C major.',\n      '<strong>ii-V-I</strong> — Jazz turnaround. Smooth voice leading, strong resolution. Dm7-G7-Cmaj7 in C major.',\n      '<strong>I-vi-IV-V</strong> — 50s progression. Doo-wop, early rock. C-Am-F-G in C major.',\n      '<strong>vi-IV-I-V</strong> — Sad pop progression. Starts on minor for emotional impact. Am-F-C-G in C major.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Chord Progression Recognition',\n        content: `\n**Functional Harmony Recap:**\n\n**Three Chord Functions:**\n1. **Tonic (T)**: I, vi, iii — Home, stable, resolution\n2. **Subdominant (SD)**: IV, ii — Movement away, preparation\n3. **Dominant (D)**: V, vii° — Tension, wants to resolve to tonic\n\n**Common Progressions by Genre:**\n\n**Pop/Rock:**\n- **I-V-vi-IV**: Most pop songs (thousands of examples)\n  - C-G-Am-F: \"Let It Be\", \"Don't Stop Believin'\", \"With or Without You\"\n- **I-IV-V**: Classic rock\n  - C-F-G: \"Twist and Shout\", \"La Bamba\", \"Wild Thing\"\n- **vi-IV-I-V**: Emotional pop\n  - Am-F-C-G: \"Apologize\", \"Grenade\"\n\n**Jazz:**\n- **ii-V-I**: The jazz turnaround\n  - Dm7-G7-Cmaj7: Smooth voice leading, strong resolution\n- **I-vi-ii-V**: Rhythm changes\n  - Cmaj7-Am7-Dm7-G7\n- **iii-vi-ii-V-I**: Extended progression\n  - Em7-Am7-Dm7-G7-Cmaj7\n\n**Blues:**\n- **I-I-I-I-IV-IV-I-I-V-IV-I-V**: 12-bar blues\n  - C7-C7-C7-C7-F7-F7-C7-C7-G7-F7-C7-G7\n  - Dominant 7th chords throughout\n\n**Folk:**\n- **I-IV-I-V**: Simple, campfire songs\n  - C-F-C-G: \"Blowin' in the Wind\"\n- **I-V-I-IV-I-V-I**: Extended folk pattern\n  - C-G-C-F-C-G-C\n\n**Gospel/R&B:**\n- **I-IV-ii-V**: Gospel turnaround\n  - C-F-Dm-G\n- **I-vi-ii-V**: Doo-wop progression\n  - C-Am-Dm-G\n\n**Recognizing by Function:**\n\n**Identify Movement Patterns:**\n- **Tonic → Subdominant → Dominant → Tonic**: I-IV-V-I (strongest)\n- **Tonic → Pre-dominant → Dominant → Tonic**: I-ii-V-I (smooth)\n- **Tonic → Dominant → Tonic**: I-V-I (simple, strong)\n\n**Circle of Fifths Progressions:**\n- **Descending 5ths**: vi-ii-V-I (Am-Dm-G-C)\n- **Ascending 4ths**: I-IV-vii°-iii-vi-ii-V-I (smooth voice leading)\n        `\n      },\n      {\n        title: 'Practical Chord Progression Ear Training',\n        content: `\n**Training Strategy:**\n\n**Week 1: I, IV, V Only**\n- Learn to distinguish the three primary chords\n- I sounds like home (stable)\n- IV sounds like departure (moves away)\n- V sounds like tension (wants to resolve)\n- Practice: I-IV-I, I-V-I, I-IV-V-I\n\n**Week 2: Add vi (Relative Minor)**\n- Now recognize I, IV, V, vi\n- vi sounds minor (sad) but related to I\n- Practice: I-V-vi-IV, I-vi-IV-V\n\n**Week 3: Add ii**\n- Pre-dominant chord (leads to V)\n- ii-V-I is the most important jazz progression\n- Practice: I-ii-V-I, vi-ii-V-I\n\n**Week 4: Full Diatonic Palette**\n- Add iii and vii° (less common)\n- Practice random diatonic progressions\n- Start analyzing real songs\n\n**Recognition Process:**\n\n**Step 1: Identify the Bass Note**\n- Listen to the lowest note (usually the root)\n- Sing it, find it on piano\n- This gives you the root of each chord\n\n**Step 2: Determine Chord Quality**\n- Major or minor?\n- Major = bright, minor = dark\n- 7th chord or triad?\n\n**Step 3: Assign Roman Numeral**\n- Based on bass note and quality\n- C major chord in key of C = I\n- A minor chord in key of C = vi\n- F major chord in key of C = IV\n\n**Step 4: Analyze Function**\n- Tonic, subdominant, or dominant?\n- Does it feel stable, departing, or tense?\n\n**Exercise 1: Frozen Progression**\nPlay one progression 100 times:\n- Day 1-7: Only I-IV-V-I in C major\n- Day 8-14: Only I-V-vi-IV in C major\n- Day 15-21: Only ii-V-I in C major\n- Internalize the sound completely\n\n**Exercise 2: Genre Immersion**\n- Listen to 10 pop songs, all use I-V-vi-IV\n- Identify the progression without instrument\n- Sing the bass line (root notes)\n- Notice how similar they all sound\n\n**Exercise 3: Progression Detective**\n1. Pick a song\n2. Find the key (play notes until one sounds like \"home\")\n3. Listen to bass line (identifies roots)\n4. Determine chord quality (major/minor)\n5. Assign Roman numerals (I, IV, V, vi, ii)\n\n**Exercise 4: Transpose Practice**\n- Learn I-IV-V-I in C major\n- Play it in G major, D major, F major\n- Same progression, different keys\n- Reinforces relative, not absolute recognition\n\n**Common Mistakes:**\n- Trying to identify chords in isolation (context matters!)\n- Not listening to the bass note first (bass is the foundation)\n- Ignoring chord quality (major vs minor changes the Roman numeral)\n- Not knowing the key (can't assign numerals without a tonic)\n- Expecting to hear every chord change (some are quick passing chords)\n\n**DAW Practice:**\n1. Create 4 MIDI tracks (I, IV, V, vi)\n2. Program triads for each\n3. Create random progressions: I-V-vi-IV, ii-V-I, etc.\n4. Play them back, identify by ear\n5. Check your answers\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Identify I, IV, V, vi, and ii chords by ear in major keys\",\n    \"Recognize common progressions: I-V-vi-IV, ii-V-I, I-IV-V\",\n    \"Use functional hearing (tonic, subdominant, dominant)\",\n    \"Transcribe chord progressions from songs by ear\",\n    \"Apply progression knowledge to composition and analysis\"\n  ]\n};\n",
    "number": 8,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "ear-7"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Chord Progression:",
      "Prepararsi alla lezione successiva del modulo Ear Training"
    ]
  },
  {
    "slug": "harmony-8",
    "filename": "lesson-harmony-8.config.js",
    "title": "Upgrade to 7ths:",
    "category": "Advanced Harmony",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 8 - Upgrade to 7ths: Maj7 & Min7\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-harmony-8-progress\",\n  lessonNumber: 8,\n  lessonCategory: \"Advanced Harmony\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-harmony-9.html\",\n  prevLessonUrl: \"lesson-harmony-7.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 8, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Upgrade to 7ths:\",\n    titleHighlight: \"Maj7 & Min7\",\n    subtitle: \"Turn basic three-note triads into lush four-note chords by adding the seventh. You'll learn major 7th (Cmaj7) and minor 7th (Dm7) chords - the smooth, sophisticated sound used in house, R&B, neo-soul, and jazz. This single technique instantly makes your progressions sound more professional and modern.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 95,\n    key: \"C\",\n    scale: \"Major\",\n    stepCount: 64,\n    bars: 4,\n    pitchRange: {\n      low: 48,  // C3\n      high: 84  // C6\n    }\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Build Cmaj7 and Dm7 Chords\",\n    description: \"Create a simple 4-bar progression using <strong>seventh chords</strong> instead of plain triads. You'll build <strong>Cmaj7 (C-E-G-B)</strong> and <strong>Dm7 (D-F-A-C)</strong> by stacking four notes. Seventh chords add warmth, sophistication, and harmonic richness that make your music sound instantly more professional.\",\n    tip: \"The magic of seventh chords is the added note on top. For major 7th (Cmaj7), stack Root-3rd-5th-7th (C-E-G-B). For minor 7th (Dm7), use the same pattern from the minor triad: Root-flat3rd-5th-flat7th (D-F-A-C). Listen for the smooth, jazzy quality.\",\n    steps: [\n      { text: \"Bar 1: Build <strong>Cmaj7</strong> by stacking C-E-G-B (all four notes on beat 1)\" },\n      { text: \"Bar 2: Build <strong>Dm7</strong> by stacking D-F-A-C (all four notes on beat 1)\" },\n      { text: \"Bar 3: Build <strong>Em7</strong> by stacking E-G-B-D (all four notes on beat 1)\" },\n      { text: \"Bar 4: Build <strong>Fmaj7</strong> by stacking F-A-C-E (all four notes on beat 1)\" },\n      { text: \"Make all notes <strong>2 beats long</strong> to hear them sustain\" },\n      { text: \"Play and listen for the lush, smooth quality vs basic triads\" }\n    ]\n  },\n\n  // ====================\n  // VALIDATION CONFIG\n  // ====================\n  validation: {\n    type: \"exact_chord_sequence\",\n    requiredChords: [\n      {\n        time: 0,\n        pitches: [60, 64, 67, 71],  // Cmaj7: C4, E4, G4, B4\n        chordName: \"Cmaj7\",\n        allowInversions: false\n      },\n      {\n        time: 16,\n        pitches: [62, 65, 69, 72],  // Dm7: D4, F4, A4, C5\n        chordName: \"Dm7\",\n        allowInversions: false\n      },\n      {\n        time: 32,\n        pitches: [64, 67, 71, 74],  // Em7: E4, G4, B4, D5\n        chordName: \"Em7\",\n        allowInversions: false\n      },\n      {\n        time: 48,\n        pitches: [65, 69, 72, 76],  // Fmaj7: F4, A4, C5, E5\n        chordName: \"Fmaj7\",\n        allowInversions: false\n      }\n    ],\n    simultaneous: true,\n    allowExtraNotes: false\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Build the four seventh chords: Cmaj7 (C-E-G-B), Dm7 (D-F-A-C), Em7 (E-G-B-D), Fmaj7 (F-A-C-E). Stack all four notes vertically.\",\n    success: \"Excellent! You've mastered seventh chords. Notice how they sound richer and more sophisticated than basic triads. This is the foundation of modern harmony in house, R&B, and jazz.\",\n    error: \"Check each chord: Cmaj7 = C-E-G-B, Dm7 = D-F-A-C, Em7 = E-G-B-D, Fmaj7 = F-A-C-E. Make sure all four notes are stacked vertically on the correct beat.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 8,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "harmony-7"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Upgrade to 7ths:",
      "Prepararsi alla lezione successiva del modulo Advanced Harmony"
    ]
  },
  {
    "slug": "mastering-8",
    "filename": "lesson-mastering-8.config.js",
    "title": "Stem Mastering:",
    "category": "Mastering",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mastering 8 - Stem Mastering\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mastering-8-progress\",\n  lessonNumber: 8,\n  lessonCategory: \"Mastering\",\n\n  nextLessonUrl: \"lesson-mastering-9.html\",\n  prevLessonUrl: \"lesson-mastering-7.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 8, categoryLabel: \"Mastering\" }),\n    title: \"Stem Mastering:\",\n    titleHighlight: \"Control with Grouped Stems\",\n    subtitle: \"Master with more flexibility and control using grouped stems—fix mix issues that stereo mastering can't address while preserving the mix engineer's vision\"\n  },\n\n  exercise: {\n    title: \"Master Using Grouped Stems\",\n    description: \"Set up a stem mastering session with drums, bass, music, and vocals stems, then apply targeted processing to achieve a polished master with control you don't have in stereo mastering.\",\n    tip: \"Stem mastering sits between mixing and stereo mastering. You have more control than stereo, but you're still working with pre-mixed groups. Respect the mixer's work—use your control to enhance, not rebuild. If you're making dramatic changes, the mix needs revision, not stem mastering.\",\n    steps: [\n      '<strong>Request proper stems</strong> — Ask for stems at session sample rate, same length, same start point. Standard stems: Drums, Bass, Music/Synths, Vocals, FX. All processing printed except master bus.',\n      '<strong>Import and verify alignment</strong> — Import all stems. Verify they start at the same point and are the same length. Sum all stems—should sound identical to the original stereo mix.',\n      '<strong>Set up bus routing</strong> — Route all stems to a Master Bus. Insert your mastering chain on the Master Bus (EQ, compression, limiter). This is your global processing.',\n      '<strong>Listen to the summed mix</strong> — Play all stems at unity. This is your starting point. Note any issues: Is the vocal buried? Bass too loud? Drums lacking punch?',\n      '<strong>Make stem-level balance adjustments</strong> — Before any processing, adjust stem levels if needed. ±1-2 dB to correct balance issues the mix engineer might have missed or that mastering perspective reveals.',\n      '<strong>Apply stem-specific EQ (if needed)</strong> — If one stem has an issue, address it on that stem only. Example: Drums need more low-end punch—boost 60-100 Hz on drums stem only.',\n      '<strong>Apply stem-specific compression (if needed)</strong> — If one stem needs dynamic control, apply to that stem. Example: Vocals inconsistent—apply gentle compression to vocals stem only.',\n      '<strong>Apply master bus EQ</strong> — After stem-level corrections, apply global EQ on the master bus. This should be more subtle now that stem issues are addressed.',\n      '<strong>Apply master bus compression</strong> — Gentle glue compression on the master bus. The stems are already processed, so this should be light (1-2 dB GR max).',\n      '<strong>Apply limiting</strong> — Apply limiting on master bus to hit target loudness (-14 LUFS). Same process as stereo mastering.',\n      '<strong>A/B against original mix</strong> — Compare your stem master to the original stereo mix (level-matched). Your master should sound better, but still faithful to the mix.',\n      '<strong>Export and verify</strong> — Export the stem master. Verify loudness, true peak, and mono compatibility. Listen through for any issues introduced by stem processing.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'What is Stem Mastering?',\n        content: `Stem mastering is the process of mastering using grouped submixes (stems) rather than a single stereo mix. It provides more control than stereo mastering while maintaining the mix engineer's overall vision.\n\n**Standard Stems:**\n- **Drums:** Kick, snare, hats, percussion, overheads—all bounced together\n- **Bass:** Bass guitar, synth bass, 808s\n- **Music/Synths:** Guitars, keys, pads, synths—melodic and harmonic elements\n- **Vocals:** Lead vocal, backing vocals, vocal effects\n- **FX (optional):** Reverb returns, delay returns, sound design\n\n**When Stem Mastering is Appropriate:**\n- Mix has specific issues that stereo mastering can't address\n- Client wants more control over final result\n- Working on your own productions (self-mastering with flexibility)\n- Album consistency requires matching levels across stems\n\n**When Stereo Mastering is Better:**\n- Mix is well-balanced and needs only polish\n- Faster turnaround required\n- Budget constraints\n- Established mix engineer's work you don't want to alter\n\n**The Hybrid Role:**\nStem mastering sits between mixing and stereo mastering:\n- More control than stereo mastering\n- Less control than full mixing\n- Access to grouped elements, not individual tracks\n- Respects the mixer's work while allowing targeted corrections`\n      },\n      {\n        title: 'Receiving and Verifying Stems',\n        content: `Proper stem delivery is critical for successful stem mastering. Verify everything before starting.\n\n**Stem Delivery Requirements:**\n| Requirement | Specification |\n|-------------|---------------|\n| Format | WAV (24-bit preferred) |\n| Sample rate | Session native (44.1, 48, 96 kHz) |\n| Length | All stems same length |\n| Start point | All stems start at same point |\n| Processing | All processing printed except master bus |\n| Headroom | Each stem peaks around -6 to -3 dBFS |\n\n**Verification Checklist:**\n1. **All stems same length?** Line up in DAW, check end points\n2. **Same start point?** Zoom in on first transient—should align perfectly\n3. **Sum to original?** Play all stems at unity—should match stereo mix exactly\n4. **Correct sample rate?** All stems match session rate\n5. **Proper headroom?** No stem clipping, reasonable levels\n\n**Common Stem Problems:**\n- **Different lengths:** Stems won't align—request re-export\n- **Missing processing:** If stems sound very different from stereo, processing wasn't printed\n- **Clipped stems:** If individual stems clip, mix needs revision\n- **Wrong sample rate:** Conversion artifacts—request correct rate\n\n**If Sum Doesn't Match:**\nIf stems at unity don't sum to match the stereo mix:\n- Master bus processing wasn't printed (fine—that's normal)\n- Different levels on stems (common—needs verification)\n- Missing stem (check all elements are covered)\n- Phase issue (rare—check alignment)`\n      },\n      {\n        title: 'Stem-Level Processing: When and How',\n        content: `The power of stem mastering is targeted processing on specific groups without affecting others. But this power should be used sparingly.\n\n**When to Process Stems:**\n- Specific group has an issue stereo mastering can't fix\n- One element needs level adjustment\n- Surgical EQ on one group without affecting others\n- Dynamic control on one group (e.g., vocals)\n\n**When NOT to Process Stems:**\n- No clear problem—don't process for the sake of it\n- Issue affects entire mix—use master bus instead\n- Dramatic changes needed—mix needs revision\n\n**Common Stem Corrections:**\n\n**Drums:**\n- Add low-end punch: boost 60-100 Hz\n- Reduce cymbal harshness: cut 3-5 kHz or high shelf\n- Increase snap: boost 2-4 kHz on snare\n- Glue compression if drums feel disconnected\n\n**Bass:**\n- Tighten low end: HPF at 30-40 Hz, slight compression\n- Add harmonic content for translation: subtle saturation\n- Reduce mud: cut 200-300 Hz\n\n**Music/Synths:**\n- Create space for vocals: cut 2-4 kHz\n- Add width: subtle M/S boost on sides\n- Reduce harshness: cut 3-5 kHz\n\n**Vocals:**\n- Increase presence: boost 3-5 kHz\n- Add air: high shelf at 10 kHz\n- Level consistency: gentle compression\n- De-essing: if sibilance wasn't controlled in mix\n\n**The Restraint Principle:**\nJust because you can process each stem doesn't mean you should. Process stems only when there's a clear problem that global processing can't solve. If you find yourself processing every stem, you're re-mixing, not mastering.`\n      },\n      {\n        title: 'Master Bus Processing in Stem Mastering',\n        content: `After any stem-level corrections, master bus processing glues everything together and achieves final loudness.\n\n**Stem Mastering Chain Order:**\n1. **Individual stem processing** (if needed)\n2. **Stems sum to master bus**\n3. **Master bus EQ** (global tonal shaping)\n4. **Master bus compression** (glue)\n5. **Master bus limiting** (loudness)\n\n**Master Bus EQ:**\nSame principles as stereo mastering, but often more subtle:\n- Stem corrections may have addressed major issues\n- Focus on overall tonal balance\n- HPF at 20-30 Hz (always)\n- Subtle high shelf for air if needed\n- Broad adjustments only (±1-2 dB)\n\n**Master Bus Compression:**\nEven more subtle than stereo mastering:\n- Stems may already be compressed\n- Very light glue (1-2 dB GR maximum)\n- Slow attack, auto release\n- Ratio 1.5:1 or 2:1\n\n**Master Bus Limiting:**\nSame as stereo mastering:\n- True peak ceiling at -1.0 dBTP\n- Limit to target LUFS (-14 for streaming)\n- Watch for artifacts from stem-level processing compounding\n\n**The Compounding Problem:**\nIf you compress individual stems AND the master bus aggressively, dynamics compound:\n- Stems with 3 dB GR + Master with 3 dB GR = heavily compressed\n- Solution: Go lighter on stem compression if using master bus compression\n- Or: Skip master bus compression if stems are already compressed`\n      },\n      {\n        title: 'Stem Mastering Workflow',\n        content: `A structured workflow ensures consistent results and prevents over-processing.\n\n**Phase 1: Setup and Verification**\n1. Import all stems\n2. Verify alignment and length\n3. Sum to master bus—should match original mix\n4. Note any issues from initial listen\n\n**Phase 2: Stem Corrections (if needed)**\n1. Identify specific stem issues\n2. Apply targeted processing (EQ, compression)\n3. Keep changes subtle (±1-2 dB)\n4. A/B each change—better or just different?\n\n**Phase 3: Master Bus Processing**\n1. Apply master bus EQ (subtle)\n2. Apply master bus compression (subtle)\n3. Apply limiting to target loudness\n\n**Phase 4: Quality Control**\n1. A/B against original stereo mix (level-matched)\n2. Check mono compatibility\n3. Verify loudness and true peak\n4. Listen on multiple systems\n\n**Phase 5: Export and Document**\n1. Export final master (24-bit WAV)\n2. Export stem bounces if requested\n3. Document any changes for client\n\n**The A/B Rule:**\nAt every stage, compare to the original mix:\n- Stem corrections: Does this improve on the mix?\n- Master bus: Does this enhance the corrected sum?\n- Final: Is the stem master clearly better than stereo mastering would be?\n\nIf the answer is no at any stage, reconsider the process.`\n      },\n      {\n        title: 'When Stem Mastering Isn\\'t the Answer',\n        content: `Stem mastering provides more control, but it's not always the right choice. Recognizing when to use it—and when not to—is important.\n\n**Stem Mastering is Appropriate When:**\n- One element needs targeted adjustment\n- Mix is good but has a specific fixable issue\n- Album consistency requires matching stem levels\n- Client specifically requests stem control\n\n**Stem Mastering is NOT Appropriate When:**\n\n**The Mix Needs Revision:**\nIf you find yourself making major changes to multiple stems (±4 dB, heavy EQ, aggressive compression), the mix needs work. Request a remix rather than trying to fix it in stem mastering.\n\n**Stereo Mastering Would Suffice:**\nIf the mix is well-balanced and only needs typical mastering (EQ, compression, limiting), stem mastering adds complexity without benefit.\n\n**Budget or Timeline Constraints:**\nStem mastering takes longer than stereo mastering. If time/budget is limited, stereo may be more appropriate.\n\n**The Slippery Slope:**\nStem mastering can become re-mixing:\n- \"I'll just adjust the vocal level\"\n- \"Maybe a bit of EQ on the drums\"\n- \"The synths could use some compression\"\n- \"Actually, let me completely rebalance everything\"\n\nBefore you know it, you've re-mixed the track. This isn't mastering—it's second-guessing the mixer. If changes are that dramatic, have the conversation about revision.\n\n**The Professional Approach:**\nWhen in doubt, ask: \"Would this change be better made in the mix?\" If yes, communicate with the mixer/client. Stem mastering fixes issues that became apparent in mastering context, not issues that should have been addressed earlier.`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Understand stem mastering: when to use it vs stereo mastering, standard stem configuration\",\n    \"Verify stem delivery: alignment, length, sum verification, proper headroom\",\n    \"Apply stem-level processing: targeted EQ and compression only when needed\",\n    \"Balance stem corrections with master bus processing: avoid compounding dynamics\",\n    \"Recognize when stem mastering isn't appropriate: mix revision vs mastering correction\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mastering lesson to master stem mastering techniques.\",\n    success: \"Excellent! You can now master with grouped stems for enhanced control.\",\n    error: \"Review the stem mastering concepts and try again.\",\n    alreadyCompleted: \"You've mastered Stem Mastering. Ready for Lesson 9!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 8,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "mastering-7"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Stem Mastering:",
      "Prepararsi alla lezione successiva del modulo Mastering"
    ]
  },
  {
    "slug": "mixing-8",
    "filename": "lesson-mixing-8.config.js",
    "title": "Delay and Time-Based Effects:",
    "category": "Mixing",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mixing 8 - Delay and Time-Based Effects\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-8-progress\",\n  lessonNumber: 8,\n  lessonCategory: \"Mixing\",\n\n  nextLessonUrl: \"lesson-mixing-9.html\",\n  prevLessonUrl: \"lesson-mixing-7.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 8, categoryLabel: \"Mixing\" }),\n    title: \"Delay and Time-Based Effects:\",\n    titleHighlight: \"Rhythmic Interest\",\n    subtitle: \"Rhythm, width, and controlled repeats without washing out the mix\"\n  },\n\n  exercise: {\n    title: \"Rhythmic Delay and Vocal Throws\",\n    description: \"Set up a tempo-synced vocal delay return with filtered feedback, automate throw moments, add ducking for clarity, and integrate delay with Lesson 7's reverb returns while protecting headroom.\",\n    tip: \"If a delay feels messy, reduce feedback first and darken the repeats (LPF) before turning the return down. Quiet, filtered repeats often read as 'space' more reliably than loud, bright repeats.\",\n    steps: [\n      '<strong>Load session</strong> — Open your previous session \"Mixing-7_ReverbDepth\" and immediately save a new version named \"Mixing-8_DelayFX\".',\n      '<strong>Note tempo</strong> — Choose a 20–30 second loop (commonly a chorus/drop). Note the project tempo (BPM), because you will cross-check rhythmic delay times against it.',\n      '<strong>Verification</strong> — Confirm no track, return, bus, or master is clipping. Keep the master peak meter visible and aim to keep mix peaks comfortably below full scale (a practical mixing target is to remain under about -6 dBFS peak while adding time-based effects).',\n      '<strong>Create delay return</strong> — Create a return/aux track named \"Vocal Delay (Tempo)\". Insert a delay plugin and set it to 100% wet (return workflow).',\n      '<strong>Set tempo-sync time</strong> — Enable tempo sync on the delay and set the delay time to 1/8 or dotted 1/8. Cross-check with the tempo: at 120 BPM, 1/8 ≈ 250 ms and dotted 1/8 ≈ 375 ms (your DAW may display this).',\n      '<strong>Set feedback</strong> — Set Feedback to a moderate starting point (e.g., 25–40%) so you hear roughly 2–5 audible repeats. Verify by sending a short vocal word or snare hit and counting the repeats before they fade.',\n      '<strong>Configure filtering</strong> — Set a high-pass around 200 Hz and a low-pass around 7–9 kHz (either inside the delay\\'s feedback section or by inserting an EQ after the delay). Verify that the repeats sound darker/thinner than the dry vocal.',\n      '<strong>Set stereo behaviour</strong> — Choose Ping-Pong (if available) or unlink L/R and offset one side slightly (e.g., left = 1/8, right = dotted 1/8). Verify width by listening on headphones, then briefly check mono for comb-filtering or level drops.',\n      '<strong>Send vocal to delay</strong> — From the Lead Vocal track (or Vocal Bus), create a post-fader send to \"Vocal Delay (Tempo)\". Raise the send until the delay is clearly audible, then back it down until it supports the vocal without sounding like a second lead.',\n      '<strong>Create throw delay</strong> — Create a second return/aux named \"Vocal Throw (Wide)\". Insert another delay, set 100% wet, set time to 1/4 or dotted 1/8 (choose a contrasting rhythm), set feedback slightly lower (e.g., 15–30%) for 1–3 repeats, and apply similar HPF/LPF filtering.',\n      '<strong>Automate throw</strong> — On the Lead Vocal send to \"Vocal Throw (Wide)\", draw automation so the send stays at -∞ (or very low) most of the time, then briefly rises for one chosen word or phrase ending. Verify by looping: only the selected phrase should trigger the throw.',\n      '<strong>Implement ducking</strong> — If your delay has built-in ducking, enable it and adjust threshold until repeats tuck under the active vocal and rise in gaps. If not available, insert a compressor after the delay on the return, sidechain it from the dry Lead Vocal, set attack 1–5 ms, release 150–300 ms, ratio ~4:1, and adjust threshold for about 3–6 dB gain reduction during vocal phrases.',\n      '<strong>Depth integration</strong> — Optional: send a small amount of \"Vocal Delay (Tempo)\" to your long reverb return (e.g., \"Verb (Long)\") to seat repeats behind the dry vocal. Verify that the repeats feel less \"stuck on top\" without reducing vocal clarity.',\n      '<strong>Headroom check</strong> — Confirm neither delay return clips (especially with higher feedback). Ensure the master peak remains within your mixing headroom target; if it rises, reduce return outputs or send levels before changing timing.',\n      '<strong>Export and compare</strong> — Export two 20–30 second bounces: (A) \"Mixing-8_PreDelay\" with both delay returns muted, and (B) \"Mixing-8_PostDelay\" with delays active. Re-import both, level-match, and A/B. Write down (1) the rhythmic role the delay created, and (2) what you changed (filters, ducking, feedback) to keep the vocal intelligible.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Delay vs Reverb: Discrete Echoes vs Diffuse Ambience',\n        content: `A delay creates one or more time-shifted copies of the original signal. When those copies are clearly separated from the dry sound, you perceive them as repeats (echoes). In acoustics, \"echo\" is commonly described as a discrete reflection that arrives at least around 50 ms after the direct sound and stands out from the background reverberant field.\n\n**Reverb**, by contrast, is the dense, decaying field that builds up after many reflections—it tends to read as continuous ambience rather than individual repeats.\n\n**The Practical Mix Choice:**\n- **Delay**: Adds rhythmic interest, fills gaps between phrases, creates stereo motion while keeping the dry source intelligible\n- **Reverb**: Excellent for cohesion and front-to-back depth, but longer decay times can occupy continuous bandwidth and soften diction\n\n**Many modern mixes use both:** delay contributes movement and clarity, while a short room or controlled plate provides glue and a shared sense of environment.\n\n**Decision Test:**\nDo you want the listener to notice repeats (delay as effect), or to feel a spatial bed (reverb as glue)? Once you decide, use return tracks for most delays, set the delay 100% wet on the return, and control the amount from sends so your dry balance and headroom remain predictable.`\n      },\n      {\n        title: 'Core Delay Parameters: Time, Feedback, Filtering, and Stereo',\n        content: `**Delay Time** determines whether a delay reads as rhythm, thickening, or spatial widening. Most delays offer time in milliseconds (free) or tempo-sync note values.\n\n**Tempo-Sync Formulas:**\n<pre style=\"background: #1a1a2e; padding: 12px; border-radius: 4px; margin: 1em 0;\">\nQuarter note (ms) = 60,000 ÷ BPM\nEighth note (ms) = 30,000 ÷ BPM\nSixteenth note (ms) = 15,000 ÷ BPM\nDotted = multiply by 1.5\nTriplet = multiply by 2/3\n</pre>\n\n| Value | 120 BPM | Common Role |\n|-------|---------|-------------|\n| 1/8 | 250 ms | Energy/motion |\n| 1/8 dotted | 375 ms | Syncopation/\"push\" |\n| 1/4 | 500 ms | Space between lines |\n| Slapback | 80–140 ms | Thickening/vibe |\n\n**Feedback** controls the number of repeats: low (~10–25%) = few repeats; moderate (~30–60%) = longer trail; very high = approaches self-oscillation.\n\n**Filters** keep delays mix-ready: HPF repeats (~150–300 Hz) reduces low-end build-up; LPF (~6–10 kHz) keeps repeats behind the lead.\n\n**Stereo options** include ping-pong, independent L/R times, and Haas-style micro-delays (5–25 ms). Check mono occasionally—short offsets can create comb filtering.`\n      },\n      {\n        title: 'Delay Types and Character',\n        content: `Delay \"type\" is mostly about repeat tone, time stability, and whether the device adds movement or saturation as repeats recirculate.\n\n**Simple/Digital Delay:**\nClean, stable repeats close to a copy of the original. Useful for precise rhythmic patterns (tight vocal throws, rhythmic guitars) and for learning timing because the repeats are easy to hear and measure.\n\n**Tape/Analog-Style Delay:**\nIntentionally degrades repeats with saturation, high-frequency loss, noise, wow/flutter, or time-change \"repitch\" behaviour. Helps repeats sit behind the dry source because they become darker and less literal.\n\n**Modulated Delay:**\nAdds LFO or envelope movement to delay time and/or filtering. Produces chorus-like widening at short settings (~10–35 ms) and a more animated trail at longer times.\n\n**Slapback:**\nA single short repeat (~80–140 ms) that thickens vocals or guitars and implies a lively space without a long tail. Classic rockabilly and vocal production technique.\n\n**Ping-Pong:**\nAlternates repeats left/right for obvious width and ear candy. Still benefits from filtered feedback so the echo doesn't dominate the mix.`\n      },\n      {\n        title: 'Rhythmic Techniques: Tempo-Sync and Vocal Throws',\n        content: `**Tempo-synced delays** are most convincing when they support the groove rather than competing with it.\n\n**Choosing a Role:**\n- **Quarter-note delay**: Reads as \"space between lines\"\n- **Eighth-note delay**: Energises and creates subtle push\n- **Sixteenth-note delay**: Adds sparkle but can clutter fast vocals\n- **Dotted eighths (1/8D)**: Create off-beat syncopation in straight 4/4\n- **Triplet values**: Reinforce swing or shuffle feels\n\nBecause repeats are rhythmically organised, tempo-sync often lets you use smaller send moves while still hearing a clear effect.\n\n**Throw Delays:**\nA workflow technique where you automate a send so only specific words or phrase endings trigger repeats. This preserves clarity in busy lines and makes delay feel intentional.\n\n**Practical Method:**\n1. Keep the delay return low by default\n2. Automate a brief send boost (+6 to +12 dB) on the last word of a line\n3. The repeat blooms into the gap after the vocal stops\n4. Level-match A/B: if the better version is only louder, trim the return\n\n**Two Refinements:**\n- Filter the repeats (HPF + LPF) so the echo sits behind the dry\n- Reduce feedback for throws (1–3 repeats) to avoid masking the next lyric`\n      },\n      {\n        title: 'Creative Chains: Delay with Reverb and Modulation',\n        content: `Delays become more mix-ready when placed inside a deliberate spatial chain.\n\n**Delay → Reverb:**\nSending delay into reverb can push repeats backwards and make them feel like part of the ambience. Useful when the dry vocal needs to remain forward but the repeats should \"live\" behind it.\n\n**Reverb → Delay:**\nCreates rhythmic, ghostly tails. Can be effective for ambient textures, but can crowd a busy pop arrangement quickly if the return isn't filtered and automated.\n\n**Modulation as a Depth Cue:**\n- Light modulation (slow rate, small depth) makes repeats feel less static\n- Can keep a sync delay from sounding like copy-paste\n- Strong modulation becomes a chorus-like effect—useful as a special moment rather than a constant mix bed\n\n**Time Automation:**\nIf your delay offers different transition modes (repitch vs fade/jump), changing delay time while audio is repeating can deliberately pitch-shift or smear the repeat. Automation of time, feedback, and filtering can function as an effect \"performance.\"`\n      },\n      {\n        title: 'Ducking, Routing, and Common Mistakes',\n        content: `**Ducking** solves the problem of repeats competing with the dry signal during phrases. It reduces the wet signal while the dry source is present, then lets repeats rise in the gaps.\n\n**Ducking Setup:**\n- Some delays include built-in ducking\n- Otherwise: insert a compressor on the delay return, sidechain from the dry vocal\n- Settings: ratio ~4:1, attack 1–5 ms, release 150–300 ms, threshold for ~3–6 dB GR while vocal is active\n- Goal: intelligibility first, repeats second\n\n**Routing Discipline:**\n- Use return workflow (delay 100% wet, control via sends)\n- Post-fader sends keep wet/dry stable when you ride the vocal fader\n- Pre-fader sends are useful for special transitions\n\n**Common Mistakes:**\n- **Too much return level**: Repeats overpower the dry\n- **Too much feedback**: Creates a wash that never settles\n- **Repeats too bright**: Compete with the lead instead of supporting\n- **Headroom loss**: Feedback accumulation can clip the return or master—verify peaks after dialing feedback\n- **Haas micro-delay issues**: Can sound wide in stereo but create comb filtering in mono if pushed too far`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Distinguish delay from reverb by identifying discrete repeats versus diffuse ambience, and choose an effect based on mix intent (rhythm vs depth)\",\n    \"Configure a tempo-synced delay (time, feedback, filters, stereo mode) and verify the result with level-matched A/B comparisons\",\n    \"Implement filtered feedback (HPF/LPF) and stereo spread (ping-pong, L/R offsets, Haas micro-delays) while checking mono compatibility\",\n    \"Automate delay sends to create vocal throw effects that land in gaps without masking the next lyric\",\n    \"Apply ducking (built-in or sidechained) on a delay return and evaluate clarity, headroom, and translation using the workflow from Lessons 2 and 7\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mixing lesson to advance your skills.\",\n    success: \"Excellent! You've mastered Delay and Time-Based Effects. Your mixes are improving!\",\n    error: \"Review the mixing concepts and try again.\",\n    alreadyCompleted: \"You've completed this mixing technique. Keep practicing!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 8,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "mixing-7"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Delay and Time-Based Effects:",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-8",
    "filename": "lesson-sound-design-8.config.js",
    "title": "Granular Synthesis:",
    "category": "Sound Design",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Sound Design 8 - Granular Synthesis\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-sound-design-8-progress\",\n  lessonNumber: 8,\n  lessonCategory: \"Sound Design\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-sound-design-9.html\",\n  prevLessonUrl: \"lesson-sound-design-7.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 8, categoryLabel: \"Sound Design\" }),\n    title: \"Granular Synthesis:\",\n    titleHighlight: \"Manipulate Tiny Sound Grains\",\n    subtitle: \"Work with microscopic sound particles to create atmospheric textures and experimental effects. Master professional sound design techniques used in modern music production.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Explore Granular Synthesis\",\n    description: \"Work with microscopic sound particles to create atmospheric textures and experimental effects. This lesson covers the essential concepts and practical techniques you need to master this sound design method.\",\n    tip: \"Listen critically to how each parameter affects the sound. Small changes can have dramatic results in sound design.\",\n    steps: [\n      '<strong>Study the theory</strong> — Read through the sound design concepts and understand the signal flow.',\n      '<strong>Analyze the examples</strong> — Listen to reference sounds and identify key characteristics.',\n      '<strong>Experiment with parameters</strong> — Try different settings and hear how they change the sound.',\n      '<strong>Create variations</strong> — Design multiple versions exploring different timbres.',\n      '<strong>Save your presets</strong> — Document successful sounds for future use.',\n      'Complete the lesson when ready to move forward.'\n    ]\n  },\n  \n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Granular Synthesis',\n        content: `Granular Synthesis is a fundamental sound design technique that shapes the sonic character of your productions.\n\n**Key Concepts:**\n- Core synthesis principles and signal flow\n- Parameter relationships and interactions  \n- Frequency spectrum considerations\n- Timbral characteristics and sonic possibilities\n- Common applications in music production\n\n**Professional Applications:**\nModern producers use Granular Synthesis for:\n- Creating signature sounds and textures\n- Designing genre-specific timbres\n- Building unique sonic identities\n- Crafting sounds that cut through mixes\n- Generating movement and evolution in arrangements\n\nUnderstanding these concepts gives you complete control over your sound palette.`\n      },\n      {\n        title: 'Practical Sound Design Workflow',\n        content: `Professional sound designers follow systematic approaches to achieve desired results:\n\n**Design Process:**\n1. **Define the goal** — Know what sound you're trying to create\n2. **Choose the method** — Select appropriate synthesis technique\n3. **Start simple** — Begin with basic waveforms and build complexity\n4. **Shape with filters** — Sculpt the frequency content\n5. **Add movement** — Use envelopes and modulation\n6. **Layer if needed** — Combine multiple sounds for richness\n7. **Process and polish** — Apply effects and finalize\n\n**Critical Listening:**\n- A/B compare with reference sounds\n- Analyze frequency spectrum with analyzers\n- Check mono compatibility\n- Test in context with other mix elements\n\n**Common Mistakes to Avoid:**\n- Over-processing before establishing the core sound\n- Too many modulation sources creating chaos\n- Ignoring the frequency spectrum balance\n- Not considering the sound's role in the arrangement\n\nStudy professional productions and reverse-engineer the sounds you admire.`\n      }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master the fundamental concepts of Granular Synthesis\",\n    \"Understand signal flow and parameter relationships\",\n    \"Apply sound design techniques to practical productions\",\n    \"Develop critical listening skills for timbre and texture\",\n    \"Create professional-quality sounds for your productions\"\n  ],\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this lesson to master Granular Synthesis techniques.\",\n    success: \"Excellent! You've mastered Granular Synthesis. Your sound design skills are growing!\",\n    error: \"Review the theory and try again.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these techniques!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 8,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "sound-design-7"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Granular Synthesis:",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "theory-8",
    "filename": "lesson-theory-8.config.js",
    "title": "Functional Harmony:",
    "category": "Music Theory Fundamentals",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-theory-8-progress\",\n  lessonNumber: 8,\n  lessonCategory: \"Music Theory Fundamentals\",\n\n  nextLessonUrl: \"labs.html\",\n  prevLessonUrl: \"lesson-theory-7.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 8, categoryLabel: \"Music Theory Fundamentals\" }),\n    title: \"Functional Harmony:\",\n    titleHighlight: \"Roman Numerals & Chord Function\",\n    subtitle: \"Understand chord function: tonic, subdominant, dominant. Learn Roman numeral analysis and how chords create tension and resolution.\"\n  },\n\n  exercise: {\n    title: \"Analyze Chord Progressions with Roman Numerals\",\n    description: \"Functional harmony describes how chords relate to the tonic (home chord). Chords have roles: tonic (stable, home), subdominant (moves away), dominant (creates tension, wants to resolve back to tonic). Roman numerals (I, ii, iii, IV, V, vi, vii°) show chord function independent of key.\",\n    tip: \"The most important progression in Western music: I-IV-V-I. In C major: C-F-G-C. This is the foundation of pop, rock, blues, and classical music.\",\n    steps: [\n      '<strong>Tonic Function (I, vi)</strong> — Home, stable, resolution. C major (I) or A minor (vi) in key of C.',\n      '<strong>Subdominant Function (IV, ii)</strong> — Moves away from home, prepares tension. F major (IV) or D minor (ii) in key of C.',\n      '<strong>Dominant Function (V, vii°)</strong> — Maximum tension, wants to resolve to I. G major (V) or B diminished (vii°) in key of C.',\n      '<strong>Diatonic Chords in Major</strong> — I (major), ii (minor), iii (minor), IV (major), V (major), vi (minor), vii° (diminished).',\n      '<strong>Common Progressions</strong> — I-V-vi-IV (pop), I-IV-V (blues), ii-V-I (jazz), I-vi-IV-V (50s progression).'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Functional Harmony',\n        content: `\n**Chord Functions:**\n\n**Tonic (T) — Home:**\n- Chords: I, vi (iii less common)\n- Function: Stability, resolution, \"home base\"\n- Feeling: Rest, completion\n- Usage: Start and end progressions here\n\n**Subdominant (SD) — Departure:**\n- Chords: IV, ii (vi can substitute)\n- Function: Move away from tonic, prepare dominant\n- Feeling: Gentle tension, movement\n- Usage: Bridge between tonic and dominant\n\n**Dominant (D) — Tension:**\n- Chords: V, vii° (iii can substitute)\n- Function: Strong pull back to tonic\n- Feeling: Urgency, needs resolution\n- Usage: Creates the most powerful cadences\n\n**Diatonic Chords in C Major:**\n- **I** - C major (tonic)\n- **ii** - D minor (subdominant)\n- **iii** - E minor (tonic substitute)\n- **IV** - F major (subdominant)\n- **V** - G major (dominant)\n- **vi** - A minor (tonic substitute)\n- **vii°** - B diminished (dominant function)\n\n**Diatonic Chords in A Minor (Natural):**\n- **i** - A minor (tonic)\n- **ii°** - B diminished (subdominant)\n- **III** - C major (tonic substitute)\n- **iv** - D minor (subdominant)\n- **v** - E minor (dominant — weak)\n- **VI** - F major (subdominant substitute)\n- **VII** - G major (subtonic)\n\n*Note: Harmonic minor raises the 7th, making V major for stronger resolution*\n        `\n      },\n      {\n        title: 'Roman Numeral Analysis and Progressions',\n        content: `\n**Roman Numeral System:**\n\n**Uppercase = Major chord:**\n- I, IV, V in major keys\n- III, VI, VII in minor keys\n\n**Lowercase = Minor chord:**\n- ii, iii, vi in major keys\n- i, iv, v in minor keys\n\n**° = Diminished:**\n- vii° in major keys\n- ii° in minor keys\n\n**+ = Augmented:**\n- Rare, usually altered chords\n\n**Common Progressions:**\n\n**I-IV-V-I** (Tonic-Subdominant-Dominant-Tonic)\n- The \"perfect authentic cadence\"\n- Foundation of blues, rock, country, pop\n- C-F-G-C in key of C major\n\n**I-V-vi-IV** (\"Axis progression\")\n- Pop/rock standard (thousands of songs)\n- C-G-Am-F in C major\n- Creates loop that never fully resolves\n\n**ii-V-I** (Jazz turnaround)\n- Most important jazz progression\n- Dm7-G7-Cmaj7 in C major\n- Smooth voice leading, strong resolution\n\n**I-vi-IV-V** (50s progression)\n- Doo-wop, early rock\n- C-Am-F-G in C major\n\n**vi-IV-I-V** (\"Sad pop progression\")\n- Am-F-C-G in C major\n- Starts on relative minor for emotional impact\n\n**Cadences:**\n- **Perfect Authentic**: V → I (strongest)\n- **Plagal**: IV → I (\"Amen\" cadence)\n- **Half Cadence**: ends on V (open-ended)\n- **Deceptive**: V → vi (unexpected resolution)\n\n**Voice Leading Rules:**\n- Move chord tones by smallest intervals possible\n- Avoid parallel 5ths and octaves (classical)\n- Resolve tendency tones (7th → 1, 4th → 3rd)\n- Keep common tones between chords\n\n**Modulation:**\n- **Pivot chord**: Shared chord between two keys\n- **Direct/Abrupt**: Jump to new key\n- **Sequential**: Pattern moves through keys\n\n**Common Mistakes:**\n- Not understanding why progressions work (function)\n- Ignoring voice leading (jumpy, disconnected)\n- Overusing I-V-vi-IV without variation\n- Forgetting that minor keys need harmonic minor for strong V\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Identify tonic, subdominant, and dominant function chords\",\n    \"Use Roman numeral analysis on any progression\",\n    \"Build strong cadences using functional harmony\",\n    \"Apply common progressions to your compositions\",\n    \"Understand voice leading between chords\"\n  ]\n};\n",
    "number": 8,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "theory-7"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Functional Harmony:",
      "Prepararsi alla lezione successiva del modulo Music Theory Fundamentals"
    ]
  },
  {
    "slug": "vocals-8",
    "filename": "lesson-vocals-8.config.js",
    "title": "Harmony & Backing Vocals:",
    "category": "Vocals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Vocals 8 - Harmony & Backing Vocals\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-vocals-8-progress\",\n  lessonNumber: 8,\n  lessonCategory: \"Vocals\",\n  \n  nextLessonUrl: \"lesson-vocals-9.html\",\n  prevLessonUrl: \"lesson-vocals-7.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 8, categoryLabel: \"Vocals\" }),\n    title: \"Harmony & Backing Vocals:\",\n    titleHighlight: \"Arrange & Produce Vocal Stacks\",\n    subtitle: \"Arrange and produce harmony vocals, ad-libs, and background vocal stacks. Master professional vocal production techniques for commercial-quality results.\"\n  },\n  \n  exercise: {\n    title: \"Master Harmony & Backing Vocals\",\n    description: \"Arrange and produce harmony vocals, ad-libs, and background vocal stacks. This lesson covers the essential vocal production techniques used in professional recordings.\",\n    tip: \"Vocals are usually the focal point of a track. Spend extra time getting them right - they make or break the production.\",\n    steps: [\n      '<strong>Study vocal production theory</strong> — Understand the concepts and workflow.',\n      '<strong>Analyze reference vocals</strong> — Listen to professional vocal productions in your genre.',\n      '<strong>Apply the techniques</strong> — Practice the specific vocal processing methods.',\n      '<strong>Critical listening</strong> — Compare your results to professional standards.',\n      '<strong>Iterate and refine</strong> — Make adjustments based on what you hear.',\n      'Complete when you understand the practical application.'\n    ]\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Understanding Harmony & Backing Vocals',\n        content: `Harmony & Backing Vocals is crucial for achieving professional vocal productions that compete with commercial releases.\n\n**Core Concepts:**\n- Vocal recording and production fundamentals\n- Technical requirements and equipment considerations\n- Signal flow and processing chain order\n- Common issues and how to solve them\n- Genre-specific approaches and standards\n\n**Professional Workflow:**\n1. **Preparation** — Set up properly before recording\n2. **Capture** — Record high-quality source material\n3. **Edit** — Clean up and comp the best takes\n4. **Process** — Apply corrective and creative processing\n5. **Mix** — Blend vocals perfectly with the track\n6. **Finalize** — Ensure vocals translate across systems\n\n**Critical Factors:**\n- **Source quality** — Good recording = easier mixing\n- **Performance** — Technical skill matters more than processing\n- **Context** — Vocals must serve the song\n- **Reference** — Always compare to professional standards\n\nProfessional vocal producers understand that Harmony & Backing Vocals is both technical skill and artistic judgment.`\n      },\n      {\n        title: 'Professional Vocal Production Techniques',\n        content: `Apply Harmony & Backing Vocals in your productions with professional approaches:\n\n**Recording Best Practices:**\n- Proper mic placement and distance\n- Optimal gain staging and headroom\n- Multiple takes for comping\n- Consistent recording environment\n- Reference monitoring and acoustics\n\n**Processing Workflow:**\n1. **Clean up** — Remove unwanted sounds and noise\n2. **Tune** — Correct pitch issues (subtle or creative)\n3. **Time align** — Fix timing and rhythm issues\n4. **EQ** — Remove muddiness, add presence\n5. **Compress** — Control dynamics and consistency\n6. **De-ess** — Tame harsh sibilance\n7. **FX** — Add reverb, delay, modulation\n\n**Common Vocal Issues:**\n- **Muddiness** — High-pass filter at 80-100 Hz\n- **Harshness** — De-ess or cut 6-8 kHz\n- **Lack of presence** — Boost 3-5 kHz subtly\n- **Inconsistent levels** — Compression and automation\n- **Poor timing** — Edit before processing\n- **Pitch issues** — Tune before heavy processing\n\n**Genre Considerations:**\nDifferent genres require different vocal approaches:\n- **Pop** — Polished, present, tuned, compressed\n- **Hip-Hop** — Dry, upfront, minimal reverb\n- **R&B** — Smooth, warm, layered harmonies\n- **Rock** — Raw energy, less processing\n- **Electronic** — Creative effects, vocoders, pitch shifts\n\nStudy vocal productions in your genre and understand what makes them work.`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Master professional vocal production techniques\",\n    \"Understand the complete vocal workflow from recording to mixing\",\n    \"Apply genre-specific vocal processing approaches\",\n    \"Develop critical listening skills for vocal production\",\n    \"Create commercial-quality vocal recordings\"\n  ],\n  \n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this vocal production lesson to advance.\",\n    success: \"Excellent! You've mastered Harmony & Backing Vocals. Your vocal productions are pro-level!\",\n    error: \"Review the vocal production concepts and try again.\",\n    alreadyCompleted: \"You've completed this vocal technique. Keep refining your skills!\"\n  }),\n  \n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 8,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "vocals-7"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Harmony & Backing Vocals:",
      "Prepararsi alla lezione successiva del modulo Vocals"
    ]
  },
  {
    "slug": "arrangement-9",
    "filename": "lesson-arrangement-9.config.js",
    "title": "Layering Sounds:",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 9 - Layering Without Mud\n *\n * This lesson teaches how to layer multiple sounds without creating frequency\n * clashes, muddiness, or overcrowding. Master the art of sonic space.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-arrangement-9-progress\",\n  lessonNumber: 9,\n  lessonCategory: \"Arrangement\",\n  depthLevel: 3,\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-arrangement-10.html\",\n  prevLessonUrl: \"lesson-arrangement-8.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 9, categoryLabel: \"Arrangement\" }),\n    title: \"Layering Sounds:\",\n    titleHighlight: \"Without Creating Mud\",\n    subtitle: \"Learn to <strong>layer multiple instruments</strong> without frequency clashes. Master <strong>frequency spacing</strong>, <strong>stereo separation</strong>, and the golden rule: <strong>one element per frequency range</strong>.\"\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Build a Layered Arrangement with Clear Frequency Separation\",\n    description: \"Create an arrangement that layers multiple instruments while maintaining clarity. Each element should occupy its own <strong>frequency space</strong> and <strong>stereo position</strong>. The goal is fullness without muddiness.\",\n    tip: \"The frequency spectrum is like a bookshelf: you can't fit two books in the same spot. Place bass in the lows, pads in the mids, leads in the highs. When elements overlap frequencies, separate them in stereo space (left/right) or time (rhythm).\",\n    steps: [\n      { text: \"<strong>Foundation layer</strong> - Place bass and kick in the low end (20-200Hz)\" },\n      { text: \"<strong>Mid layer</strong> - Add pads or rhythm elements in mids (200Hz-2kHz)\" },\n      { text: \"<strong>High layer</strong> - Add lead melody or hi-hats in highs (2kHz-8kHz)\" },\n      { text: \"<strong>Air layer</strong> - Add presence or shimmer in ultra-highs (8kHz+)\" },\n      { text: \"<strong>Check for conflicts</strong> - No more than 2 elements in the same frequency range\" },\n      { text: \"<strong>Use stereo separation</strong> - Pan conflicting elements left/right\" }\n    ]\n  },\n\n  // ====================\n  // FREQUENCY ZONES\n  // ====================\n  frequencyZones: [\n    {\n      name: \"Sub Bass\",\n      range: \"20-60Hz\",\n      icon: '<img src=\"images/speakerwave.png\" alt=\"🔊\" style=\"width: 1.5em;\">',\n      color: \"#e74c3c\",\n      allowedElements: 1,\n      typical: [\"808\", \"Sub bass\", \"Kick fundamental\"],\n      rule: \"ONLY ONE element here—usually the kick or bass, never both at full power\"\n    },\n    {\n      name: \"Bass\",\n      range: \"60-250Hz\",\n      icon: \"🎸\",\n      color: \"#e67e22\",\n      allowedElements: 2,\n      typical: [\"Bass guitar\", \"Synth bass\", \"Kick body\", \"Tom drums\"],\n      rule: \"Maximum 2 elements. If bass and kick both live here, use sidechain compression\"\n    },\n    {\n      name: \"Low Mids\",\n      range: \"250Hz-500Hz\",\n      icon: \"🎹\",\n      color: \"#f39c12\",\n      allowedElements: 2,\n      typical: [\"Guitar\", \"Piano\", \"Synth pads\", \"Snare body\"],\n      rule: \"Watch for muddiness. This range makes or breaks your mix clarity\"\n    },\n    {\n      name: \"Mids\",\n      range: \"500Hz-2kHz\",\n      icon: \"🎤\",\n      color: \"#27ae60\",\n      allowedElements: 3,\n      typical: [\"Vocals\", \"Lead synth\", \"Guitar\", \"Snare\", \"Claps\"],\n      rule: \"The most important range. Lead vocals/melody should dominate here\"\n    },\n    {\n      name: \"High Mids\",\n      range: \"2kHz-6kHz\",\n      icon: \"\",\n      color: \"#3498db\",\n      allowedElements: 2,\n      typical: [\"Vocal presence\", \"Synth leads\", \"Hi-hats\", \"Cymbals\"],\n      rule: \"Adds clarity and definition. Too much = harshness\"\n    },\n    {\n      name: \"Highs/Air\",\n      range: \"6kHz-20kHz\",\n      icon: \"💫\",\n      color: \"#9b59b6\",\n      allowedElements: 2,\n      typical: [\"Cymbals\", \"Hi-hats\", \"Vocal air\", \"Synth shimmer\"],\n      rule: \"Adds brightness and space. Use sparingly for that 'expensive' sound\"\n    }\n  ],\n\n  // ====================\n  // LAYERING TECHNIQUES\n  // ====================\n  layeringTechniques: [\n    {\n      name: \"Frequency Separation\",\n      description: \"Place each layer in a different frequency range using EQ.\",\n      example: \"Bass at 80Hz, pad at 500Hz, lead at 2kHz, hi-hats at 8kHz\"\n    },\n    {\n      name: \"Stereo Separation\",\n      description: \"If two elements share frequencies, pan one left and one right.\",\n      example: \"Rhythm guitar left, piano right—both in mids but separated spatially\"\n    },\n    {\n      name: \"Rhythmic Separation\",\n      description: \"Layer elements that play at different times or have different rhythms.\",\n      example: \"Bass on beats 1 and 3, synth stabs on 2 and 4\"\n    },\n    {\n      name: \"Dynamic Separation\",\n      description: \"Use volume automation so elements take turns being prominent.\",\n      example: \"Lead melody loud during chorus, pad loud during verse\"\n    }\n  ],\n\n  // ====================\n  // VALIDATION\n  // ====================\n  validation: {\n    type: \"layering\",\n    maxElementsPerFrequencyZone: {\n      subBass: 1,\n      bass: 2,\n      lowMids: 2,\n      mids: 3,\n      highMids: 2,\n      highs: 2\n    },\n    requireStereoSeparation: true,\n    minFrequencyZonesUsed: 4\n  },\n\n  // ====================\n  // MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"arrangement\", {\n    initial: \"Layer instruments across different frequency zones for a full, clear sound!\",\n    success: \"🎚️ Excellent layering! Your arrangement is full but not muddy. This is professional frequency management.\",\n    error: \"Check frequency conflicts—you may have too many elements in the same range.\",\n    alreadyCompleted: \"You've mastered layering! Try creating even more complex layers while maintaining clarity.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"structure-builder\",\n    sandbox: false,\n    showTimeline: true,\n    showFrequencyAnalyzer: true,\n    showStereoMeter: true\n  },\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"The Frequency Conflict Problem: Why Amateur Mixes Sound Muddy\",\n        content: `\n**Why Layering Creates Mud:**\nWhen you add more instruments to your arrangement, you're not just adding volume—you're adding frequency content. Every sound occupies space in the frequency spectrum (20Hz to 20kHz). When multiple sounds try to occupy the same frequency range at the same time, they compete for space, causing:\n\n- **Muddiness**: Low-mid frequencies (200-500Hz) become congested, making your mix sound unclear and boxed-in\n- **Harshness**: Too many elements in high-mids (2-6kHz) create ear fatigue and listening exhaustion\n- **Loss of Definition**: Individual instruments become indistinguishable from each other, creating a sonic blob\n- **Masking**: Important elements (like vocals or lead melodies) get buried under less important supporting elements\n- **Lack of Impact**: When everything is competing, nothing punches through and nothing feels powerful\n\nBeginner producers often think \"more is better\"—adding synth layer after synth layer, stacking sounds without considering frequency management. This creates the classic bedroom producer sound: a wall of sound where nothing stands out and everything sounds muddy. You might have 20 tracks playing, but the mix sounds smaller and weaker than a professional track with only 8 tracks—because those 8 tracks are strategically placed in frequency space.\n\n**The Physics of Masking:**\nWhen two sounds share the same frequency range and play simultaneously, the louder one \"masks\" the quieter one. Your brain literally cannot distinguish them as separate sources—they merge into one muddy blob. This is why you can add a beautiful pad to your mix and suddenly your vocals disappear. The pad isn't louder than the vocals, but it's occupying the same 500Hz-2kHz space where your vocals live, creating masking.\n\nProfessional producers understand this physics. They don't just pile on sounds hoping for thickness—they architect the frequency spectrum like building a house. Each element has its designated floor (frequency zone), and no two critical elements share the same floor at full volume.\n\n**The Bookshelf Analogy:**\nThink of the frequency spectrum like a bookshelf with six shelves (frequency zones). You can fit many books on the shelf, but only if you organize them vertically (different shelves = different frequency ranges) and horizontally (different positions = different stereo placements). If you try to shove two books into the exact same spot, they won't fit—one gets crushed or pushed aside. The same happens in your mix when two instruments fight for 200-400Hz: one will get masked and disappear.\n\nThe solution isn't to turn up the volume on the masked element (that just makes the problem worse and creates loudness wars within your own mix). The solution is to move one element to a different shelf (different frequency zone) or different horizontal position (different stereo placement).\n\n**The Professional Approach:**\nProfessional mixes sound clear, punchy, and full because every element has its own designated space. They follow the Frequency Zone Architecture:\n\n- **Sub bass (20-60Hz)**: Kick drum fundamental OR 808 bass, never both at full power simultaneously\n- **Bass (60-250Hz)**: Bass instruments dominate, kick drum provides punch, sidechaining creates rhythmic interaction\n- **Low mids (250-500Hz)**: The mud zone—kept clean, only essential elements allowed here\n- **Mids (500Hz-2kHz)**: Vocals or lead melody dominate, everything else supports or is EQ'd to avoid this zone\n- **High mids (2-6kHz)**: Presence and clarity zone—used sparingly on the most important element only\n- **Highs (6kHz+)**: Air and shimmer—adds polish and expense to the overall sound\n\nWhen elements do overlap in frequency (which sometimes is necessary), professionals separate them by:\n1. **Stereo position**: One element left, another right\n2. **Time/rhythm**: One plays on beats 1-3, another on beats 2-4\n3. **Volume automation**: One element loud during verse, the other loud during chorus\n4. **Dynamic processing**: Sidechain compression makes one element duck when the other plays\n\n**The One Element Rule:**\nIn each critical frequency zone, you should have ONE primary element that dominates at any given moment. You can have secondary elements supporting, but they should be:\n- Quieter by at least 3-6dB\n- EQ'd to reduce energy in that zone (high-pass or low-pass filtering)\n- Panned away from the primary element\n- Playing at different rhythmic moments\n\n**Real-World Example - Professional Pop Production:**\nListen to any major-label pop track. During the chorus, you'll find:\n- **Sub bass (20-60Hz)**: Kick drum fundamental (the bass is sidechained to duck)\n- **Bass (60-250Hz)**: Bass guitar/synth dominates, kick provides rhythmic punch\n- **Low mids (250-500Hz)**: Mostly clean, maybe light guitar or pad with this range cut 2-4dB\n- **Mids (500Hz-2kHz)**: Lead vocal completely dominates, everything else EQ'd to carve out space here\n- **High mids (2-6kHz)**: Vocal presence and maybe hi-hats for rhythm, nothing else boosted here\n- **Highs (6kHz+)**: Vocal air, reverb tails, cymbal shimmer\n\nOnly 5-7 elements total, but each occupies its own frequency home. The result? Massive, clear, punchy, and every element is audible. Compare this to an amateur mix with 25 tracks all fighting for the same frequency zones—louder but muddier, and ultimately weaker sounding.\n\n**Why This Matters for Arrangement:**\nArrangement isn't just about what sections come in what order—it's about frequency orchestration. When you decide to add a new element to your verse or chorus, you're making a frequency decision. Ask yourself:\n- What frequency zone does this element naturally occupy?\n- Is that zone already full?\n- If yes, can I EQ this new element to focus on a different zone?\n- Or should I remove/reduce something else to make room?\n\nGreat arrangement means knowing when NOT to add something, or knowing what to remove when you add something new. This is why professional producers often have a \"less is more\" philosophy—not because they can't create more sounds, but because they understand that clarity and separation create more impact than dense layering.\n        `\n      },\n      {\n        title: \"The Six Frequency Zones Explained in Detail\",\n        content: `\nUnderstanding frequency zones is like understanding neighborhoods in a city. Each zone has its own character, residents, and rules. Let's explore each zone in professional detail.\n\n**1. Sub Bass (20-60Hz) - The Foundation You Feel:**\n\n**What Lives Here:**\nThis is the lowest range humans can perceive—more felt than heard. It's the rumble in your chest at a concert, the vibration in the car when bass hits. Only one element should dominate this zone because it's narrow and powerful. Common residents:\n- Kick drum fundamental frequency (the \"thump\" you feel)\n- 808 bass in hip-hop and trap\n- Sub bass synths in EDM and dubstep\n- Lowest bass guitar notes (if playing very low)\n\n**Why It's Critical:**\nThis range provides weight and physical impact. Without it, your track feels weightless and small. Too much, and it becomes boomy, woofy, and uncontrollable—especially on club systems and headphones. Phone speakers can't even reproduce this range, which is why phone mixes sound thin.\n\n**The One Element Rule:**\nNEVER have two elements at full power in this zone simultaneously. Why? The wavelengths are so long (20Hz = 56 feet long) that multiple sources create phase cancellation, where waves cancel each other out, resulting in LESS bass, not more. It's physics.\n\n**Common Mistake - The Kick/Bass Conflict:**\nBeginner producers layer a kick with a fundamental at 50Hz and an 808 bass also at 50Hz, both at full volume. Result? Muddy, woofy, undefined low end. The kick and bass fight for the same space, and both lose clarity.\n\n**Professional Solution - Sidechain Compression:**\nRoute the kick to a compressor on the bass track. When the kick hits, the compressor automatically ducks (lowers) the bass for 50-200ms. This gives the kick its moment of impact, then the bass swells back. This is the \"pumping\" effect you hear in EDM—it's not just a creative choice, it's a frequency management necessity.\n\n**DAW Application:**\n- Load a spectrum analyzer on your master bus\n- Play your kick and bass together\n- Look at 20-60Hz—do you see two competing peaks? That's your problem\n- Apply sidechain compression: set attack 5-10ms, release 100-200ms, ratio 4:1, threshold until you see 3-6dB of gain reduction on each kick hit\n- Alternative: Use EQ to separate them—kick focused at 60Hz, bass at 45Hz\n\n**Pro Tip:**\nIn professional mixes, the sub bass is almost always mono (centered). Low frequencies don't localize well in human hearing, and stereo bass causes phase problems on mono playback systems (clubs, phones, smart speakers). Keep everything below 120Hz mono.\n\n\n**2. Bass (60-250Hz) - The Body and Warmth:**\n\n**What Lives Here:**\nThis is the \"meat\" of your low end—where bass instruments have their character and kicks have their punch. This zone provides warmth, weight, and groove:\n- Bass guitar fundamental notes (most notes live here)\n- Synth bass body and character\n- Kick drum \"punch\" or \"body\" (the part you hear, not just feel)\n- Tom drums\n- Low male vocals (occasional presence)\n- Cello and low strings\n\n**Why It's Critical:**\n60-250Hz is where the note definition of bass instruments happens. A bass note at 100Hz is the note you actually hear and identify. Too much energy here makes your mix boomy and overwhelming. Too little makes it thin and weak. This zone also provides warmth—that cozy, full feeling in tracks.\n\n**Maximum Two Elements:**\nYou can have two elements here, but one must be primary. Typically: kick provides short transient punches, bass provides sustained notes. They work together by occupying different rhythmic spaces or different parts of the 60-250Hz range.\n\n**Common Mistake - Stacking Bass Sounds:**\nLayering three bass synths all playing the same notes in the same octave, all occupying 80-150Hz. Result? One very loud, undefined bass sound. More layers ≠ bigger bass. Proper frequency separation = bigger bass.\n\n**Professional Solution - Frequency Division:**\n- Bass layer 1 (sub): Focus 50-80Hz, cut everything above 100Hz (provides weight)\n- Bass layer 2 (body): Focus 100-200Hz, cut below 80Hz and above 300Hz (provides note definition)\n- Bass layer 3 (grit): Focus 300Hz-1kHz, cut below 200Hz (provides character and presence)\n\nNow you have three layers, but they're not fighting—they're complementing. Together they create a massive, defined bass sound.\n\n**Sidechain the Bass to the Kick:**\nEven if your kick focuses on 60Hz and your bass on 150Hz, they still overlap enough to need sidechain. The kick should always win in the low end. Set sidechain compression with a fast attack (5-10ms) so the kick punches through, and medium release (100-150ms) so the bass comes back smoothly.\n\n**DAW Application:**\n- Use a parametric EQ with a wide bell curve\n- Find the fundamental note of your bass (usually 80-120Hz depending on the key)\n- Boost 2-3dB to emphasize that note\n- Find the kick's body (usually 60-80Hz)\n- On the bass track, cut 2-3dB at the kick's frequency to make room\n- Result: Kick and bass coexist peacefully, each with their own space\n\n**Pro Tip - The 80Hz Rule:**\nMany professional engineers use a technique: high-pass everything except kick and bass at 80-100Hz. Guitars, pads, vocals, drums (except kick/toms)—everything gets a high-pass filter. This clears out low-end rumble and makes room for the elements that truly need that space.\n\n\n**3. Low Mids (250-500Hz) - The Mud Zone (Handle With Care):**\n\n**What Lives Here:**\nThis is the most challenging frequency range in all of mixing. It's where muddiness lives, where boxiness hides, and where amateur mixes fall apart. Yet, it's also where warmth and body come from for many instruments:\n- Acoustic and electric guitars (body resonance)\n- Piano (lower notes and resonance)\n- Synth pads (warmth)\n- Snare drum body (the \"thud\" before the crack)\n- Male vocals (chest resonance)\n- Strings and orchestral instruments\n\n**Why It's Problematic:**\nThe human ear is less sensitive to 250-500Hz than to mids (1-2kHz), so our brains don't clearly separate sounds in this range. Everything blurs together. Add too much? Muddy, boxy, muffled mix. Cut too much? Thin, weak, lifeless mix. It's a balancing act.\n\n**The Professional Approach - Surgical EQ:**\nMaximum two elements should have significant energy here, and even those should be EQ'd thoughtfully. This is where you make or break your mix clarity.\n\n**Common Mistake - Layering Without Cutting:**\nStacking rhythm guitar + piano + synth pad + bass all with full energy at 300Hz. Result? A thick, congested, muddy soup where no individual element is distinguishable. Listeners feel fatigued because their ears are working hard to separate sounds that aren't properly separated.\n\n**Professional Solution - Aggressive Cutting:**\nIdentify your most important element in this range (often a guitar or pad), let that one have 250-500Hz energy. Everything else? Cut aggressively:\n- Piano: Cut 3-4dB at 300Hz with a medium-width bell\n- Synth pad: High-pass at 300Hz or cut 3-5dB at 250-400Hz\n- Bass: Low-pass around 250Hz so it doesn't creep into low-mids\n- Vocals: Slight cut (2dB) at 300Hz to reduce muddiness\n\n**The \"Subtractive EQ\" Mindset:**\nProfessional mixers think: \"What can I remove?\" rather than \"What can I add?\" In the low-mids, removal is key. Every element you high-pass or cut in this range makes your mix clearer. It feels counterintuitive—you're \"thinning\" elements—but in context, the mix sounds bigger and more spacious.\n\n**DAW Application:**\n- Solo your drum bus with each element one at a time\n- Listen for boxiness or muddiness—that's 250-500Hz\n- Sweep a narrow EQ boost through 250-500Hz to find the exact problem frequency\n- Once found, cut 3-5dB at that frequency\n- Bypass the EQ to A/B—you'll hear the element sounds \"thinner\" solo'd, but clearer in the mix\n\n**Pro Tip - The 300Hz Cut:**\nMany professional mixers have a template EQ that applies a broad 2-3dB cut around 300Hz on nearly every track except kick and bass. Try this: make a template EQ with -3dB at 300Hz (Q of 1.5), apply it to guitars, pads, vocals, and listen. Your mixes will immediately sound clearer.\n\n\n**4. Mids (500Hz-2kHz) - The Presence Zone (Most Important):**\n\n**What Lives Here:**\nThis is the most important frequency range in all of music production. Why? Human ears evolved to be most sensitive to 1-3kHz because that's where human speech clarity lives (we needed to hear predators and communicate). Everything in this range is LOUD to our perception:\n- Vocals (fundamental frequencies and clarity)\n- Lead synth melodies\n- Electric guitar (presence and character)\n- Snare drum crack (the \"snap\")\n- Acoustic guitar (body and presence)\n- Piano (melody notes)\n- Claps and snaps\n\n**Why It's Critical:**\nThis range determines what your mix is \"about.\" The listener's attention is drawn to whatever dominates 500Hz-2kHz. If your vocal is buried here, it will sound quiet even if it's loud in volume. If your lead synth shouts here, it will dominate even at lower volume. Master this zone, and you master listener attention.\n\n**The Three Element Rule:**\nYou can have up to three elements with energy in this range, BUT one must be the clear dominant element. Usually: vocals or lead melody dominate, supporting elements (guitars, pads) support quietly.\n\n**Common Mistake - Everything Competing for Attention:**\nLead vocal + lead synth + rhythm guitar + snare all fighting for 1kHz. Result? No element stands out, everything feels flat and undefined. The listener doesn't know where to focus attention, so they tune out.\n\n**Professional Solution - Hierarchy and Ducking:**\nDecide what matters most in each section. Verse? Vocal dominates. Let the vocal have 1-2kHz energy at -6dB. Everything else? Cut 2-3dB at the vocal's presence frequency. Instrumental section? Now the lead synth gets the 1-2kHz spotlight.\n\n**The Vocal Tunnel Technique:**\n- Identify the vocal's presence peak (usually 1-2kHz)\n- On every other track (guitars, pads, synths), cut 3-4dB at that exact frequency with a bell EQ\n- This creates a \"tunnel\" of frequency space where only the vocal lives\n- Result: Vocal sits perfectly in the mix without needing to be loud\n\n**DAW Application:**\n- Solo your vocal and use a spectrum analyzer\n- Play the chorus—where is the vocal's energy peak? (Usually 1-1.5kHz for male, 2-3kHz for female)\n- Mark that frequency\n- On every other midrange instrument, apply a 3dB cut at that frequency (Q of 2-3)\n- Unsolo everything—the vocal now cuts through clearly\n\n**Pro Tip - Less Is More:**\nBeginners boost 1-2kHz on everything to make it \"present.\" Professionals cut 1-2kHz on everything except the lead element. The result? The lead element sounds way more present, and the mix is less fatiguing. Presence is relative, not absolute.\n\n\n**5. High Mids (2-6kHz) - The Clarity and Definition Zone:**\n\n**What Lives Here:**\nThis range adds definition, articulation, and clarity. It's where consonants in vocals live (S, T, K sounds), where guitar pick attack lives, where hi-hats and cymbals start:\n- Vocal consonants and intelligibility\n- Snare drum crack and snap\n- Hi-hats (lower presence)\n- Cymbals (attack and initial presence)\n- Synth leads (brightness and cut)\n- Guitar (pick attack and string definition)\n\n**Why It's Critical:**\n2-6kHz is the \"intelligibility\" zone. Boost here, and elements become clear and defined. Cut here, and elements become dull and distant. But here's the catch: too much energy in this range is physically fatiguing. Our ears are very sensitive to 3-4kHz, and prolonged exposure causes listener fatigue.\n\n**Maximum Two Elements:**\nOnly two elements should have significant energy here, and even then, use restraint. This is the zone where \"less is more\" applies most.\n\n**Common Mistake - Boosting Everything for Clarity:**\nBoosting 3-4kHz on vocals, lead synth, snare, hi-hats, and guitars to make them all \"pop.\" Result? Harsh, abrasive, fatiguing mix. After 30 seconds, listeners feel ear strain. After 2 minutes, they skip your track.\n\n**Professional Solution - Strategic Boosting:**\nChoose ONE element to boost in this range—usually the vocal or lead melody. Everything else? Leave neutral or cut slightly. The element you boost will sound incredibly clear and defined because it's the only thing occupying that space.\n\n**The De-Esser Technique:**\nVocals often have too much 5-8kHz energy on sibilant sounds (S, T, SH). Instead of cutting the entire range (makes vocals dull), use a de-esser—a compressor that only activates on 5-8kHz when it gets too loud. This tames harshness while preserving clarity.\n\n**DAW Application:**\n- Identify your lead element (vocal or lead synth)\n- Use a high-shelf or bell boost of 2-3dB at 3-4kHz (start conservatively)\n- A/B the boost—does it add clarity or harshness?\n- If harsh, lower to 1-2dB or move the frequency up to 5-6kHz\n- On all other elements, apply a 1-2dB cut at 3-4kHz to prevent buildup\n\n**Pro Tip - The Bedroom Mix vs Radio Mix:**\nBedroom producers boost 3-4kHz on everything, thinking it adds clarity. Radio-ready mixes have strategic presence—one or two elements \"pop,\" everything else supports. Listen to a professional pop mix: the vocal is bright and clear, but the guitars, pads, and bass are deliberately dulled in this range to support the vocal.\n\n\n**6. Highs/Air (6-20kHz) - The Sparkle and Polish Zone:**\n\n**What Lives Here:**\nThis is where the \"expensive\" sound comes from—the air, shimmer, sparkle, and openness that separates professional from amateur mixes:\n- Cymbals and hi-hats (full brightness)\n- Vocal \"air\" and breath sounds\n- Synth shimmer and high-frequency harmonics\n- Acoustic guitar string brightness\n- Reverb tails and spatial effects\n- Shakers and tambourines\n\n**Why It's Critical:**\nThe highs (especially 10-15kHz) make mixes sound polished, open, and expensive. Without this range, mixes sound dark, dull, and closed-in. But here's the paradox: many playback systems (phones, laptops, cheap earbuds) don't accurately reproduce above 12kHz. You're adding detail most listeners won't fully hear—but they'll feel the difference.\n\n**Maximum Two Elements:**\nOnly one or two elements should have significant air/shimmer. Too much, and your mix becomes hissy and harsh.\n\n**Common Mistake - Not Using This Range:**\nMany bedroom producers mix on cheap speakers or headphones that don't reproduce 10-15kHz well. Result? They don't add air to their mix, and it sounds dull and amateurish compared to professional releases. Or the opposite: they over-boost, and the mix sounds hissy and harsh.\n\n**Professional Solution - The Radio Sheen:**\nApply a gentle high-shelf boost (1-2dB at 10-12kHz) on your master bus or key elements (vocal, lead synth). This adds a subtle \"sheen\" without making it obvious. The mix sounds brighter, more polished, more \"produced.\"\n\n**The Air EQ Technique:**\n- On your lead vocal, add a high-shelf boost starting at 10kHz, +2dB\n- On your master bus, add a high-shelf boost starting at 12kHz, +1dB\n- Listen on multiple systems—does it sound brighter without being harsh?\n- If it sounds hissy, lower the boost to +0.5-1dB\n\n**DAW Application:**\n- Use a spectrum analyzer on a professional reference track in your genre\n- Look at 8-15kHz—how much energy is there?\n- Compare to your mix—is yours darker or brighter?\n- Adjust your high-shelf EQ to match the reference track's general brightness\n\n**Pro Tip - Saturation for Air:**\nInstead of EQ boosting highs, use subtle saturation/harmonic exciter plugins. These generate high-frequency harmonics naturally, adding air without the harshness of EQ boosts. Professionals use Soundtoys Decapitator, FabFilter Saturn, or Slate Virtual Mix Rack for this.\n\n**The Phone Speaker Test:**\nPhone speakers can't reproduce below 200Hz or above 12kHz. Mix on your studio monitors, then check on your phone. If your mix sounds empty on your phone, you've relied too much on sub-bass and ultra-highs. Professional mixes sound good even on phone speakers because the core energy is in 200Hz-6kHz.\n        `\n      },\n      {\n        title: \"Layering Techniques for Clarity\",\n        content: `\n**Technique 1: Frequency Separation (The Most Important)**\nThis is the foundation of professional layering. Use EQ to place each layer in a different frequency home:\n\n**Practical example - Layered Synth:**\n- Layer 1 (Bass synth): Focus 60-150Hz, cut everything above 200Hz\n- Layer 2 (Mid pad): Focus 300-1kHz, cut below 200Hz and above 2kHz\n- Layer 3 (Lead): Focus 1-4kHz, cut below 500Hz\n- Layer 4 (Air layer): Focus 8kHz+, high-pass at 6kHz\n\n**Result**: All four layers play together, creating a massive, full sound—but they're not fighting because each occupies its own frequency zone.\n\n**How to apply in your DAW:**\n- Load an EQ plugin on each layer\n- Use a spectrum analyzer to see where each sound naturally lives\n- Apply high-pass (cut lows) and low-pass (cut highs) filters to define each layer's zone\n- Leave a 50-100Hz gap between layers (e.g., bass ends at 200Hz, mids start at 300Hz)\n\n**Technique 2: Stereo Separation**\nWhen two elements MUST share the same frequency range, separate them in stereo space:\n\n**Practical example - Guitars + Piano:**\nBoth guitars and piano naturally occupy 200Hz-2kHz. Solution:\n- Rhythm guitar: Pan 60% left\n- Piano: Pan 60% right\n- Both can coexist in the mid frequencies without masking each other\n\n**Stereo layering rules:**\n- Low frequencies (below 150Hz) should stay centered—bass wanders left/right sounds weird on club systems\n- Mid-range elements can be panned 30-80% left/right\n- High-frequency elements (hi-hats, shakers) can be panned 100% left/right for width\n\n**Advanced tip**: Use different stereo widths for different frequency ranges on the same element. Bass frequencies centered, high frequencies wide.\n\n**Technique 3: Rhythmic Separation**\nLayer elements that play at different times or with different rhythms:\n\n**Practical example - Bass and Synth Stabs:**\n- Bass plays whole notes on beats 1 and 3\n- Synth stabs play short hits on beats 2 and 4\n- Both occupy 100-300Hz, but they never play simultaneously, so no conflict\n\n**Advanced application**: In hip-hop and trap, producers often have the kick hit on 1 and 3, the 808 bass slides on the off-beats. They share the sub-bass zone but don't clash because they're rhythmically separated.\n\n**Technique 4: Dynamic Separation (Automation)**\nUse volume automation so elements take turns being prominent:\n\n**Practical example - Verse vs Chorus:**\n- Verse: Pad loud (-12dB), lead synth quiet (-20dB)\n- Chorus: Pad quiet (-20dB), lead synth loud (-10dB)\n\nBoth elements exist throughout the song, but your automation makes one the focus while the other supports.\n\n**Common Mistakes and Solutions:**\n\n**Mistake 1: \"More layers = bigger sound\"**\nReality: More layers = more clutter. Professional tracks often have fewer layers than amateur ones, but each layer is perfectly placed in frequency and stereo space.\n**Solution**: Start with 3-4 well-placed layers. Only add more if there's a clear gap in the frequency spectrum.\n\n**Mistake 2: \"Copy-paste EQ settings\"**\nUsing the same EQ preset on every track seems efficient but causes conflicts.\n**Solution**: EQ in context. Solo the element with the drums/bass, then EQ it to fit in the available frequency gaps.\n\n**Mistake 3: \"Everything wide in stereo\"**\nMaking every element super-wide sounds cool in headphones but falls apart on club systems and phones.\n**Solution**: Keep low frequencies mono, mids slightly wide, highs very wide. This ensures mono compatibility.\n\n**Mistake 4: \"Layering similar sounds\"**\nStacking three saw-wave synths with similar frequency content just makes one louder, muddier saw wave.\n**Solution**: Layer complementary sounds—one bass-heavy, one mid-heavy, one bright. They combine into a super-sound.\n\n**Pro Workflow:**\n1. Start with your most important element (vocal or lead melody)\n2. Build the foundation around it (bass, drums)\n3. Add supporting layers one at a time\n4. After adding each layer, ask: \"Did this make the mix CLEARER or MUDDIER?\"\n5. If muddier, use EQ to carve out frequency space\n6. Use reference tracks—A/B your mix against professional releases\n\n**The ultimate test**: If you can't clearly identify each individual instrument in your mix, you have frequency conflicts. Professional mixes sound full AND clear—every element is audible and distinct.\n        `\n      }\n    ]\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Understand the six frequency zones and their purposes\",\n    \"Apply the rule: one primary element per frequency range\",\n    \"Use stereo separation to prevent frequency clashing\",\n    \"Layer instruments for fullness without muddiness\",\n    \"Identify and resolve frequency conflicts in arrangements\"\n  ]\n};\n\nif (typeof window !== 'undefined') window.LESSON_CONFIG = lessonConfig;\n",
    "number": 9,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "arrangement-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Layering Sounds:",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-9",
    "filename": "lesson-bass-9.config.js",
    "title": "Bass Fills & Transitions",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 9 - Bass Fills & Transitions\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-9-progress\",\n  lessonNumber: 9,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-10.html\",\n  prevLessonUrl: \"lesson-bass-8.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 9, categoryLabel: \"Bass & Low End\" }),\n    title: \"Bass Fills & Transitions\",\n    titleHighlight: \"\",\n    subtitle: \"Add movement between song sections. Create fill patterns that build tension and guide listeners through changes from verse to chorus, breakdown to drop.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    bars: 1,\n    noteRange: { min: 36, max: 60 }, // C2 to C4 (bass range)\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Create a Bass Fill\",\n    description: \"Bass fills are short melodic runs that signal 'something is about to change.' They create anticipation before a new section.\",\n    tip: \"Fills work best in the last bar before a section change. They build tension and release into the new section.\",\n    steps: ['Create ascending pattern: <strong>C3 → D3 → E3 → F3 → G3</strong> (steps 8, 10, 12, 14, 16).', 'This rapid climb signals a transition.', 'Play and hear how it creates anticipation.', 'Check exercise when ready.']\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [{'title': 'What Are Bass Fills?', 'content': 'Fills are rhythmic/melodic variations that:\\n- Signal section changes\\n- Build tension\\n- Add variety to repetitive patterns\\n- Guide listener attention\\n\\n**Common fill types:**\\n- Ascending runs (builds up)\\n- Descending runs (drops down)\\n- Chromatic walks (half-step movement)\\n- Rhythmic variations (syncopation)'}, {'title': 'When to Use Fills', 'content': '**Best placement:**\\n- Last bar before chorus\\n- End of 8 or 16-bar phrase\\n- Before a drop/breakdown\\n- Transitioning between sections\\n\\n**Duration:** Usually 1-2 bars maximum. Too long = loses impact.'}]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [{'pitch': 48, 'step': 7, 'duration': 1}, {'pitch': 50, 'step': 9, 'duration': 1}, {'pitch': 52, 'step': 11, 'duration': 1}, {'pitch': 53, 'step': 13, 'duration': 1}, {'pitch': 55, 'step': 15, 'duration': 1}],\n    highlightScale: [48, 50, 52, 53, 55, 57, 59, 60], // C major scale in bass range\n    showChordDetection: false,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete the bass pattern exercise.\",\n    success: \"Excellent! You've mastered this bass technique.\",\n    error: \"Not quite. Check the target pattern and try again.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 9,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "bass-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Bass Fills & Transitions",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-9",
    "filename": "lesson-drums-9.config.js",
    "title": "Hip-Hop &",
    "category": "Drums & Rhythm",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Drums 9 - Hip-Hop & Boom Bap Drums\n * \n * This lesson teaches classic hip-hop beat production including boom bap patterns,\n * swing/groove, and MPC-style quantization techniques.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-drums-9-progress\",\n  lessonNumber: 9,\n  lessonCategory: \"Drums & Rhythm\",\n  depthLevel: 5,\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-drums-10.html\",\n  prevLessonUrl: \"lesson-drums-8.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 9, categoryLabel: \"Drums & Rhythm\" }),\n    title: \"Hip-Hop &\",\n    titleHighlight: \"Boom Bap\",\n    subtitle: \"Program classic <strong>hip-hop beats</strong> from golden-era boom bap to modern styles. Master <strong>swing</strong>, <strong>velocity variation</strong>, and <strong>MPC-style quantization</strong>.\"\n  },\n  \n  // ====================\n  // SEQUENCER CONFIG\n  // ====================\n  sequencer: {\n    tempo: 90,\n    stepCount: 16,\n    swing: 55, // Key for boom bap!\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    showSwingControl: true,\n    enableVelocity: true, // Essential for ghost notes and dynamics\n    requiredTempo: 90,\n    requiredSwing: 55 // Students must set swing to 55% for boom bap feel\n  },\n  \n  // ====================\n  // EXERCISE\n  // ====================\n  exercise: {\n    title: \"Build a Boom Bap Beat\",\n    description: \"Create the classic boom bap pattern with syncopated kick, heavy snare, and 8th-note hi-hats. This should make you nod your head!\",\n    tip: \"The kick is SYNCOPATED (not 4-on-the-floor). Place kicks on 1, 8, 9, and 11 for the classic boom bap bounce.\",\n    steps: [\n      { text: \"<strong>Set the tempo to 90 BPM</strong> using the Tempo slider.\" },\n      { text: \"<strong>Kick:</strong> Syncopated pattern on steps 1, 8, 9, 11 (the 'boom').\" },\n      { text: \"<strong>Snare:</strong> Heavy hits on steps 5 and 13 (the 'bap').\" },\n      { text: \"<strong>Hi-Hat:</strong> 8th notes on steps 1, 3, 5, 7, 9, 11, 13, 15.\" },\n      { text: \"<strong>Feel:</strong> Let the swing setting add that head-nod bounce!\" }\n    ]\n  },\n  \n  // ====================\n  // INSTRUMENTS\n  // ====================\n  instruments: [\n    {\n      id: \"kick\",\n      label: \"Kick\",\n      color: \"linear-gradient(135deg, #e17055, #d63031)\",\n      targetSteps: [0, 7, 8, 10],\n      instructionText: \"Syncopated boom bap kick: 1, 8, 9, 11 (NOT 4-on-the-floor!).\",\n      patternHint: {\n        enabled: true,\n        note: \"Kick: 1, 8, 9, 11 (syncopated groove)\"\n      }\n    },\n    {\n      id: \"snare\",\n      label: \"Snare\",\n      color: \"linear-gradient(135deg, #fdcb6e, #f39c12)\",\n      targetSteps: [4, 12],\n      instructionText: \"Heavy snare on beats 2 and 4 (steps 5 and 13) - the 'bap'.\",\n      patternHint: {\n        enabled: true,\n        note: \"Snare: 5, 13 (heavy backbeat)\"\n      }\n    },\n    {\n      id: \"hihat\",\n      label: \"Hi-Hat\",\n      color: \"linear-gradient(135deg, #74b9ff, #0984e3)\",\n      targetSteps: [0, 2, 4, 6, 8, 10, 12, 14],\n      instructionText: \"8th note hi-hats for consistent pulse with groove.\",\n      patternHint: {\n        enabled: true,\n        note: \"Hi-Hat: every 8th note (1, 3, 5, 7...)\"\n      }\n    }\n  ],\n  \n  // ====================\n  // PATTERN HINT\n  // ====================\n  patternHint: {\n    enabled: true,\n    note: \"Boom bap = syncopated kick (1, 8, 9, 11) + heavy snare (5, 13) + 8th hi-hats\"\n  },\n  \n  // ====================\n  // MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"drums\", {\n    initial: \"Build the boom bap pattern. Remember: the kick is SYNCOPATED!\",\n    success: \"Classic boom bap! That swing and syncopation is what makes heads nod. You've got the groove!\",\n    error: \"Check your kick placement—boom bap kicks are on 1, 8, 9, 11 (not 4-on-the-floor like house).\",\n    alreadyCompleted: \"You've mastered boom bap! Try adding ghost notes and varying velocity for more flavor.\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: true, // Allow saving boom bap variations\n    enableExport: false,\n    showSwingControl: true\n  },\n  \n  // ====================\n  // GENRE INFO\n  // ====================\n  genreInfo: {\n    name: \"Hip-Hop / Boom Bap\",\n    tempoRange: { min: 70, max: 100 },\n    swingRange: { min: 50, max: 65 },\n    subgenres: [\n      { name: \"Boom Bap\", tempo: \"85-98 BPM\", swing: \"55-62%\", character: \"Hard-hitting, classic NYC\" },\n      { name: \"Lo-Fi Hip-Hop\", tempo: \"70-90 BPM\", swing: \"50-58%\", character: \"Mellow, jazzy, relaxed\" },\n      { name: \"Modern Hip-Hop\", tempo: \"70-160 BPM\", swing: \"0-55%\", character: \"Clean, punchy, varied\" }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Understand syncopated kick patterns (not 4-on-the-floor)\",\n    \"Program classic boom bap drum patterns\",\n    \"Use swing to create the hip-hop 'bounce'\",\n    \"Recognize different hip-hop subgenre characteristics\"\n  ],\n  \n  // ====================\n  // HISTORICAL CONTEXT\n  // ====================\n  historicalContext: {\n    era: \"Golden Era (1988-1996)\",\n    keyProducers: [\"DJ Premier\", \"Pete Rock\", \"J Dilla\", \"9th Wonder\", \"Madlib\"],\n    keyEquipment: [\"Akai MPC60\", \"E-mu SP-1200\", \"Roland TR-808\"],\n    influence: \"Sampled from funk, soul, and jazz records; defined East Coast hip-hop sound\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 9,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "drums-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Hip-Hop &",
      "Prepararsi alla lezione successiva del modulo Drums & Rhythm"
    ]
  },
  {
    "slug": "ear-9",
    "filename": "lesson-ear-9.config.js",
    "title": "Genre & Style:",
    "category": "Ear Training",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-ear-9-progress\",\n  lessonNumber: 9,\n  lessonCategory: \"Ear Training\",\n\n  nextLessonUrl: \"lesson-ear-10.html\",\n  prevLessonUrl: \"lesson-ear-8.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 9, categoryLabel: \"Ear Training\" }),\n    title: \"Genre & Style:\",\n    titleHighlight: \"Identify Production Techniques\",\n    subtitle: \"Recognize musical genres and production styles by their sonic characteristics. Analyze arrangement, instrumentation, and mixing approach.\"\n  },\n\n  exercise: {\n    title: \"Identify Genres and Production Styles by Ear\",\n    description: \"Genre identification goes beyond recognizing instruments—it's about hearing the complete sonic fingerprint: BPM, drum patterns, harmonic language, arrangement structure, mixing approach, and production techniques. Developing this skill allows you to reverse-engineer professional productions, understand genre conventions, and apply them to your own music.\",\n    tip: \"Every genre has characteristic elements: tempo range, drum pattern, bass style, harmonic complexity, and mixing signature. Learn the 'tells' for each genre.\",\n    steps: [\n      '<strong>Tempo (BPM)</strong> — House: 120-130 BPM. Trap: 140-150 (half-time). Drum & Bass: 160-180. Tempo is often the first clue.',\n      '<strong>Drum Pattern</strong> — Four-on-the-floor = house/disco. Breakbeat = hip-hop. Half-time snare on 3 = trap. Swing = jazz.',\n      '<strong>Bass Character</strong> — Sub-bass = trap/dubstep. Funk bass = funk/disco. Walking bass = jazz. Distorted bass = rock.',\n      '<strong>Harmonic Language</strong> — 3-chord progressions = punk. Extended jazz chords = R&B. Modal = EDM. Chromatic = metal.',\n      '<strong>Mix Signature</strong> — Compressed/loud = modern pop. Dynamic range = jazz/classical. Heavy sidechain = EDM. Vinyl crackle = lo-fi.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Genre Identification Framework',\n        content: `\n**The Five Elements of Genre:**\n\n**1. Tempo & Groove:**\n- **House/Techno**: 120-130 BPM, four-on-the-floor\n- **Trap/Hip-Hop**: 70-90 BPM (140-180 half-time), heavy 808s\n- **Drum & Bass**: 160-180 BPM, breakbeat patterns\n- **Dubstep**: 70 BPM (140 half-time), wobble bass\n- **Jazz**: 120-200+ BPM, swing feel\n- **Rock**: 110-140 BPM, live drum feel\n- **Reggae**: 60-90 BPM, off-beat skank\n- **Lo-Fi Hip-Hop**: 70-90 BPM, laid-back, swing\n\n**2. Drum Characteristics:**\n- **House**: Kick on every beat, claps on 2&4, open hi-hats on off-beats\n- **Trap**: Heavy 808 kick, rapid hi-hat rolls, snare on 3\n- **Rock**: Live acoustic kit, heavy snare on 2&4, crash accents\n- **Jazz**: Swing ride pattern, brush snare, sparse kick\n- **UK Garage**: Syncopated kick pattern, shuffled hi-hats\n- **Breakbeat**: Sampled breaks (Amen, Apache, Funky Drummer)\n\n**3. Bass & Low End:**\n- **Trap/Dubstep**: Sub-bass (808s, sine waves below 60Hz)\n- **Funk/Disco**: Slap bass, syncopated, percussive\n- **Rock**: Distorted bass guitar, root notes, powerful\n- **Jazz**: Walking bass (quarter notes, chord tones)\n- **House**: Synth bass, pumping (sidechained to kick)\n- **Reggae**: Dub bass, minimal, sub-heavy\n\n**4. Harmonic Language:**\n- **Pop**: Simple (I-V-vi-IV), major keys, catchy\n- **Jazz**: Complex (ii-V-I, extensions, alterations)\n- **EDM**: Modal (Aeolian, Dorian), often single key center\n- **Rock**: Power chords (I-IV-V), pentatonic\n- **R&B/Neo-Soul**: Extended chords (9ths, 11ths, 13ths), chromatic\n- **Metal**: Chromatic, diminished, power chords, palm muting\n\n**5. Mix Signature:**\n- **Modern Pop**: Loud (LUFS -6 to -8), compressed, bright\n- **Lo-Fi**: Vinyl crackle, tape saturation, muffled highs\n- **Jazz**: Wide dynamic range, room ambience, natural\n- **EDM**: Heavy sidechain, bright hi-hats, pounding kick\n- **Rock**: Mid-focused, guitar-centric, live room sound\n- **Classical**: Minimal processing, wide stereo, natural reverb\n        `\n      },\n      {\n        title: 'Genre Analysis and Production Techniques',\n        content: `\n**Deep Dive: Major Genres**\n\n**House Music:**\n- **Tempo**: 120-130 BPM\n- **Drums**: Four-on-the-floor kick, claps/snare on 2&4, open hats on off-beats\n- **Bass**: Synth bass, sidechained to kick (pumping effect)\n- **Chords**: Simple progressions (often 2-4 chords), piano or synth pads\n- **Arrangement**: 8-bar phrases, build-drop structure\n- **Mix**: Bright, punchy kick, sidechain everything to kick\n\n**Trap:**\n- **Tempo**: 140-150 BPM (feels like 70-75 half-time)\n- **Drums**: Heavy 808 kick/bass, snare on 3, rapid hi-hat rolls\n- **Bass**: 808 sub-bass, gliding/sliding notes\n- **Melody**: Dark, minor keys, eerie synths or strings\n- **Arrangement**: Sparse verses, heavy drops\n- **Mix**: Sub-heavy, compressed, distorted 808s\n\n**Lo-Fi Hip-Hop:**\n- **Tempo**: 70-90 BPM\n- **Drums**: Swing feel, dusty samples, vinyl crackle\n- **Bass**: Simple, warm, sub-focused\n- **Chords**: Jazz chords (7ths, 9ths), Rhodes, piano\n- **Texture**: Tape saturation, bit-crushing, low-pass filter\n- **Mix**: Muffled highs, warm mids, chill vibe\n\n**Drum & Bass:**\n- **Tempo**: 160-180 BPM\n- **Drums**: Fast breakbeats (Amen break), heavy sub-bass\n- **Bass**: Reese bass, aggressive, distorted\n- **Melody**: Dark pads, sparse\n- **Arrangement**: Energy throughout, no half-time sections\n- **Mix**: Compressed, loud, bass-focused\n\n**Jazz:**\n- **Tempo**: Variable (ballads 60-90, swing 120-200+)\n- **Drums**: Swing ride, brush snare, sparse kick\n- **Bass**: Walking bass (chord tones, quarter notes)\n- **Harmony**: Complex (ii-V-I, alterations, substitutions)\n- **Arrangement**: Head-solos-head (AABA form)\n- **Mix**: Natural, wide stereo, minimal compression\n\n**Recognition Exercise:**\n\n**Listen for 3 Key Tells:**\n1. **Drum pattern** (four-on-the-floor? breakbeat? swing?)\n2. **BPM** (slow? medium? fast? half-time?)\n3. **Bass character** (sub-bass? funk bass? distorted?)\n\n**Genre Flowchart:**\n1. Is it four-on-the-floor? → House/Techno/Disco\n2. Is there heavy 808 sub? → Trap/Dubstep/Future Bass\n3. Is the BPM 160+? → Drum & Bass/Jungle\n4. Does it swing? → Jazz/Swing/Blues\n5. Live drums + distorted bass? → Rock/Metal\n6. Off-beat skank rhythm? → Reggae/Dub\n\n**Production Techniques by Genre:**\n\n**Modern Pop Production:**\n- Loud mastering (LUFS -7 to -8)\n- Autotune vocals (often obvious)\n- Layered synths and vocals\n- Sidechain compression on everything\n- Bright, polished mix\n\n**Lo-Fi Production:**\n- Vinyl crackle/noise\n- Tape saturation/warmth\n- Low-pass filtering (muffled highs)\n- Bit-crushing\n- Sample-based (dusty jazz/soul samples)\n\n**EDM Production:**\n- Heavy sidechain (pumping)\n- Bright, synthetic sounds\n- Build-up/drop structure\n- Riser effects (white noise sweeps)\n- Wide stereo, mono bass\n\n**Common Mistakes:**\n- Relying on instrumentation alone (synths don't always mean EDM)\n- Ignoring tempo (critical genre identifier)\n- Not listening to the mix signature (lo-fi vs. modern pop)\n- Confusing subgenres (trap vs. dubstep, house vs. techno)\n\n**Practice Plan:**\n- Week 1: House vs. Trap vs. Rock (3 genres, obvious differences)\n- Week 2: Add Jazz, Reggae, Lo-Fi (6 genres total)\n- Week 3: Subgenres (Deep House vs. Tech House, etc.)\n- Week 4: Production era (80s vs. 90s vs. 2020s)\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Identify major genres by tempo, drum pattern, and bass character\",\n    \"Recognize production techniques and mix signatures\",\n    \"Analyze arrangement structures across genres\",\n    \"Distinguish between subgenres and production eras\",\n    \"Apply genre conventions to your own productions\"\n  ]\n};\n",
    "number": 9,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "ear-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Genre & Style:",
      "Prepararsi alla lezione successiva del modulo Ear Training"
    ]
  },
  {
    "slug": "harmony-9",
    "filename": "lesson-harmony-9.config.js",
    "title": "Create Pull:",
    "category": "Advanced Harmony",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 9 - Create Pull: Dominant 7\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-harmony-9-progress\",\n  lessonNumber: 9,\n  lessonCategory: \"Advanced Harmony\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-harmony-10.html\",\n  prevLessonUrl: \"lesson-harmony-8.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 9, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Create Pull:\",\n    titleHighlight: \"Dominant 7\",\n    subtitle: \"Master the G7 chord - the most powerful tension-and-release tool in harmony. You'll learn how dominant 7th chords (G7) create an irresistible pull to resolve back home (C). This is the secret behind satisfying chord progressions in pop, blues, jazz, and virtually all Western music.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 100,\n    key: \"C\",\n    scale: \"Major\",\n    stepCount: 64,\n    bars: 4,\n    pitchRange: {\n      low: 48,  // C3\n      high: 84  // C6\n    }\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Build a G7 → C Resolution\",\n    description: \"Create a chord progression that uses <strong>G7 (G-B-D-F)</strong> to create tension, then resolves to <strong>Cmaj7 (C-E-G-B)</strong> for satisfaction. This V7 → I resolution is the foundation of musical tension and release. You'll feel the 'pull' when G7 wants to resolve to C.\",\n    tip: \"The magic is in the notes: G7 contains F (wants to fall to E) and B (wants to rise to C). These two notes create tension that demands resolution. Listen for how satisfying it feels when G7 finally resolves to C!\",\n    steps: [\n      { text: \"Bar 1: Build <strong>Cmaj7</strong> (C-E-G-B) - the home chord\" },\n      { text: \"Bar 2: Build <strong>Am7</strong> (A-C-E-G) - smooth minor chord\" },\n      { text: \"Bar 3: Build <strong>G7</strong> (G-B-D-F) - the tension chord!\" },\n      { text: \"Bar 4: Resolve back to <strong>Cmaj7</strong> (C-E-G-B) - satisfaction!\" },\n      { text: \"Make all chords <strong>2 beats long</strong>\" },\n      { text: \"Listen to how bar 3 (G7) creates tension that bar 4 (C) releases\" }\n    ]\n  },\n\n  // ====================\n  // VALIDATION CONFIG\n  // ====================\n  validation: {\n    type: \"exact_chord_sequence\",\n    requiredChords: [\n      {\n        time: 0,\n        pitches: [60, 64, 67, 71],  // Cmaj7: C4, E4, G4, B4\n        chordName: \"Cmaj7\",\n        allowInversions: false\n      },\n      {\n        time: 16,\n        pitches: [69, 72, 76, 79],  // Am7: A4, C5, E5, G5\n        chordName: \"Am7\",\n        allowInversions: false\n      },\n      {\n        time: 32,\n        pitches: [67, 71, 74, 77],  // G7: G4, B4, D5, F5\n        chordName: \"G7\",\n        allowInversions: false\n      },\n      {\n        time: 48,\n        pitches: [60, 64, 67, 71],  // Cmaj7: C4, E4, G4, B4 (resolution!)\n        chordName: \"Cmaj7\",\n        allowInversions: false\n      }\n    ],\n    simultaneous: true,\n    allowExtraNotes: false\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Build the progression: Cmaj7 → Am7 → G7 → Cmaj7. Listen for how G7 creates tension that demands resolution.\",\n    success: \"Perfect! You've mastered the dominant 7th resolution. This V7 → I movement is the engine that drives thousands of songs. Now you understand functional harmony!\",\n    error: \"Check: Cmaj7 = C-E-G-B, Am7 = A-C-E-G, G7 = G-B-D-F. Make sure G7 (bar 3) uses F (not F#) for the flat seventh that creates tension.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 9,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "harmony-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Create Pull:",
      "Prepararsi alla lezione successiva del modulo Advanced Harmony"
    ]
  },
  {
    "slug": "mastering-9",
    "filename": "lesson-mastering-9.config.js",
    "title": "Genre-Specific Mastering:",
    "category": "Mastering",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mastering 9 - Genre-Specific Mastering\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mastering-9-progress\",\n  lessonNumber: 9,\n  lessonCategory: \"Mastering\",\n\n  nextLessonUrl: \"lesson-mastering-10.html\",\n  prevLessonUrl: \"lesson-mastering-8.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 9, categoryLabel: \"Mastering\" }),\n    title: \"Genre-Specific Mastering:\",\n    titleHighlight: \"Different Approaches for Different Styles\",\n    subtitle: \"Learn how EDM, hip-hop, rock, pop, and acoustic genres have different mastering expectations—and how to adapt your approach to serve each style\"\n  },\n\n  exercise: {\n    title: \"Master the Same Mix for Two Different Genres\",\n    description: \"Take a versatile mix and create two genre-specific masters with different loudness targets, tonal approaches, and dynamic ranges to demonstrate how genre expectations shape mastering decisions.\",\n    tip: \"Genre mastering isn't about following rigid rules—it's about understanding listener expectations. An EDM master should feel powerful on a club system. A jazz master should preserve dynamics for the audiophile listener. Study professional releases in your target genre before making decisions.\",\n    steps: [\n      '<strong>Select a versatile mix</strong> — Choose a mix that could work in multiple genres, or use your most recent mastering project.',\n      '<strong>Import genre references</strong> — Import 2-3 reference tracks for each target genre. Level-match to your mix. These guide your genre-specific decisions.',\n      '<strong>Create two mastering sessions</strong> — Save As: \"Song_Master_GenreA\" and \"Song_Master_GenreB\" (e.g., EDM and Acoustic). You\\'ll process each differently.',\n      '<strong>Master for Genre A: Set loudness target</strong> — Based on genre expectations: EDM/Hip-Hop might target -10 to -8 LUFS (club-ready), while acoustic might target -14 to -12 LUFS (dynamic).',\n      '<strong>Master for Genre A: Shape tonal balance</strong> — Apply genre-appropriate EQ: EDM might want boosted sub and air, rock might want midrange presence, pop might want controlled lows and bright highs.',\n      '<strong>Master for Genre A: Set dynamics</strong> — Genre-appropriate compression and limiting: EDM might accept more limiting (DR6-8), acoustic might preserve dynamics (DR10-14).',\n      '<strong>Master for Genre A: Check against references</strong> — A/B your Genre A master against genre references. Does it fit the genre\\'s sonic expectations?',\n      '<strong>Master for Genre B: Different loudness target</strong> — Apply the other genre\\'s loudness expectations. More or less limiting depending on genre.',\n      '<strong>Master for Genre B: Different tonal approach</strong> — Reshape EQ for Genre B expectations. Different genres emphasize different frequencies.',\n      '<strong>Master for Genre B: Different dynamics</strong> — Adjust compression/limiting for Genre B\\'s dynamic expectations.',\n      '<strong>Compare both masters</strong> — A/B your two genre masters. They should sound noticeably different while both being from the same source mix.',\n      '<strong>Document the differences</strong> — Write down the specific changes between genres: loudness target, EQ moves, compression settings, limiting amount. This builds your genre-specific knowledge.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Why Genre Matters in Mastering',\n        content: `Mastering serves the listener experience, and listener expectations vary by genre. A hip-hop master and a classical master have fundamentally different goals.\n\n**Genre Expectations Affect:**\n- **Loudness:** EDM expects loud, punchy masters; classical expects full dynamic range\n- **Tonal balance:** Hip-hop emphasizes sub bass; rock emphasizes midrange guitars\n- **Dynamics:** Pop is controlled and consistent; jazz breathes and varies\n- **Stereo image:** Electronic is wide; vintage rock may be narrower\n- **Translation priority:** Club music must work on massive PAs; acoustic must work on hi-fi\n\n**The Reference Imperative:**\nBefore mastering any genre, study professional releases:\n- What loudness levels are typical?\n- What's the tonal balance?\n- How much dynamic range is preserved?\n- How wide is the stereo image?\n\n**Serving the Genre, Not the Rules:**\nThese guidelines are starting points, not laws. A lo-fi hip-hop track might want more dynamics than typical hip-hop. An acoustic singer-songwriter might want a brighter, more modern sound. Listen to the music and make decisions that serve it.`\n      },\n      {\n        title: 'EDM & Electronic: Powerful, Wide, and Impactful',\n        content: `Electronic dance music prioritizes impact, energy, and translation on club systems. Masters should feel powerful without distortion.\n\n**Loudness:**\n- Target: -10 to -8 LUFS for club/DJ use, -14 LUFS for streaming\n- Heavier limiting acceptable—genre expects density\n- Watch for distortion on drops and buildups\n- DR6-9 is typical for the genre\n\n**Tonal Balance:**\n- Sub bass (30-60 Hz): Strong, clean, mono\n- Bass (60-150 Hz): Punchy kick, tight 808/bass\n- Mids (500 Hz-2 kHz): Carved for synths and vocals\n- Presence (2-5 kHz): Sharp, detailed\n- Air (10 kHz+): Bright, airy, wide\n\n**Typical EQ Moves:**\n- HPF at 20-30 Hz (clean sub)\n- Boost 50-80 Hz for sub weight\n- Cut 200-400 Hz (reduce mud)\n- High shelf +1-2 dB at 10 kHz (air)\n\n**Dynamics:**\n- Aggressive limiting on drops\n- Sidechain pumping may be baked in\n- Preserve build/drop dynamics\n- Consider multiband limiting for bass control\n\n**Stereo:**\n- Wide synths and FX\n- Mono sub and kick\n- Check mono compatibility—club subs are mono\n\n**Reference Tracks:**\n- Flume, ODESZA – balanced and dynamic\n- Skrillex – aggressive and loud\n- Disclosure – clean and punchy`\n      },\n      {\n        title: 'Hip-Hop: Vocal Forward, Bass Heavy, Punchy',\n        content: `Hip-hop mastering centers on the vocal and the low end. The beat should hit hard while the rapper/singer stays clear and present.\n\n**Loudness:**\n- Target: -10 to -8 LUFS for club/radio, -14 LUFS for streaming\n- Punchy, controlled limiting\n- DR6-9 typical\n- Vocal should stay clear even when loud\n\n**Tonal Balance:**\n- Sub (30-60 Hz): 808/sub bass is often dominant\n- Bass (60-150 Hz): Harmonic content for speaker translation\n- Mids (500 Hz-2 kHz): Carved for vocal clarity\n- Presence (2-5 kHz): Vocal presence, hi-hat detail\n- Air (10 kHz+): Crisp, controlled\n\n**Typical EQ Moves:**\n- HPF at 25-35 Hz (clean sub)\n- Boost 50-80 Hz if 808 needs weight\n- Cut 300-500 Hz (reduce mud, clear vocal space)\n- Boost 3-5 kHz for vocal presence\n- Control 8-12 kHz (hi-hat harshness)\n\n**Dynamics:**\n- Punchy transients on snare/clap\n- Consistent vocal level\n- Controlled limiting—preserve punch\n- May need multiband for 808 control\n\n**Stereo:**\n- Vocal, kick, 808 centered\n- Ad-libs and FX can be wide\n- Check mono—phone speakers common\n\n**Reference Tracks:**\n- Kendrick Lamar – punchy, clean, vocal-forward\n- Drake – polished, modern\n- Travis Scott – creative, 808-heavy`\n      },\n      {\n        title: 'Rock: Band Energy, Natural Dynamics',\n        content: `Rock mastering should capture the energy of a band playing together. Dynamics, punch, and \"realness\" matter more than loudness.\n\n**Loudness:**\n- Target: -12 to -9 LUFS typical, -14 LUFS for streaming\n- Preserve dynamics more than EDM/hip-hop\n- DR8-12 typical\n- Let quiet sections breathe\n\n**Tonal Balance:**\n- Sub (30-60 Hz): Present but not dominant\n- Bass (60-150 Hz): Bass guitar body, kick punch\n- Low-mids (200-500 Hz): Guitar body, warmth\n- Mids (500 Hz-2 kHz): Guitar presence, vocal body\n- Presence (2-5 kHz): Snare crack, vocal clarity\n- Air (10 kHz+): Cymbal shimmer, natural\n\n**Typical EQ Moves:**\n- HPF at 30-40 Hz\n- Cut 200-400 Hz if muddy\n- Boost 2-4 kHz for presence\n- Gentle high shelf for air\n\n**Dynamics:**\n- Glue compression for \"band\" feel\n- Preserve drum transients\n- Don't over-limit—genre values dynamics\n- Parallel compression for density without squashing\n\n**Stereo:**\n- Hard-panned guitars typical\n- Centered kick, snare, bass, vocal\n- Room/ambience for width\n\n**Reference Tracks:**\n- Foo Fighters – powerful, dynamic\n- Queens of the Stone Age – punchy, controlled\n- Arctic Monkeys – modern rock balance`\n      },\n      {\n        title: 'Pop: Polished, Controlled, Radio-Ready',\n        content: `Pop mastering aims for a polished, consistent, broadcast-ready sound. Vocals are king, and everything should sound \"expensive.\"\n\n**Loudness:**\n- Target: -12 to -10 LUFS for radio, -14 LUFS for streaming\n- Controlled, consistent dynamics\n- DR7-10 typical\n- Should sound good on any speaker\n\n**Tonal Balance:**\n- Sub (30-60 Hz): Controlled, clean\n- Bass (60-150 Hz): Punchy, tight\n- Low-mids (200-500 Hz): Clean, minimal mud\n- Mids (500 Hz-2 kHz): Clear, present\n- Presence (2-5 kHz): Vocal forward\n- Air (10 kHz+): Bright, polished, \"expensive\"\n\n**Typical EQ Moves:**\n- HPF at 30-40 Hz\n- Cut 200-400 Hz for clarity\n- Boost 3-5 kHz for vocal presence\n- High shelf +1-2 dB at 10-12 kHz for air\n\n**Dynamics:**\n- Controlled compression—consistent level\n- Automation-driven dynamics (baked into mix)\n- Smooth limiting—no obvious artifacts\n- Verse/chorus lift should be preserved\n\n**Stereo:**\n- Wide, impressive image\n- Centered vocal, kick, bass\n- Synths and production wide\n- Check mono for phone speakers\n\n**Reference Tracks:**\n- Dua Lipa – wide, punchy, modern\n- The Weeknd – 80s-inspired, present vocal\n- Taylor Swift – polished, balanced`\n      },\n      {\n        title: 'Acoustic & Jazz: Natural, Dynamic, Audiophile',\n        content: `Acoustic and jazz mastering prioritizes natural sound and dynamics. These genres are often listened to on high-quality systems by discerning listeners.\n\n**Loudness:**\n- Target: -16 to -12 LUFS typical, preserve dynamics over loudness\n- DR12-16 typical—full dynamic range\n- Quiet should be quiet, loud should be loud\n- Minimal limiting\n\n**Tonal Balance:**\n- Sub (30-60 Hz): Natural, not hyped\n- Bass (60-150 Hz): Acoustic bass warmth, kick body\n- Low-mids (200-500 Hz): Guitar/piano body\n- Mids (500 Hz-2 kHz): Natural voice, instrument presence\n- Presence (2-5 kHz): Articulation, not harshness\n- Air (10 kHz+): Natural, not hyped\n\n**Typical EQ Moves:**\n- HPF at 25-35 Hz (subtle)\n- Minimal cuts/boosts—±1 dB\n- High shelf only if needed\n- Preserve natural tonal balance\n\n**Dynamics:**\n- Very light or no compression\n- Dynamics are the music—preserve them\n- Limiting only to prevent clipping\n- May not need limiting at all\n\n**Stereo:**\n- Natural stereo image\n- Reflects recording setup\n- Don't artificially widen\n- Room ambience matters\n\n**Special Considerations:**\n- Audiophile listeners notice artifacts\n- Less processing is usually better\n- Preserve the performance's dynamics\n- Reference high-quality recordings\n\n**Reference Tracks:**\n- Diana Krall – audiophile reference\n- Norah Jones – warm, natural\n- Bill Evans – classic jazz dynamics`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Understand how genre expectations shape mastering decisions: loudness, tonal balance, dynamics, and stereo width\",\n    \"Apply EDM/electronic mastering: powerful sub, bright air, aggressive limiting, mono bass, wide synths\",\n    \"Apply hip-hop mastering: vocal-forward, 808-dominant, punchy drums, controlled hi-hats\",\n    \"Apply rock mastering: band energy, natural dynamics, guitar presence, glue compression\",\n    \"Apply pop mastering: polished, controlled, radio-ready, vocal prominence, wide production\",\n    \"Apply acoustic/jazz mastering: natural dynamics, minimal processing, audiophile-friendly, preserve performance\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mastering lesson to learn genre-specific techniques.\",\n    success: \"Excellent! You can now adapt your mastering approach to serve any genre's expectations.\",\n    error: \"Review the genre-specific concepts and try again.\",\n    alreadyCompleted: \"You've mastered Genre-Specific Mastering. Ready for the final lesson!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 9,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "mastering-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Genre-Specific Mastering:",
      "Prepararsi alla lezione successiva del modulo Mastering"
    ]
  },
  {
    "slug": "mixing-9",
    "filename": "lesson-mixing-9.config.js",
    "title": "Panning and Stereo Width:",
    "category": "Mixing",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mixing 9 - Panning and Stereo Width\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-9-progress\",\n  lessonNumber: 9,\n  lessonCategory: \"Mixing\",\n\n  nextLessonUrl: \"lesson-mixing-10.html\",\n  prevLessonUrl: \"lesson-mixing-8.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 9, categoryLabel: \"Mixing\" }),\n    title: \"Panning and Stereo Width:\",\n    titleHighlight: \"Stereo Image Stability\",\n    subtitle: \"Creating a stable stereo image that holds up in mono\"\n  },\n\n  exercise: {\n    title: \"Creating a Balanced Stereo Image\",\n    description: \"Pan core elements into a coherent stage, verify mono compatibility, and apply subtle M/S width management on a bus without losing headroom or collapsing key elements.\",\n    tip: \"If the mix feels narrow, widen the arrangement with panning and doubles before reaching for a stereo widener. If the mix feels wide but unstable, reduce side content or time offsets and re-check mono—phase cancellation and comb filtering are common reasons width \\\"disappears\\\" on collapse.\",\n    steps: [\n      '<strong>Load and save session</strong> — Open your previous session \"Mixing-8_DelayFX\" and immediately save a new version named \"Mixing-9_PanningWidth\".',\n      '<strong>Select loop and verify headroom</strong> — Choose a representative 20–30 second loop (often chorus/drop). Keep the master peak meter visible and maintain your mixing headroom from Lesson 2 (a practical target is to remain under about -6 dBFS peak while you work).',\n      '<strong>Document pan law</strong> — Locate your DAW\\'s pan law / pan depth setting and write down the current value (for example, -3 dB). Do not change it during the exercise; the goal is to learn consistent panning decisions.',\n      '<strong>Set centre anchors</strong> — Pan Lead Vocal to Centre (C). Pan Kick to Centre and Snare to Centre. Pan Bass to Centre or very close to centre (e.g., C or L5/R5) to keep low-end energy stable while you make width decisions elsewhere.',\n      '<strong>Pan drum overheads</strong> — Pan Overheads to a moderate stereo spread (e.g., OH-L at L60 and OH-R at R60). Pan Hi-hat (if separate) slightly off-centre (e.g., R20) and pan Ride slightly opposite (e.g., L20), adjusting based on the kit perspective you prefer.',\n      '<strong>Position toms</strong> — Pan toms to follow the overhead perspective: for example, Rack Tom at L25 and Floor Tom at R35 (or wider if your overheads are wide). Verify by listening for tom movement across the field during fills.',\n      '<strong>Balance music layer</strong> — Choose two complementary elements (e.g., Guitar 1 and Guitar 2, or Guitar and Keys). Place one at L50 and the other at R50. If you only have one wide element, move it to one side (e.g., L40) and place another supportive element (pads/keys/secondary synth) on the other side (e.g., R40) to restore balance.',\n      '<strong>Evaluate stage weight</strong> — Close your eyes and ask whether the left or right feels brighter, louder, or denser. If one side feels heavier, adjust panning (e.g., shift L50 to L40) or level slightly rather than adding EQ immediately.',\n      '<strong>LCR comparison</strong> — Pick one pair (e.g., guitars) and temporarily hard-pan them (hard L / hard R). Listen for increased width and potential holes. Then return to your graded positions (e.g., L50/R50) and keep the placement that best supports the vocal focus.',\n      '<strong>Mono compatibility check 1</strong> — Activate a mono downmix on your monitor path (or temporarily set the master to mono using a utility/mono plugin). Listen for 10–15 seconds. Identify one element that changes tone or level noticeably (common culprits: Haas delays, wideners, chorus, ping-pong FX).',\n      '<strong>Diagnose mono issues</strong> — If something collapses in mono, bypass the suspected width/time-based plugin and re-check mono. If the issue disappears, reduce that effect\\'s width, reduce Haas offsets, or reduce \"side\" level until mono becomes acceptable.',\n      '<strong>Apply M/S management</strong> — On a bus (Music Bus or Mix Bus): insert an M/S-capable EQ or stereo tool. High-pass the Side channel around 120 Hz (12 dB/oct) so sub/low-bass energy remains more stable in Mid, then A/B in stereo and mono to confirm the mix stays wide without low-end wobble.',\n      '<strong>Mono compatibility check 2</strong> — Return to mono and confirm that Lead Vocal, Kick, Snare, and Bass remain present and stable. If the vocal became masked, reduce side-heavy content or narrow competing elements slightly rather than boosting vocal EQ.',\n      '<strong>Final verification and export</strong> — Return to stereo, confirm no clipping on channels/buses/master, and export a short bounce named \"Mixing-9_StereoImage\". Then export a second bounce with your monitor path in mono (or create a mono downmix) named \"Mixing-9_MonoCheck\". Compare them to confirm translation rather than perfection.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Stereo Field Fundamentals: Phantom Centre and Why Mono Still Matters',\n        content: `In two-channel mixing, \"stereo imaging\" refers to how reliably a listener can localise elements left-to-right between loudspeakers. A critical mechanism is the **phantom centre**: when a mono signal is sent equally to left and right, the listener often perceives it as coming from between the speakers.\n\n**The Haas (Precedence) Effect:**\nThe Haas effect describes why this works: localisation is dominated by the first-arriving sound when subsequent arrivals are within roughly 25–35 ms, and a simultaneous arrival is perceived as straight ahead (or behind/within the head, depending on conditions). This is one reason two loudspeakers can create a coherent stereo stage without a physical centre speaker.\n\n**The Stereo Stage as a Finite Resource:**\nFrom a mix perspective, the stereo field is a finite \"stage\":\n- If too many priority elements occupy the centre region, the mix can feel narrow and congested\n- If too many elements compete at the edges, the centre can feel hollow\n\n**Why Mono Compatibility Matters:**\nMono compatibility matters because many playback situations partially or fully collapse stereo:\n- Phone speakers\n- Club systems\n- Bluetooth devices\n- Broadcast chains\n- Certain social platforms\n\nSome widening techniques change tone dramatically when left and right are summed. Treat mono checks as a **verification step**, not a nostalgia exercise.\n\n<pre style=\"background: #1a1a2e; padding: 12px; border-radius: 4px; margin: 1em 0;\">\nStereo \"stage\" intuition (typical):\nLeft edge   ←    left     centre (phantom)     right    →   Right edge\n               (L30–L60)         (C)         (R30–R60)\n</pre>`\n      },\n      {\n        title: 'Frequency Considerations: Low End Stability vs High-Frequency Width',\n        content: `Panning and width decisions often benefit from frequency awareness. Low-frequency localisation is generally less precise than midrange localisation, and in many real-world systems bass is managed separately (e.g., via subwoofer crossovers).\n\n**Bass Management and Localisation:**\nListening-condition guidance in broadcasting notes that to prevent bass source locations becoming perceptible, lower crossover frequencies may be required when the bass loudspeaker position is further from the main loudspeakers—an indicator that bass routing and localisation are strongly influenced by playback configuration.\n\n**Practical Defaults:**\n- **Kick and Bass**: Often kept near the phantom centre so low-end energy feels stable across playback systems\n- **Higher-frequency elements** (cymbals, guitars, synth layers, ambience): Can be spread wider without destabilising the groove\n\nThis is not an absolute rule, but it is a useful default when you are still building reliable translation habits.\n\n**Anchoring Strategy:**\nLesson 8 introduced Haas-style micro-delays and ping-pong delays as width tools. To keep that width safe:\n1. \"Anchor\" the low end and lead elements in the middle (or near-middle)\n2. Use panning, doubles, M/S, and time-based effects to create width above that anchor\n3. Follow with consistent mono verification`\n      },\n      {\n        title: 'Panning Techniques: Static Placement, LCR, and Gradual Panning',\n        content: `A pan (panoramic) control is designed to move the apparent position of a signal between left and right outputs; in the middle, the signal is typically heard from both outputs, with theoretical level compensation to preserve perceived loudness as it moves.\n\n**Panning for Arrangement Clarity:**\nIn the context of a mix, panning is less about \"making it stereo\" and more about arrangement clarity: you are deciding which elements share the same space and which elements deserve separation so they can be heard without excessive EQ or compression.\n\n**Two Common Philosophies:**\n\n| Approach | Typical Pan Positions | Strength | Common Risk |\n|----------|----------------------|----------|-------------|\n| **LCR** | Hard L / Centre / Hard R | Fast clarity; strong width if arrangement supports it | Holes in the middle if too much is hard-panned without support |\n| **Gradual panning** | L10–L60 / R10–R60 (+ centre anchors) | Smoother stage; easier to \"fit\" many parts | Can drift into a crowded centre if everything is \"a little bit off-centre\" |\n\n**Stage Balance Mental Model:**\nThink of a stage layout: if you put a guitar at L70, consider a counterbalance on the right (another guitar at R70, a keyboard at R40, or stereo ambience).\n\nBalance here is **perceptual, not mathematical**: you are balancing attention, brightness, and rhythmic density—not only meters.`\n      },\n      {\n        title: 'Pan Law: Why Levels Change When You Pan',\n        content: `Pan law (sometimes called pan depth) is the rule that determines how level is adjusted as a signal moves between centre and the sides.\n\n**The Classic Result:**\nAt the middle of a pan pot, a signal is heard equally from both outputs but reduced by about 3 dB relative to its original value—intended to keep perceived loudness more consistent across positions, acknowledging that real rooms complicate this.\n\n**DAW Variations:**\nDAWs implement different pan-law options, and the same session can sound different if the pan law changes because centre-panned elements may become louder or quieter relative to hard-panned elements.\n\n| Pan Law | Centre Behaviour | When It Matters |\n|---------|-----------------|-----------------|\n| **0 dB** | Centre can sound louder than hard L/R | Centre-heavy mixes may feel \"inflated\" unless compensated by faders |\n| **-3 dB** | Common \"constant power\" style behaviour | General mixing; predictable centre image for mono sources |\n| **-4.5 dB / -6 dB** | Stronger centre attenuation | Some workflows prioritise different summing/translation assumptions |\n\n**Practical Takeaway:**\nThe goal is not \"pick the perfect law\" but **\"know which one you are using, and don't change it mid-mix\"**. If you import stems into another DAW (or hand off a session), pan law is one of the first settings to check when balances feel unexpectedly different.`\n      },\n      {\n        title: 'Stereo Width Tools: M/S Processing, Wideners, and Double-Tracking',\n        content: `Beyond panning mono sources, width can be shaped by changing the relationship between the \"middle\" (mono) and \"sides\" (stereo difference) of a signal.\n\n**Mid/Side (M/S) Matrix:**\n<pre style=\"background: #1a1a2e; padding: 12px; border-radius: 4px; margin: 1em 0;\">\nMid (M) ≈ (L + R) / 2    (mono content)\nSide (S) ≈ (L - R) / 2   (stereo difference)\n\nReconstruct: L = M + S,  R = M - S\n</pre>\n\n**Width Control via M/S:**\n- Increasing Side content relative to Mid tends to widen the image\n- Reducing Side content tends to narrow toward mono\n- Many stereo tools offer width controls or M/S modes on EQ and dynamics\n\n**Widener Risks:**\nWideners can be powerful, but the risks are predictable:\n- Many rely on phase manipulation, decorrelation, or short time offsets\n- When summed to mono, these relationships can create **phase cancellation and comb filtering**\n- This changes tone and sometimes reduces level\n\n**Haas Effect Width (from Lesson 8):**\nA 10–25 ms offset between left and right can sound wide, but it can also create comb filtering when collapsed to mono.\n\n**Double-Tracking Advantage:**\nRecording two different performances and panning them apart is often more mono-resilient than artificial widening because the differences are performance-based rather than phase-based—though it still needs mono checking.`\n      },\n      {\n        title: 'Mono Compatibility Workflow and Quick Conventions',\n        content: `Mono compatibility is simple to test but easy to forget. \"Monoed\" is effectively left+right summed, and if the left and right signals contain out-of-phase components, summing can cause cancellation.\n\n**Technical Foundation:**\n- **Phase cancellation**: The subtraction effect that occurs when out-of-phase signals add as vectors\n- **Comb filter**: A response with peaks and valleys caused by reflections (or delayed copies) arriving out of phase, producing reinforcements and cancellations\n\nThat is the technical underpinning of why some widening tricks collapse badly in mono.\n\n**Practical Mixing Routine:**\n1. Pan in stereo\n2. Check mono briefly\n3. Return to stereo\n\n**When You Find a Problem:**\nIf an element changes tone or level noticeably in mono (e.g., guitars become thin):\n1. Diagnose whether it's caused by a widener, Haas delay, stereo chorus/modulation, or M/S processing\n2. Solve by reducing Side level, reducing time offsets, narrowing width, or keeping critical frequency bands more stable in Mid\n\n**Common Conventions (Starting Points, Not Laws):**\n| Element | Typical Position | Reason |\n|---------|-----------------|--------|\n| Kick, Snare, Bass | Centre | Keeps groove anchors stable |\n| Lead Vocal | Centre | Focus and clarity |\n| Overheads, Toms | Spread | Kit perspective and width |\n| Harmonies, Doubles | Spread | Support without competing |\n| Guitars, Keys | Complementary L/R zones | Reduces centre competition |\n\nThese conventions work because they reduce competition for the phantom centre while keeping groove anchors stable.`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Position key mix elements across the stereo field using clear pan targets (centre, L30/R30, L60/R60, hard L/R) while preserving a stable phantom centre\",\n    \"Evaluate stereo image balance using both listening (speaker/headphone checks) and verification tools (mono sum, phase/correlation cues)\",\n    \"Apply and verify panning workflows (LCR and gradual panning) to improve arrangement clarity without relying on EQ to 'separate everything'\",\n    \"Apply Mid/Side (M/S) concepts to manage stereo width responsibly and diagnose widening side-effects (phase cancellation and comb filtering)\",\n    \"Verify mono compatibility throughout by identifying which elements remain stable in mono and which wideners/delays collapse or change tone\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mixing lesson to advance your skills.\",\n    success: \"Excellent! You've mastered Panning and Stereo Width. Your mixes are improving!\",\n    error: \"Review the mixing concepts and try again.\",\n    alreadyCompleted: \"You've completed this mixing technique. Keep practicing!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 9,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "mixing-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Panning and Stereo Width:",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-9",
    "filename": "lesson-sound-design-9.config.js",
    "title": "FX Sound Design:",
    "category": "Sound Design",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Sound Design 9 - FX Sound Design\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-sound-design-9-progress\",\n  lessonNumber: 9,\n  lessonCategory: \"Sound Design\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-sound-design-10.html\",\n  prevLessonUrl: \"lesson-sound-design-8.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 9, categoryLabel: \"Sound Design\" }),\n    title: \"FX Sound Design:\",\n    titleHighlight: \"Impacts, Risers, Sweeps & Transitions\",\n    subtitle: \"Create essential FX sounds: impacts, risers, downlifters, sweeps, and transitions for electronic music. Master professional sound design techniques used in modern music production.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Explore FX Sound Design\",\n    description: \"Create essential FX sounds: impacts, risers, downlifters, sweeps, and transitions for electronic music. This lesson covers the essential concepts and practical techniques you need to master this sound design method.\",\n    tip: \"Listen critically to how each parameter affects the sound. Small changes can have dramatic results in sound design.\",\n    steps: [\n      '<strong>Study the theory</strong> — Read through the sound design concepts and understand the signal flow.',\n      '<strong>Analyze the examples</strong> — Listen to reference sounds and identify key characteristics.',\n      '<strong>Experiment with parameters</strong> — Try different settings and hear how they change the sound.',\n      '<strong>Create variations</strong> — Design multiple versions exploring different timbres.',\n      '<strong>Save your presets</strong> — Document successful sounds for future use.',\n      'Complete the lesson when ready to move forward.'\n    ]\n  },\n  \n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Understanding FX Sound Design',\n        content: `FX Sound Design is a fundamental sound design technique that shapes the sonic character of your productions.\n\n**Key Concepts:**\n- Core synthesis principles and signal flow\n- Parameter relationships and interactions  \n- Frequency spectrum considerations\n- Timbral characteristics and sonic possibilities\n- Common applications in music production\n\n**Professional Applications:**\nModern producers use FX Sound Design for:\n- Creating signature sounds and textures\n- Designing genre-specific timbres\n- Building unique sonic identities\n- Crafting sounds that cut through mixes\n- Generating movement and evolution in arrangements\n\nUnderstanding these concepts gives you complete control over your sound palette.`\n      },\n      {\n        title: 'Practical Sound Design Workflow',\n        content: `Professional sound designers follow systematic approaches to achieve desired results:\n\n**Design Process:**\n1. **Define the goal** — Know what sound you're trying to create\n2. **Choose the method** — Select appropriate synthesis technique\n3. **Start simple** — Begin with basic waveforms and build complexity\n4. **Shape with filters** — Sculpt the frequency content\n5. **Add movement** — Use envelopes and modulation\n6. **Layer if needed** — Combine multiple sounds for richness\n7. **Process and polish** — Apply effects and finalize\n\n**Critical Listening:**\n- A/B compare with reference sounds\n- Analyze frequency spectrum with analyzers\n- Check mono compatibility\n- Test in context with other mix elements\n\n**Common Mistakes to Avoid:**\n- Over-processing before establishing the core sound\n- Too many modulation sources creating chaos\n- Ignoring the frequency spectrum balance\n- Not considering the sound's role in the arrangement\n\nStudy professional productions and reverse-engineer the sounds you admire.`\n      }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master the fundamental concepts of FX Sound Design\",\n    \"Understand signal flow and parameter relationships\",\n    \"Apply sound design techniques to practical productions\",\n    \"Develop critical listening skills for timbre and texture\",\n    \"Create professional-quality sounds for your productions\"\n  ],\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this lesson to master FX Sound Design techniques.\",\n    success: \"Excellent! You've mastered FX Sound Design. Your sound design skills are growing!\",\n    error: \"Review the theory and try again.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these techniques!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 9,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "sound-design-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di FX Sound Design:",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "vocals-9",
    "filename": "lesson-vocals-9.config.js",
    "title": "Creative Vocal Production:",
    "category": "Vocals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Vocals 9 - Creative Vocal Production\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-vocals-9-progress\",\n  lessonNumber: 9,\n  lessonCategory: \"Vocals\",\n  \n  nextLessonUrl: \"lesson-vocals-10.html\",\n  prevLessonUrl: \"lesson-vocals-8.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 9, categoryLabel: \"Vocals\" }),\n    title: \"Creative Vocal Production:\",\n    titleHighlight: \"Chopping, Sampling & Vocoding\",\n    subtitle: \"Explore vocal chopping, sampling, vocoding, and experimental vocal processing. Master professional vocal production techniques for commercial-quality results.\"\n  },\n  \n  exercise: {\n    title: \"Master Creative Vocal Production\",\n    description: \"Explore vocal chopping, sampling, vocoding, and experimental vocal processing. This lesson covers the essential vocal production techniques used in professional recordings.\",\n    tip: \"Vocals are usually the focal point of a track. Spend extra time getting them right - they make or break the production.\",\n    steps: [\n      '<strong>Study vocal production theory</strong> — Understand the concepts and workflow.',\n      '<strong>Analyze reference vocals</strong> — Listen to professional vocal productions in your genre.',\n      '<strong>Apply the techniques</strong> — Practice the specific vocal processing methods.',\n      '<strong>Critical listening</strong> — Compare your results to professional standards.',\n      '<strong>Iterate and refine</strong> — Make adjustments based on what you hear.',\n      'Complete when you understand the practical application.'\n    ]\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Understanding Creative Vocal Production',\n        content: `Creative Vocal Production is crucial for achieving professional vocal productions that compete with commercial releases.\n\n**Core Concepts:**\n- Vocal recording and production fundamentals\n- Technical requirements and equipment considerations\n- Signal flow and processing chain order\n- Common issues and how to solve them\n- Genre-specific approaches and standards\n\n**Professional Workflow:**\n1. **Preparation** — Set up properly before recording\n2. **Capture** — Record high-quality source material\n3. **Edit** — Clean up and comp the best takes\n4. **Process** — Apply corrective and creative processing\n5. **Mix** — Blend vocals perfectly with the track\n6. **Finalize** — Ensure vocals translate across systems\n\n**Critical Factors:**\n- **Source quality** — Good recording = easier mixing\n- **Performance** — Technical skill matters more than processing\n- **Context** — Vocals must serve the song\n- **Reference** — Always compare to professional standards\n\nProfessional vocal producers understand that Creative Vocal Production is both technical skill and artistic judgment.`\n      },\n      {\n        title: 'Professional Vocal Production Techniques',\n        content: `Apply Creative Vocal Production in your productions with professional approaches:\n\n**Recording Best Practices:**\n- Proper mic placement and distance\n- Optimal gain staging and headroom\n- Multiple takes for comping\n- Consistent recording environment\n- Reference monitoring and acoustics\n\n**Processing Workflow:**\n1. **Clean up** — Remove unwanted sounds and noise\n2. **Tune** — Correct pitch issues (subtle or creative)\n3. **Time align** — Fix timing and rhythm issues\n4. **EQ** — Remove muddiness, add presence\n5. **Compress** — Control dynamics and consistency\n6. **De-ess** — Tame harsh sibilance\n7. **FX** — Add reverb, delay, modulation\n\n**Common Vocal Issues:**\n- **Muddiness** — High-pass filter at 80-100 Hz\n- **Harshness** — De-ess or cut 6-8 kHz\n- **Lack of presence** — Boost 3-5 kHz subtly\n- **Inconsistent levels** — Compression and automation\n- **Poor timing** — Edit before processing\n- **Pitch issues** — Tune before heavy processing\n\n**Genre Considerations:**\nDifferent genres require different vocal approaches:\n- **Pop** — Polished, present, tuned, compressed\n- **Hip-Hop** — Dry, upfront, minimal reverb\n- **R&B** — Smooth, warm, layered harmonies\n- **Rock** — Raw energy, less processing\n- **Electronic** — Creative effects, vocoders, pitch shifts\n\nStudy vocal productions in your genre and understand what makes them work.`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Master professional vocal production techniques\",\n    \"Understand the complete vocal workflow from recording to mixing\",\n    \"Apply genre-specific vocal processing approaches\",\n    \"Develop critical listening skills for vocal production\",\n    \"Create commercial-quality vocal recordings\"\n  ],\n  \n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this vocal production lesson to advance.\",\n    success: \"Excellent! You've mastered Creative Vocal Production. Your vocal productions are pro-level!\",\n    error: \"Review the vocal production concepts and try again.\",\n    alreadyCompleted: \"You've completed this vocal technique. Keep refining your skills!\"\n  }),\n  \n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 9,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "vocals-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Creative Vocal Production:",
      "Prepararsi alla lezione successiva del modulo Vocals"
    ]
  },
  {
    "slug": "arrangement-10",
    "filename": "lesson-arrangement-10.config.js",
    "title": "Call and Response:",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 10 - Call and Response\n *\n * This lesson teaches the call-and-response technique—a fundamental musical\n * conversation where one element \"asks\" and another \"answers.\"\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-arrangement-10-progress\",\n  lessonNumber: 10,\n  lessonCategory: \"Arrangement\",\n  depthLevel: 3,\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-arrangement-11.html\",\n  prevLessonUrl: \"lesson-arrangement-9.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 10, categoryLabel: \"Arrangement\" }),\n    title: \"Call and Response:\",\n    titleHighlight: \"Musical Conversation\",\n    subtitle: \"Master the <strong>call-and-response</strong> technique. Learn how elements <strong>talk to each other</strong>, creating engaging musical dialogues. This ancient technique appears in blues, jazz, gospel, hip-hop, and EDM.\"\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Create a Call-and-Response Arrangement\",\n    description: \"Build an arrangement where instruments <strong>answer each other</strong>. One element plays a phrase (the call), then another responds (the response). This creates <strong>musical conversation</strong> and keeps the listener engaged.\",\n    tip: \"Think of it like a conversation: Person A asks a question, Person B answers. In music: Lead plays 2 bars, response element plays 2 bars. The response should complement or answer the call, not just copy it.\",\n    steps: [\n      { text: \"<strong>Create the call</strong> - Lead melody or vocal phrase (2-4 bars)\" },\n      { text: \"<strong>Create the response</strong> - Different instrument answers (2-4 bars)\" },\n      { text: \"<strong>Alternate between call and response</strong> - Create a dialogue\" },\n      { text: \"<strong>Vary the intensity</strong> - Responses can agree, argue, or build\" },\n      { text: \"<strong>Use in different sections</strong> - Verse, chorus, or breakdown\" },\n      { text: \"<strong>Try overlapping</strong> - Advanced: response starts before call finishes\" }\n    ]\n  },\n\n  // ====================\n  // CALL-AND-RESPONSE PATTERNS\n  // ====================\n  patterns: [\n    {\n      name: \"2-Bar Exchange\",\n      icon: \"💬\",\n      structure: \"A-A | B-B\",\n      description: \"Classic pattern: call for 2 bars, response for 2 bars.\",\n      examples: [\"Blues guitar licks\", \"Gospel vocals\", \"Jazz horns\"],\n      usage: \"Most common, easy to follow\"\n    },\n    {\n      name: \"4-Bar Exchange\",\n      icon: \"🗣️\",\n      structure: \"A-A-A-A | B-B-B-B\",\n      description: \"Longer phrases for more development.\",\n      examples: [\"Verse-chorus vocals\", \"EDM build/drop\", \"Hip-hop verse/ad-lib\"],\n      usage: \"Builds more tension\"\n    },\n    {\n      name: \"Question-Answer\",\n      icon: \"❓\",\n      structure: \"A-up? | B-down.\",\n      description: \"Call ends on high note (question), response resolves down (answer).\",\n      examples: [\"Gospel call-response\", \"Classical antecedent-consequent\"],\n      usage: \"Creates strong resolution\"\n    },\n    {\n      name: \"Overlapping\",\n      icon: \"🔗\",\n      structure: \"A-A-AB | B-B-BA\",\n      description: \"Response begins before call finishes, creating continuous dialogue.\",\n      examples: [\"Jazz improvisation\", \"Gospel choir\", \"EDM vocal chops\"],\n      usage: \"Advanced, creates urgency\"\n    }\n  ],\n\n  // ====================\n  // INSTRUMENT PAIRINGS\n  // ====================\n  instrumentPairings: [\n    { call: \"Vocals\", response: \"Guitar licks\", genre: \"Blues, Rock\" },\n    { call: \"Lead synth\", response: \"Vocal chops\", genre: \"EDM, House\" },\n    { call: \"Rapper\", response: \"Hype man ad-libs\", genre: \"Hip-Hop\" },\n    { call: \"Main vocal\", response: \"Backing vocals\", genre: \"Gospel, Pop\" },\n    { call: \"Horn section\", response: \"Piano\", genre: \"Jazz, Funk\" },\n    { call: \"Melody\", response: \"Bass line\", genre: \"Funk, Disco\" }\n  ],\n\n  // ====================\n  // VALIDATION\n  // ====================\n  validation: {\n    type: \"call-and-response\",\n    minExchanges: 2, // At least 2 call-response pairs\n    requireDistinctElements: true, // Call and response must be different instruments\n    maxGapBetween: 2, // Max 2 beats of silence between call and response\n    recommendedLength: { call: \"2-4 bars\", response: \"2-4 bars\" }\n  },\n\n  // ====================\n  // MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"arrangement\", {\n    initial: \"Create a call-and-response dialogue between two musical elements!\",\n    success: \"🎭 Beautiful musical conversation! Your call-and-response creates engaging flow.\",\n    error: \"Make sure you have clear call and response sections with different elements.\",\n    alreadyCompleted: \"You've mastered call-and-response! Try more complex overlapping patterns.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"structure-builder\",\n    sandbox: false,\n    showTimeline: true,\n    highlightPhrases: true,\n    showCallResponseIndicator: true\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Understand the call-and-response technique and its musical origins\",\n    \"Create effective musical dialogues between instruments\",\n    \"Apply 2-bar and 4-bar exchange patterns\",\n    \"Use question-answer phrasing for strong resolution\",\n    \"Implement call-and-response in different genres and contexts\"\n  ],\n\n  // ====================\n  // HISTORICAL CONTEXT\n  // ====================\n  context: {\n    origins: \"African musical traditions, gospel, blues\",\n    modernUse: \"Hip-hop ad-libs, EDM vocal chops, pop backing vocals\",\n    examples: [\"Ray Charles - What'd I Say\", \"Kanye West - All of the Lights\", \"Daft Punk - Around the World\"]\n  },\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"Why Call-and-Response Creates Engaging Arrangements\",\n        content: `\n**The Problem with Static Arrangements:**\nMany amateur tracks feel flat because every element plays continuously without interaction. It's like a room full of people talking at once—nobody's actually having a conversation. Call-and-response solves this by creating **musical dialogue**, where elements \"speak\" to each other, creating engagement and forward momentum.\n\n**The Ancient Technique That Never Gets Old:**\nCall-and-response is one of the oldest musical techniques, originating in African music and work songs, where a leader would \"call\" and the group would \"respond.\" This pattern is hardwired into human communication—we naturally expect responses after statements. When you apply this to arrangement, your music feels instinctively natural and compelling.\n\n**Why It Works Across Every Genre:**\n- **Blues:** Guitar lick → Vocal response → Guitar lick → Vocal response\n- **Gospel:** Lead vocal line → Choir response → Lead → Choir\n- **Jazz:** Trumpet solo phrase → Piano response → Trumpet → Piano\n- **Hip-Hop:** Main rapper verse → Hype man ad-libs → Rapper → Ad-libs\n- **EDM:** Lead synth phrase → Vocal chop response → Lead → Chops\n- **Pop:** Lead vocal line → Backing vocal harmonies → Lead → Harmonies\n\n**Musical Conversation Creates Space:**\nInstead of crowding the arrangement with constant sound, call-and-response creates natural breathing room. The \"call\" element plays for 2-4 bars, then rests while the \"response\" element answers. This back-and-forth keeps the listener engaged without overwhelming them.\n\n**Real-World Impact:**\nListen to Ray Charles' \"What'd I Say\"—the entire song is built on call-and-response between Ray and the backing vocalists. Or Kanye West's \"All of the Lights\"—the vocal chops respond to the main vocal lines throughout. Daft Punk's \"Around the World\"—the bassline calls, the vocoder responds, constantly trading phrases.\n        `\n      },\n      {\n        title: \"The Four Call-and-Response Patterns\",\n        content: `\n**1. The 2-Bar Exchange (Most Common):**\nThe classic pattern: one element plays for 2 bars, another responds for 2 bars, creating a 4-bar cycle.\n\n\\`\\`\\`\nBars:     | 1-2 (Call)  | 3-4 (Response) | 5-6 (Call)  | 7-8 (Response) |\nGuitar:   | ■ ■ ■ ■     |                | ■ ■ ■ ■     |                |\nVocal:    |             | ■ ■ ■ ■        |             | ■ ■ ■ ■        |\n\\`\\`\\`\n\n**When to Use:** Blues, gospel, pop verses, funk grooves\n**Why It Works:** Long enough to develop a complete musical idea, short enough to maintain dialogue momentum\n**Example:** Classic blues structure—guitar plays riff, vocalist sings response, repeat\n\n---\n\n**2. The 4-Bar Exchange (Extended Conversation):**\nLonger phrases allow for more development and build more tension before the response.\n\n\\`\\`\\`\nBars:     | 1-4 (Call)      | 5-8 (Response)  | 9-12 (Call)     | 13-16 (Response) |\nLead:     | ■ ■ ■ ■ ■ ■ ■ ■ |                 | ■ ■ ■ ■ ■ ■ ■ ■ |                  |\nResponse: |                 | ■ ■ ■ ■ ■ ■ ■ ■ |                 | ■ ■ ■ ■ ■ ■ ■ ■  |\n\\`\\`\\`\n\n**When to Use:** Verse-chorus transitions, EDM build-drop, hip-hop verse-hook\n**Why It Works:** Creates stronger anticipation for the response, allows full musical statements\n**Example:** Hip-hop verse (4 bars rapper) → ad-libs/backing vocal response (4 bars) → repeat\n\n---\n\n**3. The Question-Answer Pattern (Tension-Resolution):**\nThe \"call\" ends on an unresolved note (question), the \"response\" resolves down (answer). This creates harmonic tension and release.\n\n\\`\\`\\`\nCall (Question):    C - D - E - F - G↑  (ends high, unresolved)\nResponse (Answer):  G - F - E - D - C↓  (resolves low, home)\n\\`\\`\\`\n\n**When to Use:** Classical music (antecedent-consequent), gospel, jazz ballads, pop hooks\n**Why It Works:** The unresolved call creates tension, the resolved response provides satisfaction\n**Example:** Gospel lead vocal sings phrase ending high → choir responds resolving down to tonic\n\n---\n\n**4. The Overlapping Pattern (Advanced/Urgent):**\nThe response begins before the call finishes, creating continuous, urgent dialogue. More complex but incredibly engaging.\n\n\\`\\`\\`\nBars:     | 1   | 2   | 3   | 4   | 5   | 6   | 7   | 8   |\nCall:     | ■ ■ | ■ ■ | ■   |     |     | ■ ■ | ■ ■ | ■   |\nResponse: |     |     | ■ ■ | ■ ■ | ■   |     |     | ■ ■ |\n\\`\\`\\`\n\n**When to Use:** Jazz improvisation, gospel choir overlaps, EDM vocal chops, energetic sections\n**Why It Works:** Creates urgency, complexity, and continuous forward motion\n**Example:** Gospel choir where lead and choir overlap, answering each other mid-phrase\n\n---\n\n**Choosing Your Pattern:**\n\n- **Slow, intimate song?** → 4-bar exchanges for development\n- **High-energy track?** → 2-bar exchanges or overlapping for momentum\n- **Need emotional resolution?** → Question-answer pattern\n- **Complex, sophisticated vibe?** → Overlapping with 3+ elements in conversation\n        `\n      },\n      {\n        title: \"Applying Call-and-Response in Modern Production\",\n        content: `\n**Instrument Pairing by Genre:**\n\n**Blues/Rock:**\n- **Call:** Lead vocal line\n- **Response:** Guitar lick or organ riff\n- *Why:* Creates space for both vocals and lead instruments to shine\n\n**Gospel/Soul:**\n- **Call:** Lead vocalist\n- **Response:** Backing vocals or choir\n- *Why:* Emphasizes community and collective participation\n\n**Hip-Hop:**\n- **Call:** Main rapper verse\n- **Response:** Hype man ad-libs (\"Yeah!\", \"Uh!\", \"Let's go!\")\n- *Why:* Adds energy, fills space, creates call-back moment for crowd\n\n**EDM/House:**\n- **Call:** Lead synth melody (2-4 bar phrase)\n- **Response:** Vocal chops or stabs\n- *Why:* Adds rhythmic interest, prevents melodic monotony\n\n**Jazz:**\n- **Call:** Horn section riff\n- **Response:** Piano or guitar comping\n- *Why:* Creates conversational improvisation, showcases soloists\n\n**Funk/Disco:**\n- **Call:** Main melody or vocal hook\n- **Response:** Bass line or rhythm guitar stabs\n- *Why:* Locks in the groove, creates rhythmic dialogue\n\n---\n\n**Practical Production Tips:**\n\n**1. Leave Space for the Response:**\nDon't fill every bar. If your call is 2 bars, leave the next 2 bars mostly empty for the response element. Resist the urge to layer everything simultaneously.\n\n**2. Pan Call and Response for Separation:**\n- **Call:** Center or 30% left\n- **Response:** Center or 30% right\n- *Result:* Clear stereo distinction makes the dialogue obvious\n\n**3. Use Contrasting Timbres:**\nPair elements with different sonic character:\n- Smooth vocal call → Sharp synth response\n- Deep bass call → Bright hi-hat response\n- Soft pad call → Punchy drum response\n\n**4. Volume Balance Creates Hierarchy:**\n- **Call:** -3dB to -6dB (slightly quieter or equal)\n- **Response:** 0dB (equal or slightly louder)\n- *Why:* The response should feel like an \"answer\" not an echo\n\n**5. Automate to Emphasize the Conversation:**\nUse automation to \"duck\" the call element when the response plays, and vice versa. This creates clear separation even when elements overlap slightly.\n\n---\n\n**Common Mistakes to Avoid:**\n\n**❌ Both Elements Playing Constantly:**\nIf both the \"call\" and \"response\" play at the same time throughout, you've lost the conversation. You just have two simultaneous melodies competing.\n\n**❌ Identical Call and Response:**\nIf the response is just a copy of the call, it's not a conversation—it's an echo. The response should complement or contrast, not duplicate.\n\n**❌ Unbalanced Length:**\nIf your call is 4 bars and response is 1 bar, the conversation feels lopsided. Keep them roughly equal (or use 4→2 if intentional for surprise).\n\n**❌ Too Many Conversers:**\nHaving 3-4 elements all \"responding\" to each other simultaneously creates chaos, not dialogue. Stick to 2-3 maximum.\n\n**❌ Ignoring Frequency Separation:**\nIf your call and response live in the same frequency range (both mid-range pads), they'll mask each other. Use frequency separation (call in mids, response in highs).\n\n---\n\n**Why This Matters for Your Arrangements:**\n\nCall-and-response prevents \"wall of sound\" syndrome where everything plays all the time. It creates:\n- **Space:** Natural breathing room in the arrangement\n- **Interest:** Active listening as the brain follows the conversation\n- **Structure:** Clear sectional organization (verse call-response, chorus call-response)\n- **Memorability:** The dialogue pattern makes hooks catchier\n- **Professional Sound:** Amateur tracks layer everything; pro tracks create interaction\n\n**What's Next:**\nIn Lesson 11, you'll learn how to balance **repetition** (for catchiness) with **variation** (for interest), using the 80/20 rule to keep your call-and-response patterns familiar yet evolving.\n        `\n      }\n    ]\n  }\n};\n\nif (typeof window !== 'undefined') window.LESSON_CONFIG = lessonConfig;\n",
    "number": 10,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "arrangement-9",
      "arrangement-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Call and Response:",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-10",
    "filename": "lesson-bass-10.config.js",
    "title": "Genre Bass:",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 10 - Genre Bass:\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-10-progress\",\n  lessonNumber: 10,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"null\",\n  prevLessonUrl: \"lesson-bass-9.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 10, categoryLabel: \"Bass & Low End\" }),\n    title: \"Genre Bass:\",\n    titleHighlight: \"Techno vs Hip-Hop\",\n    subtitle: \"Compare and contrast techno (driving, hypnotic) vs hip-hop (rhythmic, syncopated) bass approaches. Apply genre-specific techniques to match the style and energy of your track.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    bars: 1,\n    noteRange: { min: 36, max: 60 }, // C2 to C4 (bass range)\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Create Two Genre Bass Patterns\",\n    description: \"You'll program both a techno bass (repetitive, on-beat) and a hip-hop bass (syncopated, rhythmic) to understand how genre shapes bass programming.\",\n    tip: \"Techno bass locks to the grid. Hip-hop bass plays around the grid. Same notes, different feel.\",\n    steps: ['<strong>Techno pattern:</strong> C3 on every beat (1, 5, 9, 13).', '<strong>Hip-hop pattern:</strong> C3 on beats 1 and 3, plus syncopated hits on steps 7 and 15.', 'Compare how each pattern creates different energy.', 'Check exercise to validate your understanding.']\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [{'title': 'Techno Bass Characteristics', 'content': '**Techno bass:**\\n- Repetitive (same note, same rhythm)\\n- On-beat (hits with kick on 1, 5, 9, 13)\\n- Driving, hypnotic, mechanical\\n- Creates forward momentum\\n- Minimal variation (intentional)\\n\\n**Goal:** Become part of the rhythm machine, not a melodic voice'}, {'title': 'Hip-Hop Bass Characteristics', 'content': \"**Hip-hop bass:**\\n- Syncopated (offbeat hits)\\n- Rhythmic patterns (varies each bar)\\n- Grooves with drums, doesn't just lock\\n- Often uses 808-style sustained notes\\n- More melodic freedom\\n\\n**Goal:** Create a rhythmic conversation with drums, support the flow\"}]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [{'pitch': 48, 'step': 0, 'duration': 1}, {'pitch': 48, 'step': 4, 'duration': 1}, {'pitch': 48, 'step': 6, 'duration': 1}, {'pitch': 48, 'step': 8, 'duration': 1}, {'pitch': 48, 'step': 12, 'duration': 1}, {'pitch': 48, 'step': 14, 'duration': 1}],\n    highlightScale: [48, 50, 52, 53, 55, 57, 59, 60], // C major scale in bass range\n    showChordDetection: false,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete the bass pattern exercise.\",\n    success: \"Excellent! You've mastered this bass technique.\",\n    error: \"Not quite. Check the target pattern and try again.\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 10,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "bass-9",
      "bass-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Genre Bass:",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-10",
    "filename": "lesson-drums-10.config.js",
    "title": "Half Time",
    "category": "Drums & Rhythm",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Drums 10 - Half Time Patterns\n *\n * This lesson teaches half-time drum programming at 140 BPM, covering\n * trap, dubstep, future bass, and other modern electronic genres that\n * use the half-time feel (140 BPM perceived as 70 BPM).\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-drums-10-progress\",\n  lessonNumber: 10,\n  lessonCategory: \"Drums & Rhythm\",\n  depthLevel: 5,\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-drums-11.html\",\n  prevLessonUrl: \"lesson-drums-9.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 10, categoryLabel: \"Drums & Rhythm\" }),\n    title: \"Half Time\",\n    titleHighlight: \"Patterns\",\n    subtitle: \"Master <strong>half-time drum programming</strong> at 140 BPM. Learn the signature rhythm used in <strong>trap</strong>, <strong>dubstep</strong>, <strong>future bass</strong>, and modern electronic music—where snare on beat 3 creates a 70 BPM feel.\"\n  },\n  \n  // ====================\n  // SEQUENCER CONFIG\n  // ====================\n  sequencer: {\n    tempo: 140,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    halfTime: true, // Trap often feels like half-time\n    enableVelocity: true, // Essential for rolling hi-hats and 808 dynamics\n    requiredTempo: 140\n  },\n  \n  // ====================\n  // EXERCISE\n  // ====================\n  exercise: {\n    title: \"Build a Half-Time Pattern\",\n    description: \"Create the signature half-time rhythm where 140 BPM feels like 70 BPM. The snare on beat 3 (step 9) creates the laid-back, powerful groove used in trap, dubstep, and future bass.\",\n    tip: \"Half-time magic: The snare hits on beat 3 instead of beats 2 & 4, making it feel like half the tempo!\",\n    steps: [\n      { text: \"<strong>Set the tempo to 140 BPM</strong> using the Tempo slider.\" },\n      { text: \"<strong>808:</strong> Heavy on step 1 (the downbeat).\" },\n      { text: \"<strong>Snare/Clap:</strong> Step 9 only—this is the half-time backbeat!\" },\n      { text: \"<strong>Hi-Hat (Closed):</strong> 8th notes on steps 1, 3, 5, 7, 9, 11, 13, 15.\" },\n      { text: \"<strong>Hi-Hat (Open):</strong> Rolling accents on steps 14 and 16.\" }\n    ]\n  },\n  \n  // ====================\n  // INSTRUMENTS\n  // ====================\n  instruments: [\n    {\n      id: \"kick\",\n      label: \"808\",\n      color: \"linear-gradient(135deg, #e17055, #d63031)\",\n      targetSteps: [0],\n      instructionText: \"808 bass/kick on step 1—the powerful downbeat.\",\n      patternHint: {\n        enabled: true,\n        note: \"808: step 1 (downbeat)\"\n      }\n    },\n    {\n      id: \"snare\",\n      label: \"Snare/Clap\",\n      color: \"linear-gradient(135deg, #fdcb6e, #f39c12)\",\n      targetSteps: [8],\n      instructionText: \"Snare on step 9—the half-time backbeat that defines the groove.\",\n      patternHint: {\n        enabled: true,\n        note: \"Snare: step 9 (half-time backbeat)\"\n      }\n    },\n    {\n      id: \"hihat\",\n      label: \"Hi-Hat (Closed)\",\n      color: \"linear-gradient(135deg, #00cec9, #0984e3)\",\n      targetSteps: [0, 2, 4, 6, 8, 10, 12, 14],\n      instructionText: \"8th note hi-hats (steps 1, 3, 5, 7, 9, 11, 13, 15) for steady pulse.\",\n      patternHint: {\n        enabled: true,\n        note: \"Closed HH: 8th notes\"\n      }\n    },\n    {\n      id: \"rim\",\n      label: \"Hi-Hat (Open)\",\n      color: \"linear-gradient(135deg, #a29bfe, #6c5ce7)\",\n      targetSteps: [13, 15],\n      instructionText: \"Open hi-hat accents on steps 14 and 16 for rolling feel.\",\n      patternHint: {\n        enabled: true,\n        note: \"Open HH: steps 14, 16 (rolling accents)\"\n      }\n    }\n  ],\n  \n  // ====================\n  // PATTERN HINT\n  // ====================\n  patternHint: {\n    enabled: true,\n    note: \"Half-time = Snare on beat 3 (step 9) makes 140 BPM feel like 70 BPM\"\n  },\n\n  // ====================\n  // MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"drums\", {\n    initial: \"Build the half-time pattern. Key: Snare on step 9 creates the half-tempo feel!\",\n    success: \"Perfect! That's the half-time groove. Notice how 140 BPM feels like 70 BPM?\",\n    error: \"Check the snare placement—it should be on step 9 (beat 3) for the half-time feel.\",\n    alreadyCompleted: \"You've mastered half-time! This pattern works for trap, dubstep, and future bass.\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    showVelocityControl: true\n  },\n  \n  // ====================\n  // GENRE INFO\n  // ====================\n  genreInfo: {\n    name: \"Half-Time / 140 BPM Styles\",\n    tempoRange: { min: 135, max: 150 },\n    perceivedTempo: { min: 67, max: 75 },\n    subgenres: [\n      { name: \"Trap\", tempo: \"135-145 BPM\", character: \"Rolling hi-hats, 808 bass, sparse snare\" },\n      { name: \"Dubstep\", tempo: \"138-142 BPM\", character: \"Heavy wobble bass, aggressive snare\" },\n      { name: \"Future Bass\", tempo: \"140-150 BPM\", character: \"Melodic, wide synths, chopped vocals\" },\n      { name: \"Half-Time DnB\", tempo: \"85 BPM (170÷2)\", character: \"DnB tempo, half-time feel\" }\n    ],\n    keyProducers: [\"Skrillex\", \"RL Grime\", \"Flume\", \"Metro Boomin\", \"Zomboy\"],\n    characteristics: [\n      \"Snare on beat 3 creates half-tempo feel\",\n      \"140 BPM feels like 70 BPM\",\n      \"Perfect for builds and drops\",\n      \"16th-note patterns create syncopation\"\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Understand half-time rhythm: snare on beat 3 instead of 2 & 4\",\n    \"Program patterns that make 140 BPM feel like 70 BPM\",\n    \"Apply half-time to trap, dubstep, future bass, and more\",\n    \"Use 16th-note subdivisions for syncopation and fills\"\n  ]\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 10,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "drums-9",
      "drums-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Half Time",
      "Prepararsi alla lezione successiva del modulo Drums & Rhythm"
    ]
  },
  {
    "slug": "ear-10",
    "filename": "lesson-ear-10.config.js",
    "title": "Advanced Harmonic Dictation:",
    "category": "Ear Training",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-ear-10-progress\",\n  lessonNumber: 10,\n  lessonCategory: \"Ear Training\",\n\n  nextLessonUrl: \"labs.html\",\n  prevLessonUrl: \"lesson-ear-9.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 10, categoryLabel: \"Ear Training\" }),\n    title: \"Advanced Harmonic Dictation:\",\n    titleHighlight: \"Extensions, Alterations, Voice Leading\",\n    subtitle: \"Transcribe complex chord progressions with extensions, alterations, and voice leading. Master professional-level harmonic ear training.\"\n  },\n\n  exercise: {\n    title: \"Transcribe Complex Harmony by Ear\",\n    description: \"Advanced harmonic dictation involves hearing and transcribing complex chord progressions with 7th chords, extensions (9ths, 11ths, 13ths), alterations (b9, #9, #11, b13), secondary dominants, modal interchange, and sophisticated voice leading. This is the pinnacle of ear training—essential for jazz musicians, film composers, and advanced producers who work with rich harmonic palettes.\",\n    tip: \"Start with the bass note, add the chord quality (maj7, min7, dom7), then listen for extensions 'on top.' Extensions add color but the foundation is always root-3rd-7th.\",\n    steps: [\n      '<strong>Identify Chord Type</strong> — Major 7th, minor 7th, dominant 7th, half-diminished, or diminished 7th. This is the foundation.',\n      '<strong>Listen for Extensions</strong> — 9th, 11th, 13th. These add color on top of the basic 7th chord structure.',\n      '<strong>Detect Alterations</strong> — b9, #9, #11, b13. These create tension and jazz color.',\n      '<strong>Analyze Voice Leading</strong> — How do voices move between chords? Stepwise, parallel, contrary motion?',\n      '<strong>Identify Non-Diatonic Chords</strong> — Secondary dominants (V/ii, V/V), modal interchange (borrowed chords), chromatic mediants.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Advanced Harmonic Structures',\n        content: `\n**Extended Chord Types:**\n\n**Major 7th Chords:**\n- **Cmaj7**: C-E-G-B (1-3-5-7)\n- **Cmaj9**: C-E-G-B-D (add 9th)\n- **Cmaj13**: C-E-G-B-D-F-A (full stack, often voiced selectively)\n- Sound: Lush, jazzy, sophisticated\n- Usage: Tonic function in jazz, R&B, neo-soul\n\n**Minor 7th Chords:**\n- **Cm7**: C-Eb-G-Bb (1-b3-5-b7)\n- **Cm9**: C-Eb-G-Bb-D\n- **Cm11**: C-Eb-G-Bb-D-F\n- Sound: Smooth, melancholic, mellow\n- Usage: Pre-dominant function (ii chord), minor tonic\n\n**Dominant 7th Chords:**\n- **C7**: C-E-G-Bb (1-3-5-b7)\n- **C9**: C-E-G-Bb-D\n- **C13**: C-E-G-Bb-D-F-A\n- Sound: Bluesy, tense, wants to resolve\n- Usage: V chord, creates tension → resolution\n\n**Half-Diminished (m7b5):**\n- **Cm7b5**: C-Eb-Gb-Bb (1-b3-b5-b7)\n- Sound: Tense, unstable, jazzy\n- Usage: ii chord in minor keys, passing chord\n\n**Diminished 7th:**\n- **Cdim7**: C-Eb-Gb-Bbb/A (1-b3-b5-bb7)\n- Sound: Very tense, symmetrical, transitional\n- Usage: Passing chords, tonicization, voice leading\n\n**Altered Chords:**\n\n**Dominant Alterations (Most Common):**\n- **C7b9**: C-E-G-Bb-Db (adds b9 for tension)\n- **C7#9**: C-E-G-Bb-D# (\"Hendrix chord\")\n- **C7#11**: C-E-G-Bb-D-F# (Lydian dominant)\n- **C7b13**: C-E-G-Bb-Ab\n- **C7alt**: C-E-G-Bb with b9, #9, #11, b13 (maximum tension)\n\n**Why Alter Dominant Chords?**\n- Increases tension before resolution\n- Creates voice leading to target chord\n- Adds jazz color and sophistication\n- Common in bebop, modern jazz, R&B\n\n**Non-Diatonic Harmony:**\n\n**Secondary Dominants:**\n- **V/ii**: Dominant chord that resolves to ii\n- Example in C major: A7 → Dm (tonicizes Dm temporarily)\n- **V/V**: Dominant of the dominant\n- Example: D7 → G7 → C\n\n**Modal Interchange (Borrowed Chords):**\n- Borrow chords from parallel minor/major\n- Example in C major: Use Fm (from C minor), Ab (from C minor)\n- Creates color, emotional contrast\n- Common in modern pop, film scores\n\n**Chromatic Mediants:**\n- Chords a major/minor 3rd away\n- C major → E major (distant, cinematic)\n- C major → Ab major (dramatic shift)\n- Common in film music, progressive rock\n        `\n      },\n      {\n        title: 'Advanced Harmonic Dictation Strategy',\n        content: `\n**Systematic Approach to Complex Harmony:**\n\n**Step 1: Bass Line First**\n- Transcribe root movement (often quarter notes or half notes)\n- This gives you the foundation\n\n**Step 2: Chord Quality (7th Chords)**\n- Major 7th: Lush, bright, stable\n- Minor 7th: Smooth, dark\n- Dominant 7th: Bluesy, tense\n- Half-diminished: Tense minor sound\n- Diminished 7th: Very unstable\n\n**Step 3: Listen for Extensions**\n- **9th**: Adds shimmer on top (higher register)\n- **11th**: Can clash with 3rd (often omit 3rd if present)\n- **13th**: Adds brightness, upper color\n\n**Step 4: Detect Alterations**\n- **b9**: Crunchy, tense (listen for semitone clash)\n- **#9**: \"Purple Haze\" sound, Hendrix chord\n- **#11**: Lydian color, bright augmented sound\n- **b13**: Dark, descending tension\n\n**Step 5: Analyze Voice Leading**\n- How does each voice (soprano, alto, tenor, bass) move?\n- Stepwise motion (smooth)\n- Leaps (dramatic)\n- Common tones (stay on same note)\n\n**Common Jazz Progressions:**\n\n**ii-V-I with Extensions:**\n- Dm9 - G13 - Cmaj9\n- Dm11 - G7#11 - Cmaj13\n- Dm7b5 - G7b9 - Cm(maj7) (in minor)\n\n**Rhythm Changes (I Got Rhythm):**\n- Imaj7 - VI7 - ii7 - V7\n- Cmaj7 - A7 - Dm7 - G7 (in C major)\n\n**Coltrane Changes (Giant Steps):**\n- Fast moving, distant key centers\n- Bmaj7 - D7 - Gmaj7 - Bb7 - Ebmaj7\n- Requires advanced ear to track\n\n**Recognition Exercises:**\n\n**Exercise 1: Extension Isolation**\n1. Play Cmaj7 (C-E-G-B)\n2. Add 9th (D) → Cmaj9\n3. Hear the added shimmer\n4. Remove it, add it back\n5. Repeat until you can instantly hear 9ths\n\n**Exercise 2: Alteration Practice**\n1. Play C7 (C-E-G-Bb)\n2. Play C7b9 (C-E-G-Bb-Db)\n3. Compare side-by-side\n4. Hear the increased tension from b9\n5. Repeat with #9, #11, b13\n\n**Exercise 3: Voice Leading Analysis**\n1. Play progression: Cmaj7 - Dm7 - G7 - Cmaj7\n2. Isolate top voice: E - F - F - E\n3. Isolate second voice: C - D - D - C\n4. Notice stepwise motion (smooth)\n5. Transcribe all four voices\n\n**Exercise 4: Modal Interchange**\n1. Play diatonic progression: C - F - G - C\n2. Borrow Fm from parallel minor: C - Fm - G - C\n3. Hear the dramatic shift (Fm feels darker)\n4. Practice identifying borrowed chords by ear\n\n**Advanced Techniques:**\n\n**Quartal Harmony:**\n- Chords built in 4ths instead of 3rds\n- C-F-Bb (no clear major/minor, modern sound)\n- Common in modern jazz, film scores\n\n**Upper Structure Triads:**\n- Major/minor triad on top of dominant 7th bass\n- Example: G7 with Db major triad on top (G7#9#5)\n- Creates complex altered sounds\n\n**Polychords:**\n- Two triads stacked (C major over F# major)\n- Very dissonant, modern classical, avant-garde\n\n**Common Mistakes:**\n- Trying to hear all extensions at once (isolate them!)\n- Not starting with the bass and basic quality\n- Ignoring voice leading (critical for understanding movement)\n- Practicing too fast (complex harmony needs slow analysis)\n- Not using a piano to check answers\n\n**Practice Plan:**\n\n**Month 1: 7th Chords Only**\n- Maj7, m7, dom7, m7b5, dim7\n- 95% accuracy before moving on\n\n**Month 2: Add 9ths**\n- maj9, m9, dom9\n- Compare with basic 7th chords\n\n**Month 3: Add 11ths and 13ths**\n- Understand when 11th clashes with 3rd\n- Hear 13th as bright top note\n\n**Month 4: Alterations**\n- b9, #9, #11, b13 on dominant chords\n- Practice altered dominants in ii-V-I\n\n**Month 5: Non-Diatonic Harmony**\n- Secondary dominants\n- Modal interchange\n- Chromatic mediants\n\n**Month 6: Full Transcriptions**\n- Transcribe jazz standards (lead sheet)\n- Analyze film score harmonies\n- Study R&B/neo-soul chord progressions\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Identify 7th chords, extensions, and alterations by ear\",\n    \"Transcribe complex jazz and R&B chord progressions\",\n    \"Analyze voice leading between chords\",\n    \"Recognize secondary dominants and modal interchange\",\n    \"Apply advanced harmonic knowledge to composition and arrangement\"\n  ]\n};\n",
    "number": 10,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "ear-9",
      "ear-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Advanced Harmonic Dictation:",
      "Prepararsi alla lezione successiva del modulo Ear Training"
    ]
  },
  {
    "slug": "harmony-10",
    "filename": "lesson-harmony-10.config.js",
    "title": "House Loop:",
    "category": "Genre Application",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 10 - House Loop: Minor to Major Movement\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-10-progress\",\n  lessonNumber: 10,\n  lessonCategory: \"Genre Application\",\n\n  nextLessonUrl: \"lesson-harmony-11.html\",\n  prevLessonUrl: \"lesson-harmony-9.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 10, categoryLabel: \"Harmony & Melody\" }),\n    title: \"House Loop:\",\n    titleHighlight: \"Minor to Major Movement\",\n    subtitle: \"Build a club-ready 4-bar chord loop using seventh chords with smooth voice leading. You'll create the classic house music harmonic pattern - minor to major movement with added melody. This is the signature sound of deep house, tech house, and melodic techno.\"\n  },\n\n  sequencer: {\n    tempo: 124,\n    key: \"A\",\n    scale: \"Minor\",\n    stepCount: 64,\n    bars: 4,\n    pitchRange: {\n      low: 48,\n      high: 84\n    }\n  },\n\n  exercise: {\n    title: \"Build a House Chord Loop with Melody\",\n    description: \"Create a 4-bar loop using <strong>Am7 → Fmaj7 → Cmaj7 → Em7</strong> with a simple topline melody. This progression combines minor and major seventh chords for that smooth, hypnotic house vibe. Add a melody that targets chord tones on strong beats.\",\n    tip: \"House music chord loops are all about repetition and groove. Keep chords sustained (2-4 beats each), use seventh chords for smoothness, and add a simple repeating melody that locks with the harmony. The vi→IV→I→iii pattern creates perpetual motion - it loops perfectly!\",\n    steps: [\n      { text: \"Bar 1: Build <strong>Am7</strong> (A-C-E-G) sustained for 4 beats\" },\n      { text: \"Bar 2: Build <strong>Fmaj7</strong> (F-A-C-E) sustained for 4 beats\" },\n      { text: \"Bar 3: Build <strong>Cmaj7</strong> (C-E-G-B) sustained for 4 beats\" },\n      { text: \"Bar 4: Build <strong>Em7</strong> (E-G-B-D) sustained for 4 beats\" },\n      { text: \"Add a simple melody (8-12 notes) targeting <strong>chord tones on beats 1 and 3</strong>\" },\n      { text: \"Listen for the smooth, hypnotic loop - perfect for house music!\" }\n    ]\n  },\n\n  validation: {\n    type: \"chord_progression_with_melody\",\n    requiredChords: [\n      { time: 0, pitches: [69, 72, 76, 79], chordName: \"Am7\", allowInversions: false },\n      { time: 16, pitches: [65, 69, 72, 76], chordName: \"Fmaj7\", allowInversions: false },\n      { time: 32, pitches: [60, 64, 67, 71], chordName: \"Cmaj7\", allowInversions: false },\n      { time: 48, pitches: [64, 67, 71, 74], chordName: \"Em7\", allowInversions: false }\n    ],\n    melody: {\n      minNotes: 8,\n      maxNotes: 16,\n      strongBeats: [0, 8, 16, 24, 32, 40, 48, 56],\n      strongBeatsMustUseChordTones: true\n    }\n  },\n\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Build the house loop: Am7 → Fmaj7 → Cmaj7 → Em7. Add a melody targeting chord tones on beats 1 and 3.\",\n    success: \"Perfect! You've created a classic house chord progression. Notice how it loops seamlessly - this pattern is used in thousands of deep house and melodic techno tracks!\",\n    error: \"Check: Am7 = A-C-E-G, Fmaj7 = F-A-C-E, Cmaj7 = C-E-G-B, Em7 = E-G-B-D. Melody should have 8-12 notes with chord tones on strong beats.\"\n  }),\n\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 10,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "harmony-9",
      "harmony-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di House Loop:",
      "Prepararsi alla lezione successiva del modulo Genre Application"
    ]
  },
  {
    "slug": "mastering-10",
    "filename": "lesson-mastering-10.config.js",
    "title": "Masterclass: Professional Mastering Project:",
    "category": "Mastering",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mastering 10 - Masterclass: Professional Mastering Project\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mastering-10-progress\",\n  lessonNumber: 10,\n  lessonCategory: \"Mastering\",\n  \n  nextLessonUrl: \"labs.html\",\n  prevLessonUrl: \"lesson-mastering-9.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 10, categoryLabel: \"Mastering\" }),\n    title: \"Masterclass: Professional Mastering Project:\",\n    titleHighlight: \"Master a Complete Album or EP\",\n    subtitle: \"Final project: master a complete album or EP with consistent sonic character across all tracks. Master professional mastering techniques for commercial release-ready audio.\"\n  },\n  \n  exercise: {\n    title: \"Master Masterclass: Professional Mastering Project\",\n    description: \"Final project: master a complete album or EP with consistent sonic character across all tracks. This lesson covers the professional mastering techniques used to prepare tracks for distribution.\",\n    tip: \"Mastering is subtle work. Less is more. If you can't hear the difference, you might be doing it right.\",\n    steps: [\n      '<strong>Study mastering theory</strong> — Understand the role of mastering in production.',\n      '<strong>Analyze reference masters</strong> — Study professional masters in your genre.',\n      '<strong>Apply mastering techniques</strong> — Practice the specific processing methods.',\n      '<strong>Use proper metering</strong> — Monitor loudness, peaks, and spectrum throughout.',\n      '<strong>A/B compare constantly</strong> — Toggle bypass to ensure improvements.',\n      'Complete when you understand professional mastering workflow.'\n    ]\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Understanding Masterclass: Professional Mastering Project',\n        content: `Masterclass: Professional Mastering Project is the final step in audio production, preparing your mix for distribution and ensuring it translates across all playback systems.\n\n**Core Mastering Concepts:**\n- The difference between mixing and mastering\n- When and why mastering is necessary\n- Proper mastering signal flow and processing order\n- Loudness standards and streaming normalization\n- Format delivery specifications (WAV, MP3, DDP, etc.)\n\n**Mastering Goals:**\n1. **Tonal balance** — Ensure consistent frequency response\n2. **Dynamics** — Control dynamic range appropriately\n3. **Loudness** — Achieve competitive levels without distortion\n4. **Stereo image** — Optimize stereo width and mono compatibility\n5. **Consistency** — Create cohesion across an album or EP\n6. **Technical compliance** — Meet distribution specifications\n\n**Professional Mastering Workflow:**\nThe mastering engineer's job is to:\n- Make the mix translate across all playback systems\n- Achieve competitive loudness for the genre\n- Fix minor mix issues (if possible)\n- Prepare different versions (streaming, CD, vinyl, etc.)\n- Provide the final deliverable files\n\nUnderstanding Masterclass: Professional Mastering Project means knowing when to apply it and when to leave things alone.`\n      },\n      {\n        title: 'Professional Mastering Techniques',\n        content: `Apply Masterclass: Professional Mastering Project with professional standards and workflows:\n\n**Pre-Mastering Checklist:**\n- Mix is final and approved\n- Proper headroom (-6 dB to -3 dB peaks)\n- No clipping or distortion\n- No processing on master bus\n- All automation printed\n- Files are high-resolution (24-bit minimum)\n\n**Mastering Signal Chain:**\n1. **Analysis** — Measure levels, spectrum, dynamics\n2. **Linear phase EQ** — Tonal balance adjustments\n3. **Multiband compression** — Control frequency-specific dynamics (if needed)\n4. **Mastering compression** — Gentle glue compression\n5. **Mid-side processing** — Stereo width optimization\n6. **Limiting** — Final loudness maximization\n7. **Dithering** — Bit-depth reduction for final format\n\n**Critical Measurements:**\n- **Integrated LUFS** — Target: -14 LUFS (streaming), -8 to -6 LUFS (club/radio)\n- **True Peak** — Max: -1 dBTP (streaming), -0.3 dBTP (safety)\n- **Dynamic Range** — Maintain at least 8-10 DR for musicality\n- **Stereo Correlation** — Keep above +0.7, watch for phase issues\n\n**Common Mastering Mistakes:**\n- Over-limiting and destroying dynamics\n- Too much processing (trying to \"fix\" the mix)\n- Ignoring streaming normalization\n- Not checking mono compatibility\n- Mastering before mix is finalized\n- Not referencing professional masters\n\n**Platform-Specific Considerations:**\n- **Spotify** — Normalizes to -14 LUFS, reduces louder tracks\n- **Apple Music** — Normalizes to -16 LUFS with Sound Check\n- **YouTube** — Normalizes to -13 LUFS\n- **CD** — No normalization, target -8 to -6 LUFS\n- **Vinyl** — Special considerations for low-end and stereo width\n\nAlways deliver masters at -14 LUFS integrated for streaming, and provide alternate masters for other formats if needed.`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Master professional mastering techniques and workflow\",\n    \"Understand loudness standards and streaming normalization\",\n    \"Apply proper metering and analysis tools\",\n    \"Create masters that translate across all playback systems\",\n    \"Prepare final deliverables for distribution\"\n  ],\n  \n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mastering lesson to advance.\",\n    success: \"Excellent! You've mastered Masterclass: Professional Mastering Project. Your masters are release-ready!\",\n    error: \"Review the mastering concepts and try again.\",\n    alreadyCompleted: \"You've completed this mastering technique. Keep practicing!\"\n  }),\n  \n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 10,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "mastering-9",
      "mastering-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Masterclass: Professional Mastering Project:",
      "Prepararsi alla lezione successiva del modulo Mastering"
    ]
  },
  {
    "slug": "mixing-10",
    "filename": "lesson-mixing-10.config.js",
    "title": "Bus Processing and Grouping:",
    "category": "Mixing",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mixing 10 - Bus Processing and Grouping\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-10-progress\",\n  lessonNumber: 10,\n  lessonCategory: \"Mixing\",\n\n  nextLessonUrl: \"lesson-mixing-11.html\",\n  prevLessonUrl: \"lesson-mixing-9.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 10, categoryLabel: \"Mixing\" }),\n    title: \"Bus Processing and Grouping:\",\n    titleHighlight: \"Cohesive Glue\",\n    subtitle: \"Streamlined routing for faster decisions and cohesive \\\"glue\\\" across the mix\"\n  },\n\n  exercise: {\n    title: \"Group, Glue, and Verify\",\n    description: \"Starting from Mixing-9_PanningWidth, you'll build buses, apply light bus processing, and validate results with headroom + level-matched A/B + mono checks.\",\n    tip: \"If bus processing improves tone but reduces impact, revisit attack/release (Lesson 6): slightly slower attack or faster release often restores punch without removing glue.\",\n    steps: [\n      '<strong>Load and save session</strong> — Open Mixing-9_PanningWidth and immediately Save As: Mixing-10_BusProcessing.',\n      '<strong>Create buses</strong> — Create three stereo buses: Drums, Music, Vocals. Create a Mix Bus (optional if your DAW\\'s master is sufficient, but preferred for A/B control).',\n      '<strong>Route drums</strong> — Route all drum tracks (kick, snare, toms, OH, rooms, percussion) to Drums Bus.',\n      '<strong>Route instruments</strong> — Route non-vocal instruments to Music Bus.',\n      '<strong>Route vocals</strong> — Route all vocal tracks (lead + doubles + harmonies) to Vocals Bus.',\n      '<strong>Route to master</strong> — Route Drums/Music/Vocals buses to the Mix Bus, then Mix Bus to the Master.',\n      '<strong>Verify routing</strong> — Confirm routing by muting each bus one at a time: when Drums Bus is muted, only drums disappear (verifiable outcome).',\n      '<strong>Check bus meters</strong> — Before processing: identify the loudest chorus/section and note peak levels on each bus. Aim to keep healthy headroom (e.g., bus peaks not crowding 0 dBFS).',\n      '<strong>Add drum bus compression</strong> — Insert a bus compressor on Drums Bus. Start: ratio 2:1, attack 20 ms, release 150 ms (or Auto), threshold until you see ~1–2 dB GR on the loudest hits.',\n      '<strong>Level-match compression</strong> — Toggle bypass and adjust makeup/output so bypass ON/OFF sounds equal in loudness (difference ≤ ~0.5 dB by meter if available).',\n      '<strong>Add music bus EQ</strong> — Add a gentle bus EQ on Music Bus: try a wide cut -1 dB at ~300 Hz (Q ~0.7–1.0) if it feels cloudy, or a wide dip -0.5 to -1 dB at 2.5–3.5 kHz if it competes with vocal presence. Keep it subtle.',\n      '<strong>Verify FX returns</strong> — On your reverb and delay returns (from Lessons 7–8), verify lows are controlled (e.g., HPF around 120–200 Hz) so bus processing isn\\'t fighting rumble.',\n      '<strong>Add subtle saturation</strong> — On Vocals Bus or Mix Bus (choose one): increase drive until you barely perceive density, then back off slightly; output-match to bypass.',\n      '<strong>Headroom verification</strong> — Play the loudest section and confirm Master peak stays ≤ -6 dBFS peak during mixing (pre-master). If not, reduce Mix Bus output (or trim bus inputs) rather than slamming a limiter.',\n      '<strong>Mono check</strong> — Collapse to mono (or use a mono utility) and confirm lead vocal remains stable and key groove elements don\\'t vanish (builds on Lesson 9).',\n      '<strong>Export comparisons</strong> — Export two short bounces (e.g., 20–30 seconds of the chorus): A) bus processing bypassed, B) bus processing active. Normalize nothing.',\n      '<strong>A/B evaluation</strong> — Re-import both bounces to a new track pair, level-match if needed, and do an A/B comparison. Your pass condition: B should sound more cohesive without obvious pumping, harshness, or loss of punch.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'What a Bus/Group Is and Why It Speeds Up Mixing',\n        content: `A bus (group/submix) is a shared signal path where multiple channels converge so you can control them as a set and apply processing \"once for many.\" In practical mixing, buses reduce repeated work (e.g., one reverb send EQ, one drum-bus compressor, one vocal-bus de-esser) and—more importantly—improve cohesion: instruments that belong together can be shaped together.\n\n**The Conceptual Basis:**\nThe Audio Engineering Society defines groups/subgroups as combining channels treated as a set with overall level control via a group fader—this is the conceptual basis of bus workflow in both consoles and DAWs.\n\n**Building on Previous Lessons:**\n- In Lesson 1 you built routing and static balance; buses make that routing intentional\n- Instead of \"20 drum tracks fighting for attention,\" you get \"one Drum Bus you can push/pull by 0.5 dB and instantly hear the result\"\n- In Lesson 2 you learned gain staging and plugin level-matching; buses are where that discipline prevents hidden clipping\n\n**The Goal:**\nThe goal is not \"process everything,\" but \"create a controllable hierarchy\" so changes remain predictable. The classic problem to avoid: the mix seems clean on individual channels, but the Drum Bus or Mix Bus is quietly clipping or hammering a compressor.`\n      },\n      {\n        title: 'Audio Groups vs VCA Faders vs Folder Tracks',\n        content: `Different DAWs label these differently, but the concepts are stable:\n\n**Audio Group / Bus (summing bus):**\nRoutes audio into a shared channel where you can insert processing. This changes tone/dynamics across the group because the processors see the combined signal.\n\n**VCA-style control:**\nChanges the levels of member channels without summing their audio into a single point first. This preserves each track's insert behavior and post-fader sends relationships (depending on implementation). Use it when you want \"one knob\" control but not shared processing.\n\n**Folder tracks:**\nOrganizational containers; sometimes they also act as an audio group, sometimes not. Confirm by checking whether inserts on the folder affect audio and whether meters show summed signal.\n\n| Feature | Audio Group/Bus | VCA-style Control |\n|---------|----------------|-------------------|\n| Audio summing | Yes | No |\n| Insert processing affects whole set | Yes | No |\n| Best for | Glue, shared tone, macro dynamics | Macro level rides, balancing without tonal change |\n| Common pitfall | Over-processing / hidden clipping | Expecting \"glue compression\" to work |\n\n**Why This Matters:**\nIf you put \"glue compression\" on a VCA, nothing happens—because there's no shared audio to compress. Build a mental map: routing is topology, and topology determines what processing \"sees.\"`\n      },\n      {\n        title: 'Glue Compression on Buses: What It Is (and What It Isn\\'t)',\n        content: `\"Glue compression\" typically means low ratios, modest gain reduction, and timing that respects transients—enough to unify a group without flattening it.\n\n**Drum Bus Starting Point:**\n- Ratio: 2:1\n- Attack: 10–30 ms (lets the initial hit through)\n- Release: 100–300 ms or Auto\n- Target: 1–2 dB gain reduction on the loudest sections\n\nThe measurable target is simple: you should see consistent GR movement on peaks, but the drums should not lose punch or start \"pumping\" unless you want that as an effect (Lesson 6).\n\n**Music Bus (keys/guitars/synths):**\nGlue compression is often even gentler: 1–2 dB GR max, slower attack if you want transient clarity, and releases that don't \"breathe\" with every chord.\n\n**Vocal Bus:**\nCompression may be more about containment and consistency, but the \"glue\" part still stays moderate—if you need heavy control, do it earlier in the chain per-track, then use bus compression lightly.\n\n| Bus | Compression Target | EQ Intention | Saturation |\n|-----|-------------------|--------------|------------|\n| Drum Bus | 1–2 dB GR, 2:1, A 10–30 ms, R 100–300 ms/Auto | Reduce mud 250–400 Hz, manage bite 2–4 kHz | Subtle density, output matched |\n| Music Bus | 0.5–1.5 dB GR | Gentle tonal tilt; carve vocal space | Very light, avoid fizz |\n| Vocal Bus | 1–3 dB GR depending on control needed | Presence shaping 3–5 kHz, control harshness | Rarely necessary; keep clean |\n| Mix Bus | 0.5–1.5 dB GR | Minimal; broad balance only | Optional, extremely subtle |\n\n**Key Principle from Lesson 2:**\nLevel-match when comparing. If the bus compressor makes the group louder, your brain will prefer it even if it's worse.`\n      },\n      {\n        title: 'Bus EQ and Saturation: Cohesion, Not Surgery',\n        content: `Lesson 4 separated surgical vs musical EQ. On buses, you'll usually lean musical: broad moves that tilt tone and reduce collective buildup.\n\n**Drum Bus Examples:**\n- A wide cut around 250–400 Hz (mud) by 0.5–2 dB can clean the kit if multiple mics stack there\n- A gentle shelf above 8–12 kHz by 0.5–1.5 dB can add air if overheads feel dull—only if cymbals don't get harsh\n\n**Music Bus Examples:**\n- A subtle dip 2–4 kHz can reduce bite when guitars + synths mask vocals\n- Small boosts around 700 Hz–1.2 kHz can add forwardness if the arrangement feels hollow\n\n**Vocal Bus Examples:**\n- A broad presence lift 3–5 kHz is sometimes better than boosting every vocal track separately\n- Then you correct harsh moments with dynamic EQ per-track\n\n**Saturation on a Bus:**\nTreat it as \"density + harmonic glue,\" not distortion:\n1. Start with very small drive\n2. Compensate output to match bypass loudness\n3. If your DAW has an oversampling option, enabling it can reduce aliasing artifacts when pushing saturation (especially on bright material)\n\nThe goal is cohesion through shared processing, not aggressive tone-shaping that belongs on individual tracks.`\n      },\n      {\n        title: 'Gain Staging Through Buses: Practical Reference Targets',\n        content: `Buses make gain staging visible. Use simple targets:\n\n**Individual Tracks (post-clip gain, pre-fader):**\nRoughly aligned from Lesson 2 (e.g., -18 dBFS RMS-ish reference where appropriate).\n\n**Bus Channel Peaks:**\nOften healthy around -12 to -8 dBFS peak during typical sections, leaving transient room.\n\n**Master Bus During Mixing (pre-mastering):**\nKeep peaks ≤ -6 dBFS peak as a conservative working target so you have headroom for later mastering moves (and to avoid inter-sample/true-peak surprises when exporting).\n\n**Loudness Metering Context:**\nIf you use loudness meters, standards like EBU R 128 define LUFS/true-peak concepts for program loudness normalization. While music targets vary by platform, the measurement concepts and \"true peak matters\" idea carry over.\n\n**Pan Law Interaction (from Lesson 9):**\nCenter-panned signals may be attenuated depending on project settings, which changes how much energy hits a bus when you re-balance panning. For example, Logic Pro documents multiple pan law options (e.g., -3 dB, -4.5 dB, -6 dB). Be aware that panning changes affect bus levels.\n\n**The Discipline:**\nCheck bus meters regularly. Hidden clipping inside a bus can cause distortion that's hard to diagnose later.`\n      },\n      {\n        title: 'A Practical Bus Architecture You Can Reuse',\n        content: `A reliable \"mid-course\" architecture for this curriculum:\n\n<pre style=\"background: #1a1a2e; padding: 12px; border-radius: 4px; margin: 1em 0;\">\nDrum tracks ──────► Drum Bus ──┐\n                               │\nInstrument tracks ─► Music Bus ─┼──► Mix Bus ──► Master\n                               │\nVocal tracks ──────► Vocal Bus ─┘\n\nFX Returns (reverb/delay) ─► Mix Bus directly\n                            OR to relevant group buses\n</pre>\n\n**Component Breakdown:**\n- **Drum Bus** (all drum tracks) → Mix Bus\n- **Music Bus** (all instruments except vocals) → Mix Bus\n- **Vocal Bus** (lead + doubles + harmonies) → Mix Bus\n- **FX Returns** (reverb/delay from Lessons 7–8) → either Mix Bus directly or to the relevant group buses if you want the FX to be \"part of the group tone\"\n\n**Two Workflow Wins:**\n\n1. **One place to A/B:** Bypass processing on the Drum Bus and hear instantly what your \"bus tone\" contributes.\n\n2. **One place to automate macro moves:** Later (Lesson 11) you can automate group level or bus processing for arrangement energy without rewriting every track.\n\nThis architecture scales: as arrangements grow, you can add sub-buses (e.g., \"Synth Bus\" under Music Bus) without restructuring the entire session.`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Create functional buses (Drums / Music / Vocals / Mix Bus) and route tracks consistently from the Mixing-9 session\",\n    \"Distinguish between audio groups (signal summing + processing) and VCA-style control (level control without summing) and choose appropriately\",\n    \"Apply bus processing (EQ, compression, saturation) with level-matched A/B and measurable headroom targets\",\n    \"Maintain gain staging through buses and the master, avoiding hidden clipping and over-driving analog-modeled plugins\",\n    \"Evaluate mono compatibility after bus processing changes (builds on Lesson 9's mono checks)\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mixing lesson to advance your skills.\",\n    success: \"Excellent! You've mastered Bus Processing and Grouping. Your mixes are improving!\",\n    error: \"Review the mixing concepts and try again.\",\n    alreadyCompleted: \"You've completed this mixing technique. Keep practicing!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 10,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "mixing-9",
      "mixing-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Bus Processing and Grouping:",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-10",
    "filename": "lesson-sound-design-10.config.js",
    "title": "Multi-Sampled Instruments:",
    "category": "Sound Design",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Sound Design 10 - Multi-Sampled Instruments\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-sound-design-10-progress\",\n  lessonNumber: 10,\n  lessonCategory: \"Sound Design\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-sound-design-11.html\",\n  prevLessonUrl: \"lesson-sound-design-9.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 10, categoryLabel: \"Sound Design\" }),\n    title: \"Multi-Sampled Instruments:\",\n    titleHighlight: \"Build Professional Sampler Instruments\",\n    subtitle: \"Construct professional multi-sampled instruments with velocity layers and round-robin sampling. Master professional sound design techniques used in modern music production.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Explore Multi-Sampled Instruments\",\n    description: \"Construct professional multi-sampled instruments with velocity layers and round-robin sampling. This lesson covers the essential concepts and practical techniques you need to master this sound design method.\",\n    tip: \"Listen critically to how each parameter affects the sound. Small changes can have dramatic results in sound design.\",\n    steps: [\n      '<strong>Study the theory</strong> — Read through the sound design concepts and understand the signal flow.',\n      '<strong>Analyze the examples</strong> — Listen to reference sounds and identify key characteristics.',\n      '<strong>Experiment with parameters</strong> — Try different settings and hear how they change the sound.',\n      '<strong>Create variations</strong> — Design multiple versions exploring different timbres.',\n      '<strong>Save your presets</strong> — Document successful sounds for future use.',\n      'Complete the lesson when ready to move forward.'\n    ]\n  },\n  \n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Multi-Sampled Instruments',\n        content: `Multi-Sampled Instruments is a fundamental sound design technique that shapes the sonic character of your productions.\n\n**Key Concepts:**\n- Core synthesis principles and signal flow\n- Parameter relationships and interactions  \n- Frequency spectrum considerations\n- Timbral characteristics and sonic possibilities\n- Common applications in music production\n\n**Professional Applications:**\nModern producers use Multi-Sampled Instruments for:\n- Creating signature sounds and textures\n- Designing genre-specific timbres\n- Building unique sonic identities\n- Crafting sounds that cut through mixes\n- Generating movement and evolution in arrangements\n\nUnderstanding these concepts gives you complete control over your sound palette.`\n      },\n      {\n        title: 'Practical Sound Design Workflow',\n        content: `Professional sound designers follow systematic approaches to achieve desired results:\n\n**Design Process:**\n1. **Define the goal** — Know what sound you're trying to create\n2. **Choose the method** — Select appropriate synthesis technique\n3. **Start simple** — Begin with basic waveforms and build complexity\n4. **Shape with filters** — Sculpt the frequency content\n5. **Add movement** — Use envelopes and modulation\n6. **Layer if needed** — Combine multiple sounds for richness\n7. **Process and polish** — Apply effects and finalize\n\n**Critical Listening:**\n- A/B compare with reference sounds\n- Analyze frequency spectrum with analyzers\n- Check mono compatibility\n- Test in context with other mix elements\n\n**Common Mistakes to Avoid:**\n- Over-processing before establishing the core sound\n- Too many modulation sources creating chaos\n- Ignoring the frequency spectrum balance\n- Not considering the sound's role in the arrangement\n\nStudy professional productions and reverse-engineer the sounds you admire.`\n      }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master the fundamental concepts of Multi-Sampled Instruments\",\n    \"Understand signal flow and parameter relationships\",\n    \"Apply sound design techniques to practical productions\",\n    \"Develop critical listening skills for timbre and texture\",\n    \"Create professional-quality sounds for your productions\"\n  ],\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this lesson to master Multi-Sampled Instruments techniques.\",\n    success: \"Excellent! You've mastered Multi-Sampled Instruments. Your sound design skills are growing!\",\n    error: \"Review the theory and try again.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these techniques!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 10,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "sound-design-9",
      "sound-design-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Multi-Sampled Instruments:",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "vocals-10",
    "filename": "lesson-vocals-10.config.js",
    "title": "Genre-Specific Vocal Production:",
    "category": "Vocals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Vocals 10 - Genre-Specific Vocal Production\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-vocals-10-progress\",\n  lessonNumber: 10,\n  lessonCategory: \"Vocals\",\n  \n  nextLessonUrl: \"lesson-vocals-11.html\",\n  prevLessonUrl: \"lesson-vocals-9.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 10, categoryLabel: \"Vocals\" }),\n    title: \"Genre-Specific Vocal Production:\",\n    titleHighlight: \"Hip-Hop, Pop, R&B, Electronic\",\n    subtitle: \"Learn vocal production approaches for different genres and styles. Master professional vocal production techniques for commercial-quality results.\"\n  },\n  \n  exercise: {\n    title: \"Master Genre-Specific Vocal Production\",\n    description: \"Learn vocal production approaches for different genres and styles. This lesson covers the essential vocal production techniques used in professional recordings.\",\n    tip: \"Vocals are usually the focal point of a track. Spend extra time getting them right - they make or break the production.\",\n    steps: [\n      '<strong>Study vocal production theory</strong> — Understand the concepts and workflow.',\n      '<strong>Analyze reference vocals</strong> — Listen to professional vocal productions in your genre.',\n      '<strong>Apply the techniques</strong> — Practice the specific vocal processing methods.',\n      '<strong>Critical listening</strong> — Compare your results to professional standards.',\n      '<strong>Iterate and refine</strong> — Make adjustments based on what you hear.',\n      'Complete when you understand the practical application.'\n    ]\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Understanding Genre-Specific Vocal Production',\n        content: `Genre-Specific Vocal Production is crucial for achieving professional vocal productions that compete with commercial releases.\n\n**Core Concepts:**\n- Vocal recording and production fundamentals\n- Technical requirements and equipment considerations\n- Signal flow and processing chain order\n- Common issues and how to solve them\n- Genre-specific approaches and standards\n\n**Professional Workflow:**\n1. **Preparation** — Set up properly before recording\n2. **Capture** — Record high-quality source material\n3. **Edit** — Clean up and comp the best takes\n4. **Process** — Apply corrective and creative processing\n5. **Mix** — Blend vocals perfectly with the track\n6. **Finalize** — Ensure vocals translate across systems\n\n**Critical Factors:**\n- **Source quality** — Good recording = easier mixing\n- **Performance** — Technical skill matters more than processing\n- **Context** — Vocals must serve the song\n- **Reference** — Always compare to professional standards\n\nProfessional vocal producers understand that Genre-Specific Vocal Production is both technical skill and artistic judgment.`\n      },\n      {\n        title: 'Professional Vocal Production Techniques',\n        content: `Apply Genre-Specific Vocal Production in your productions with professional approaches:\n\n**Recording Best Practices:**\n- Proper mic placement and distance\n- Optimal gain staging and headroom\n- Multiple takes for comping\n- Consistent recording environment\n- Reference monitoring and acoustics\n\n**Processing Workflow:**\n1. **Clean up** — Remove unwanted sounds and noise\n2. **Tune** — Correct pitch issues (subtle or creative)\n3. **Time align** — Fix timing and rhythm issues\n4. **EQ** — Remove muddiness, add presence\n5. **Compress** — Control dynamics and consistency\n6. **De-ess** — Tame harsh sibilance\n7. **FX** — Add reverb, delay, modulation\n\n**Common Vocal Issues:**\n- **Muddiness** — High-pass filter at 80-100 Hz\n- **Harshness** — De-ess or cut 6-8 kHz\n- **Lack of presence** — Boost 3-5 kHz subtly\n- **Inconsistent levels** — Compression and automation\n- **Poor timing** — Edit before processing\n- **Pitch issues** — Tune before heavy processing\n\n**Genre Considerations:**\nDifferent genres require different vocal approaches:\n- **Pop** — Polished, present, tuned, compressed\n- **Hip-Hop** — Dry, upfront, minimal reverb\n- **R&B** — Smooth, warm, layered harmonies\n- **Rock** — Raw energy, less processing\n- **Electronic** — Creative effects, vocoders, pitch shifts\n\nStudy vocal productions in your genre and understand what makes them work.`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Master professional vocal production techniques\",\n    \"Understand the complete vocal workflow from recording to mixing\",\n    \"Apply genre-specific vocal processing approaches\",\n    \"Develop critical listening skills for vocal production\",\n    \"Create commercial-quality vocal recordings\"\n  ],\n  \n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this vocal production lesson to advance.\",\n    success: \"Excellent! You've mastered Genre-Specific Vocal Production. Your vocal productions are pro-level!\",\n    error: \"Review the vocal production concepts and try again.\",\n    alreadyCompleted: \"You've completed this vocal technique. Keep refining your skills!\"\n  }),\n  \n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 10,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "vocals-9",
      "vocals-8"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Genre-Specific Vocal Production:",
      "Prepararsi alla lezione successiva del modulo Vocals"
    ]
  },
  {
    "slug": "arrangement-11",
    "filename": "lesson-arrangement-11.config.js",
    "title": "Repetition vs Variation:",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 11 - Repetition vs Variation\n *\n * This lesson teaches the balance between repetition (for catchiness) and\n * variation (for interest). Master when to repeat and when to evolve.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-arrangement-11-progress\",\n  lessonNumber: 11,\n  lessonCategory: \"Arrangement\",\n  depthLevel: 3,\n\n  nextLessonUrl: \"lesson-arrangement-12.html\",\n  prevLessonUrl: \"lesson-arrangement-10.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 11, categoryLabel: \"Arrangement\" }),\n    title: \"Repetition vs Variation:\",\n    titleHighlight: \"The Art of Balance\",\n    subtitle: \"Master the <strong>repetition-variation balance</strong>. Learn when to <strong>repeat for catchiness</strong> and when to <strong>vary for interest</strong>. Too much repetition = boring. Too much variation = confusing.\"\n  },\n\n  exercise: {\n    title: \"Create an Arrangement Balancing Repetition and Variation\",\n    description: \"Build an arrangement that uses <strong>strategic repetition</strong> to make ideas stick, plus <strong>subtle variation</strong> to maintain interest. The key is changing one element at a time while keeping others constant.\",\n    tip: \"The 80/20 rule: Keep 80% the same (familiar), change 20% (fresh). Example: Second chorus keeps melody/chords the same, but adds a new synth layer. Third chorus adds harmonies. Final chorus modulates up a key.\",\n    steps: [\n      { text: \"<strong>Establish the core loop</strong> - Create your main 4-8 bar pattern\" },\n      { text: \"<strong>Repeat exactly once</strong> - Build familiarity with exact repetition\" },\n      { text: \"<strong>Add ONE new element</strong> - Keep 80% same, change 20%\" },\n      { text: \"<strong>Repeat with variation</strong> - Alternate texture, melody, or harmony\" },\n      { text: \"<strong>Build to climax</strong> - Final repetition adds all variations together\" },\n      { text: \"<strong>Use the rule of three</strong> - Things happen in threes for satisfaction\" }\n    ]\n  },\n\n  variationTechniques: [\n    { name: \"Additive\", description: \"Add new layers each repetition\", example: \"Verse 1: Drums+Bass, Verse 2: +Pad, Verse 3: +Lead\" },\n    { name: \"Subtractive\", description: \"Remove elements for contrast\", example: \"Chorus 2: Remove drums for 2 bars\" },\n    { name: \"Textural\", description: \"Change sound/timbre, keep rhythm/melody\", example: \"Chorus 2: Switch synth to piano\" },\n    { name: \"Rhythmic\", description: \"Vary rhythm pattern, keep melody\", example: \"Chorus 2: Drums switch from 4-on-floor to breakbeat\" },\n    { name: \"Harmonic\", description: \"Change chords, keep melody\", example: \"Chorus 2: Modulate up a key\" },\n    { name: \"Melodic\", description: \"Vary melody, keep harmony\", example: \"Verse 2: Add vocal ad-libs over same chords\" }\n  ],\n\n  ruleOfThree: {\n    description: \"Musical ideas work best in groups of three\",\n    examples: [\n      \"Three choruses: Simple → Add harmonies → Modulate up\",\n      \"Three verses: Sparse → Medium → Full\",\n      \"Build pattern three times before the drop\"\n    ],\n    reasoning: \"First time: Learn it. Second time: Recognize it. Third time: Expect variation.\"\n  },\n\n  messages: applyMessagePreset(\"arrangement\", {\n    initial: \"Create an arrangement that repeats core ideas while adding variations!\",\n    success: \"🔁 Perfect balance! Your repetition creates familiarity while variations keep it interesting.\",\n    error: \"Check your repetition/variation balance—aim for 80% same, 20% new each time.\",\n    alreadyCompleted: \"You've mastered repetition and variation! Experiment with more complex evolution patterns.\"\n  }),\n\n  mode: {\n    type: \"structure-builder\",\n    sandbox: false,\n    showTimeline: true,\n    highlightRepetitions: true,\n    showVariationIndicator: true\n  },\n\n  learningObjectives: [\n    \"Understand the repetition-variation balance in arrangements\",\n    \"Apply the 80/20 rule for changes\",\n    \"Use the rule of three for satisfying structure\",\n    \"Implement six variation techniques effectively\",\n    \"Create familiar yet evolving arrangements\"\n  ],\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"The Psychology of Repetition vs Variation\",\n        content: `\n**The Fundamental Tension:**\nAll music exists in the balance between two opposing forces:\n- **Repetition** creates familiarity, catchiness, and comfort\n- **Variation** creates interest, excitement, and surprise\n\nToo much repetition = boring, monotonous, predictable\nToo much variation = confusing, unmemorable, chaotic\n\nThe art of arrangement is finding the sweet spot between these extremes.\n\n**Why Repetition Works:**\nThe human brain loves patterns. When we hear something repeated, our brain recognizes it, creating a sense of satisfaction and prediction. This is why hooks are catchy—they repeat enough that you learn them. Repetition creates:\n- **Familiarity:** \"I know this part!\"\n- **Anticipation:** \"Here comes that drop again!\"\n- **Memorability:** \"I can't get this melody out of my head\"\n- **Unity:** Repetition ties sections together, making a track feel cohesive\n\n**Why Variation Is Essential:**\nBut pure repetition eventually becomes boring. The brain craves novelty after initial familiarity. Variation creates:\n- **Interest:** \"What's new this time?\"\n- **Development:** The track feels like it's going somewhere\n- **Re-engagement:** Pulls listeners back when repetition starts to feel stale\n- **Professional Polish:** Variation separates amateur \"loop\" tracks from sophisticated arrangements\n\n**The Magic Formula: The 80/20 Rule**\n\nWhen you repeat a section, keep **80% the same** and change **20%**. This maintains familiarity while adding freshness.\n\n**Example—First Chorus:**\n- Drums: 4-on-the-floor kick\n- Bass: root-fifth pattern\n- Vocals: main melody\n- Pad: sustained chords\n- Lead: melodic hook\n\n**Example—Second Chorus (80% same, 20% new):**\n- Drums: 4-on-the-floor kick ✓ (SAME)\n- Bass: root-fifth pattern ✓ (SAME)\n- Vocals: main melody ✓ (SAME)\n- Pad: sustained chords ✓ (SAME)\n- Lead: melodic hook + **NEW harmonies in background** ← 20% NEW\n\n**Example—Third Chorus (80% same, 20% new again):**\n- Drums: 4-on-the-floor kick ✓ (SAME)\n- Bass: root-fifth pattern **modulates up one key** ← 20% NEW\n- Vocals: main melody (in new key) ✓ (SAME structure)\n- Pad: sustained chords (in new key) ✓ (SAME structure)\n- Lead: melodic hook + harmonies ✓ (SAME as chorus 2)\n\nEach repetition keeps most elements identical while introducing one strategic change.\n\n---\n\n**The Rule of Three:**\n\nMusical ideas work best in groups of **three**. Why? Because:\n- **First time:** You learn it (unfamiliar)\n- **Second time:** You recognize it (familiar)\n- **Third time:** You expect something different (surprise)\n\n**Application in Arrangement:**\n\n**Three Choruses:**\n1. Simple, clean chorus (establish the hook)\n2. Add backing vocals or new layer (familiar + enhanced)\n3. Key modulation or breakdown (familiar + dramatic change)\n\n**Three Verses:**\n1. Sparse (drums + bass + vocals only)\n2. Medium density (add pad or rhythm guitar)\n3. Full (add all elements, pre-final chorus)\n\n**Three Build-Ups:**\n1. 4-bar build with riser\n2. 4-bar build with riser + filter sweep (more intense)\n3. 8-bar build with riser + filter + drum roll + silence before drop (maximum tension)\n\nThe third instance is where you break expectations, delivering the surprise that keeps listeners engaged.\n\n---\n\n**Real-World Examples:**\n\n**\"Levels\" by Avicii:**\n- Verse 1: Minimal (kick, claps, vocal)\n- Verse 2: + Piano melody (80% same, 20% new)\n- Verse 3: + Strings (80% same, 20% new)\nEach verse adds ONE new element while keeping the foundation constant.\n\n**\"Someone Like You\" by Adele:**\n- Chorus 1: Vocals + piano only\n- Chorus 2: + Drums (huge impact from one addition)\n- Final Chorus: + Backing vocals + fuller drums (maximum emotion)\n\n**\"Uptown Funk\" by Bruno Mars:**\n- The \"Don't believe me just watch\" hook repeats constantly, but with different backing elements, rhythmic variations, and vocal ad-libs each time—keeping it fresh despite massive repetition.\n        `\n      },\n      {\n        title: \"The Six Variation Techniques\",\n        content: `\n**1. Additive Variation (Most Common):**\nKeep everything the same, **add one new layer** each repetition.\n\n**How to Apply:**\n- Verse 1: Drums + bass only\n- Verse 2: Drums + bass + pad (add one element)\n- Verse 3: Drums + bass + pad + rhythm guitar (add another)\n\n**Why It Works:** Creates natural build-up, increasing energy progressively without overwhelming the listener. The foundation stays familiar while the track evolves.\n\n**Genre Examples:**\n- **Pop:** Verse → Pre-chorus → Chorus (each section adds layers)\n- **EDM:** Intro → Build → Drop (progressive addition to peak)\n- **Hip-Hop:** Verse 1 (sparse) → Verse 2 (+ strings) → Verse 3 (+ choir)\n\n---\n\n**2. Subtractive Variation (High Impact):**\n**Remove elements** to create dramatic contrast and space.\n\n**How to Apply:**\n- Chorus 1: Full arrangement (all 5 elements)\n- Post-Chorus 1: **Remove drums for 2 bars** (sudden emptiness)\n- Breakdown: **Only vocals + guitar** (strip to minimum)\n\n**Why It Works:** Subtraction is more dramatic than addition. Removing a core element (like drums) creates shocking contrast that re-engages attention.\n\n**Genre Examples:**\n- **Pop:** Post-chorus breakdown (remove drums, keep vocals)\n- **EDM:** Drop into breakdown (sudden bass/drum removal)\n- **R&B:** Chorus into intimate bridge (strip to vocals + keys only)\n\n---\n\n**3. Textural Variation (Timbre Changes):**\nKeep the **rhythm and melody the same**, change the **sound/timbre**.\n\n**How to Apply:**\n- Chorus 1: Bright synth lead\n- Chorus 2: **Same melody, but played on piano** (warm, organic timbre)\n- Chorus 3: **Back to synth but with distortion** (aggressive timbre)\n\n**Why It Works:** The familiar melody stays recognizable, but the new sound makes it feel fresh. This is especially effective for choruses where you want the hook to stay memorable.\n\n**Genre Examples:**\n- **EDM:** Synth drop → Second drop with bass version of same melody\n- **Pop:** Acoustic verse → Electric chorus (same chords, different instruments)\n- **Rock:** Clean guitar verse → Distorted guitar chorus (same riff, different tone)\n\n---\n\n**4. Rhythmic Variation (Groove Changes):**\nKeep the **melody and harmony the same**, change the **rhythmic feel**.\n\n**How to Apply:**\n- Verse 1: Steady 4-on-the-floor house beat\n- Verse 2: **Switch to breakbeat** (same bass/melody, new groove)\n- Verse 3: **Half-time feel** (drums half speed, same melody)\n\n**Why It Works:** Rhythmic changes create massive energy shifts without changing the melodic/harmonic content. The \"beat switch\" is a classic hip-hop technique for this reason.\n\n**Genre Examples:**\n- **Hip-Hop:** Beat switch mid-song (Travis Scott, Kendrick Lamar)\n- **DnB:** Full-time drums → Half-time breakdown → Back to full-time\n- **Pop:** Verse in half-time → Chorus in double-time (tempo feel change)\n\n---\n\n**5. Harmonic Variation (Chord Changes):**\nKeep the **melody the same**, change the **underlying chords**.\n\n**How to Apply:**\n- Chorus 1: C - Am - F - G (I - vi - IV - V)\n- Chorus 2: **C - Em - Am - F** (I - iii - vi - IV) ← Different chords, same melody\n- Final Chorus: **D - Bm - G - A** (modulate up to D major) ← Key change\n\n**Why It Works:** The melody stays familiar (the listener can still sing along), but the harmonic context makes it feel like a new emotional space. Key modulation is the ultimate harmonic variation.\n\n**Genre Examples:**\n- **Pop:** Key change in final chorus (classic 90s/2000s pop move)\n- **Gospel:** Modulate up a half-step for emotional climax\n- **Jazz:** Same melody over different chord substitutions (reharmonization)\n\n---\n\n**6. Melodic Variation (Melody Changes):**\nKeep the **harmony/chords the same**, vary the **melody**.\n\n**How to Apply:**\n- Verse 1: Simple, stepwise melody over Am - F - C - G\n- Verse 2: **Add vocal runs and embellishments** over same chords\n- Verse 3: **Completely new counter-melody** over same chords\n\n**Why It Works:** The harmonic foundation (chord progression) provides familiarity and structure, while the new melody keeps each verse feeling unique.\n\n**Genre Examples:**\n- **R&B:** Verse 1 simple melody → Verse 2 with vocal runs and ad-libs\n- **Jazz:** Theme → Variations → Improvisation (all over same chord changes)\n- **Pop:** Verse melody → Pre-chorus melody → Different chorus melody (all tied by same chordal backbone)\n\n---\n\n**Combining Multiple Techniques:**\n\n**Pro arrangers stack variations** for maximum impact:\n\n**Final Chorus Example:**\n- **Additive:** Add string section\n- **Harmonic:** Modulate up a key\n- **Rhythmic:** Drums add double-time hi-hats\n- **Melodic:** Vocals add harmonies\n\n**Result:** 80% familiar (same chorus structure, core melody), 20% dramatically new (key, layers, rhythm, harmonies all evolve together).\n        `\n      },\n      {\n        title: \"When to Repeat, When to Vary—Practical Rules\",\n        content: `\n**Strategic Repetition: When to Keep It the Same**\n\n**1. The Hook/Chorus (Repeat Often):**\nYour chorus should repeat with **minimal variation** (maybe 5-10% change maximum). Why? Because the chorus is the catchiest, most memorable part—you want listeners to learn it quickly.\n\n**How Many Times?** Most pop songs: 3-4 chorus repetitions. EDM tracks: 2-3 drop repetitions. Hip-hop: 2-3 hook repetitions.\n\n**Variation Strategy:** First two choruses nearly identical, third adds ONE new element (backing vocals, strings), final chorus modulates or adds harmonic variation.\n\n---\n\n**2. The Main Groove (Repeat Throughout):**\nThe foundation groove (drums + bass pattern) should stay **mostly consistent** throughout the track. This creates cohesion and keeps the genre identity clear.\n\n**How Much Variation?** 10-20% max. You can add fills, switch to half-time briefly, or add percussion layers, but the core kick-snare pattern should be recognizable.\n\n---\n\n**3. The Intro Theme (Repeat → Develop):**\nEstablish your main musical idea in the intro, then develop it throughout. Listeners need to hear the core idea at least **2-3 times** before you start varying it significantly.\n\n**Example:**\n- Intro: Play melodic hook 2x (establish)\n- Verse 1: Reference the hook (familiar)\n- Chorus: Full hook returns (payoff)\n- Verse 2: Varied version of hook (development)\n\n---\n\n**Strategic Variation: When to Change**\n\n**1. Second Verse (ADD Variation):**\nNever make Verse 2 identical to Verse 1. Add at least **one new element**—a pad, a counter-melody, background vocals, or rhythmic variation. Otherwise, it feels stale.\n\n**Rule:** If Verse 1 is 50% density, Verse 2 should be 60-70% density.\n\n---\n\n**2. Bridge (MAJOR Variation):**\nThe bridge is your **variation section**. Change as much as you can while maintaining song identity:\n- Different chord progression\n- New rhythmic feel (half-time, double-time, tempo shift)\n- Minimal instrumentation (breakdown)\n- New melodic idea (not the chorus or verse melody)\n\n**Purpose:** Reset listener attention after 2-3 repetitions of verse-chorus structure. The bridge makes the final chorus feel fresh.\n\n---\n\n**3. Final Chorus (CLIMAX Variation):**\nThe last chorus should be the **most varied** version—it's the emotional peak. Common changes:\n- Key modulation (up a half-step or whole step)\n- Additive variation (full orchestra, choir, synth layers)\n- Harmonic variation (extended chords, suspensions)\n- Extended length (add 4-8 extra bars)\n\n**Purpose:** Deliver maximum emotional impact and create a memorable ending.\n\n---\n\n**4. Outro (SUBTRACTIVE Variation):**\nThe outro should **strip away elements** progressively, winding down the energy. Opposite of the intro's additive approach.\n\n**Example:**\n- Outro bar 1-4: Remove drums\n- Outro bar 5-8: Remove bass\n- Outro bar 9-12: Only melody remains\n- Outro bar 13-16: Fade to silence\n\n---\n\n**Common Mistakes and How to Avoid Them:**\n\n**❌ Mistake 1: Exact Loop for 3+ Minutes**\nPlaying the same 4-8 bar loop with ZERO variation for the entire track. Even electronic genres need variation.\n\n**✓ Fix:** Apply the 80/20 rule. Change one element every 16-32 bars (add a hi-hat, remove bass for 2 bars, add a vocal chop).\n\n---\n\n**❌ Mistake 2: Too Much Variation Too Soon**\nChanging everything in the second verse before the listener has learned the core idea.\n\n**✓ Fix:** Let the core idea repeat at least 2-3 times before introducing major variation. Establish before you evolve.\n\n---\n\n**❌ Mistake 3: Inconsistent Chorus**\nMaking each chorus dramatically different (different melody, different chords, different structure). This destroys memorability.\n\n**✓ Fix:** Choruses should be 90-95% identical. Save major variation for the final chorus only.\n\n---\n\n**❌ Mistake 4: No Build to Final Moment**\nNot creating a climactic final chorus/drop—just repeating the same chorus a third time.\n\n**✓ Fix:** The final chorus MUST be special. Add a key change, extra layers, extended length, or dramatic arrangement shift.\n\n---\n\n**❌ Mistake 5: Variation Without Purpose**\nChanging things randomly without a clear reason—adding a random synth layer that doesn't fit, switching grooves mid-section awkwardly.\n\n**✓ Fix:** Every variation should serve a purpose: building energy, creating contrast, emphasizing emotion, or developing the theme. Ask \"why am I changing this?\" before making the edit.\n\n---\n\n**Why This Matters:**\n\nThe repetition-variation balance is what separates demo loops from finished songs. Amateur producers make 8-bar loops and call it done. Professional arrangers take that loop and craft a journey—repeating enough for catchiness, varying enough for interest.\n\n**The 80/20 rule is your guiding principle:** Keep 80% familiar, change 20% strategically. This applies to every level—verses, choruses, entire song structure.\n\n**What's Next:**\nIn Lesson 12, you'll learn how to create **tension and release** cycles—building suspense and delivering satisfying resolution. This technique stacks perfectly with repetition/variation to create emotionally engaging arrangements.\n        `\n      }\n    ]\n  }\n};\n\nif (typeof window !== 'undefined') window.LESSON_CONFIG = lessonConfig;\n",
    "number": 11,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "arrangement-10",
      "arrangement-9"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Repetition vs Variation:",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-11",
    "filename": "lesson-bass-11.config.js",
    "title": "Funk Bass:",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 11 - Funk Bass: Slap, Pop & Groove\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-11-progress\",\n  lessonNumber: 11,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-12.html\",\n  prevLessonUrl: \"lesson-bass-10.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 11, categoryLabel: \"Bass & Low End\" }),\n    title: \"Funk Bass:\",\n    titleHighlight: \"Slap, Pop & Groove\",\n    subtitle: \"Master funk bass patterns with <strong>syncopated rhythms</strong>, <strong>ghost notes</strong>, and <strong>percussive techniques</strong>. Create that classic P-Funk bounce that makes people move. Funk is all about the groove between the beats.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 100,\n    stepCount: 16,\n    bars: 1,\n    noteRange: { min: 36, max: 60 }, // C2 to C4 (bass range)\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Program a Funk Bass Groove\",\n    description: \"Funk bass is about <strong>syncopation</strong> (off-beat notes), <strong>ghost notes</strong> (soft percussive hits), and <strong>space</strong>. The groove sits in the pocket between beats, creating that irresistible bounce. Emphasize the & (and) of each beat.\",\n    tip: \"In funk, what you DON'T play is as important as what you DO play. Leave space for the drums and rhythm guitar to breathe.\",\n    steps: [\n      '<strong>Root note on beat 1</strong> — Place E2 (MIDI 40) on step 0 with medium velocity.',\n      '<strong>Ghost note on the &</strong> — Add a soft E2 on step 1 (low velocity ~60) for percussive texture.',\n      '<strong>Syncopated jump</strong> — Add G2 (MIDI 43) on step 6 (the & of beat 2).',\n      '<strong>Octave slap</strong> — Add E3 (MIDI 52) on step 10 (beat 3) for that signature funk pop.',\n      '<strong>Return to root</strong> — E2 on step 14 (& of beat 4) to complete the phrase.',\n      'Play and feel the bouncy, syncopated groove. Check when ready.'\n    ]\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Funk Bass Characteristics',\n        content: `Funk bass, pioneered by legends like Bootsy Collins, Larry Graham, and Marcus Miller, has distinct features:\n\n**Key Elements:**\n- **Syncopation** — Notes on the off-beats (&) create rhythmic tension\n- **Ghost notes** — Soft, muted notes add percussive texture\n- **Slap & Pop** — Percussive thumb slap (low notes) and finger pop (high notes)\n- **Space** — Rests are as important as notes\n- **The Pocket** — Groove sits slightly behind or ahead of the beat\n\n**Velocity Dynamics:**\n- Strong notes: 100-127 velocity (slaps, main notes)\n- Ghost notes: 40-70 velocity (muted, percussive)\n- Pops: 110-127 velocity (bright, snappy high notes)\n\n**Common Patterns:**\nRoot → Ghost → Syncopated jump → Octave → Return\n\nThis creates that infectious bounce that defines funk.`\n      },\n      {\n        title: 'Funk in Different Genres',\n        content: `Funk bass techniques are used across many genres:\n\n**Classic Funk** (P-Funk, James Brown): Heavy syncopation, aggressive slap\n**Jazz-Funk** (Herbie Hancock): More melodic, sophisticated harmony\n**Modern R&B/Hip-Hop**: Simplified funk patterns with 808 influence\n**Nu-Disco/French House**: Filtered funk bass samples with electronic production\n\nEven electronic producers sample and synthesize funk bass to add organic groove to their tracks.`\n      }\n    ]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [\n      { pitch: 40, step: 0, duration: 1, velocity: 100 },   // E2 root (slap)\n      { pitch: 40, step: 1, duration: 1, velocity: 60 },    // E2 ghost note\n      { pitch: 43, step: 6, duration: 2, velocity: 95 },    // G2 syncopated\n      { pitch: 52, step: 10, duration: 1, velocity: 120 },  // E3 octave pop\n      { pitch: 40, step: 14, duration: 2, velocity: 90 }    // E2 return\n    ],\n    highlightScale: [40, 42, 43, 45, 47, 48, 50, 52], // E minor pentatonic (funk scale)\n    showChordDetection: false,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Understand syncopation and off-beat placement in funk bass\",\n    \"Use ghost notes to add percussive texture and groove\",\n    \"Apply velocity dynamics (slap vs pop vs ghost)\",\n    \"Create space and pocket in bass patterns\",\n    \"Recognize funk bass patterns in different genres\"\n  ],\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Program the funk bass groove to complete this lesson.\",\n    success: \"Funky! You've got that P-Funk bounce! The groove is infectious.\",\n    error: \"Not quite the funk. Check velocity dynamics and syncopation placement.\",\n    alreadyCompleted: \"You've mastered funk bass. That pocket is tight!\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 11,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "bass-10",
      "bass-9"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Funk Bass:",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-11",
    "filename": "lesson-drums-11.config.js",
    "title": "DnB &",
    "category": "Drums & Rhythm",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Drums 11 - DnB & Breakbeat Patterns\n * \n * This lesson teaches drum and bass programming including the Amen break,\n * two-step rhythms, and high-energy breakbeat patterns.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-drums-11-progress\",\n  lessonNumber: 11,\n  lessonCategory: \"Drums & Rhythm\",\n  depthLevel: 6,\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-drums-12.html\",\n  prevLessonUrl: \"lesson-drums-10.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 11, categoryLabel: \"Drums & Rhythm\" }),\n    title: \"DnB &\",\n    titleHighlight: \"Breakbeat\",\n    subtitle: \"Create <strong>high-energy drum and bass patterns</strong>. Learn the legendary <strong>Amen break</strong>, <strong>two-step rhythms</strong>, and the fastest beats in electronic music.\"\n  },\n  \n  // ====================\n  // SEQUENCER CONFIG\n  // ====================\n  sequencer: {\n    tempo: 174,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true, // Essential for breakbeat dynamics and ghost notes\n    requiredTempo: 174\n  },\n  \n  // ====================\n  // EXERCISE\n  // ====================\n  exercise: {\n    title: \"Build a Two-Step DnB Beat\",\n    description: \"Create the classic drum and bass two-step pattern with syncopated kick, half-time snare, and driving hi-hats.\",\n    tip: \"At 174 BPM with snare on 2 and 4, it feels like 87 BPM—that's the rolling two-step groove!\",\n    steps: [\n      { text: \"<strong>Set the tempo to 174 BPM</strong> using the Tempo slider.\" },\n      { text: \"<strong>Kick:</strong> Syncopated on steps 1, 7, 10 for that rolling feel.\" },\n      { text: \"<strong>Snare:</strong> Half-time backbeat on steps 5 and 13.\" },\n      { text: \"<strong>Hi-Hat:</strong> Driving 8th notes (1, 3, 5, 7, 9, 11, 13, 15).\" },\n      { text: \"<strong>Feel:</strong> At 174 BPM, this should feel energetic but rolling!\" }\n    ]\n  },\n  \n  // ====================\n  // INSTRUMENTS\n  // ====================\n  instruments: [\n    {\n      id: \"kick\",\n      label: \"Kick\",\n      color: \"linear-gradient(135deg, #e17055, #d63031)\",\n      targetSteps: [0, 6, 9],\n      instructionText: \"Syncopated kick: 1, 7, 10 for the rolling DnB feel.\",\n      patternHint: {\n        enabled: true,\n        note: \"Kick: 1, 7, 10 (syncopated)\"\n      }\n    },\n    {\n      id: \"snare\",\n      label: \"Snare\",\n      color: \"linear-gradient(135deg, #fdcb6e, #f39c12)\",\n      targetSteps: [4, 12],\n      instructionText: \"Half-time snare on beats 2 and 4 (steps 5 and 13).\",\n      patternHint: {\n        enabled: true,\n        note: \"Snare: 5, 13 (half-time backbeat)\"\n      }\n    },\n    {\n      id: \"hihat\",\n      label: \"Hi-Hat\",\n      color: \"linear-gradient(135deg, #00cec9, #0984e3)\",\n      targetSteps: [0, 2, 4, 6, 8, 10, 12, 14],\n      instructionText: \"Driving 8th note hi-hats for energy and pulse.\",\n      patternHint: {\n        enabled: true,\n        note: \"Hi-Hat: every 8th note (1, 3, 5, 7...)\"\n      }\n    }\n  ],\n  \n  // ====================\n  // PATTERN HINT\n  // ====================\n  patternHint: {\n    enabled: true,\n    note: \"Two-step DnB: syncopated kick + half-time snare + driving 8th hi-hats\"\n  },\n  \n  // ====================\n  // MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"drums\", {\n    initial: \"Build the two-step pattern at 174 BPM!\",\n    success: \"Massive! That's the classic DnB two-step. The energy is incredible!\",\n    error: \"Check your kick placement—DnB kicks are syncopated (1, 7, 10), not straight.\",\n    alreadyCompleted: \"You've mastered DnB drums! Try experimenting with Amen break variations.\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  },\n  \n  // ====================\n  // GENRE INFO\n  // ====================\n  genreInfo: {\n    name: \"Drum & Bass / Breakbeat\",\n    tempoRange: { min: 160, max: 180 },\n    standardTempo: 174,\n    subgenres: [\n      { name: \"Liquid DnB\", tempo: \"170-176 BPM\", character: \"Melodic, soulful, rolling\" },\n      { name: \"Jump Up\", tempo: \"172-176 BPM\", character: \"Aggressive, bouncy, heavy\" },\n      { name: \"Neurofunk\", tempo: \"174-178 BPM\", character: \"Dark, technical, complex\" },\n      { name: \"Jungle\", tempo: \"160-170 BPM\", character: \"Ragga, breaks, oldschool\" }\n    ],\n    famousBreaks: [\n      { name: \"Amen Break\", source: \"The Winstons - Amen Brother (1969)\" },\n      { name: \"Think Break\", source: \"Lyn Collins - Think (1972)\" },\n      { name: \"Apache\", source: \"Incredible Bongo Band (1973)\" },\n      { name: \"Funky Drummer\", source: \"James Brown (1970)\" }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Understand DnB's high tempo (174 BPM) and half-time feel\",\n    \"Program the classic two-step rhythm\",\n    \"Recognize and recreate the Amen break pattern\",\n    \"Use syncopated kicks for rolling energy\"\n  ]\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 11,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "drums-10",
      "drums-9"
    ],
    "outcomes": [
      "Applicare i concetti chiave di DnB &",
      "Prepararsi alla lezione successiva del modulo Drums & Rhythm"
    ]
  },
  {
    "slug": "harmony-11",
    "filename": "lesson-harmony-11.config.js",
    "title": "Smooth the Jumps:",
    "category": "Voice Leading",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 11 - Smooth the Jumps: Chord Inversions\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-11-progress\",\n  lessonNumber: 11,\n  lessonCategory: \"Voice Leading\",\n\n  nextLessonUrl: \"lesson-harmony-12.html\",\n  prevLessonUrl: \"lesson-harmony-10.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 11, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Smooth the Jumps:\",\n    titleHighlight: \"Chord Inversions\",\n    subtitle: \"Re-voice chords so notes move by small steps instead of leaps. You'll learn inversions - playing the same chord with different notes on bottom. This creates smooth voice leading that makes progressions sound instantly more professional and connected.\"\n  },\n\n  sequencer: {\n    tempo: 90,\n    key: \"C\",\n    scale: \"Major\",\n    stepCount: 64,\n    bars: 4,\n    pitchRange: {\n      low: 48,\n      high: 84\n    }\n  },\n\n  exercise: {\n    title: \"Use Inversions for Smooth Voice Leading\",\n    description: \"Play the progression <strong>C → Am → F → G</strong> using inversions to minimize movement between chords. Instead of jumping around, keep notes as close together as possible. This teaches smooth voice leading - the secret to professional-sounding chord progressions.\",\n    tip: \"Chord inversions mean playing the same notes but with a different note on the bottom. C major can be C-E-G (root position), E-G-C (1st inversion), or G-C-E (2nd inversion) - same notes, different order. Use inversions to keep the top note moving smoothly by step or staying the same.\",\n    steps: [\n      { text: \"Bar 1: <strong>C major</strong> root position (C-E-G) \" },\n      { text: \"Bar 2: <strong>Am</strong> first inversion (C-E-A) - notice C and E stay!\" },\n      { text: \"Bar 3: <strong>F major</strong> (C-F-A) - C stays, E moves to F\" },\n      { text: \"Bar 4: <strong>G major</strong> first inversion (B-D-G)\" },\n      { text: \"Compare to root position version - inversions sound much smoother!\" },\n      { text: \"Keep chord tones in middle register (C4-C5) for best voice leading\" }\n    ]\n  },\n\n  validation: {\n    type: \"voice_leading_exercise\",\n    requiredChords: [\n      { time: 0, pitches: [60, 64, 67], chordName: \"C\", allowInversions: true },\n      { time: 16, pitches: [60, 64, 69], chordName: \"Am\", allowInversions: true },\n      { time: 32, pitches: [60, 65, 69], chordName: \"F\", allowInversions: true },\n      { time: 48, pitches: [59, 62, 67], chordName: \"G\", allowInversions: true }\n    ],\n    voiceLeading: {\n      maxTotalMovement: 12,  // Maximum semitones of total voice movement\n      preferSmallSteps: true\n    }\n  },\n\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Build C → Am → F → G using inversions. Keep notes close together - minimize jumping between chords.\",\n    success: \"Excellent! Notice how smooth the chord changes feel when notes move by small steps. This is voice leading - the foundation of professional harmony writing!\",\n    error: \"Try to keep common tones between chords. Use inversions (different notes on bottom) to reduce large jumps. Goal is smooth, stepwise motion between chords.\"\n  }),\n\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 11,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "harmony-8",
      "harmony-9"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Smooth the Jumps:",
      "Prepararsi alla lezione successiva del modulo Voice Leading"
    ]
  },
  {
    "slug": "mixing-11",
    "filename": "lesson-mixing-11.config.js",
    "title": "Automation Basics:",
    "category": "Mixing",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mixing 11 - Automation Basics\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-11-progress\",\n  lessonNumber: 11,\n  lessonCategory: \"Mixing\",\n\n  nextLessonUrl: \"lesson-mixing-12.html\",\n  prevLessonUrl: \"lesson-mixing-10.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 11, categoryLabel: \"Mixing\" }),\n    title: \"Automation Basics:\",\n    titleHighlight: \"Shape a Dynamic Mix Over Time\",\n    subtitle: \"Use precise, repeatable control to make your mix evolve with the song\"\n  },\n\n  exercise: {\n    title: \"Automation Pass: Vocal Rides, Section Energy, and FX Throws\",\n    description: \"Starting from your Mixing-10_BusProcessing session, create automation that improves vocal intelligibility and section impact without compromising headroom or mono compatibility.\",\n    tip: \"A safe workflow is \\\"Touch, then Edit, then Read\\\": write a rough pass in Touch mode, clean curves with ramps/S-curves, then switch back to Read before doing anything else. It prevents accidental overwrites and keeps A/B comparisons trustworthy.\",\n    steps: [\n      '<strong>Load and save session</strong> — Open the session \"Mixing-10_BusProcessing\" and immediately Save As: \"Mixing-11_AutomationBasics\".',\n      '<strong>Show automation lanes</strong> — Set your DAW to show automation lanes. Confirm you can switch automation mode per track (Read/Write/Touch/Latch).',\n      '<strong>Protect existing automation</strong> — Set all tracks to <strong>Read</strong> to protect existing automation. Choose the <strong>Lead Vocal track</strong> and set it to <strong>Touch</strong> mode.',\n      '<strong>Identify problem areas</strong> — Create a loop around Verse 1 and Chorus 1 (or the busiest 60–90 seconds). Play once without writing, and identify 3–5 words that fall behind the mix.',\n      '<strong>Write vocal ride</strong> — Write a first-pass vocal ride in Touch mode: gently raise quiet words by about <strong>+0.5 to +1.5 dB</strong> and reduce overly loud words by <strong>-0.5 to -1.0 dB</strong>. Keep moves small and musical.',\n      '<strong>Smooth curves</strong> — Switch the Lead Vocal back to <strong>Read</strong>. Zoom in and smooth obvious jumps: replace vertical steps with short ramps (about <strong>20–100 ms</strong>) to avoid \"switch-like\" changes.',\n      '<strong>Create chorus lift</strong> — Create automation on the <strong>Vocal Bus</strong> (or Vocal Group) in <strong>Read</strong> mode first. Manually draw a chorus lift of about <strong>+0.5 to +1.0 dB</strong>, starting slightly before the chorus downbeat (e.g., <strong>100–300 ms</strong> early) with an S-curve ramp.',\n      '<strong>Verify headroom</strong> — Play the chorus and confirm the lift increases perceived energy without pushing the master peak above your mixing headroom target (commonly ≤ <strong>-6 dBFS peak</strong>). If peaks rise too much, reduce the lift or rebalance competing elements.',\n      '<strong>Set up delay throw</strong> — Create an automation lane for the <strong>Delay Send</strong> on the lead vocal (from Lesson 8). Set up a tempo-synced delay (e.g., <strong>1/8</strong> or <strong>dotted 1/8</strong>) on an aux return if not already present.',\n      '<strong>Draw FX throw</strong> — Choose one end-of-line vocal phrase and draw a \"throw\": increase the delay send sharply right on the target word, then ramp back down within <strong>200–600 ms</strong> after the word ends. Verify the throw is audible but does not mask the next line.',\n      '<strong>Automate feedback (optional)</strong> — On the delay return, automate <strong>feedback</strong>: for the throw moment, increase feedback slightly (e.g., from <strong>20%</strong> to <strong>35–45%</strong>) then return it. Confirm repeats don\\'t build into clutter.',\n      '<strong>Create pan automation</strong> — Create a subtle pan automation on a supporting element (e.g., a synth ear-candy or guitar double): move between <strong>L20</strong> and <strong>L35</strong> (or symmetric on the right) over a full phrase (≥ <strong>1–2 bars</strong>). Avoid fast pan movement on lead elements.',\n      '<strong>Automate plugin parameter</strong> — Automate a plugin parameter (choose one): either a bus saturator drive for chorus (+small amount) or a reverb send reduction in dense chorus (-small amount). Level-match after automation if the plugin changes perceived loudness.',\n      '<strong>A/B testing</strong> — Perform A/B testing: bypass all automation lanes (global automation bypass if available) and match overall listening level. Compare \"pre-automation\" vs \"post-automation\" focusing on vocal clarity, section transitions, and groove stability.',\n      '<strong>Mono check</strong> — Mono check: fold down to mono and replay the automation-heavy sections (throws and pan movement). Confirm lead vocal remains stable and no key elements disappear or hollow out.',\n      '<strong>Export comparisons</strong> — Export two short bounces (30–60 seconds): one with automation active, one with automation bypassed. Re-import and level-match for a final objective comparison.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'What Automation Is (and Why Mixes Feel \"Professional\" Because of It)',\n        content: `Automation is time-based control of mix parameters—your mix becomes a performance that evolves with the song rather than a static snapshot. A static balance (Lesson 1) can sound acceptable, but most productions need moment-to-moment decisions: vocals dip behind a dense chord, a chorus needs a lift, a delay throw highlights a lyric, a breakdown needs space. Compression can improve consistency (Lessons 5–6), but it reacts to signal level; it cannot \"know\" the arrangement. Automation is how you translate arrangement intent into mix reality.\n\n**The Goal of Automation:**\nGood automation is not constant movement. The goal is often <em>stability</em> and <em>focus</em>: keep lead elements present, reduce distraction, and enhance transitions. Automation also protects headroom (Lesson 2): instead of pushing the master limiter, you can automate the right elements so the chorus feels bigger without adding uncontrolled peaks.\n\n**Think of automation as a set of small, intentional corrections that accumulate into a mix that feels effortless.**`\n      },\n      {\n        title: 'What You Can Automate: Volume, Pan, Mutes, Sends, Plugin Parameters',\n        content: `The essential automation targets are:\n\n**Volume (track or bus):**\nVocal rides, section lifts, tightening busy moments.\n\n**Pan:**\nSubtle movement for ear candy, widening doubles, keeping interest without breaking mono compatibility (Lesson 9).\n\n**Mute:**\nClean dropouts, removing noise between phrases, arrangement punctuation.\n\n**Send levels (reverb/delay):**\n\"FX throws\" (Lesson 8), depth changes between verse/chorus, tightening reverb in dense sections.\n\n**Plugin parameters:**\nCompressor threshold for chorus control, EQ gain for tonal shifts, saturation drive for energy, delay feedback for builds.\n\n**Track vs Bus Automation:**\nAutomation can be written on tracks or buses (Lesson 10). Track automation gives micro control (one vocal phrase); bus automation gives macro control (lift all vocals +0.8 dB in chorus). The tradeoff is precision vs speed.\n\n**In most workflows:**\n- Automate <strong>lead vocal track</strong> for fine rides\n- Automate the <strong>Vocal Bus</strong> for section-level energy\n- Automate <strong>FX return sends</strong> for throws and depth`\n      },\n      {\n        title: 'Automation Modes: Read, Write, Touch, Latch (Practical Differences)',\n        content: `Automation modes determine how the DAW behaves when playback runs:\n\n**Read:**\nPlays existing automation only. Safe mode for general mixing and A/B testing.\n\n**Write:**\nOverwrites automation continuously during playback. High risk—use only when you intentionally want to replace a whole lane.\n\n**Touch:**\nWrites automation only while you touch/move the control; when released, it returns to the previously written automation. Great for refining rides safely.\n\n**Latch:**\nStarts writing when you touch/move a control and continues writing after release until you stop playback. Useful for committing a section change (e.g., chorus lift) but can accidentally overwrite later sections.\n\n| Mode | Writes When | After Release | Risk Level |\n|------|-------------|---------------|------------|\n| Read | Never | N/A | None |\n| Write | Always during playback | Keeps writing | High |\n| Touch | While control is touched | Returns to previous | Low |\n| Latch | After first touch | Keeps writing until stop | Medium |\n\n**Workflow Rule-of-Thumb:**\nKeep most channels in <strong>Read</strong>, switch only the channel you are working on to <strong>Touch</strong> for rides, and reserve <strong>Write</strong> for intentional full-lane passes. After writing automation, return to Read before continuing. This prevents the common failure mode: you hit play and unknowingly rewrite your carefully edited curves.`\n      },\n      {\n        title: 'Automation for Arrangement: Verse/Chorus Energy, Vocal Rides, FX Throws',\n        content: `Automation is most effective when mapped to arrangement landmarks: verse, pre-chorus, chorus, bridge, outro. Typical moves (values are starting references, not rules):\n\n**Vocal Rides:**\nSmall moves like <strong>±1 dB</strong> can be enough to keep intelligibility consistent without sounding \"automated.\" Target words that disappear behind guitars/keys.\n\n**Section Lifts:**\nInstead of turning everything up, lift the <strong>Music Bus</strong> or <strong>Vocal Bus</strong> by <strong>+0.5 to +1.0 dB</strong> in choruses, or slightly reduce competing elements in verses.\n\n**FX Throws:**\nAutomate delay send up for a single word/phrase (often the last word of a line) then back down to maintain clarity. Pair with high/low-pass filtering on the return (Lesson 8) so repeats don't clutter low mids.\n\n**Curve Shape Matters:**\nSudden vertical jumps can click or feel unnatural. Use:\n- Short ramps (20–100 ms) for musical changes\n- Longer S-curves (100–500 ms) for natural fades\n- For throws: immediate send increase at the word plus a quick ramp down right after\n\nVerify by listening in context and level-matching the bypass comparison.`\n      },\n      {\n        title: 'Automating Tracks vs Automating Buses (Building on Lesson 10)',\n        content: `Your Lesson 10 bus architecture (Drums/Music/Vocals → Mix Bus → Master) lets you automate at two \"zoom levels\":\n\n**Track Automation (Micro Control):**\nSolves local problems: a snare fill that jumps out, a consonant that's sharp, a synth note that masks the vocal.\n\n**Bus Automation (Macro Control):**\nShapes macro energy: choruses feel bigger, bridges feel intimate, outros open up with more reverb.\n\n**Practical Approach—Micro Then Macro:**\n1. First, do vocal track rides for intelligibility\n2. Then do bus rides for section energy\n\nThis avoids the trap of pushing the Vocal Bus up because one phrase is quiet—then every other phrase becomes too loud.\n\n**Bus Automation + Compression Interaction:**\nBus automation interacts with compression: if your Vocal Bus compressor is doing light glue (Lesson 10), a +1 dB bus ride may create slightly more gain reduction. That can be fine, but confirm it doesn't change tone or cause pumping.\n\n**Keep Checking Headroom:**\nAfter automation passes, replay the loudest chorus and confirm your master peak target (commonly ≤ -6 dBFS peak during mixing) is still respected.`\n      },\n      {\n        title: 'Best Practices: When to Automate vs When to Use Compression/Processing',\n        content: `Automation and processing solve different problems:\n- **Compression** reduces dynamic range based on level\n- **Automation** changes level intentionally based on musical meaning\n\n**When to Use What:**\nIf a vocal is inconsistent phrase-to-phrase, automation (or clip gain) is often cleaner than forcing a compressor to work harder. If a vocal has micro-dynamics within words (peaks) that poke out, compression can help, and automation can refine the remaining moments.\n\n**A Typical Processing Chain:**\n1. <strong>Clip gain/region gain</strong> for rough leveling (Lesson 2 concept)\n2. <strong>Compression</strong> for control (Lesson 5)\n3. <strong>Automation</strong> for musical shaping\n\n**Always Validate with Level-Matched A/B:**\nIf your automated version is simply louder overall, it will sound better by default; match perceived loudness and re-evaluate.\n\n**Keep Mono Checks in Mind (Lesson 9):**\nPan automation and stereo FX changes can cause momentary mono collapses or phase artifacts.\n\n**Build a Repeatable Test Habit:**\nAfter a major automation pass:\n1. Quick mono fold-down check\n2. Master peak/headroom check\n3. Then commit exports`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Identify and apply the main automation targets (volume, pan, mute, sends, plugin parameters) to support arrangement and clarity over time\",\n    \"Use automation modes (Read, Write, Touch, Latch) safely, choosing the right mode for editing vs performance-style moves\",\n    \"Create clean automation curves (ramps, S-curves, hold points) for vocal rides, section energy changes, and FX throws without causing level jumps or clipping\",\n    \"Decide when to automate versus when to use processing (compression/EQ), using A/B comparisons and headroom checks to confirm the better solution\",\n    \"Apply automation at track vs bus level based on your Lesson 10 architecture, maintaining gain staging and master headroom targets\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mixing lesson to advance your skills.\",\n    success: \"Excellent! You've mastered Automation Basics. Your mixes are improving!\",\n    error: \"Review the mixing concepts and try again.\",\n    alreadyCompleted: \"You've completed this mixing technique. Keep practicing!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 11,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "mixing-10",
      "mixing-9"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Automation Basics:",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-11",
    "filename": "lesson-sound-design-11.config.js",
    "title": "Foley & Sound Effects:",
    "category": "Sound Design",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Sound Design 11 - Foley & Sound Effects\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-sound-design-11-progress\",\n  lessonNumber: 11,\n  lessonCategory: \"Sound Design\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-sound-design-12.html\",\n  prevLessonUrl: \"lesson-sound-design-10.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 11, categoryLabel: \"Sound Design\" }),\n    title: \"Foley & Sound Effects:\",\n    titleHighlight: \"Realistic SFX for Film & Games\",\n    subtitle: \"Record and design realistic sound effects for film, television, games, and visual media. Master professional sound design techniques used in modern music production.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Explore Foley & Sound Effects\",\n    description: \"Record and design realistic sound effects for film, television, games, and visual media. This lesson covers the essential concepts and practical techniques you need to master this sound design method.\",\n    tip: \"Listen critically to how each parameter affects the sound. Small changes can have dramatic results in sound design.\",\n    steps: [\n      '<strong>Study the theory</strong> — Read through the sound design concepts and understand the signal flow.',\n      '<strong>Analyze the examples</strong> — Listen to reference sounds and identify key characteristics.',\n      '<strong>Experiment with parameters</strong> — Try different settings and hear how they change the sound.',\n      '<strong>Create variations</strong> — Design multiple versions exploring different timbres.',\n      '<strong>Save your presets</strong> — Document successful sounds for future use.',\n      'Complete the lesson when ready to move forward.'\n    ]\n  },\n  \n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Foley & Sound Effects',\n        content: `Foley & Sound Effects is a fundamental sound design technique that shapes the sonic character of your productions.\n\n**Key Concepts:**\n- Core synthesis principles and signal flow\n- Parameter relationships and interactions  \n- Frequency spectrum considerations\n- Timbral characteristics and sonic possibilities\n- Common applications in music production\n\n**Professional Applications:**\nModern producers use Foley & Sound Effects for:\n- Creating signature sounds and textures\n- Designing genre-specific timbres\n- Building unique sonic identities\n- Crafting sounds that cut through mixes\n- Generating movement and evolution in arrangements\n\nUnderstanding these concepts gives you complete control over your sound palette.`\n      },\n      {\n        title: 'Practical Sound Design Workflow',\n        content: `Professional sound designers follow systematic approaches to achieve desired results:\n\n**Design Process:**\n1. **Define the goal** — Know what sound you're trying to create\n2. **Choose the method** — Select appropriate synthesis technique\n3. **Start simple** — Begin with basic waveforms and build complexity\n4. **Shape with filters** — Sculpt the frequency content\n5. **Add movement** — Use envelopes and modulation\n6. **Layer if needed** — Combine multiple sounds for richness\n7. **Process and polish** — Apply effects and finalize\n\n**Critical Listening:**\n- A/B compare with reference sounds\n- Analyze frequency spectrum with analyzers\n- Check mono compatibility\n- Test in context with other mix elements\n\n**Common Mistakes to Avoid:**\n- Over-processing before establishing the core sound\n- Too many modulation sources creating chaos\n- Ignoring the frequency spectrum balance\n- Not considering the sound's role in the arrangement\n\nStudy professional productions and reverse-engineer the sounds you admire.`\n      }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master the fundamental concepts of Foley & Sound Effects\",\n    \"Understand signal flow and parameter relationships\",\n    \"Apply sound design techniques to practical productions\",\n    \"Develop critical listening skills for timbre and texture\",\n    \"Create professional-quality sounds for your productions\"\n  ],\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this lesson to master Foley & Sound Effects techniques.\",\n    success: \"Excellent! You've mastered Foley & Sound Effects. Your sound design skills are growing!\",\n    error: \"Review the theory and try again.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these techniques!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 11,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "sound-design-10",
      "sound-design-9"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Foley & Sound Effects:",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "vocals-11",
    "filename": "lesson-vocals-11.config.js",
    "title": "Advanced Vocal Mixing:",
    "category": "Vocals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Vocals 11 - Advanced Vocal Mixing\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-vocals-11-progress\",\n  lessonNumber: 11,\n  lessonCategory: \"Vocals\",\n  \n  nextLessonUrl: \"lesson-vocals-12.html\",\n  prevLessonUrl: \"lesson-vocals-10.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 11, categoryLabel: \"Vocals\" }),\n    title: \"Advanced Vocal Mixing:\",\n    titleHighlight: \"Automation & Parallel Processing\",\n    subtitle: \"Master automation, parallel processing, and advanced techniques for radio-ready vocals. Master professional vocal production techniques for commercial-quality results.\"\n  },\n  \n  exercise: {\n    title: \"Master Advanced Vocal Mixing\",\n    description: \"Master automation, parallel processing, and advanced techniques for radio-ready vocals. This lesson covers the essential vocal production techniques used in professional recordings.\",\n    tip: \"Vocals are usually the focal point of a track. Spend extra time getting them right - they make or break the production.\",\n    steps: [\n      '<strong>Study vocal production theory</strong> — Understand the concepts and workflow.',\n      '<strong>Analyze reference vocals</strong> — Listen to professional vocal productions in your genre.',\n      '<strong>Apply the techniques</strong> — Practice the specific vocal processing methods.',\n      '<strong>Critical listening</strong> — Compare your results to professional standards.',\n      '<strong>Iterate and refine</strong> — Make adjustments based on what you hear.',\n      'Complete when you understand the practical application.'\n    ]\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Understanding Advanced Vocal Mixing',\n        content: `Advanced Vocal Mixing is crucial for achieving professional vocal productions that compete with commercial releases.\n\n**Core Concepts:**\n- Vocal recording and production fundamentals\n- Technical requirements and equipment considerations\n- Signal flow and processing chain order\n- Common issues and how to solve them\n- Genre-specific approaches and standards\n\n**Professional Workflow:**\n1. **Preparation** — Set up properly before recording\n2. **Capture** — Record high-quality source material\n3. **Edit** — Clean up and comp the best takes\n4. **Process** — Apply corrective and creative processing\n5. **Mix** — Blend vocals perfectly with the track\n6. **Finalize** — Ensure vocals translate across systems\n\n**Critical Factors:**\n- **Source quality** — Good recording = easier mixing\n- **Performance** — Technical skill matters more than processing\n- **Context** — Vocals must serve the song\n- **Reference** — Always compare to professional standards\n\nProfessional vocal producers understand that Advanced Vocal Mixing is both technical skill and artistic judgment.`\n      },\n      {\n        title: 'Professional Vocal Production Techniques',\n        content: `Apply Advanced Vocal Mixing in your productions with professional approaches:\n\n**Recording Best Practices:**\n- Proper mic placement and distance\n- Optimal gain staging and headroom\n- Multiple takes for comping\n- Consistent recording environment\n- Reference monitoring and acoustics\n\n**Processing Workflow:**\n1. **Clean up** — Remove unwanted sounds and noise\n2. **Tune** — Correct pitch issues (subtle or creative)\n3. **Time align** — Fix timing and rhythm issues\n4. **EQ** — Remove muddiness, add presence\n5. **Compress** — Control dynamics and consistency\n6. **De-ess** — Tame harsh sibilance\n7. **FX** — Add reverb, delay, modulation\n\n**Common Vocal Issues:**\n- **Muddiness** — High-pass filter at 80-100 Hz\n- **Harshness** — De-ess or cut 6-8 kHz\n- **Lack of presence** — Boost 3-5 kHz subtly\n- **Inconsistent levels** — Compression and automation\n- **Poor timing** — Edit before processing\n- **Pitch issues** — Tune before heavy processing\n\n**Genre Considerations:**\nDifferent genres require different vocal approaches:\n- **Pop** — Polished, present, tuned, compressed\n- **Hip-Hop** — Dry, upfront, minimal reverb\n- **R&B** — Smooth, warm, layered harmonies\n- **Rock** — Raw energy, less processing\n- **Electronic** — Creative effects, vocoders, pitch shifts\n\nStudy vocal productions in your genre and understand what makes them work.`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Master professional vocal production techniques\",\n    \"Understand the complete vocal workflow from recording to mixing\",\n    \"Apply genre-specific vocal processing approaches\",\n    \"Develop critical listening skills for vocal production\",\n    \"Create commercial-quality vocal recordings\"\n  ],\n  \n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this vocal production lesson to advance.\",\n    success: \"Excellent! You've mastered Advanced Vocal Mixing. Your vocal productions are pro-level!\",\n    error: \"Review the vocal production concepts and try again.\",\n    alreadyCompleted: \"You've completed this vocal technique. Keep refining your skills!\"\n  }),\n  \n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 11,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "vocals-10",
      "vocals-9"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Advanced Vocal Mixing:",
      "Prepararsi alla lezione successiva del modulo Vocals"
    ]
  },
  {
    "slug": "arrangement-12",
    "filename": "lesson-arrangement-12.config.js",
    "title": "Tension and Release:",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 12 - Tension and Release\n *\n * This lesson teaches how to build and release musical tension.\n * Master suspense, anticipation, and satisfying resolution.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-arrangement-12-progress\",\n  lessonNumber: 12,\n  lessonCategory: \"Arrangement\",\n  depthLevel: 3,\n\n  nextLessonUrl: \"lesson-arrangement-13.html\",\n  prevLessonUrl: \"lesson-arrangement-11.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 12, categoryLabel: \"Arrangement\" }),\n    title: \"Tension and Release:\",\n    titleHighlight: \"Musical Suspense\",\n    subtitle: \"Master <strong>building tension</strong> and <strong>releasing it</strong>. Learn how to create <strong>anticipation</strong>, <strong>suspense</strong>, and <strong>satisfying resolution</strong>. This is the heartbeat of emotional arrangement.\"\n  },\n\n  exercise: {\n    title: \"Build Tension and Release Cycles\",\n    description: \"Create an arrangement with clear <strong>tension-building sections</strong> that resolve into <strong>release moments</strong>. Tension comes from buildup, suspense, and unfulfilled expectations. Release comes from drops, resolution, and payoff.\",\n    tip: \"Tension is like inhaling—it can't last forever. You MUST release. Build for 8-16 bars, then release. The longer the tension, the bigger the release needs to be. Use risers, filter sweeps, and drum fills to build tension.\",\n    steps: [\n      { text: \"<strong>Establish stability</strong> - Start with a stable, grounded section\" },\n      { text: \"<strong>Introduce tension</strong> - Add risers, increase tempo feel, or unresolved chords\" },\n      { text: \"<strong>Build progressively</strong> - Layer more tension techniques\" },\n      { text: \"<strong>Peak tension moment</strong> - The moment before release (often silence)\" },\n      { text: \"<strong>Release explosively</strong> - Drop/chorus with full energy and resolution\" },\n      { text: \"<strong>Stabilize again</strong> - Return to grounded state, ready for next cycle\" }\n    ]\n  },\n\n  tensionTechniques: [\n    { name: \"Risers\", icon: \"📈\", description: \"Sound that rises in pitch/volume\", tension: \"High\", examples: [\"White noise sweep\", \"Synth riser\"] },\n    { name: \"Drum Fills\", icon: \"🥁\", description: \"Rhythmic pattern building to section change\", tension: \"Medium\", examples: [\"Snare rolls\", \"Tom fills\"] },\n    { name: \"Filter Sweep\", icon: \"🎛️\", description: \"High-pass filter opening gradually\", tension: \"Medium\", examples: [\"Opening filter\", \"Building brightness\"] },\n    { name: \"Harmonic Tension\", icon: \"🎹\", description: \"Unresolved chords or suspended notes\", tension: \"High\", examples: [\"V chord waiting for I\", \"Sus4 chord\"] },\n    { name: \"Silence/Gap\", icon: \"⏸️\", description: \"Brief pause before drop\", tension: \"Maximum\", examples: [\"1-beat silence\", \"Half-bar gap\"] },\n    { name: \"Density Increase\", icon: \"📊\", description: \"Adding more elements progressively\", tension: \"Medium\", examples: [\"Layering sounds\", \"Faster rhythms\"] }\n  ],\n\n  releaseTechniques: [\n    { name: \"The Drop\", description: \"Full-energy section after buildup\", impact: \"Maximum\" },\n    { name: \"Harmonic Resolution\", description: \"Chord progression resolves (V → I)\", impact: \"High\" },\n    { name: \"Rhythmic Resolution\", description: \"Return to steady groove after fills\", impact: \"Medium\" },\n    { name: \"Breakdown\", description: \"Strip back to minimal after fullness\", impact: \"High\" }\n  ],\n\n  messages: applyMessagePreset(\"arrangement\", {\n    initial: \"Create tension-release cycles with builds and drops!\",\n    success: \"🎢 Masterful tension and release! Your arrangement creates emotional peaks and valleys.\",\n    error: \"Make sure you have clear tension-building sections followed by satisfying releases.\",\n    alreadyCompleted: \"You've mastered tension and release! Try creating multiple cycles with varying intensities.\"\n  }),\n\n  mode: {\n    type: \"structure-builder\",\n    sandbox: false,\n    showTimeline: true,\n    showEnergyGraph: true,\n    showTensionMeter: true\n  },\n\n  learningObjectives: [\n    \"Understand tension and release as the foundation of emotional arrangement\",\n    \"Apply six tension-building techniques effectively\",\n    \"Create satisfying release moments after tension\",\n    \"Build multiple tension-release cycles in one track\",\n    \"Use silence as the ultimate tension tool\"\n  ],\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"Why Tension and Release Is the Heartbeat of Music\",\n        content: `\n**The Fundamental Principle of Emotional Arrangement:**\nAll music—across every genre and culture—operates on **tension and release**. Tension is anticipation, suspense, the musical \"inhale.\" Release is resolution, satisfaction, the musical \"exhale.\" Without this cycle, music feels flat and emotionless.\n\nThink of tension and release like a story:\n- **Tension = Rising action, conflict, suspense**\n- **Release = Climax, resolution, payoff**\n\nNo story would work if it was all climax or all setup. The same is true for music—you need both to create an emotional journey.\n\n**Why It Works Physiologically:**\nTension creates physiological responses:\n- Increased heart rate\n- Anticipation (dopamine buildup in the brain)\n- Physical leaning forward, attention sharpening\n\nRelease delivers satisfaction:\n- Dopamine release (pleasure response)\n- Physical relaxation\n- Emotional catharsis\n\nThis isn't subjective preference—it's how our brains are wired to process narrative and music.\n\n---\n\n**Real-World Examples:**\n\n**\"Levels\" by Avicii:**\n- **Tension:** 16-bar buildup with rising filter sweep and increasing drum rolls\n- **Release:** The drop with full bass and vocal hook\n- *Impact:* One of the most iconic EDM drops ever—the tension makes the release euphoric\n\n**\"Bohemian Rhapsody\" by Queen:**\n- **Tension:** The operatic section building chaos and complexity\n- **Release:** The final rock section resolving back to the main theme\n- *Impact:* The journey from tension to release creates the song's dramatic arc\n\n**\"In the Air Tonight\" by Phil Collins:**\n- **Tension:** 3+ minutes of sparse, atmospheric verse with no drums\n- **Release:** The iconic drum fill and full arrangement drop at 3:40\n- *Impact:* One of the most satisfying releases in pop history because of the extended tension\n\n**\"Scary Monsters and Nice Sprites\" by Skrillex:**\n- **Tension:** Vocal loop with rising pitch and increasing intensity\n- **Release:** The \"dubstep drop\" with wobble bass\n- *Impact:* Defined a genre by perfecting tension-release timing\n\n---\n\n**The Tension-Release Cycle Duration:**\n\n**Short Cycles (4-8 bars):**\n- Build tension for 4 bars, release for 4 bars, repeat\n- Used in: Pop, house, most dance music\n- *Effect:* Constant forward momentum, energetic feel\n\n**Medium Cycles (8-16 bars):**\n- Build tension for 8-16 bars, release for 8-16 bars\n- Used in: Rock, R&B, hip-hop\n- *Effect:* Balanced pacing, allows development\n\n**Long Cycles (16-32+ bars):**\n- Extended tension building across multiple sections\n- Used in: Progressive house, trance, post-rock\n- *Effect:* Massive cathartic release when payoff finally arrives\n\n**Rule:** The longer you build tension, the more satisfying (and necessary) the release must be.\n\n---\n\n**The Danger of Constant Tension:**\nYou cannot sustain tension indefinitely. If you build for too long without release, the listener becomes fatigued, not excited. It's like holding your breath—eventually you MUST exhale.\n\n**Amateur Mistake:** 2-minute buildup with no drop (tension without payoff = frustration)\n\n---\n\n**The Danger of Constant Release:**\nBut you also can't have constant \"drops\" or high-energy moments. Without tension, release loses meaning. If the entire song is at maximum energy, there's no dynamic range, no emotional arc.\n\n**Amateur Mistake:** Every section at 100% intensity (no contrast = listener fatigue)\n\n---\n\n**The Professional Approach:**\nPro arrangements use **multiple tension-release cycles** of varying intensity throughout the track:\n\n**Example Song Structure:**\n- Intro: Low tension (establish foundation)\n- Verse 1: Light tension build (anticipation)\n- Pre-chorus: Medium tension (rising action)\n- Chorus 1: **Release** (payoff)\n- Verse 2: Light tension again (reset)\n- Pre-chorus 2: Higher tension (more intense)\n- Chorus 2: **Bigger release** (bigger payoff)\n- Bridge: **Maximum tension** (extended build, riser, silence)\n- Final Chorus: **Ultimate release** (biggest payoff)\n\nEach cycle increases in intensity, creating an overall arc of rising stakes and satisfaction.\n        `\n      },\n      {\n        title: \"The Six Tension-Building Techniques\",\n        content: `\n**1. Risers (The Classic Buildup):**\n\n**What It Is:** A sound that rises in pitch, volume, or both, creating mounting anticipation.\n\n**How to Create:**\n- White noise sweep: High-pass filtered noise with rising cutoff frequency\n- Synth riser: Pitch automation rising 1-2 octaves over 4-16 bars\n- Volume automation: Gradually increasing gain over time\n\n**When to Use:**\n- Before drops (EDM staple)\n- Before choruses (pop/rock)\n- Any moment requiring anticipation\n\n**Tension Level:** High (one of the most obvious tension tools)\n\n**Pro Tip:** Combine with other techniques (riser + filter sweep + drum fill) for maximum impact.\n\n---\n\n**2. Drum Fills (The Rhythmic Signal):**\n\n**What It Is:** A break in the regular drum pattern—usually a roll, cascade, or pattern that signals \"something's about to change.\"\n\n**How to Create:**\n- Snare roll: 16th or 32nd note snare hits building to section change\n- Tom fills: Descending tom pattern (high → mid → low tom)\n- Kick patterns: Rapid kick hits increasing in frequency\n\n**When to Use:**\n- Last 1-2 bars before section change\n- End of verses before choruses\n- Signaling transitions without being too obvious\n\n**Tension Level:** Medium (less aggressive than risers, but highly effective)\n\n**Pro Tip:** Use crescendos (increasing volume) on drum fills for extra intensity.\n\n---\n\n**3. Filter Sweeps (The Brightness Buildup):**\n\n**What It Is:** Gradually opening a low-pass filter, brightening the sound from dark/muffled to bright/full.\n\n**How to Create:**\n- Apply low-pass filter to drums, bass, or full mix\n- Automate cutoff frequency: Start at 200-500Hz, open to 20kHz\n- Duration: 4-16 bars\n\n**When to Use:**\n- Intros (filter opening = \"turning on\")\n- Buildups (brightness = energy)\n- Transitions between sections\n\n**Tension Level:** Medium-High (very effective for sustained builds)\n\n**Pro Tip:** Combine with resonance boost for a more pronounced sweep effect.\n\n---\n\n**4. Harmonic Tension (The Unresolved Chord):**\n\n**What It Is:** Using chords that create harmonic instability, demanding resolution.\n\n**How to Create:**\n- **V chord:** The 5th chord of the key (e.g., G in key of C) creates strong pull to I\n- **Sus4 chord:** Suspend the 3rd, replace with 4th (creates unresolved sound)\n- **Diminished/Augmented chords:** Inherently unstable, demand resolution\n- **Non-functional progressions:** Chords that don't follow expected patterns\n\n**When to Use:**\n- Pre-chorus (building harmonic tension before chorus)\n- Bridge (creating instability before final resolution)\n- Buildups (harmonic + rhythmic tension combined)\n\n**Tension Level:** High (especially for listeners with harmonic awareness)\n\n**Classical Example:**\n\\`\\`\\`\nTension:  | Am | F | G | — |  (G chord = V, wants to resolve)\nRelease:  | C  |   |   |   |  (C chord = I, home, resolution)\n\\`\\`\\`\n\n---\n\n**5. Silence/Gap (The Ultimate Tension Tool):**\n\n**What It Is:** Brief moments of complete silence (or near-silence) immediately before a big moment.\n\n**How to Create:**\n- Mute all elements for 1/4 to 1 beat before the drop/chorus\n- Often placed at the end of a riser or buildup\n- Duration: Usually 1/8 beat to 1 full beat\n\n**When to Use:**\n- Immediately before massive drops\n- Before final choruses\n- Creating \"wait for it...\" moments\n\n**Tension Level:** Maximum (silence is the most intense tension tool)\n\n**Why It Works:** The absence of sound creates a micro-reset in the listener's brain. When sound returns, it feels exponentially more impactful. Even 1/4 second of silence can make a drop hit 10x harder.\n\n**Pro Tip:** Don't overuse—silence loses impact if used too frequently (save for 2-3 key moments per track).\n\n---\n\n**6. Density Increase (The Layering Approach):**\n\n**What It Is:** Progressively adding more elements and rhythmic activity, increasing perceived energy.\n\n**How to Create:**\n- Start with 1-2 elements (verse)\n- Add 1 element every 4-8 bars (pre-chorus)\n- Reach maximum density at release point (chorus/drop)\n- Combine with faster rhythms (quarter notes → eighths → sixteenths)\n\n**When to Use:**\n- Extended buildups (16-32 bars)\n- Progressive house/trance builds\n- Creating gradual energy increase\n\n**Tension Level:** Medium (subtle but effective over time)\n\n**Example:**\n\\`\\`\\`\nBars 1-8:   Kick only\nBars 9-16:  Kick + Snare\nBars 17-24: Kick + Snare + Hi-hats\nBars 25-32: Kick + Snare + Hi-hats + Percussion + Riser\nBar 33:     DROP (all elements + bass)\n\\`\\`\\`\n\n---\n\n**Combining Techniques for Maximum Tension:**\n\n**Light Tension (Subtle Build):**\n- Drum fill only (2 bars)\n\n**Medium Tension (Standard Build):**\n- Riser (8 bars) + Drum fill (last 2 bars)\n\n**High Tension (Big Build):**\n- Filter sweep (8 bars) + Riser (8 bars) + Drum roll (last 4 bars) + Silence (final beat)\n\n**Maximum Tension (Genre-Defining Drop):**\n- Density increase (16 bars) + Filter sweep (8 bars) + Harmonic tension (4 bars) + Riser (4 bars) + Drum roll + Silence (1 beat) → **RELEASE**\n\nThe more techniques you layer, the more intense the build—but also the more essential the release becomes.\n        `\n      },\n      {\n        title: \"Creating Satisfying Releases—Making the Payoff Count\",\n        content: `\n**What Makes a Good Release:**\n\nA satisfying release must match or exceed the intensity of the tension. If you build for 16 bars with risers, filters, and silence, the release can't be a quiet breakdown—it needs to be an explosive drop.\n\n**The Four Types of Release:**\n\n---\n\n**1. The Drop (Maximum Energy Release):**\n\n**What It Is:** Full-energy section with bass, drums, and lead melody—the most common EDM/pop release.\n\n**How to Create:**\n- All elements enter simultaneously (bass, kick, snare, lead)\n- Maximum frequency spectrum (sub-bass to high-hats)\n- Often the most dense section of the track\n- Rhythmically locked (4-on-the-floor, groove-heavy)\n\n**When to Use:** After major buildups, as chorus payoff, peak energy moments\n\n**Impact Level:** Maximum\n\n**Example:** Any EDM drop—Martin Garrix \"Animals\", Zedd \"Clarity\", deadmau5 \"Strobe\"\n\n---\n\n**2. Harmonic Resolution (Emotional Release):**\n\n**What It Is:** The V chord resolves to the I chord, creating harmonic satisfaction.\n\n**How to Create:**\n\\`\\`\\`\nTension:  | G (V chord) | — | — | — |  (Dominant, unstable)\nRelease:  | C (I chord) | — | — | — |  (Tonic, home, stable)\n\\`\\`\\`\n\nAlso works with:\n- **Sus4 → Major:** Csus4 → C (4th resolves to 3rd)\n- **vii° → I:** Bdim → C (diminished resolves to tonic)\n\n**When to Use:** Final choruses, endings, emotional peaks in ballads\n\n**Impact Level:** High (especially for harmonic listeners)\n\n**Example:** Most classical pieces, gospel music, jazz ballads\n\n---\n\n**3. Rhythmic Resolution (Groove Release):**\n\n**What It Is:** Return to steady, predictable groove after drum fills or rhythmic chaos.\n\n**How to Create:**\n- Build with drum rolls, fills, and rhythmic complexity\n- Drop into solid 4-on-the-floor or consistent groove\n- The stability of the rhythm = release\n\n**When to Use:** After drum-heavy buildups, returning to verse after chorus\n\n**Impact Level:** Medium (subtle but effective for rhythmic tension)\n\n**Example:** Rock songs—drum fill into first beat of chorus, funk grooves locking in after fills\n\n---\n\n**4. The Breakdown (Subtractive Release):**\n\n**What It Is:** Strip away elements to create space and intimacy—opposite of the drop.\n\n**How to Create:**\n- Remove drums, bass, or most elements\n- Often leave vocals + keys or guitar only\n- Low density, low energy\n\n**When to Use:** After intense chorus, mid-song reset, bridge section\n\n**Impact Level:** High (in reverse—release through subtraction, not addition)\n\n**Example:** EDM breakdown after first drop, pop post-chorus intimacy\n\n---\n\n**Timing the Release:**\n\n**The Psychological Sweet Spot:**\n- **Too Soon:** If you release before building adequate tension, the payoff feels underwhelming\n- **Too Late:** If you build tension too long, the listener becomes fatigued and disengaged\n- **Just Right:** Release at the peak of anticipation—when the tension feels almost unbearable but hasn't crossed into frustration\n\n**General Guidelines:**\n- **4-8 bar build → 8-16 bar release** (standard pop/EDM)\n- **16-bar build → 16-32 bar release** (progressive house, trance)\n- **32+ bar build → Extended release** (post-rock, cinematic builds)\n\n**The \"Silence Before the Storm\" Rule:**\nA brief moment of silence (1/4 to 1 beat) immediately before the release makes the drop feel exponentially more impactful. This is why nearly every EDM track uses silence before the drop—it's neurologically effective.\n\n---\n\n**Multiple Release Cycles in One Track:**\n\nPro arrangements don't just have one tension-release cycle—they have 3-5+ cycles of varying intensity:\n\n**Example Song Structure:**\n\n1. **Intro → Verse 1 (Light Cycle):**\n   - Tension: Sparse intro building slightly\n   - Release: Verse 1 with groove\n\n2. **Pre-Chorus → Chorus 1 (Medium Cycle):**\n   - Tension: Pre-chorus with rising energy\n   - Release: Chorus 1 (first big payoff)\n\n3. **Verse 2 → Chorus 2 (Medium-High Cycle):**\n   - Tension: Verse 2 builds more than Verse 1\n   - Release: Chorus 2 (bigger than Chorus 1)\n\n4. **Bridge (Maximum Tension):**\n   - Tension: Extended build, riser, filter sweep, silence\n   - Release: Final Chorus (ultimate payoff)\n\nEach cycle increases in intensity, creating an overall arc.\n\n---\n\n**Common Release Mistakes:**\n\n**❌ Weak Drop After Big Build:**\nBuilding tension for 16 bars with risers, filters, silence... then dropping into a quiet verse. The release doesn't match the tension—listeners feel cheated.\n\n**✓ Fix:** Match or exceed tension intensity. Big build = big drop.\n\n---\n\n**❌ No Release at All:**\nBuilding tension with risers and drum fills, then... continuing to build without payoff. This creates frustration, not engagement.\n\n**✓ Fix:** Always deliver a release. Tension demands resolution.\n\n---\n\n**❌ Releasing Too Early:**\nDropping at 4 bars when the listener expects 8 bars—feels rushed and anticlimactic.\n\n**✓ Fix:** Let the tension build to its natural peak before releasing.\n\n---\n\n**Why This Matters:**\n\nTension and release is THE fundamental principle of emotional arrangement. Every genre, every culture, every musical tradition uses this concept—it's universal because it mirrors human breathing, storytelling, and physiological response.\n\n**Without tension:** Your music feels flat, monotonous, boring\n**Without release:** Your music feels frustrating, exhausting, unresolved\n**With both, balanced:** Your music creates an emotional journey that keeps listeners engaged from start to finish\n\n**What's Next:**\nIn Lesson 13, you'll learn how to use **section density** (sparse to full) to create contrast and impact. This technique pairs perfectly with tension-release cycles—sparse sections build tension, full sections provide release.\n        `\n      }\n    ]\n  }\n};\n\nif (typeof window !== 'undefined') window.LESSON_CONFIG = lessonConfig;\n",
    "number": 12,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "arrangement-11",
      "arrangement-10"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Tension and Release:",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-12",
    "filename": "lesson-bass-12.config.js",
    "title": "Jazz Walking Bass:",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 12 - Jazz Walking Bass: Advanced Techniques\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-12-progress\",\n  lessonNumber: 12,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-13.html\",\n  prevLessonUrl: \"lesson-bass-11.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 12, categoryLabel: \"Bass & Low End\" }),\n    title: \"Jazz Walking Bass:\",\n    titleHighlight: \"Advanced Techniques\",\n    subtitle: \"Build sophisticated walking basslines with <strong>chromatic approaches</strong>, <strong>chord tone targets</strong>, and <strong>rhythmic displacement</strong>. Master the art of melodic bass movement that defines jazz and sophisticated harmony.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    bars: 2,\n    noteRange: { min: 36, max: 60 }, // C2 to C4 (bass range)\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Program an Advanced Walking Bass Line\",\n    description: \"Walking bass moves through chord changes using <strong>chord tones</strong> (roots, thirds, fifths, sevenths) as <strong>target notes</strong>, connected by <strong>chromatic approach tones</strong> (notes a half-step above or below). The bass walks in quarter notes, creating constant forward motion.\",\n    tip: \"Target chord tones on strong beats (1 and 3), use approach tones on weak beats (2 and 4). Walk toward your target from a half-step above or below.\",\n    steps: [\n      '<strong>Bar 1: C Major 7 (C-E-G-B)</strong> — Place C2 (root) on beat 1, E2 (3rd) on beat 2, G2 (5th) on beat 3, B2 (7th) on beat 4.',\n      '<strong>Bar 2: F Major 7 (F-A-C-E)</strong> — Approach F2 with E2 chromatic (step 15), then F2 (beat 1), A2 (beat 2), C3 (beat 3), E3 (beat 4).',\n      '<strong>Chromatic approach</strong> — Notice how E2 at the end of bar 1 walks chromatically up to F2.',\n      'Play and hear the smooth, sophisticated movement through the chord changes.',\n      'Check when ready.'\n    ]\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Walking Bass Principles',\n        content: `Walking bass is the foundation of jazz, creating melodic movement while outlining harmony:\n\n**Core Principles:**\n1. **Quarter note pulse** — Steady, even rhythm (one note per beat)\n2. **Chord tone targets** — Land on roots, thirds, fifths, sevenths on strong beats\n3. **Chromatic approaches** — Half-step lead-ins to target notes\n4. **Smooth voice leading** — Prefer stepwise motion over large leaps\n5. **Rhythmic consistency** — Keep the time rock solid\n\n**Chromatic Approach Techniques:**\n- **From below** — Note a half-step below the target (E → F)\n- **From above** — Note a half-step above the target (G♯ → G)\n- **Double chromatic** — Two approach notes (E♭ → E → F)\n\n**Chord Tone Hierarchy:**\n- **Beats 1 & 3** — Strong beats, use roots and fifths\n- **Beats 2 & 4** — Weak beats, use thirds, sevenths, or approach tones`\n      },\n      {\n        title: 'Advanced Walking Bass Vocabulary',\n        content: `Beyond basic chord tones, jazz bassists use advanced techniques:\n\n**Scale Passages:**\nWalk through chord scales (Dorian, Mixolydian, major)\n\n**Enclosures:**\nSurround target notes from both sides (D♭ → D → D♯ encloses D)\n\n**Rhythmic Displacement:**\nAnticipate chord changes by one eighth note\n\n**Pedal Tones:**\nRepeat the root while harmony moves above\n\n**Contrary Motion:**\nMove opposite direction from melody\n\nThese techniques create interest while maintaining harmonic clarity. Ray Brown, Ron Carter, and Paul Chambers are masters of this vocabulary.`\n      }\n    ]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [\n      // Bar 1: C Major 7\n      { pitch: 48, step: 0, duration: 1, velocity: 95 },    // C2 root\n      { pitch: 52, step: 1, duration: 1, velocity: 90 },    // E2 third\n      { pitch: 55, step: 2, duration: 1, velocity: 90 },    // G2 fifth\n      { pitch: 59, step: 3, duration: 1, velocity: 85 },    // B2 seventh (approach to F)\n\n      // Bar 2: F Major 7\n      { pitch: 53, step: 4, duration: 1, velocity: 100 },   // F2 root\n      { pitch: 57, step: 5, duration: 1, velocity: 90 },    // A2 third\n      { pitch: 60, step: 6, duration: 1, velocity: 85 },    // C3 fifth\n      { pitch: 64, step: 7, duration: 1, velocity: 85 }     // E3 seventh\n    ],\n    highlightScale: [48, 50, 52, 53, 55, 57, 59, 60, 62, 64], // C major scale (jazz range)\n    showChordDetection: true,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Build walking basslines using chord tones as targets\",\n    \"Apply chromatic approach tones to connect chords smoothly\",\n    \"Understand chord tone hierarchy (roots on strong beats)\",\n    \"Create forward motion with quarter note pulse\",\n    \"Recognize jazz walking bass in different contexts\"\n  ],\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Program the walking bass line to complete this lesson.\",\n    success: \"Swingin'! Your walking bass is sophisticated and smooth. Ray Brown would approve!\",\n    error: \"Check your chord tones and chromatic approaches. Target notes should be on beats 1 and 3.\",\n    alreadyCompleted: \"You've mastered jazz walking bass. That's some serious chops!\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 12,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "bass-11",
      "bass-10"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Jazz Walking Bass:",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-12",
    "filename": "lesson-drums-12.config.js",
    "title": "Rock & Live",
    "category": "Drums & Rhythm",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Drums 12 - Rock & Live Drum Simulation\n * \n * This lesson teaches rock drum programming with focus on realism,\n * cymbal work, tom fills, and dynamic expression.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-drums-12-progress\",\n  lessonNumber: 12,\n  lessonCategory: \"Drums & Rhythm\",\n  depthLevel: 6,\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-drums-13.html\",\n  prevLessonUrl: \"lesson-drums-11.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 12, categoryLabel: \"Drums & Rhythm\" }),\n    title: \"Rock & Live\",\n    titleHighlight: \"Drum Simulation\",\n    subtitle: \"Program <strong>realistic rock drums</strong> that sound like a real drummer. Master <strong>cymbal work</strong>, <strong>dynamic tom fills</strong>, and human feel.\"\n  },\n  \n  // ====================\n  // SEQUENCER CONFIG\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true,\n    requiredTempo: 120\n  },\n  \n  // ====================\n  // EXERCISE\n  // ====================\n  exercise: {\n    title: \"Build a Rock Beat with Crash Accent\",\n    description: \"Create a driving rock pattern using kick, snare, hi-hats, and a crash cymbal to mark the downbeat.\",\n    tip: \"Rock drums are about POWER and DYNAMICS. Add a crash on beat 1 to signal the start of the section!\",\n    steps: [\n      { text: \"<strong>Set the tempo to 120 BPM</strong> using the Tempo slider.\" },\n      { text: \"<strong>Kick:</strong> Steps 1, 9, 11 (syncopated rock pattern).\" },\n      { text: \"<strong>Snare:</strong> Steps 5 and 13 (powerful backbeat).\" },\n      { text: \"<strong>Hi-Hat:</strong> 8th notes (1, 3, 5, 7, 9, 11, 13, 15).\" },\n      { text: \"<strong>Crash:</strong> Step 1 to mark the section start.\" }\n    ]\n  },\n  \n  // ====================\n  // INSTRUMENTS\n  // ====================\n  instruments: [\n    {\n      id: \"kick\",\n      label: \"Kick\",\n      color: \"linear-gradient(135deg, #e17055, #d63031)\",\n      targetSteps: [0, 8, 10],\n      instructionText: \"Syncopated rock kick pattern.\",\n      patternHint: { enabled: true, note: \"Kick: 1, 9, 11\" }\n    },\n    {\n      id: \"snare\",\n      label: \"Snare\",\n      color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\",\n      targetSteps: [4, 12],\n      instructionText: \"Powerful backbeat on 2 and 4.\",\n      patternHint: { enabled: true, note: \"Snare: 5, 13 (backbeat)\" }\n    },\n    {\n      id: \"hihat\",\n      label: \"Hi-Hat\",\n      color: \"linear-gradient(135deg, #00cec9, #0984e3)\",\n      targetSteps: [0, 2, 4, 6, 8, 10, 12, 14],\n      instructionText: \"Steady 8th note hi-hats for groove.\",\n      patternHint: { enabled: true, note: \"Hi-Hat: 1, 3, 5, 7, 9, 11, 13, 15\" }\n    },\n    {\n      id: \"crash\",\n      label: \"Crash\",\n      color: \"linear-gradient(135deg, #fdcb6e, #f39c12)\",\n      targetSteps: [0],\n      instructionText: \"Crash on beat 1 to mark the section.\",\n      patternHint: { enabled: true, note: \"Crash: step 1 (section marker)\" }\n    }\n  ],\n  \n  // ====================\n  // EXTENDED KIT\n  // ====================\n  extendedKit: [\n    { id: \"tom-high\", label: \"High Tom\", color: \"#a29bfe\" },\n    { id: \"tom-mid\", label: \"Mid Tom\", color: \"#6c5ce7\" },\n    { id: \"tom-floor\", label: \"Floor Tom\", color: \"#5f27cd\" },\n    { id: \"ride\", label: \"Ride\", color: \"#fdcb6e\" },\n    { id: \"china\", label: \"China\", color: \"#e17055\" }\n  ],\n  \n  // ====================\n  // PATTERN HINT\n  // ====================\n  patternHint: {\n    enabled: true,\n    note: \"Rock Pattern: Kick (1,9,11) + Snare (5,13) + Hi-Hat (8ths) + Crash (1)\"\n  },\n  \n  // ====================\n  // MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"drums\", {\n    initial: \"Build a rock beat with a crash accent on beat 1!\",\n    success: \"🎸 Rock on! That's a solid rock groove with proper crash placement.\",\n    error: \"Don't forget the crash on step 1—it marks the section start!\",\n    alreadyCompleted: \"You've mastered rock drums! Try adding tom fills for extra flair.\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    showVelocityLane: true\n  },\n  \n  // ====================\n  // GENRE INFO\n  // ====================\n  genreInfo: {\n    name: \"Rock\",\n    tempoRange: { min: 100, max: 200 },\n    subgenres: [\n      { name: \"Classic Rock\", tempo: \"100-130 BPM\", character: \"Driving 8ths, big backbeat\" },\n      { name: \"Hard Rock\", tempo: \"110-140 BPM\", character: \"Double kick, china accents\" },\n      { name: \"Pop Rock\", tempo: \"100-120 BPM\", character: \"Clean, controlled grooves\" },\n      { name: \"Punk Rock\", tempo: \"150-200 BPM\", character: \"Fast, aggressive, D-beat\" }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Program realistic rock drum patterns\",\n    \"Use crash cymbals to mark section changes\",\n    \"Create dynamic tom fills around the kit\",\n    \"Apply dynamics for verse/chorus contrast\"\n  ]\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 12,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "drums-11",
      "drums-10"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Rock & Live",
      "Prepararsi alla lezione successiva del modulo Drums & Rhythm"
    ]
  },
  {
    "slug": "harmony-12",
    "filename": "lesson-harmony-12.config.js",
    "title": "Motif Magic:",
    "category": "Melody Writing",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 12 - Motif Magic: Repeat with Variation\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-12-progress\",\n  lessonNumber: 12,\n  lessonCategory: \"Melody Writing\",\n\n  nextLessonUrl: \"lesson-harmony-13.html\",\n  prevLessonUrl: \"lesson-harmony-11.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 12, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Motif Magic:\",\n    titleHighlight: \"Repeat with Variation\",\n    subtitle: \"Write memorable melodies by repeating a short musical phrase (motif) and varying one element each time. This is the foundation of hooks, riffs, and catchy toplines. Learn the technique behind every viral melody from Daft Punk to Drake.\"\n  },\n\n  sequencer: {\n    tempo: 115,\n    key: \"C\",\n    scale: \"Major\",\n    stepCount: 64,\n    bars: 4,\n    pitchRange: {\n      low: 60,\n      high: 84\n    }\n  },\n\n  exercise: {\n    title: \"Create a 4-Bar Melody Using Motif Development\",\n    description: \"Write a short 2-3 note motif, then repeat it 3 times with variations. Each repetition should change <strong>one element</strong>: pitch (higher/lower), rhythm (timing), or contour (direction). This creates memorable, cohesive melodies that stick in listeners' heads.\",\n    tip: \"Great melodies are built on repetition + variation. Create a simple 2-3 note phrase (your motif), then repeat it with small changes. Think 'same but different' - enough repetition for memorability, enough variation for interest. This is how Daft Punk, Avicii, and The Weeknd write hooks.\",\n    steps: [\n      { text: \"Bar 1: Create a short motif (2-3 notes, simple rhythm)\" },\n      { text: \"Bar 2: Repeat the motif but <strong>change the pitch</strong> (transpose up or down)\" },\n      { text: \"Bar 3: Repeat again but <strong>change the rhythm</strong> (same notes, different timing)\" },\n      { text: \"Bar 4: Final variation - combine changes or return to original\" },\n      { text: \"Use chord tones from C-G-Am-F progression as anchor points\" },\n      { text: \"Listen for how repetition creates familiarity while variation adds interest\" }\n    ]\n  },\n\n  validation: {\n    type: \"motif_development\",\n    progression: [\n      { time: 0, chord: \"C\", pitches: [60, 64, 67] },\n      { time: 16, chord: \"G\", pitches: [67, 71, 74] },\n      { time: 32, chord: \"Am\", pitches: [69, 72, 76] },\n      { time: 48, chord: \"F\", pitches: [65, 69, 72] }\n    ],\n    melody: {\n      minNotes: 10,\n      maxNotes: 16,\n      requireMotificRepetition: true,\n      minRepetitions: 2  // Motif should appear at least 2-3 times\n    }\n  },\n\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Create a short motif and repeat it 3 times with variations. Change pitch, rhythm, or contour each time while keeping it recognizable.\",\n    success: \"Brilliant! You've mastered motif development - the secret to memorable melodies. Notice how repetition makes it catchy while variation keeps it interesting!\",\n    error: \"Create a clear 2-3 note pattern in bar 1, then repeat it with variations in bars 2-4. Use chord tones (C-E-G, G-B-D, A-C-E, F-A-C) as anchor points.\"\n  }),\n\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 12,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "harmony-11",
      "harmony-10"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Motif Magic:",
      "Prepararsi alla lezione successiva del modulo Melody Writing"
    ]
  },
  {
    "slug": "mixing-12",
    "filename": "lesson-mixing-12.config.js",
    "title": "Vocal Mixing in Context:",
    "category": "Mixing",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mixing 12 - Vocal Mixing in Context\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-12-progress\",\n  lessonNumber: 12,\n  lessonCategory: \"Mixing\",\n\n  nextLessonUrl: \"lesson-mixing-13.html\",\n  prevLessonUrl: \"lesson-mixing-11.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 12, categoryLabel: \"Mixing\" }),\n    title: \"Vocal Mixing in Context:\",\n    titleHighlight: \"Make Vocals & Leads Sit Confidently\",\n    subtitle: \"Master the complete vocal processing chain and lead instrument techniques to place your most important elements perfectly in a dense mix\"\n  },\n\n  exercise: {\n    title: \"Build a Professional Vocal Chain & Lead Treatment\",\n    description: \"Starting from your Mixing-11_AutomationBasics session, construct a complete vocal processing chain and apply lead instrument techniques that create clarity, presence, and cohesion without fighting the mix.\",\n    tip: \"Process vocals in context, not solo. Every decision you make should be validated against the full mix—what sounds 'perfect' in solo often sounds wrong in context. Toggle the music bus on/off while processing to constantly check how the vocal sits.\",\n    steps: [\n      '<strong>Load and save session</strong> — Open \"Mixing-11_AutomationBasics\" and Save As: \"Mixing-12_VocalMixing\". Confirm your bus architecture from Lesson 10 is intact (Drums/Music/Vocals → Mix Bus).',\n      '<strong>Set up gain staging</strong> — Before any processing, confirm your vocal track hits around <strong>-18 dBFS RMS</strong> (Lesson 2 principle). Use clip gain or a trim plugin if needed. This ensures plugins operate in their sweet spot.',\n      '<strong>Insert high-pass filter</strong> — Add an EQ as the first insert. Set HPF at <strong>80–100 Hz</strong> for male vocals, <strong>100–120 Hz</strong> for female vocals, <strong>120–150 Hz</strong> for stacked rap vocals. Use 12–18 dB/oct slope. This removes rumble without thinning the voice.',\n      '<strong>Apply corrective EQ</strong> — On the same EQ, make surgical cuts: <strong>-2 to -4 dB</strong> narrow Q at <strong>200–300 Hz</strong> (mud/boxiness), <strong>-2 to -3 dB</strong> at <strong>2.5–4 kHz</strong> if harsh, <strong>-1 to -2 dB</strong> at <strong>5–7 kHz</strong> if sibilant. Sweep to find exact problem frequencies.',\n      '<strong>Insert leveling compressor</strong> — Add a compressor after the EQ. Settings: <strong>ratio 3:1–4:1</strong>, <strong>attack 10–30 ms</strong> (let consonants through), <strong>release 80–150 ms</strong> or auto. Target <strong>4–8 dB gain reduction</strong> on loud phrases. This is your \"leveling\" compressor for consistency.',\n      '<strong>Insert peak-catching compressor (optional)</strong> — For dynamic vocals, add a second compressor: <strong>ratio 6:1–10:1</strong>, <strong>attack 0.5–3 ms</strong> (fast), <strong>release 50–100 ms</strong>. Target only <strong>1–3 dB GR</strong> on peaks. This catches transients the leveling compressor missed.',\n      '<strong>Add de-esser</strong> — Insert a de-esser targeting <strong>5–9 kHz</strong> (adjust by ear). Set threshold so it reduces sibilance by <strong>3–6 dB</strong> on \"s\" and \"t\" sounds without lisping. Use split-band mode if available to preserve air.',\n      '<strong>Apply dynamic EQ (alternative approach)</strong> — If de-essing isn\\'t enough, use dynamic EQ: set a band at <strong>6–8 kHz</strong>, threshold so it only activates on harsh moments, <strong>-3 to -5 dB</strong> reduction, <strong>Q around 2–4</strong>. Add another band at <strong>300–500 Hz</strong> for dynamic mud control if needed.',\n      '<strong>Add tone-shaping EQ</strong> — After dynamics, add a second EQ for character: gentle boost <strong>+1 to +2 dB</strong> at <strong>100–150 Hz</strong> (warmth), <strong>+2 to +3 dB</strong> shelf at <strong>10–12 kHz</strong> (air/presence). These are broad, musical moves—not surgical.',\n      '<strong>Insert subtle saturation</strong> — Add tape or tube saturation plugin. Drive it gently until you hear slight warmth (often <strong>10–20%</strong> drive or <strong>1–3 dB</strong> into saturation). Level-match the output to bypass—saturation should add character, not volume.',\n      '<strong>Set up spatial effects</strong> — Create two aux sends: (1) <strong>Short room/plate reverb</strong> (0.8–1.5s decay, pre-delay 20–40 ms) for presence; (2) <strong>Longer hall/plate</strong> (2–3s decay, pre-delay 60–100 ms) for depth. HPF both returns at <strong>200–300 Hz</strong>, LPF at <strong>8–10 kHz</strong>.',\n      '<strong>Add tempo-synced delay</strong> — Create a delay aux: <strong>1/8 note</strong> or <strong>dotted 1/8</strong> (tempo-synced), feedback <strong>20–35%</strong>, HPF at <strong>400–600 Hz</strong>, LPF at <strong>4–6 kHz</strong>. Automate send for throws (Lesson 11). Keep delay subtle—it should support, not echo.',\n      '<strong>Create ducking on returns</strong> — Sidechain your reverb and delay returns to the dry vocal (or use a ducker plugin). Set <strong>-3 to -6 dB</strong> reduction when vocal is present. This keeps effects audible in gaps but clear during phrases.',\n      '<strong>Apply music bus ducking</strong> — On your Music Bus, insert a compressor sidechained to the vocal. Settings: <strong>ratio 1.5:1–2:1</strong>, <strong>attack 10–20 ms</strong>, <strong>release 100–200 ms</strong>, targeting <strong>1–3 dB</strong> reduction. This creates subtle \"pocket\" for the vocal without obvious pumping.',\n      '<strong>Process lead synth/instrument</strong> — On your main melodic lead: cut <strong>-2 to -4 dB</strong> in the <strong>2–5 kHz</strong> range (vocal presence zone), add compression for consistency, consider mid/side EQ to push it slightly wider while keeping center clear for vocal.',\n      '<strong>A/B the vocal chain</strong> — Bypass all vocal processing and level-match. Compare: Is the processed vocal more present without being harsh? Does it sit better in the mix? Does it maintain emotion and dynamics?',\n      '<strong>Mono compatibility check</strong> — Fold to mono (Lesson 9) and verify the vocal remains clear and centered. Check that delay/reverb don\\'t cause phase issues.',\n      '<strong>Export comparison bounces</strong> — Export two 30–60 second sections: (1) pre-vocal-chain (bypass all vocal processing), (2) post-vocal-chain. Re-import, level-match, and critically A/B to confirm improvement.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'The Professional Vocal Processing Chain: Order Matters',\n        content: `The order of vocal processing is not arbitrary—each stage prepares the signal for the next. A well-structured chain allows each processor to work optimally without fighting upstream problems.\n\n**The Standard Professional Order:**\n1. **High-Pass Filter (HPF)** — Removes rumble, plosives, proximity effect before any dynamics processing\n2. **Corrective EQ** — Surgical cuts to remove mud, boxiness, harshness, honk\n3. **Leveling Compressor** — Smooths phrase-to-phrase dynamics (main compression)\n4. **Peak Catcher (optional)** — Fast compressor to catch transients the leveler misses\n5. **De-Esser / Dynamic EQ** — Controls sibilance and frequency-specific harshness\n6. **Tone-Shaping EQ** — Broad musical boosts for character (warmth, presence, air)\n7. **Saturation** — Adds harmonic richness and \"glue\"\n8. **Level Trim** — Final gain adjustment before sends/bus\n\n**Why This Order Works:**\nHPF before compression prevents low-frequency energy from triggering the compressor. Corrective EQ before compression prevents boosted frequencies from causing excessive gain reduction. De-essing after compression catches sibilance that compression might have exaggerated. Tone EQ after dynamics shapes the final character. Saturation last adds cohesive harmonic content to the already-processed signal.\n\n**The Key Principle:** Fix problems first (corrective), then control dynamics (compression/de-essing), then enhance character (tone EQ/saturation).`\n      },\n      {\n        title: 'High-Pass Filter & Corrective EQ: Surgical First, Musical Later',\n        content: `Before adding any \"good\" processing, remove the \"bad.\" This corrective stage is about subtraction—cutting problems so later stages work on clean material.\n\n**High-Pass Filter Settings by Vocal Type:**\n| Vocal Type | HPF Frequency | Slope |\n|------------|---------------|-------|\n| Male (deep) | 70–90 Hz | 12–18 dB/oct |\n| Male (tenor) | 90–110 Hz | 12–18 dB/oct |\n| Female | 100–130 Hz | 12–18 dB/oct |\n| Rap stacks | 120–150 Hz | 18–24 dB/oct |\n| Whisper/breathy | 150–200 Hz | 12 dB/oct |\n\n**Common Corrective EQ Targets:**\n- **150–250 Hz (Mud):** Proximity effect buildup, especially on close-miked vocals. Cut <strong>-2 to -4 dB</strong>, narrow Q (3–5).\n- **300–500 Hz (Boxiness/Honk):** Hollow, \"cardboard box\" quality. Cut <strong>-2 to -4 dB</strong>, moderate Q (2–4).\n- **800 Hz–1.2 kHz (Nasal/Honk):** Telephone-like quality. Cut <strong>-2 to -3 dB</strong>, narrow Q (3–5).\n- **2.5–4 kHz (Harshness):** Aggressive, fatiguing presence. Cut <strong>-1 to -3 dB</strong>, wide Q (1–2).\n- **5–8 kHz (Sibilance):** \"S\" and \"T\" sounds. Address with de-esser, not static EQ (discussed later).\n\n**Technique:** Solo the vocal briefly, sweep a narrow boost to find problem frequencies (they'll sound worse), then cut those frequencies. Return to mix context immediately to verify the cut improved clarity without thinning the vocal.\n\n**Rule:** Corrective EQ is about cuts. Save boosts for tone-shaping EQ later in the chain.`\n      },\n      {\n        title: 'Vocal Compression: Leveling vs Peak Catching',\n        content: `Most professional vocal chains use two-stage compression: a \"leveling\" compressor for overall consistency and a \"peak catcher\" for transient control. Understanding the difference is crucial.\n\n**Leveling Compressor (Main Compression):**\nGoal: Even out phrase-to-phrase dynamics so the vocal sits consistently in the mix.\n\n| Parameter | Setting | Reasoning |\n|-----------|---------|-----------|\n| Ratio | 3:1 – 4:1 | Moderate control without squashing |\n| Attack | 10–30 ms | Lets initial consonants through for intelligibility |\n| Release | 80–150 ms / Auto | Returns naturally between phrases |\n| Threshold | Target 4–8 dB GR | Consistent leveling on loud phrases |\n| Knee | Soft | Smooth, musical onset |\n\n**Peak Catcher (Optional Second Stage):**\nGoal: Catch fast transients (plosives, consonants) that slip past the leveling compressor.\n\n| Parameter | Setting | Reasoning |\n|-----------|---------|-----------|\n| Ratio | 6:1 – 10:1 | Aggressive peak limiting |\n| Attack | 0.5–3 ms | Catches fast transients |\n| Release | 50–100 ms | Quick recovery |\n| Threshold | Target 1–3 dB GR | Only catches peaks, not constant compression |\n| Knee | Hard | Precise peak control |\n\n**When to Use Both:**\n- If your leveling compressor is working hard (8+ dB GR) and still missing peaks, add a peak catcher\n- If the vocal has extreme dynamics (screaming to whispering), two stages help\n- If you're stacking multiple vocal takes, a peak catcher tames the combined transients\n\n**Level-Match Both Stages:** Bypass each compressor individually and match loudness. The goal is control, not volume—if it just sounds louder, you're not evaluating fairly.`\n      },\n      {\n        title: 'De-Essing & Dynamic EQ: Frequency-Specific Control',\n        content: `Static EQ cannot effectively control sibilance because \"S\" sounds are intermittent. Cutting 6–8 kHz with static EQ removes sibilance but also removes presence on non-sibilant words. Dynamic processing solves this: it only reduces frequencies when they exceed a threshold.\n\n**De-Esser Settings:**\n- **Frequency Range:** 5–9 kHz (adjust by sweeping to find the sharpest \"S\" sound)\n- **Threshold:** Set so de-esser reduces 3–6 dB on \"S\" and \"T\" sounds\n- **Mode:** Split-band (preferred) only affects the target frequency; wideband affects the whole signal\n- **Listen For:** Lisping (over-de-essed) vs. piercing (under-de-essed)\n\n**Dynamic EQ as Advanced Alternative:**\nDynamic EQ offers more surgical control than a de-esser. You can set multiple bands with independent thresholds.\n\n**Common Dynamic EQ Bands for Vocals:**\n| Problem | Frequency | Threshold | Reduction | Q |\n|---------|-----------|-----------|-----------|---|\n| Sibilance | 6–8 kHz | -15 to -20 dBFS | -3 to -6 dB | 2–4 |\n| Harshness | 2.5–4 kHz | -12 to -18 dBFS | -2 to -4 dB | 1.5–3 |\n| Boxiness | 300–500 Hz | -10 to -15 dBFS | -2 to -4 dB | 2–3 |\n| Nasal honk | 800 Hz–1.2 kHz | -12 to -18 dBFS | -2 to -3 dB | 3–5 |\n\n**Setting Thresholds Correctly:**\n1. Solo the vocal and find the problem frequency\n2. Set the dynamic EQ band to that frequency\n3. Lower the threshold until the band activates on problem moments\n4. Set reduction amount (start with -3 dB)\n5. Return to mix context and verify improvement\n\n**Pro Tip:** Dynamic EQ is more transparent than multiband compression for vocal control because it only affects the specific frequency band, not the whole signal.`\n      },\n      {\n        title: 'Spatial Effects: Reverb, Delay, and Depth Control',\n        content: `Spatial effects place the vocal in a three-dimensional space. Used correctly, they add depth and polish; used incorrectly, they create mud and distance. The key is control: keep the dry vocal present while adding supportive ambience.\n\n**Two-Reverb Approach (Standard Technique):**\n1. **Short Room/Plate (Presence):** 0.8–1.5s decay, pre-delay 20–40 ms. Adds body and \"realness\" without pushing the vocal back. Send level: -12 to -6 dB.\n2. **Longer Hall/Plate (Depth):** 2–3.5s decay, pre-delay 60–100 ms. Creates depth and emotion. Send level: -18 to -12 dB. Used more on sustained notes, less on fast phrases.\n\n**Filtering Reverb Returns (Critical):**\n- HPF at 200–400 Hz: Prevents low-end mud\n- LPF at 6–10 kHz: Prevents harsh reflections\n- This keeps reverb \"behind\" the vocal in the mix\n\n**Tempo-Synced Delay Settings:**\n| Delay Time | Feel | Best For |\n|------------|------|----------|\n| 1/8 note | Tight, rhythmic | Fast phrases, modern pop |\n| Dotted 1/8 | Bouncy, musical | Pop, rock, singer-songwriter |\n| 1/4 note | Spacious | Ballads, slow tempos |\n| 1/16 note | Thickening | Subtle doubling effect |\n\n**Delay Processing:**\n- Feedback: 20–35% (2–4 repeats)\n- HPF: 400–600 Hz (prevents muddy repeats)\n- LPF: 4–6 kHz (softens repeats, keeps them behind the dry vocal)\n- Consider ping-pong for width on supporting vocals\n\n**Ducking Effects (Professional Technique):**\nSidechain reverb and delay returns to the dry vocal (Lesson 10 routing). When vocal is present, effects duck by 3–6 dB. When vocal stops, effects bloom. This keeps the vocal clear during phrases while allowing lush tails in gaps.\n\n**FX Throws (Lesson 11 Automation):**\nDon't leave delay/reverb sends static. Automate them: increase send sharply on the last word of a phrase, then return to normal. This creates intentional, musical moments rather than constant wash.`\n      },\n      {\n        title: 'Making Vocals \"Sit\": Sidechain Ducking, Automation & Lead Instrument Treatment',\n        content: `The vocal can be perfectly processed in isolation but still fight the mix. \"Sitting\" the vocal requires creating space for it—both spectrally (EQ) and dynamically (ducking/automation).\n\n**Sidechain Ducking on Music Bus:**\nThe most transparent way to create vocal space:\n- Insert compressor on Music Bus (or specific competing elements like synth pads)\n- Sidechain to lead vocal\n- Settings: ratio 1.5:1–2:1, attack 10–20 ms, release 100–200 ms\n- Target: 1–3 dB reduction when vocal is present\n- Result: Mix \"breathes\" around the vocal without obvious pumping\n\n**Automation Rides (Building on Lesson 11):**\n- Automate competing elements down -1 to -2 dB during vocal phrases\n- Automate vocal up +0.5 to +1 dB in dense chorus sections\n- Automate FX sends for intentional depth changes (verse intimate, chorus spacious)\n\n**Lead Synth/Instrument Treatment:**\nThe main melodic instrument often competes directly with vocals. Solutions:\n1. **Carve Vocal Space:** Cut 2–5 kHz on the lead by -2 to -4 dB (surgical, narrow Q)\n2. **Transient Control:** Compress leads to reduce attack that masks vocal consonants\n3. **Stereo Placement:** Use mid/side EQ to push lead sides wider, keeping center clear for vocal\n4. **Frequency Contrast:** If vocal is warm (100–200 Hz boosted), make lead brighter; if vocal is airy, give lead more body\n5. **Delay/Reverb Contrast:** If vocal is dry/present, lead can be wetter; if vocal has lush reverb, keep lead drier\n\n**Practical Test:**\nMute the vocal and listen to the lead. Does it occupy the \"vocal zone\" (1–5 kHz center)? If yes, process the lead to move it spectrally or spatially. Then unmute the vocal—it should slot in naturally without fighting.\n\n**Final Bus vs Track Strategy (Lesson 10 Architecture):**\n- Process individual vocal tracks for surgical control\n- Process Vocal Bus for glue (light compression, subtle saturation, overall EQ polish)\n- This mirrors the Drums/Music/Vocals → Mix Bus architecture you've already built.`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Apply the correct processing order for vocals: HPF → corrective EQ → compression → de-esser/dynamic EQ → tone EQ → saturation → level trim\",\n    \"Set leveling compressor (3:1–4:1, slow attack, 4–8 dB GR) vs peak catcher (6:1+, fast attack, 1–3 dB GR) with appropriate settings for each stage\",\n    \"Use de-essing and dynamic EQ to control sibilance, harshness, and boxiness without static EQ artifacts\",\n    \"Build a two-reverb + delay spatial effects setup with proper filtering and ducking for clarity\",\n    \"Create space for vocals using sidechain ducking, automation rides, and lead instrument frequency/stereo treatment\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mixing lesson to advance your skills.\",\n    success: \"Excellent! You've mastered Vocal Mixing in Context. Your vocals now sit perfectly in the mix!\",\n    error: \"Review the mixing concepts and try again.\",\n    alreadyCompleted: \"You've completed this mixing technique. Keep practicing!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 12,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "mixing-11",
      "mixing-10"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Vocal Mixing in Context:",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-12",
    "filename": "lesson-sound-design-12.config.js",
    "title": "Audio for Video Games:",
    "category": "Sound Design",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Sound Design 12 - Audio for Video Games\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-sound-design-12-progress\",\n  lessonNumber: 12,\n  lessonCategory: \"Sound Design\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-sound-design-13.html\",\n  prevLessonUrl: \"lesson-sound-design-11.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 12, categoryLabel: \"Sound Design\" }),\n    title: \"Audio for Video Games:\",\n    titleHighlight: \"Interactive Non-Linear Audio\",\n    subtitle: \"Create interactive, adaptive audio that responds dynamically to player actions in games. Master professional sound design techniques used in modern music production.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Explore Audio for Video Games\",\n    description: \"Create interactive, adaptive audio that responds dynamically to player actions in games. This lesson covers the essential concepts and practical techniques you need to master this sound design method.\",\n    tip: \"Listen critically to how each parameter affects the sound. Small changes can have dramatic results in sound design.\",\n    steps: [\n      '<strong>Study the theory</strong> — Read through the sound design concepts and understand the signal flow.',\n      '<strong>Analyze the examples</strong> — Listen to reference sounds and identify key characteristics.',\n      '<strong>Experiment with parameters</strong> — Try different settings and hear how they change the sound.',\n      '<strong>Create variations</strong> — Design multiple versions exploring different timbres.',\n      '<strong>Save your presets</strong> — Document successful sounds for future use.',\n      'Complete the lesson when ready to move forward.'\n    ]\n  },\n  \n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Audio for Video Games',\n        content: `Audio for Video Games is a fundamental sound design technique that shapes the sonic character of your productions.\n\n**Key Concepts:**\n- Core synthesis principles and signal flow\n- Parameter relationships and interactions  \n- Frequency spectrum considerations\n- Timbral characteristics and sonic possibilities\n- Common applications in music production\n\n**Professional Applications:**\nModern producers use Audio for Video Games for:\n- Creating signature sounds and textures\n- Designing genre-specific timbres\n- Building unique sonic identities\n- Crafting sounds that cut through mixes\n- Generating movement and evolution in arrangements\n\nUnderstanding these concepts gives you complete control over your sound palette.`\n      },\n      {\n        title: 'Practical Sound Design Workflow',\n        content: `Professional sound designers follow systematic approaches to achieve desired results:\n\n**Design Process:**\n1. **Define the goal** — Know what sound you're trying to create\n2. **Choose the method** — Select appropriate synthesis technique\n3. **Start simple** — Begin with basic waveforms and build complexity\n4. **Shape with filters** — Sculpt the frequency content\n5. **Add movement** — Use envelopes and modulation\n6. **Layer if needed** — Combine multiple sounds for richness\n7. **Process and polish** — Apply effects and finalize\n\n**Critical Listening:**\n- A/B compare with reference sounds\n- Analyze frequency spectrum with analyzers\n- Check mono compatibility\n- Test in context with other mix elements\n\n**Common Mistakes to Avoid:**\n- Over-processing before establishing the core sound\n- Too many modulation sources creating chaos\n- Ignoring the frequency spectrum balance\n- Not considering the sound's role in the arrangement\n\nStudy professional productions and reverse-engineer the sounds you admire.`\n      }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master the fundamental concepts of Audio for Video Games\",\n    \"Understand signal flow and parameter relationships\",\n    \"Apply sound design techniques to practical productions\",\n    \"Develop critical listening skills for timbre and texture\",\n    \"Create professional-quality sounds for your productions\"\n  ],\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this lesson to master Audio for Video Games techniques.\",\n    success: \"Excellent! You've mastered Audio for Video Games. Your sound design skills are growing!\",\n    error: \"Review the theory and try again.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these techniques!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 12,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "sound-design-11",
      "sound-design-10"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Audio for Video Games:",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "vocals-12",
    "filename": "lesson-vocals-12.config.js",
    "title": "Masterclass: Complete Vocal Production:",
    "category": "Vocals",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Vocals 12 - Masterclass: Complete Vocal Production\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-vocals-12-progress\",\n  lessonNumber: 12,\n  lessonCategory: \"Vocals\",\n  \n  nextLessonUrl: \"lesson-mastering-1.html\",\n  prevLessonUrl: \"lesson-vocals-11.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 12, categoryLabel: \"Vocals\" }),\n    title: \"Masterclass: Complete Vocal Production:\",\n    titleHighlight: \"From Recording to Final Mix\",\n    subtitle: \"Final project: record, edit, tune, and mix a complete vocal production from scratch. Master professional vocal production techniques for commercial-quality results.\"\n  },\n  \n  exercise: {\n    title: \"Master Masterclass: Complete Vocal Production\",\n    description: \"Final project: record, edit, tune, and mix a complete vocal production from scratch. This lesson covers the essential vocal production techniques used in professional recordings.\",\n    tip: \"Vocals are usually the focal point of a track. Spend extra time getting them right - they make or break the production.\",\n    steps: [\n      '<strong>Study vocal production theory</strong> — Understand the concepts and workflow.',\n      '<strong>Analyze reference vocals</strong> — Listen to professional vocal productions in your genre.',\n      '<strong>Apply the techniques</strong> — Practice the specific vocal processing methods.',\n      '<strong>Critical listening</strong> — Compare your results to professional standards.',\n      '<strong>Iterate and refine</strong> — Make adjustments based on what you hear.',\n      'Complete when you understand the practical application.'\n    ]\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Understanding Masterclass: Complete Vocal Production',\n        content: `Masterclass: Complete Vocal Production is crucial for achieving professional vocal productions that compete with commercial releases.\n\n**Core Concepts:**\n- Vocal recording and production fundamentals\n- Technical requirements and equipment considerations\n- Signal flow and processing chain order\n- Common issues and how to solve them\n- Genre-specific approaches and standards\n\n**Professional Workflow:**\n1. **Preparation** — Set up properly before recording\n2. **Capture** — Record high-quality source material\n3. **Edit** — Clean up and comp the best takes\n4. **Process** — Apply corrective and creative processing\n5. **Mix** — Blend vocals perfectly with the track\n6. **Finalize** — Ensure vocals translate across systems\n\n**Critical Factors:**\n- **Source quality** — Good recording = easier mixing\n- **Performance** — Technical skill matters more than processing\n- **Context** — Vocals must serve the song\n- **Reference** — Always compare to professional standards\n\nProfessional vocal producers understand that Masterclass: Complete Vocal Production is both technical skill and artistic judgment.`\n      },\n      {\n        title: 'Professional Vocal Production Techniques',\n        content: `Apply Masterclass: Complete Vocal Production in your productions with professional approaches:\n\n**Recording Best Practices:**\n- Proper mic placement and distance\n- Optimal gain staging and headroom\n- Multiple takes for comping\n- Consistent recording environment\n- Reference monitoring and acoustics\n\n**Processing Workflow:**\n1. **Clean up** — Remove unwanted sounds and noise\n2. **Tune** — Correct pitch issues (subtle or creative)\n3. **Time align** — Fix timing and rhythm issues\n4. **EQ** — Remove muddiness, add presence\n5. **Compress** — Control dynamics and consistency\n6. **De-ess** — Tame harsh sibilance\n7. **FX** — Add reverb, delay, modulation\n\n**Common Vocal Issues:**\n- **Muddiness** — High-pass filter at 80-100 Hz\n- **Harshness** — De-ess or cut 6-8 kHz\n- **Lack of presence** — Boost 3-5 kHz subtly\n- **Inconsistent levels** — Compression and automation\n- **Poor timing** — Edit before processing\n- **Pitch issues** — Tune before heavy processing\n\n**Genre Considerations:**\nDifferent genres require different vocal approaches:\n- **Pop** — Polished, present, tuned, compressed\n- **Hip-Hop** — Dry, upfront, minimal reverb\n- **R&B** — Smooth, warm, layered harmonies\n- **Rock** — Raw energy, less processing\n- **Electronic** — Creative effects, vocoders, pitch shifts\n\nStudy vocal productions in your genre and understand what makes them work.`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Master professional vocal production techniques\",\n    \"Understand the complete vocal workflow from recording to mixing\",\n    \"Apply genre-specific vocal processing approaches\",\n    \"Develop critical listening skills for vocal production\",\n    \"Create commercial-quality vocal recordings\"\n  ],\n  \n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this vocal production lesson to advance.\",\n    success: \"Excellent! You've mastered Masterclass: Complete Vocal Production. Your vocal productions are pro-level!\",\n    error: \"Review the vocal production concepts and try again.\",\n    alreadyCompleted: \"You've completed this vocal technique. Keep refining your skills!\"\n  }),\n  \n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 12,
    "access": "paid",
    "difficulty": "intermediate",
    "prerequisites": [
      "vocals-11",
      "vocals-10"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Masterclass: Complete Vocal Production:",
      "Prepararsi alla lezione successiva del modulo Vocals"
    ]
  },
  {
    "slug": "arrangement-13",
    "filename": "lesson-arrangement-13.config.js",
    "title": "Section Density:",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 13 - Section Density & Contrast\n *\n * This lesson teaches how to vary density between sections.\n * Master sparse verses, full choruses, and strategic emptiness.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-arrangement-13-progress\",\n  lessonNumber: 13,\n  lessonCategory: \"Arrangement\",\n  depthLevel: 4,\n\n  nextLessonUrl: \"lesson-arrangement-14.html\",\n  prevLessonUrl: \"lesson-arrangement-12.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 13, categoryLabel: \"Arrangement\" }),\n    title: \"Section Density:\",\n    titleHighlight: \"Sparse to Full\",\n    subtitle: \"Master <strong>density contrast</strong> between sections. Learn why <strong>verses should be sparse</strong>, <strong>choruses should be full</strong>, and <strong>emptiness creates impact</strong>.\"\n  },\n\n  exercise: {\n    title: \"Create Density Variation Across Sections\",\n    description: \"Build an arrangement where sections have clearly different <strong>densities</strong>. Density = number of active instruments + rhythmic activity. Sparse sections make full sections hit harder.\",\n    tip: \"Verse density: 2-3 elements. Pre-chorus: 3-4 elements. Chorus: 4-5 elements. Bridge/breakdown: 1-2 elements. The contrast IS the impact.\",\n    steps: [\n      { text: \"<strong>Intro: Low density</strong> - Start with 1-2 elements (30-40% full)\" },\n      { text: \"<strong>Verse: Low-medium density</strong> - 2-3 elements (40-50% full)\" },\n      { text: \"<strong>Pre-chorus: Medium density</strong> - 3-4 elements (60-70% full)\" },\n      { text: \"<strong>Chorus: High density</strong> - 4-5 elements (90-100% full)\" },\n      { text: \"<strong>Breakdown: Minimal density</strong> - 1-2 elements (20-30% full)\" },\n      { text: \"<strong>Final chorus: Maximum density</strong> - All elements + extra layer (100%)\" }\n    ]\n  },\n\n  densityLevels: [\n    {\n      level: \"Minimal\",\n      elementCount: \"1-2\",\n      percentage: \"20-30%\",\n      sections: [\"Intro\", \"Outro\", \"Breakdown\", \"Bridge\"],\n      purpose: \"Create space, intimacy, or contrast\",\n      examples: [\"Just vocals + guitar\", \"Only drums + bass\"]\n    },\n    {\n      level: \"Sparse\",\n      elementCount: \"2-3\",\n      percentage: \"40-50%\",\n      sections: [\"Verse\", \"Post-chorus\"],\n      purpose: \"Leave room for vocals, create anticipation\",\n      examples: [\"Drums + bass + pad\", \"Rhythm guitar + vocals + light drums\"]\n    },\n    {\n      level: \"Medium\",\n      elementCount: \"3-4\",\n      percentage: \"60-70%\",\n      sections: [\"Pre-chorus\", \"Build-up\"],\n      purpose: \"Build energy, transition to fuller sections\",\n      examples: [\"Drums + bass + pad + rhythm\", \"Full rhythm section + keys\"]\n    },\n    {\n      level: \"Full\",\n      elementCount: \"4-5\",\n      percentage: \"80-100%\",\n      sections: [\"Chorus\", \"Drop\"],\n      purpose: \"Maximum impact, energy peak, memorable hook\",\n      examples: [\"All 5 elements present\", \"Full band + strings + backing vocals\"]\n    }\n  ],\n\n  contrastStrategies: [\n    { strategy: \"Element Addition\", description: \"Add 1-2 new instruments per section increase\" },\n    { strategy: \"Rhythmic Density\", description: \"Increase note frequency (quarter → eighths → sixteenths)\" },\n    { strategy: \"Frequency Fill\", description: \"Add elements in previously empty frequency ranges\" },\n    { strategy: \"Stereo Width\", description: \"Narrow in verse, wide in chorus\" }\n  ],\n\n  messages: applyMessagePreset(\"arrangement\", {\n    initial: \"Create clear density contrast between sections!\",\n    success: \"🎚️ Perfect density control! Your sparse sections make the full sections explode with impact.\",\n    error: \"Check section densities—you need bigger contrast between verses and choruses.\",\n    alreadyCompleted: \"You've mastered density! Try creating even more dramatic contrasts.\"\n  }),\n\n  mode: {\n    type: \"structure-builder\",\n    sandbox: false,\n    showTimeline: true,\n    showDensityMeter: true,\n    showElementCount: true\n  },\n\n  learningObjectives: [\n    \"Understand density as the number of active elements\",\n    \"Apply appropriate density levels to different sections\",\n    \"Create impact through density contrast\",\n    \"Use sparse arrangements effectively for intimacy\",\n    \"Build from minimal to maximum density across a track\"\n  ],\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"Why Density Contrast Creates Impact\",\n        content: `\n**The Fundamental Problem with Constant Density:**\nMany amateur tracks sound flat and exhausting because every section has the same density—all elements playing all the time at maximum level. This creates listener fatigue and destroys impact. Professional arrangements use **density contrast** to create dynamics, emotion, and memorable moments.\n\n**What Is Density?**\nDensity = **Number of active elements** + **Rhythmic activity**\n\n**High Density:**\n- 5 elements playing simultaneously (drums, bass, pad, lead, vocals)\n- High rhythmic activity (16th note hi-hats, busy bassline)\n- Full frequency spectrum occupied\n- **Result:** Sounds \"full,\" powerful, energetic\n\n**Low Density:**\n- 1-2 elements only (just vocals + guitar, or drums + bass)\n- Low rhythmic activity (quarter note kick, simple pattern)\n- Sparse frequency spectrum (lots of empty space)\n- **Result:** Sounds intimate, focused, spacious\n\n**The Contrast Principle:**\nThe impact of a full chorus comes from the contrast with a sparse verse. If the verse is already at maximum density, the chorus has nowhere to go—no room to create impact.\n\n**The Math of Contrast:**\n- Verse at 50% density → Chorus at 100% density = **50% increase** = HIGH IMPACT\n- Verse at 90% density → Chorus at 100% density = **10% increase** = LOW IMPACT\n\n**It's not about how full the chorus is—it's about how much fuller it is than the verse.**\n\n---\n\n**Real-World Examples:**\n\n**\"Someone Like You\" by Adele:**\n- **Verse:** Vocals + piano only (20-30% density)\n- **Chorus 1:** Same—vocals + piano (30% density)\n- **Chorus 2:** + DRUMS (sudden jump to 70% density)\n- *Impact:* The drum entrance in Chorus 2 is one of the most powerful moments in modern pop because of the extreme density contrast\n\n**\"Levels\" by Avicii:**\n- **Intro:** Single piano melody (10% density)\n- **Verse:** Piano + kick + claps (30% density)\n- **Build:** + Strings + riser (60% density)\n- **Drop:** Full bass, drums, melody, vocals (100% density)\n- *Impact:* The progressive density increase makes the drop feel massive\n\n**\"Smells Like Teen Spirit\" by Nirvana:**\n- **Verse:** Quiet, clean guitar + light drums (40% density)\n- **Chorus:** Distorted guitar + full drums + bass + screaming vocals (100% density)\n- *Impact:* The quiet-loud contrast defined grunge and made the chorus explosive\n\n**\"Scary Monsters and Nice Sprites\" by Skrillex:**\n- **Buildup:** Vocal loop only (20% density)\n- **Drop:** Wobble bass + drums + mid-range stabs (100% density, immediate switch)\n- *Impact:* The sudden density switch created the dubstep formula\n\n---\n\n**The Four Density Levels:**\n\n**1. Minimal (20-30% density):**\n- **Elements:** 1-2 only\n- **Example:** Solo piano, vocals + acoustic guitar, just drums + bass\n- **Sections:** Intro, outro, breakdown, intimate bridge\n- **Purpose:** Create space, intimacy, contrast, spotlight vocals\n- **Emotional Impact:** Vulnerable, focused, personal\n\n**2. Sparse (40-50% density):**\n- **Elements:** 2-3\n- **Example:** Drums + bass + pad, rhythm section + vocals\n- **Sections:** Verse, post-chorus\n- **Purpose:** Leave room for vocals to shine, create anticipation\n- **Emotional Impact:** Controlled, groove-focused, building\n\n**3. Medium (60-70% density):**\n- **Elements:** 3-4\n- **Example:** Drums + bass + pad + rhythm guitar, full rhythm section + keys\n- **Sections:** Pre-chorus, build-up\n- **Purpose:** Transition energy, build toward full section\n- **Emotional Impact:** Rising, transitional, momentum\n\n**4. Full (80-100% density):**\n- **Elements:** 4-5+ (maximum for your arrangement)\n- **Example:** All elements present—drums, bass, pad, rhythm, lead, vocals, strings\n- **Sections:** Chorus, drop, climax\n- **Purpose:** Maximum impact, energy peak, memorable hook\n- **Emotional Impact:** Powerful, climactic, euphoric, overwhelming (in a good way)\n\n---\n\n**The Strategic Density Map (Example Pop Song):**\n\n\\`\\`\\`\nSECTION          DENSITY    ELEMENTS\nIntro            30%        Piano melody only\nVerse 1          40%        Piano + light drums + vocals\nPre-Chorus       60%        + Bass + pad (building)\nChorus 1         90%        + Lead synth + backing vocals (BIG)\nPost-Chorus      50%        Remove vocals, keep instrumental (breath)\nVerse 2          50%        Same as V1 but + pad (slightly fuller)\nPre-Chorus 2     70%        Slightly more intense than PC1\nChorus 2         100%       ALL elements (bigger than C1)\nBridge           20%        Vocals + guitar ONLY (breakdown)\nFinal Chorus     100%       Full arrangement + extra layers\nOutro            30%        Strip back to piano + vocals, fade\n\\`\\`\\`\n\n**Notice:** Each section has a clear density target. The track builds from minimal → maximum → minimal again, creating an arc.\n\n---\n\n**Why Sparse Sections Are Powerful:**\n\nAmateur producers think \"more is always better\" and fill every moment with sound. But:\n- **Sparse = Focus:** Fewer elements means each one gets full attention\n- **Sparse = Intimacy:** Low density feels personal and emotional\n- **Sparse = Contrast:** You can't appreciate fullness without experiencing emptiness\n\n**The \"Less Is More\" Principle:**\nSometimes removing an element creates more impact than adding one. A post-chorus that removes drums feels like a release, a breath. A bridge with just vocals and piano after two full choruses feels refreshing.\n\n**The Adele Effect:**\n\"Someone Like You\" is just vocals and piano for most of the song (20-30% density). When the drums enter in Chorus 2, it feels like the floodgates opened—not because the drums are loud, but because the contrast is extreme.\n        `\n      },\n      {\n        title: \"Density Control Techniques\",\n        content: `\n**How to Increase Density (Building Energy):**\n\n**1. Element Addition (Most Common):**\nAdd one new instrument or layer each section increase.\n\n**Example:**\n- **Intro:** Pad only\n- **Verse 1:** Pad + drums\n- **Pre-Chorus:** Pad + drums + bass\n- **Chorus:** Pad + drums + bass + lead + vocals\n\n**Why It Works:** Progressive layering feels natural and creates momentum.\n\n---\n\n**2. Rhythmic Density Increase:**\nKeep the same instruments, but increase rhythmic activity.\n\n**Example (Same Elements, Different Rhythms):**\n- **Verse:** Quarter note kick only\n- **Pre-Chorus:** Kick + eighth note hi-hats\n- **Chorus:** Kick + sixteenth note hi-hats + snare on 2 & 4\n\n**Why It Works:** Faster rhythms = more perceived \"fullness\" even with same element count.\n\n---\n\n**3. Frequency Fill (Vertical Stacking):**\nAdd elements in previously empty frequency ranges.\n\n**Example:**\n- **Verse:** Bass (low) + vocals (mid)—highs are EMPTY\n- **Chorus:** Bass (low) + vocals (mid) + hi-hats/strings (high)—FULL SPECTRUM\n\n**Why It Works:** Filling the frequency spectrum makes the section sound \"complete.\"\n\n---\n\n**4. Stereo Width Increase:**\nMake sparse sections narrow (mono/center), full sections wide (stereo).\n\n**Example:**\n- **Verse:** All elements panned center or narrow (mono feel)\n- **Chorus:** Elements spread across stereo field (wide feel)\n\n**Why It Works:** Wide stereo feels \"bigger\" even if element count is the same.\n\n---\n\n**How to Decrease Density (Creating Space/Contrast):**\n\n**1. Subtractive Arrangement:**\nRemove key elements to create sudden contrast.\n\n**Example:**\n- **Chorus:** Full band (5 elements, 100% density)\n- **Post-Chorus:** Remove drums + vocals, keep instrumental (2-3 elements, 40% density)\n\n**Why It Works:** Sudden removal shocks the listener, creates breath, resets energy for next section.\n\n**Real Example:** Many EDM tracks drop into a \"breakdown\" after the first drop, removing bass and drums entirely.\n\n---\n\n**2. Rhythmic Simplification:**\nKeep the same elements, reduce rhythmic activity.\n\n**Example:**\n- **Chorus:** Sixteenth note hi-hats, busy drums\n- **Verse 2:** Quarter note kick only, remove all rhythmic complexity\n\n**Why It Works:** Slower = sparser feel, even with same elements present.\n\n---\n\n**3. Frequency Removal:**\nRemove elements in specific frequency ranges.\n\n**Example:**\n- **Chorus:** Full spectrum (sub-bass, mid, highs)\n- **Bridge:** Remove sub-bass and highs, keep mids only\n\n**Why It Works:** Narrowing the frequency spectrum makes the section feel \"smaller\" and more intimate.\n\n---\n\n**4. Dynamic Reduction (Volume-Based):**\nKeep all elements playing, but reduce volume significantly.\n\n**Example:**\n- **Chorus:** All elements at -3dB to 0dB (loud, present)\n- **Breakdown:** All elements at -12dB to -18dB (quiet, distant)\n\n**Why It Works:** Volume reduction = perceived sparseness even if nothing is actually muted.\n\n---\n\n**Density Contrast Strategies by Genre:**\n\n**Pop:**\n- Verse: 40-50% (sparse, vocals shine)\n- Pre-Chorus: 60-70% (building)\n- Chorus: 90-100% (full, catchy)\n- Bridge: 20-30% (breakdown, intimacy)\n\n**EDM/House:**\n- Intro: 20-30% (single element)\n- Build: 40-70% (progressive layering)\n- Drop: 100% (maximum density)\n- Breakdown: 30-40% (reset)\n\n**Rock:**\n- Verse: 50% (verse riff + light drums)\n- Chorus: 100% (distortion + full drums)\n- Bridge: 30% (clean guitar breakdown)\n\n**Hip-Hop:**\n- Verse 1: 30-40% (drums + bass, minimal)\n- Verse 2: 50-60% (+ strings/keys)\n- Chorus: 70-80% (full beat + vocals + backing)\n\n**R&B:**\n- Verse: 30-40% (intimate, space for vocals)\n- Chorus: 60-70% (full but not overwhelming)\n- Bridge: 20% (vocals + piano only)\n\n---\n\n**Common Density Mistakes:**\n\n**❌ Every Section at Maximum Density:**\nIf the verse, pre-chorus, chorus, and bridge all have 5 elements playing constantly, there's no contrast—the track feels exhausting and flat.\n\n**✓ Fix:** Force yourself to remove 1-2 elements from verses. Reserve full density for choruses only.\n\n---\n\n**❌ No Sparse Moments:**\nGoing from 80% density to 100% density isn't enough contrast. You need at least one moment of 20-30% density for real impact.\n\n**✓ Fix:** Add a breakdown, bridge, or post-chorus with only 1-2 elements.\n\n---\n\n**❌ Random Density Changes:**\nJumping from 30% to 100% to 40% to 90% randomly without purpose—creates confusion, not dynamics.\n\n**✓ Fix:** Plan density progression: Intro (low) → Build (medium) → Chorus (high) → Breakdown (low) → Build (medium) → Final Chorus (maximum).\n\n---\n\n**❌ Sparse Chorus:**\nMaking the chorus the quietest, most minimal section. Choruses should (usually) be the fullest section—it's the payoff.\n\n**✓ Fix:** Chorus should be 80-100% density. If you want an intimate chorus, that's fine, but make verses even sparser for contrast.\n        `\n      },\n      {\n        title: \"Section-by-Section Density Strategy\",\n        content: `\n**Intro: 20-40% Density (Minimal/Sparse)**\n\n**Purpose:** Establish mood without overwhelming, invite listener into the track\n\n**Element Count:** 1-2 elements\n\n**Examples:**\n- Solo piano/guitar melody\n- Ambient pad + single drum hit\n- Bassline only\n- Vocal sample + atmospheric texture\n\n**Why Sparse:** You want headroom to build. Starting at maximum leaves nowhere to go.\n\n---\n\n**Verse: 40-50% Density (Sparse/Light)**\n\n**Purpose:** Spotlight the vocals/lyrics, create foundation, leave room for chorus contrast\n\n**Element Count:** 2-3 elements\n\n**Examples:**\n- Drums + bass + vocals\n- Piano + light drums + vocals\n- Guitar + minimal percussion + vocals\n\n**Why Sparse:** The verse is storytelling—too much density distracts from lyrics. The sparseness makes the chorus feel full by contrast.\n\n**Key Rule:** Verses should be the **second-most-sparse section** after intros/breakdowns.\n\n---\n\n**Pre-Chorus: 60-70% Density (Medium)**\n\n**Purpose:** Build energy from verse toward chorus, create anticipation\n\n**Element Count:** 3-4 elements\n\n**Examples:**\n- Verse elements + pad/strings\n- Verse elements + riser/buildup sound\n- Verse elements + increased rhythmic activity\n\n**Why Medium:** You're transitioning from sparse (verse) to full (chorus). The pre-chorus is the bridge between them.\n\n**Key Rule:** Pre-chorus density should be **between verse and chorus**—not as sparse as verse, not as full as chorus.\n\n---\n\n**Chorus: 80-100% Density (Full/Maximum)**\n\n**Purpose:** Deliver maximum impact, create memorability, payoff for verse/pre-chorus buildup\n\n**Element Count:** 4-5+ elements (all available elements)\n\n**Examples:**\n- Drums (full kit) + bass + pad + lead + vocals + backing vocals\n- Full band (guitar, bass, drums, keys, vocals, strings)\n- EDM drop (kick, bass, lead, vocals, FX, percussion)\n\n**Why Full:** The chorus is the climax, the hook, the moment listeners remember. Holding back here wastes the buildup.\n\n**Key Rule:** The chorus should be the **fullest section** of your track. Everything builds toward this.\n\n---\n\n**Post-Chorus: 30-50% Density (Subtractive Breath)**\n\n**Purpose:** Give listeners a \"breath\" after intense chorus, transition back to verse\n\n**Element Count:** 2-3 elements (often instrumental—remove vocals)\n\n**Examples:**\n- Instrumental version of chorus (no vocals)\n- Just bass + drums (remove melodic elements)\n- Pad + light percussion only\n\n**Why Sparse:** After maximum density, removing elements creates relief and makes the next section feel fresh.\n\n**Key Rule:** Post-choruses are **optional** but highly effective for EDM, pop, and dance genres.\n\n---\n\n**Bridge: 20-40% Density (Minimal/Breakdown)**\n\n**Purpose:** Create dramatic contrast, reset listener attention, make final chorus feel massive\n\n**Element Count:** 1-2 elements\n\n**Examples:**\n- Vocals + piano only\n- Acoustic guitar + vocals\n- Just pad + distant vocal sample\n\n**Why Minimal:** The bridge is your reset button. After 2-3 full choruses, listeners need emptiness to appreciate the final chorus climax.\n\n**Key Rule:** The bridge should be the **sparsest section** besides the intro—often sparser than verses even.\n\n---\n\n**Final Chorus: 100%+ Density (Maximum + Extra)**\n\n**Purpose:** Deliver ultimate climax, exceed all previous choruses, create memorable ending\n\n**Element Count:** All elements + extra layers/variations\n\n**Examples:**\n- All chorus elements + strings/orchestra\n- All chorus elements + key modulation\n- All chorus elements + extended length (extra 4-8 bars)\n\n**Why Maximum+:** This is the last impression. It must be bigger, fuller, and more intense than any previous section.\n\n**Key Rule:** The final chorus should be **fuller than all previous choruses**. Add at least one new element or variation.\n\n---\n\n**Outro: 20-40% Density (Minimal/Fade)**\n\n**Purpose:** Wind down energy, create resolution, graceful ending\n\n**Element Count:** 1-2 elements\n\n**Examples:**\n- Return to intro elements (solo piano, single melody)\n- Fade out of drums/bass, leave vocals + keys only\n- Just ambient pad + vocal hums\n\n**Why Sparse:** Ending at maximum density feels abrupt. Gradual density reduction = smooth, satisfying conclusion.\n\n**Key Rule:** Outros should **mirror intro sparseness**—bookending the track with similar density.\n\n---\n\n**The Density Arc (Visual Representation):**\n\n\\`\\`\\`\nDENSITY\n100% |                     ╱‾‾╲         ╱‾‾‾‾╲\n 90% |                   ╱    ╲       ╱      ╲\n 80% |                  ╱      ╲     ╱        ╲\n 70% |               ╱‾╲        ╲   ╱          ╲\n 60% |             ╱    ╲        ╲ ╱            ╲\n 50% |          ╱‾╲      ╲        ╲              ╲\n 40% |        ╱    ╲      ╲        ╲              ╲\n 30% |    ╱‾╲        ╲      ╲        ╲              ╲╲\n 20% | ╱‾    ╲        ╲      ╲                       ‾╲\n 10% |╱                ╲                                ╲\n  0% |---------------------------------------------------\n      Intro V1 PC  C1 V2 PC  C2 Bridge Final-C Outro\n\\`\\`\\`\n\n**Notice:**\n- Starts low (intro)\n- Builds to first peak (chorus 1)\n- Dips slightly (verse 2)\n- Builds to second peak (chorus 2)\n- Drops dramatically (bridge)\n- Climaxes at highest point (final chorus)\n- Winds down (outro)\n\nThis is the arc of a well-arranged track.\n\n---\n\n**Why This Matters:**\n\nDensity is one of the most powerful arrangement tools, yet it's often overlooked. You don't need more elements or better sounds—you need **strategic density contrast**. The difference between amateur \"loop\" tracks and professional arrangements is intentional density variation across sections.\n\n**Key Takeaway:** It's not about how full your chorus is—it's about how much fuller it is than your verse.\n\n**What's Next:**\nIn Lesson 14, you'll learn **frequency-based arrangement**—thinking vertically (low, mid, high frequency content) instead of just horizontally (elements over time). This pairs perfectly with density control to create maximum clarity and impact.\n        `\n      }\n    ]\n  }\n};\n\nif (typeof window !== 'undefined') window.LESSON_CONFIG = lessonConfig;\n",
    "number": 13,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "arrangement-12",
      "arrangement-11"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Section Density:",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-13",
    "filename": "lesson-bass-13.config.js",
    "title": "Blues Bass:",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 13 - Blues Bass: Turnarounds & Patterns\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-13-progress\",\n  lessonNumber: 13,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-14.html\",\n  prevLessonUrl: \"lesson-bass-12.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 13, categoryLabel: \"Bass & Low End\" }),\n    title: \"Blues Bass:\",\n    titleHighlight: \"Turnarounds & Patterns\",\n    subtitle: \"Learn the <strong>12-bar blues</strong> bass foundation with <strong>turnarounds</strong>, <strong>walking patterns</strong>, and <strong>classic blues vocabulary</strong>. Master the bass patterns that power rock, blues, and R&B.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 90,\n    stepCount: 16,\n    bars: 2,\n    noteRange: { min: 36, max: 60 }, // C2 to C4 (bass range)\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Program a Blues Bass Pattern with Turnaround\",\n    description: \"Blues bass uses <strong>root-fifth patterns</strong> and <strong>chromatic walks</strong> to navigate the 12-bar structure. The <strong>turnaround</strong> (bars 11-12) creates tension that resolves back to the I chord, making the loop feel complete and compelling you to start again.\",\n    tip: \"Blues bass is about feel and timing. Play slightly behind the beat for that laid-back blues groove. The fifth adds movement without overcomplicating.\",\n    steps: [\n      '<strong>Bar 1 (I chord - E)</strong> — E2 (root) on beat 1, B2 (fifth) on beat 3. This is your home base.',\n      '<strong>Bar 2 (I chord continued)</strong> — Repeat: E2 on beat 1, B2 on beat 3. Establish the groove.',\n      '<strong>Turnaround walk</strong> — Add chromatic approach: D♯2 on beat 4 (step 7) walking up to E2.',\n      '<strong>Blues shuffle feel</strong> — In real blues, these are swung eighth notes, not straight.',\n      'Play and feel the classic blues foundation. The turnaround creates that \"pull\" back to the beginning.',\n      'Check when ready.'\n    ]\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: '12-Bar Blues Structure',\n        content: `The 12-bar blues is one of the most important harmonic structures in music:\n\n**Standard 12-Bar Blues in E:**\n- Bars 1-4: **I chord** (E7)\n- Bars 5-6: **IV chord** (A7)\n- Bars 7-8: **I chord** (E7)\n- Bar 9: **V chord** (B7)\n- Bar 10: **IV chord** (A7)\n- Bar 11: **I chord** (E7)\n- Bar 12: **V chord** (B7) — **Turnaround**\n\n**Bass Movement Patterns:**\n- **Root-Fifth** — Strongest, most common (E → B)\n- **Root-Sixth** — Minor blues feel (E → C♯)\n- **Walking** — Stepwise through chord tones\n- **Chromatic approach** — Half-step leading to next chord\n\nThe **turnaround** in bars 11-12 uses the V chord (B7) to create tension that pulls you back to the I chord (E7) when the form repeats.`\n      },\n      {\n        title: 'Blues Bass Techniques',\n        content: `Blues bass has evolved across genres but maintains core characteristics:\n\n**Shuffle Feel:**\nSwing the eighth notes (long-short-long-short)\nThis is the signature blues rhythm\n\n**Ghost Notes:**\nAdd percussive muted notes between main notes\nCreates groove and movement\n\n**Slap Technique:**\nIn rockabilly and upright blues\nPercussive thumb slap on beats 2 and 4\n\n**Chromatic Walks:**\nConnect chords with half-step approaches\nE → E♭ → D (descending walk)\nC♯ → D → D♯ → E (ascending walk)\n\n**Dynamic Expression:**\nStart soft, build tension, release\nFollow the vocal dynamics\n\nBlues bassists like Willie Dixon, Duck Dunn, and Donald \"Duck\" Dunn are masters of this vocabulary. Their bass lines are simple but perfectly serve the song.`\n      }\n    ]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [\n      // Bar 1: E7 (I chord)\n      { pitch: 40, step: 0, duration: 2, velocity: 100 },   // E2 root\n      { pitch: 47, step: 2, duration: 2, velocity: 90 },    // B2 fifth\n\n      // Bar 2: E7 (I chord) with turnaround approach\n      { pitch: 40, step: 4, duration: 2, velocity: 100 },   // E2 root\n      { pitch: 47, step: 6, duration: 1, velocity: 85 },    // B2 fifth\n      { pitch: 46, step: 7, duration: 1, velocity: 75 }     // A♯2 chromatic approach\n    ],\n    highlightScale: [40, 42, 43, 45, 46, 47, 48, 50], // E blues scale (E, G, A, A♯, B, D)\n    showChordDetection: false,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Understand the 12-bar blues structure and chord progression\",\n    \"Program root-fifth bass patterns that define blues\",\n    \"Use chromatic approaches for turnarounds\",\n    \"Apply shuffle feel and blues timing\",\n    \"Recognize blues bass patterns in rock, R&B, and blues music\"\n  ],\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Program the blues bass pattern to complete this lesson.\",\n    success: \"Bluesy! You've got that classic foundation. Willie Dixon would be proud!\",\n    error: \"Not quite there. Check your root-fifth pattern and chromatic turnaround.\",\n    alreadyCompleted: \"You've mastered blues bass. That's the backbone of rock and roll!\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 13,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "bass-12",
      "bass-11"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Blues Bass:",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-13",
    "filename": "lesson-drums-13.config.js",
    "title": "Humanization &",
    "category": "Drums & Rhythm",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Drums 13 - Humanization & Groove Templates\n * \n * This lesson teaches humanization techniques including micro-timing,\n * velocity curves, swing, and groove template extraction.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-drums-13-progress\",\n  lessonNumber: 13,\n  lessonCategory: \"Drums & Rhythm\",\n  depthLevel: 7,\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-drums-14.html\",\n  prevLessonUrl: \"lesson-drums-12.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 13, categoryLabel: \"Drums & Rhythm\" }),\n    title: \"Humanization &\",\n    titleHighlight: \"Groove Templates\",\n    subtitle: \"Make programmed drums <strong>feel human</strong>. Master <strong>micro-timing shifts</strong>, <strong>velocity curves</strong>, and <strong>groove template extraction</strong>.\"\n  },\n  \n  // ====================\n  // SEQUENCER CONFIG\n  // ====================\n  sequencer: {\n    tempo: 90,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true,\n    enableHumanization: true,\n    showSwingControl: true,\n    requiredTempo: 90, // Students must set tempo to 90 BPM for hip-hop feel\n    requiredSwing: 54 // Students must add 54% swing for MPC-style groove (Step 5)\n  },\n  \n  // ====================\n  // EXERCISE\n  // ====================\n  exercise: {\n    title: \"Humanize a Beat\",\n    description: \"Apply humanization techniques to transform a robotic pattern into a living, breathing groove.\",\n    tip: \"Start subtle—8-15ms timing variation and 15-25% velocity randomization. You can always add more.\",\n    steps: [\n      { text: \"<strong>Step 1:</strong> Set the tempo to 90 BPM for a classic hip-hop feel.\" },\n      { text: \"<strong>Step 2:</strong> Program the basic kick-snare-hihat pattern.\" },\n      { text: \"<strong>Step 3:</strong> Apply 15ms timing randomization to hi-hats only.\" },\n      { text: \"<strong>Step 4:</strong> Create velocity curve: louder downbeats, softer off-beats.\" },\n      { text: \"<strong>Step 5:</strong> Add 54% <a href=\\\"glossary.html#swing\\\" style=\\\"color: var(--accent-cyan); text-decoration: underline;\\\">swing</a> for MPC-style groove.\" }\n    ]\n  },\n  \n  // ====================\n  // INSTRUMENTS\n  // ====================\n  instruments: [\n    {\n      id: \"kick\",\n      label: \"Kick\",\n      color: \"linear-gradient(135deg, #e17055, #d63031)\",\n      targetSteps: [0, 6, 8, 12],\n      instructionText: \"Keep kick mostly on grid for foundation.\",\n      patternHint: { enabled: true, note: \"Kick anchors the groove\" }\n    },\n    {\n      id: \"snare\",\n      label: \"Snare\",\n      color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\",\n      targetSteps: [4, 12],\n      instructionText: \"Snare can lay slightly behind the beat.\",\n      patternHint: { enabled: true, note: \"Try +5ms delay on snare\" }\n    },\n    {\n      id: \"hihat\",\n      label: \"Hi-Hat\",\n      color: \"linear-gradient(135deg, #00cec9, #0984e3)\",\n      targetSteps: [0, 2, 4, 6, 8, 10, 12, 14],\n      instructionText: \"Hi-hats get most humanization—timing and velocity.\",\n      patternHint: { enabled: true, note: \"Apply <a href=\\\"glossary.html#swing\\\" style=\\\"color: var(--accent-cyan); text-decoration: underline;\\\">swing</a> + <a href=\\\"glossary.html#velocity\\\" style=\\\"color: var(--accent-cyan); text-decoration: underline;\\\">velocity</a> curve\" }\n    }\n  ],\n  \n  // ====================\n  // HUMANIZATION PRESETS\n  // ====================\n  humanizationPresets: [\n    {\n      id: \"subtle\",\n      name: \"Subtle\",\n      timing: 5,\n      velocity: 10,\n      swing: 50,\n      description: \"Barely noticeable—keeps pattern tight but alive\"\n    },\n    {\n      id: \"mpc\",\n      name: \"MPC 60\",\n      timing: 10,\n      velocity: 15,\n      swing: 54,\n      description: \"Classic hip-hop swing and feel\"\n    },\n    {\n      id: \"loose\",\n      name: \"Loose Pocket\",\n      timing: 18,\n      velocity: 20,\n      swing: 58,\n      description: \"Relaxed, laid-back feel for soul/R&B\"\n    },\n    {\n      id: \"live\",\n      name: \"Live Feel\",\n      timing: 12,\n      velocity: 25,\n      swing: 52,\n      description: \"Simulates real drummer variation\"\n    }\n  ],\n  \n  // ====================\n  // GROOVE TEMPLATES\n  // ====================\n  grooveTemplates: [\n    { id: \"mpc60\", name: \"MPC 60 Swing\", swing: 54, feel: \"hip-hop\" },\n    { id: \"tr808\", name: \"TR-808 Feel\", swing: 50, feel: \"electronic\" },\n    { id: \"motown\", name: \"Motown Pocket\", swing: 58, feel: \"soul\" },\n    { id: \"live\", name: \"Live Drummer\", swing: 52, feel: \"organic\" }\n  ],\n  \n  // ====================\n  // MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"drums\", {\n    initial: \"Apply humanization to bring this pattern to life!\",\n    success: \"🎯 That groove feels human! The timing and velocity variation creates a natural pocket.\",\n    error: \"Try adjusting the timing randomization—subtle changes make a big difference.\",\n    alreadyCompleted: \"You've mastered humanization! Apply these techniques to all your drum programming.\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: true,\n    enableExport: false,\n    showVelocityLane: true,\n    showHumanizeControls: true,\n    showSwingControl: true\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Apply micro-timing variations (5-20ms) for human feel\",\n    \"Create and use groove templates from recordings\",\n    \"Design velocity curves for natural dynamics\",\n    \"Extract groove from audio and apply to MIDI\"\n  ]\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 13,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "drums-12",
      "drums-11"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Humanization &",
      "Prepararsi alla lezione successiva del modulo Drums & Rhythm"
    ]
  },
  {
    "slug": "harmony-13",
    "filename": "lesson-harmony-13.config.js",
    "title": "Hip-Hop Minor Loop:",
    "category": "Genre Application",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 13 - Hip-Hop Minor Loop: Dark but Catchy\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-13-progress\",\n  lessonNumber: 13,\n  lessonCategory: \"Genre Application\",\n\n  nextLessonUrl: \"lesson-harmony-14.html\",\n  prevLessonUrl: \"lesson-harmony-12.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 13, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Hip-Hop Minor Loop:\",\n    titleHighlight: \"Dark but Catchy\",\n    subtitle: \"Build a minor key progression with sparse, emotional melody. You'll learn how to create that moody, introspective sound used in modern trap, R&B, and lo-fi hip-hop. Space and simplicity are your tools - less is more.\"\n  },\n\n  sequencer: {\n    tempo: 140,\n    key: \"A\",\n    scale: \"Minor\",\n    stepCount: 64,\n    bars: 4,\n    pitchRange: {\n      low: 48,\n      high: 84\n    }\n  },\n\n  exercise: {\n    title: \"Build a Dark Hip-Hop Loop in A Minor\",\n    description: \"Create a 2 or 4-bar loop using <strong>Am → F → C → G</strong> (i→VI→III→VII in minor). Add a minimal, emotional melody with <strong>space between notes</strong> - hip-hop melodies breathe. Target chord tones but use silence as a tool.\",\n    tip: \"Hip-hop and trap harmony is about mood and space. Use minor chords for darkness, seventh chords for smoothness, and SPACE in your melody. Don't fill every beat - let notes ring out. Think Metro Boomin, Travis Scott, The Weeknd: sparse, emotional, impactful.\",\n    steps: [\n      { text: \"Bar 1-2: <strong>Am7</strong> (A-C-E-G) sustained\" },\n      { text: \"Bar 3: <strong>Fmaj7</strong> (F-A-C-E)\" },\n      { text: \"Bar 4: <strong>C → G</strong> (C-E-G → G-B-D)\" },\n      { text: \"Add a minimal melody (6-8 notes total) with <strong>lots of space</strong>\" },\n      { text: \"Use A minor pentatonic notes (A-C-D-E-G) for that dark, modal sound\" },\n      { text: \"Let notes sustain - space creates emotion in hip-hop\" }\n    ]\n  },\n\n  validation: {\n    type: \"hip_hop_loop\",\n    requiredChords: [\n      { time: 0, pitches: [69, 72, 76, 79], chordName: \"Am7\", minDuration: 16 },\n      { time: 32, pitches: [65, 69, 72, 76], chordName: \"Fmaj7\" },\n      { time: 48, pitches: [60, 64, 67], chordName: \"C\" },\n      { time: 56, pitches: [67, 71, 74], chordName: \"G\" }\n    ],\n    melody: {\n      minNotes: 6,\n      maxNotes: 10,\n      allowedScale: [69, 72, 74, 76, 79, 81, 84, 86, 88],  // A minor pentatonic\n      requireSpace: true,  // Must have gaps between notes\n      preferSustainedNotes: true\n    }\n  },\n\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Build Am7 → Fmaj7 → C → G in A minor. Add a sparse melody (6-8 notes) using A minor pentatonic. Leave space - less is more!\",\n    success: \"Perfect! You've captured that dark, emotional hip-hop vibe. Notice how space and simplicity create impact - this is the sound of modern trap and R&B!\",\n    error: \"Keep it minimal: Am7 = A-C-E-G, Fmaj7 = F-A-C-E, C = C-E-G, G = G-B-D. Melody should be sparse (6-8 notes) using A-C-D-E-G with lots of space.\"\n  }),\n\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 13,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "harmony-12",
      "harmony-11"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Hip-Hop Minor Loop:",
      "Prepararsi alla lezione successiva del modulo Genre Application"
    ]
  },
  {
    "slug": "mixing-13",
    "filename": "lesson-mixing-13.config.js",
    "title": "Genre-Specific Mixing:",
    "category": "Mixing",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mixing 13 - Genre-Specific Mixing\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-13-progress\",\n  lessonNumber: 13,\n  lessonCategory: \"Mixing\",\n\n  nextLessonUrl: \"lesson-mixing-14.html\",\n  prevLessonUrl: \"lesson-mixing-12.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 13, categoryLabel: \"Mixing\" }),\n    title: \"Genre-Specific Mixing:\",\n    titleHighlight: \"Different Approaches for Different Styles\",\n    subtitle: \"Learn how EDM, Hip-Hop, Rock, and Pop require fundamentally different mixing strategies—and how to adapt your skills to serve each genre's sonic expectations\"\n  },\n\n  exercise: {\n    title: \"Create Two Genre Variants from One Session\",\n    description: \"Starting from your Mixing-12_VocalMixing session, create two distinct genre-focused mix variants using bus-level processing changes and automation. This demonstrates how the same material can serve different genre expectations.\",\n    tip: \"Genre mixing isn't about right or wrong—it's about expectations. A 'good' rock mix would be 'wrong' for modern pop. Before mixing, identify 2–3 reference tracks in your target genre and study their balance, dynamics, and width. Genre expectations evolve; what worked in 2015 may sound dated today.\",\n    steps: [\n      '<strong>Load and save session</strong> — Open \"Mixing-12_VocalMixing\" and Save As: \"Mixing-13_GenreVariants\". You\\'ll create two alternate mix buses from this session.',\n      '<strong>Identify your source material</strong> — Assess your session: What genre does it naturally lean toward? Note the tempo, instrumentation, and vocal style. This determines which two genre approaches make sense (e.g., Pop vs Rock, or EDM vs Hip-Hop).',\n      '<strong>Import reference tracks</strong> — Import 2 reference tracks (one per target genre) into your session on a dedicated \"Reference\" bus. Level-match them to your mix using LUFS metering (Lesson 14 preview). Mute during mixing but A/B frequently.',\n      '<strong>Create Genre A bus structure</strong> — Duplicate your Mix Bus chain to create \"Mix Bus - Genre A\". Apply processing appropriate to your first genre (see theory for specific settings). Label clearly.',\n      '<strong>Apply Genre A low-end strategy</strong> — Following the genre comparison table: adjust sub/kick relationship, bass presence, and low-mid management. EDM: tight sub, punchy kick. Hip-Hop: dominant 808, warm low-mids. Rock: round kick, present bass guitar. Pop: controlled sub, clean separation.',\n      '<strong>Apply Genre A vocal position</strong> — Adjust vocal level and processing for genre: Pop/Hip-Hop: vocal forward (+1 to +2 dB relative). Rock: vocal sits in the band (level with guitars). EDM: vocal as another instrument, may be heavily effected.',\n      '<strong>Apply Genre A dynamics approach</strong> — Adjust bus compression: EDM: punchy, aggressive limiting. Hip-Hop: punchy drums, smooth vocals. Rock: glue compression, natural dynamics. Pop: controlled, consistent, polished.',\n      '<strong>Apply Genre A stereo width</strong> — Adjust width strategy: EDM: wide synths, mono bass/kick. Hip-Hop: wide ad-libs, centered vocal/808. Rock: hard-panned guitars, centered drums/bass/vocal. Pop: controlled width, balanced image.',\n      '<strong>Create Genre B bus structure</strong> — Duplicate your original Mix Bus chain to create \"Mix Bus - Genre B\". Route session to Genre B bus for comparison.',\n      '<strong>Apply Genre B processing</strong> — Repeat steps 5–8 with your second genre\\'s approach. Make deliberate, contrasting choices based on genre expectations.',\n      '<strong>A/B between Genre A and Genre B</strong> — Toggle between Mix Bus A and Mix Bus B. Listen for: Does each version feel \"right\" for its genre? Does the vocal sit appropriately? Does the low end match expectations?',\n      '<strong>Reference check both versions</strong> — Unmute reference tracks. A/B your Genre A mix against its reference, then Genre B against its reference. Note: Are you in the ballpark for EQ balance, dynamics, and width?',\n      '<strong>Mono check both versions</strong> — Fold each version to mono (Lesson 9). Verify that genre-specific width choices don\\'t cause mono collapse. Rock with hard-panned guitars should still have centered energy. EDM with wide synths should retain punch.',\n      '<strong>Export both genre variants</strong> — Export full-length bounces of both Genre A and Genre B mixes. Name clearly: \"Song_GenreA_Mix.wav\" and \"Song_GenreB_Mix.wav\".',\n      '<strong>Critical comparison</strong> — Re-import both exports. Listen back-to-back without processing. Document: Which feels more appropriate for the source material? What specific choices made each version work (or not work) for its genre?'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Why Genre Matters: Expectations Shape \"Good\" Mixing',\n        content: `A mix isn't good or bad in absolute terms—it's good or bad relative to listener expectations. Every genre has evolved sonic conventions that audiences recognize as \"correct.\" Breaking these conventions can sound amateurish or intentionally artistic, but either way, it's a choice you should make deliberately.\n\n**Genre expectations affect every decision:**\n- **Low-end balance:** Hip-hop expects dominant 808s; rock expects balanced kick and bass guitar\n- **Vocal position:** Pop demands vocals front and center; rock integrates vocals with the band\n- **Dynamics:** EDM uses aggressive limiting for sustained energy; jazz preserves natural dynamics\n- **Width:** Electronic music exploits wide stereo; vintage rock often sits narrower\n- **Effects:** Modern pop uses pristine, controlled space; indie rock may embrace room ambience\n\n**The goal of this lesson:** Understand that mixing techniques from Lessons 1–12 are tools, not rules. The \"right\" settings depend on what genre you're serving. A compressor attack that's perfect for rock drums would destroy EDM transients. An EQ curve that makes pop vocals shine would bury them in metal.\n\n**Before mixing any track:** Identify the genre, gather 2–3 references, and study their balance. This is covered in depth in Lesson 14, but start the habit now.`\n      },\n      {\n        title: 'EDM / Electronic: Punchy, Wide, and Loud',\n        content: `Electronic music prioritizes impact, energy, and stereo spectacle. The mix should feel powerful on club systems and engaging on headphones.\n\n**Low-End Strategy:**\n- **Kick and sub relationship:** Kick provides transient punch (50–80 Hz click, 100–150 Hz body); sub provides sustained low-end (30–60 Hz). They should NOT fight—use sidechain ducking (Lesson 12) so sub ducks when kick hits.\n- **Mono below 100–150 Hz:** Bass and sub must be mono for club translation. Use mid/side EQ or a bass mono plugin.\n- **Tight low-mids:** Cut 200–400 Hz on bass elements to prevent mud. EDM low end should be clean and punchy, not boomy.\n\n**Transient & Dynamics:**\n- **Preserve transients:** Use slower compressor attack (20–40 ms) on drums and synths to keep punch.\n- **Aggressive limiting on mix bus:** EDM often targets -6 to -8 LUFS integrated (loud but not crushed). Use limiting strategically on the mix bus or during mastering.\n- **Sidechain pumping:** Intentional gain ducking on pads/chords from kick creates the \"breathing\" effect central to many EDM styles.\n\n**Width & Space:**\n- **Wide synths and FX:** Stereo spread, chorus, and panning create the \"wall of sound\" feel. Automate width to open up on drops.\n- **Centered kick, bass, lead vocal:** Core elements stay mono/center for focus and mono compatibility.\n- **Bright, airy top end:** Shelf boost 10–16 kHz on mix bus or mastering chain (+1 to +3 dB). EDM should sparkle.\n\n**Reference Tracks:**\n- Flume – \"Never Be Like You\" (dynamic, wide, punchy)\n- ODESZA – \"A Moment Apart\" (lush, balanced, impactful)\n- Skrillex – \"Bangarang\" (aggressive, transient-heavy, loud)`\n      },\n      {\n        title: 'Hip-Hop: Vocal Forward, 808-Dominant, Punchy',\n        content: `Hip-hop mixing centers on the vocal and the 808/bass. Everything else supports these two elements. Modern hip-hop tends toward clean, polished production with punchy drums and intimate, present vocals.\n\n**Low-End Strategy:**\n- **808 dominance:** The 808 (or sub bass) is often the loudest element in the low end. It should sustain and \"hit\" with harmonics in the 80–150 Hz range for smaller speakers.\n- **808 processing:** Saturation or harmonic enhancement makes 808s translate on small speakers. Keep fundamental strong (40–60 Hz) but add harmonics (100–200 Hz).\n- **Kick/808 relationship:** Two approaches: (1) Kick plays when 808 doesn't (producer arrangement), or (2) Kick provides click/attack while 808 provides sustain (use sidechain ducking).\n- **Clean separation:** High-pass everything except 808/kick at 80–150 Hz. Hip-hop low end should be powerful but not muddy.\n\n**Vocal Position (Critical):**\n- **Vocal forward:** Lead vocal sits 2–4 dB louder relative to the beat than in rock. The rapper/singer is the star.\n- **Modern vocal chain:** De-esser, compression (2–4 dB GR for consistency), EQ (presence boost 3–5 kHz, air 10–12 kHz), saturation, light reverb/delay (kept tight).\n- **Doubles and ad-libs:** Pan ad-libs wide (L30–L60, R30–R60). Stack doubles slightly behind lead in level (-3 to -6 dB).\n\n**Dynamics & Width:**\n- **Punchy drums:** Fast attack compression on snare/clap for snap. Hi-hats often bright and present (10–14 kHz energy).\n- **Hi-hat harshness control:** De-ess or dynamic EQ hi-hats to control 8–12 kHz harshness that causes ear fatigue.\n- **Width from ad-libs and FX:** Keep lead vocal, 808, kick centered. Use panning and stereo effects on supporting elements.\n\n**Reference Tracks:**\n- Kendrick Lamar – \"HUMBLE.\" (punchy, clean, vocal-forward)\n- Travis Scott – \"SICKO MODE\" (dynamic, 808-heavy, production variety)\n- Drake – \"God's Plan\" (polished, balanced, modern radio sound)`\n      },\n      {\n        title: 'Rock: Band Balance, Room Energy, Natural Dynamics',\n        content: `Rock mixing aims to capture the energy of a band playing together. Unlike electronic genres, rock embraces natural dynamics, room sound, and the interplay between instruments. The mix should feel \"real\" and powerful without excessive processing.\n\n**Low-End Strategy:**\n- **Kick and bass guitar balance:** Neither dominates—they work together. Kick provides punch (60–80 Hz fundamental, 2–4 kHz beater click). Bass provides sustain and harmonic content (80–200 Hz body, 700 Hz–1 kHz growl).\n- **Round, warm low end:** Rock often has more energy in the 80–200 Hz range than EDM or hip-hop. Don't over-cut—some \"warmth\" is expected.\n- **Less sub content:** Rock typically has less extreme sub (below 50 Hz) than electronic genres. High-pass kick at 40–50 Hz, bass at 50–60 Hz.\n\n**Vocal Position:**\n- **Vocal sits IN the band:** Lead vocal is prominent but not isolated. It should feel like part of the arrangement, not floating above it.\n- **Level relative to guitars:** In heavy sections, vocal may be only 1–2 dB above rhythm guitars. In verses, vocal can be more exposed.\n- **Natural reverb:** Room reverb or plate, longer pre-delay (40–80 ms) to keep vocal present but add depth.\n\n**Dynamics & Compression:**\n- **Glue compression:** Bus compression on drum bus and mix bus (2–4 dB GR, slow attack, auto release). This creates the \"band playing together\" feel.\n- **Natural dynamics:** Rock preserves more dynamic range than EDM/pop. Don't over-limit—let verses breathe and choruses hit harder.\n- **Parallel compression on drums:** Add punch and sustain without killing transients (Lesson 6).\n\n**Width & Imaging:**\n- **Hard-panned guitars:** Double-tracked rhythm guitars panned L100/R100 create width.\n- **Centered core:** Kick, snare, bass, lead vocal stay centered for focus.\n- **Room mics and overheads:** Provide natural width and ambience.\n\n**Reference Tracks:**\n- Foo Fighters – \"Everlong\" (powerful, dynamic, guitar-driven)\n- Queens of the Stone Age – \"No One Knows\" (punchy drums, huge guitars)\n- Arctic Monkeys – \"Do I Wanna Know?\" (modern rock, clean but energetic)`\n      },\n      {\n        title: 'Pop: Vocal Forward, Wide, Polished, and Controlled',\n        content: `Pop mixing prioritizes the vocal above all else. The production should be polished, wide, and radio-ready—clean, controlled, and impactful without harshness. Modern pop (2020s) tends toward a \"big\" sound with wide stereo and present sub bass, while remaining controlled and consistent.\n\n**Low-End Strategy:**\n- **Controlled sub and bass:** Sub bass provides foundation (40–80 Hz) but doesn't dominate like hip-hop 808s. Bass should be tight and punchy.\n- **Clean separation:** High-pass aggressively on non-bass elements. Pop low end is clean and defined, never muddy.\n- **Kick clarity:** Kick has click (2–5 kHz) and punch (80–120 Hz) but stays controlled. Often layered samples for impact.\n\n**Vocal Position (Absolutely Critical):**\n- **Vocal is king:** Lead vocal sits clearly above everything else. It should be the first thing you hear.\n- **Extensive processing:** Multiple stages of compression (gain riding → leveling → peak catching), de-essing, EQ (presence 3–5 kHz, air 10–14 kHz), saturation, and effects.\n- **Doubles and harmonies:** Stacked vocals on choruses, panned backing vocals for width, often heavily processed for effect.\n- **Effect automation:** Delay throws, reverb swells, filter effects—automated for ear candy (Lesson 11).\n\n**Dynamics & Consistency:**\n- **Consistent levels:** Pop is typically more compressed and limited than rock. Vocals and core elements stay in a narrow dynamic range.\n- **Automation-driven dynamics:** Dynamic changes come from arrangement and automation rather than natural performance dynamics.\n- **Loudness:** Pop masters are typically -8 to -10 LUFS integrated. Mixes should leave headroom for mastering but have controlled dynamics.\n\n**Width & Stereo Image:**\n- **Wide production:** Synths, pads, and production elements spread wide. Chorus should feel \"bigger\" than verse (automate width).\n- **Centered focus:** Vocal, kick, bass, snare stay centered.\n- **Glossy effects:** Bright reverbs, clean delays, stereo enhancement. The overall feel should be \"polished\" and \"expensive.\"\n\n**Reference Tracks:**\n- Dua Lipa – \"Levitating\" (wide, punchy, vocal-forward, modern pop)\n- The Weeknd – \"Blinding Lights\" (80s-inspired, wide synths, present vocal)\n- Billie Eilish – \"bad guy\" (minimal, bass-heavy, but still controlled)`\n      },\n      {\n        title: 'Genre Comparison Table & Practical Application',\n        content: `Use this table as a quick reference when starting a mix. Identify your genre, then apply the appropriate strategy for each element.\n\n| Element | EDM | Hip-Hop | Rock | Pop |\n|---------|-----|---------|------|-----|\n| **Low-End Focus** | Tight sub + punchy kick | Dominant 808, harmonic saturation | Balanced kick/bass guitar | Clean, controlled sub and kick |\n| **Vocal Position** | Instrument/effect (variable) | Forward (+2–4 dB above beat) | In the band (+1–2 dB above guitars) | King (clearly above everything) |\n| **Dynamics** | Aggressive limiting, pumping sidechain | Punchy drums, consistent vocal | Natural dynamics, glue compression | Controlled, automated dynamics |\n| **Width** | Wide synths, mono bass/kick | Wide ad-libs, centered vocal/808 | Hard-panned guitars, centered core | Wide production, centered focus |\n| **Compression Style** | Fast attack on synths, slow on drums | Fast on snare, medium on vocal | Slow attack for glue, parallel drums | Multi-stage on vocals, bus glue |\n| **Reverb/Delay** | Creative, filtered, automated | Tight, subtle on vocals | Room/plate, natural feel | Polished, glossy, automated |\n| **Brightness** | Bright, airy (+2–3 dB shelf 10 kHz+) | Controlled highs, de-essed hats | Warm, natural | Bright and clean, not harsh |\n\n**Applying This Knowledge:**\n1. **Before mixing:** Identify genre, gather references\n2. **During rough balance:** Set vocal level per genre expectation\n3. **During EQ/compression:** Apply genre-appropriate settings\n4. **During stereo work:** Set width per genre conventions\n5. **Before export:** Reference check against genre-appropriate tracks\n\n**Remember:** These are starting points, not rules. The best mixes serve the song first—genre conventions guide you, but creativity can bend them.`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Identify the key sonic differences between EDM, Hip-Hop, Rock, and Pop mixing approaches\",\n    \"Apply genre-appropriate low-end strategies: kick/bass balance, sub management, and low-mid control\",\n    \"Set vocal level and processing chain based on genre expectations (forward in pop/hip-hop, integrated in rock)\",\n    \"Choose compression and dynamics strategies that serve each genre: aggressive limiting (EDM) vs natural dynamics (rock) vs controlled consistency (pop)\",\n    \"Implement genre-appropriate stereo width: wide production (EDM/pop), hard-panned guitars (rock), centered focus with wide ad-libs (hip-hop)\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mixing lesson to advance your skills.\",\n    success: \"Excellent! You've mastered Genre-Specific Mixing. You can now adapt your approach to serve any style!\",\n    error: \"Review the mixing concepts and try again.\",\n    alreadyCompleted: \"You've completed this mixing technique. Keep practicing!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 13,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "mixing-12",
      "mixing-11"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Genre-Specific Mixing:",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-13",
    "filename": "lesson-sound-design-13.config.js",
    "title": "Cinematic Sound Design:",
    "category": "Sound Design",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Sound Design 13 - Cinematic Sound Design\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-sound-design-13-progress\",\n  lessonNumber: 13,\n  lessonCategory: \"Sound Design\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-sound-design-14.html\",\n  prevLessonUrl: \"lesson-sound-design-12.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 13, categoryLabel: \"Sound Design\" }),\n    title: \"Cinematic Sound Design:\",\n    titleHighlight: \"Epic Sounds for Film & Trailers\",\n    subtitle: \"Design dramatic, cinematic sounds for film scores, movie trailers, and visual storytelling. Master professional sound design techniques used in modern music production.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Explore Cinematic Sound Design\",\n    description: \"Design dramatic, cinematic sounds for film scores, movie trailers, and visual storytelling. This lesson covers the essential concepts and practical techniques you need to master this sound design method.\",\n    tip: \"Listen critically to how each parameter affects the sound. Small changes can have dramatic results in sound design.\",\n    steps: [\n      '<strong>Study the theory</strong> — Read through the sound design concepts and understand the signal flow.',\n      '<strong>Analyze the examples</strong> — Listen to reference sounds and identify key characteristics.',\n      '<strong>Experiment with parameters</strong> — Try different settings and hear how they change the sound.',\n      '<strong>Create variations</strong> — Design multiple versions exploring different timbres.',\n      '<strong>Save your presets</strong> — Document successful sounds for future use.',\n      'Complete the lesson when ready to move forward.'\n    ]\n  },\n  \n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Cinematic Sound Design',\n        content: `Cinematic Sound Design is a fundamental sound design technique that shapes the sonic character of your productions.\n\n**Key Concepts:**\n- Core synthesis principles and signal flow\n- Parameter relationships and interactions  \n- Frequency spectrum considerations\n- Timbral characteristics and sonic possibilities\n- Common applications in music production\n\n**Professional Applications:**\nModern producers use Cinematic Sound Design for:\n- Creating signature sounds and textures\n- Designing genre-specific timbres\n- Building unique sonic identities\n- Crafting sounds that cut through mixes\n- Generating movement and evolution in arrangements\n\nUnderstanding these concepts gives you complete control over your sound palette.`\n      },\n      {\n        title: 'Practical Sound Design Workflow',\n        content: `Professional sound designers follow systematic approaches to achieve desired results:\n\n**Design Process:**\n1. **Define the goal** — Know what sound you're trying to create\n2. **Choose the method** — Select appropriate synthesis technique\n3. **Start simple** — Begin with basic waveforms and build complexity\n4. **Shape with filters** — Sculpt the frequency content\n5. **Add movement** — Use envelopes and modulation\n6. **Layer if needed** — Combine multiple sounds for richness\n7. **Process and polish** — Apply effects and finalize\n\n**Critical Listening:**\n- A/B compare with reference sounds\n- Analyze frequency spectrum with analyzers\n- Check mono compatibility\n- Test in context with other mix elements\n\n**Common Mistakes to Avoid:**\n- Over-processing before establishing the core sound\n- Too many modulation sources creating chaos\n- Ignoring the frequency spectrum balance\n- Not considering the sound's role in the arrangement\n\nStudy professional productions and reverse-engineer the sounds you admire.`\n      }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master the fundamental concepts of Cinematic Sound Design\",\n    \"Understand signal flow and parameter relationships\",\n    \"Apply sound design techniques to practical productions\",\n    \"Develop critical listening skills for timbre and texture\",\n    \"Create professional-quality sounds for your productions\"\n  ],\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this lesson to master Cinematic Sound Design techniques.\",\n    success: \"Excellent! You've mastered Cinematic Sound Design. Your sound design skills are growing!\",\n    error: \"Review the theory and try again.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these techniques!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 13,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "sound-design-12",
      "sound-design-11"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Cinematic Sound Design:",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "vocals-13",
    "filename": "lesson-vocals-13.config.js",
    "title": "Vocal Effects &",
    "category": "Vocals",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-vocals-13-progress\",\n  lessonNumber: 13,\n  lessonCategory: \"Vocals\",\n  depthLevel: 9,\n  \n  nextLessonUrl: \"lesson-vocals-14.html\",\n  prevLessonUrl: \"lesson-vocals-12.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-vocals-13\", categoryLabel: \"Vocals\" }),\n    title: \"Vocal Effects &\",\n    titleHighlight: \"Creative Processing\",\n    subtitle: \"Master delay, reverb, distortion, and modulation effects to transform vocals into <strong>powerful, creative soundscapes</strong>. Learn professional techniques for delay throws, reverb tails, vocal doubling, and lo-fi processing that elevate your vocal productions.\"\n  },\n  \n  sequencer: {\n    tempo: 95,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true,\n    requiredTempo: 95\n  },\n  \n  exercise: {\n    title: \"Design Creative Vocal Effects Chain\",\n    description: \"Create a rhythmic vocal pattern with <strong>delay throws, reverb swells, and distortion</strong> to understand how effects shape vocal character and space. You'll build a 4-bar vocal rhythm that demonstrates professional FX techniques.\",\n    tip: \"Start with a dry vocal rhythm, then add one effect at a time to hear how each processor colors the sound. Effects order matters: compression → EQ → modulation → delay → reverb is a classic chain.\",\n    steps: [\n      { text: \"<strong>Set tempo to 95 BPM</strong> for a mid-tempo groove that works well with vocal FX.\" },\n      { text: \"<strong>Program main vocal hits</strong> on steps 1, 5, 9, 13 (downbeats) with velocity 100-110.\" },\n      { text: \"<strong>Add vocal stabs</strong> on steps 3, 7, 11, 15 (off-beats) with velocity 80-90 for contrast.\" },\n      { text: \"<strong>Create delay throws</strong> by leaving space after vocal hits (silence on steps 2, 6, 10, 14).\" },\n      { text: \"<strong>Layer backing vocals</strong> with lower velocity (60-70) on steps 4, 8, 12, 16 for depth.\" },\n      { text: \"<strong>Listen</strong> and imagine adding reverb to create space, distortion for grit, chorus for width.\" }\n    ]\n  },\n  \n  instruments: [\n    {\n      id: \"lead-vocal\",\n      label: \"Lead Vocal\",\n      color: \"linear-gradient(135deg, #a29bfe, #6c5ce7)\",\n      targetSteps: [0, 4, 8, 12],\n      oscillator: { type: \"sawtooth\", detune: 0 },\n      envelope: { attack: 0.01, decay: 0.3, sustain: 0.4, release: 0.4 },\n      filter: { type: \"lowpass\", frequency: 2800, Q: 1.2 }\n    },\n    {\n      id: \"vocal-stab\",\n      label: \"Vocal Stab\",\n      color: \"linear-gradient(135deg, #fd79a8, #e84393)\",\n      targetSteps: [2, 6, 10, 14],\n      oscillator: { type: \"triangle\", detune: -5 },\n      envelope: { attack: 0.005, decay: 0.15, sustain: 0.2, release: 0.2 },\n      filter: { type: \"bandpass\", frequency: 1800, Q: 2.5 }\n    },\n    {\n      id: \"backing-vocal\",\n      label: \"Backing Vocal\",\n      color: \"linear-gradient(135deg, #81ecec, #00cec9)\",\n      targetSteps: [3, 7, 11, 15],\n      oscillator: { type: \"sine\", detune: 12 },\n      envelope: { attack: 0.05, decay: 0.4, sustain: 0.5, release: 0.6 },\n      filter: { type: \"lowpass\", frequency: 1200, Q: 0.8 }\n    },\n    {\n      id: \"vocal-pad\",\n      label: \"Vocal Pad\",\n      color: \"linear-gradient(135deg, #fab1a0, #e17055)\",\n      targetSteps: [],\n      oscillator: { type: \"square\", detune: -12 },\n      envelope: { attack: 0.3, decay: 0.5, sustain: 0.7, release: 1.0 },\n      filter: { type: \"lowpass\", frequency: 800, Q: 1.5 }\n    }\n  ],\n  \n  theory: {\n    sections: [\n      {\n        title: 'Vocal Effects Fundamentals',\n        content: `**Time-Based Effects:**\n**Delay** creates discrete echoes by repeating the signal at timed intervals. Use quarter-note delays (tempo-synced) for rhythmic throws, eighth-note delays for density, and dotted-eighth delays for triplet feels. Set feedback (repeats) to 20-40% for subtle tail, 60-80% for infinite build-ups.\n\n**Reverb** simulates acoustic spaces by creating dense reflections. Short reverbs (0.5-1.5s) add intimacy, medium reverbs (1.5-3s) create room ambience, long reverbs (3-10s) produce epic, ethereal tails. Pre-delay (10-30ms) separates dry signal from wet tail for clarity.\n\n**Modulation Effects:**\n**Chorus** creates width and thickness by duplicating the signal with slight pitch/timing variations. Classic for doubling vocals and making mono tracks feel stereo. Rate: 0.5-2 Hz, Depth: 20-50%, Mix: 20-40% for natural doubling.\n\n**Flanger** creates metallic, sweeping comb-filtering effects. More aggressive than chorus. Use sparingly for sci-fi vocal FX or aggressive electronic vocals. Rate: 0.1-1 Hz, Depth: 50-80%, Feedback: 30-60%.\n\n**Distortion Effects:**\n**Saturation/Overdrive** adds harmonic richness and warmth. Use tape saturation for analog warmth, tube saturation for smooth harmonics. Drive: 20-40% for subtle color, 60-100% for aggressive distortion.\n\n**Bitcrush/Lo-Fi** reduces sample rate and bit depth for digital degradation. Classic for telephone/radio vocal effects, lo-fi hip-hop aesthetics, or aggressive electronic processing. Bit depth: 8-12 bits, Sample rate: 8-22 kHz.`\n      },\n      {\n        title: 'Professional FX Techniques',\n        content: `**Delay Throws:**\nAutomate delay send to 100% on the last word of a phrase, then back to 0%. This creates the iconic \"throw\" effect where one word echoes while others stay dry. Pair with high feedback (70%+) for dramatic builds.\n\n**Reverb Swells:**\nReverse reverb: Apply reverb to a reversed vocal, then reverse it back. Creates a \"swell\" that builds into the vocal. Or use pre-delay automation to bring reverb in gradually during sustained notes.\n\n**Parallel Processing:**\nKeep the dry vocal on one channel (clarity), send to parallel FX channels (space/width/character). This maintains intelligibility while adding creative processing. Classic chains:\n- **Channel 1 (Dry):** Compression, EQ, De-Esser\n- **Channel 2 (Space):** 100% Reverb\n- **Channel 3 (Width):** 100% Chorus/Doubler\n- **Channel 4 (Character):** Distortion + Filter\n\n**Sidechain Reverb:**\nUse a sidechain compressor on your reverb return triggered by the dry vocal. This ducks the reverb when the vocal is present (clarity) and lets it bloom between phrases (space). Ratio: 4:1, Attack: 5ms, Release: 100-200ms.\n\n**Effect Order:**\nStandard vocal FX chain order:\n1. **Corrective EQ** (remove mud, harsh frequencies)\n2. **Compression** (control dynamics)\n3. **De-Esser** (tame sibilance)\n4. **Creative EQ** (add presence, air)\n5. **Modulation** (chorus, flanger)\n6. **Delay** (time-based)\n7. **Reverb** (last in chain for natural space)\n\n**Genre-Specific FX:**\n- **Pop:** Subtle delay (eighth-note, 20% mix), medium reverb (1.5s), light chorus for width\n- **Hip-Hop:** Short slap delay (100ms), minimal reverb, saturation for warmth\n- **EDM:** Heavy sidechain, long delays with high feedback, massive reverb on builds, distortion for drops\n- **Lo-Fi:** Bitcrush, vinyl crackle, tape saturation, spring reverb, chorus`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Understand delay, reverb, chorus, flanger, and distortion effects for creative vocal processing\",\n    \"Program rhythmic vocal patterns that demonstrate professional FX techniques like delay throws\",\n    \"Learn effect order: compression → EQ → modulation → delay → reverb for clarity and impact\",\n    \"Master parallel processing to maintain vocal intelligibility while adding creative effects\",\n    \"Apply genre-specific vocal FX chains for pop, hip-hop, EDM, and lo-fi productions\"\n  ]\n};\n",
    "number": 13,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "vocals-12",
      "vocals-11"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Vocal Effects &",
      "Prepararsi alla lezione successiva del modulo Vocals"
    ]
  },
  {
    "slug": "arrangement-14",
    "filename": "lesson-arrangement-14.config.js",
    "title": "Frequency-Based",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 14 - Arrangement by Frequency\n *\n * This lesson teaches arranging by frequency spectrum rather than by instrument.\n * Think vertically: low, mid, and high frequency content per section.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-arrangement-14-progress\",\n  lessonNumber: 14,\n  lessonCategory: \"Arrangement\",\n  depthLevel: 4,\n\n  nextLessonUrl: \"lesson-arrangement-15.html\",\n  prevLessonUrl: \"lesson-arrangement-13.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 14, categoryLabel: \"Arrangement\" }),\n    title: \"Frequency-Based\",\n    titleHighlight: \"Arrangement\",\n    subtitle: \"Think <strong>vertically</strong>, not horizontally. Arrange by <strong>frequency content</strong>—low, mid, high. Master the art of <strong>frequency movement</strong> across sections for maximum clarity and impact.\"\n  },\n\n  exercise: {\n    title: \"Arrange by Frequency Spectrum Movement\",\n    description: \"Create an arrangement by thinking about <strong>which frequencies are active</strong> in each section. Move frequency content strategically: verse might be mid-focused, chorus adds lows and highs for fullness.\",\n    tip: \"Verse: Strong mids (vocals), light lows, minimal highs. Chorus: Full spectrum (lows, mids, highs all present). This creates massive perceived impact without adding many elements.\",\n    steps: [\n      { text: \"<strong>Intro: Mid-range only</strong> - Piano or guitar, no bass/highs\" },\n      { text: \"<strong>Verse: Mids + light lows</strong> - Add bass but keep it simple\" },\n      { text: \"<strong>Pre-chorus: Add highs</strong> - Introduce hi-hats or bright synth\" },\n      { text: \"<strong>Chorus: Full spectrum</strong> - Lows (bass), mids (vocals), highs (cymbals)\" },\n      { text: \"<strong>Breakdown: Remove lows</strong> - Keep mids/highs only\" },\n      { text: \"<strong>Final chorus: Maximum spectrum</strong> - Sub-bass + air frequencies\" }\n    ]\n  },\n\n  frequencyStrategy: {\n    lows: {\n      range: \"20-250Hz\",\n      purpose: \"Power, weight, foundation\",\n      addWhen: \"Chorus, drop, final section\",\n      removeWhen: \"Verse, breakdown, intimacy\"\n    },\n    mids: {\n      range: \"250Hz-4kHz\",\n      purpose: \"Melody, vocals, clarity\",\n      addWhen: \"Always present (core of song)\",\n      removeWhen: \"Never completely—this is where the song lives\"\n    },\n    highs: {\n      range: \"4kHz-20kHz\",\n      purpose: \"Brightness, energy, excitement\",\n      addWhen: \"Chorus, buildup, energy sections\",\n      removeWhen: \"Intimate verse, warm breakdown\"\n    }\n  },\n\n  messages: applyMessagePreset(\"arrangement\", {\n    initial: \"Arrange by moving frequency content between sections!\",\n    success: \"🎛️ Brilliant frequency arrangement! Your vertical thinking creates clarity and impact.\",\n    error: \"Think about which frequency ranges are active in each section.\",\n    alreadyCompleted: \"You've mastered frequency-based arrangement!\"\n  }),\n\n  mode: {\n    type: \"structure-builder\",\n    sandbox: false,\n    showTimeline: true,\n    showFrequencySpectrum: true\n  },\n\n  learningObjectives: [\n    \"Think vertically about arrangement (frequency ranges)\",\n    \"Control low, mid, and high frequency content per section\",\n    \"Use frequency movement to create impact\",\n    \"Understand which frequencies to add/remove per section type\",\n    \"Create fullness through frequency spectrum filling\"\n  ],\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"Why Frequency-Based Arrangement Creates Clarity\",\n        content: `\n**The Horizontal vs Vertical Mindset:**\n\nMost beginners think about arrangement **horizontally** (in time):\n- \"Add drums at bar 8\"\n- \"Bring in the lead at bar 16\"\n- \"Chorus starts at bar 32\"\n\nProfessional arrangers think **vertically** (in frequency):\n- \"Verse has only mids (250Hz-4kHz), no sub-bass or air\"\n- \"Chorus adds sub-bass (20-80Hz) and highs (8kHz+) for fullness\"\n- \"Bridge removes lows entirely, keeping only mids and highs\"\n\n**The Frequency Spectrum as a Canvas:**\n\nThink of the frequency spectrum (20Hz-20kHz) as vertical space you can fill or leave empty:\n\n\\`\\`\\`\n20kHz  |─────| AIR BAND (brightness, sparkle)\n12kHz  |─────| HIGH BAND (cymbals, hi-hats)\n 4kHz  |─────| UPPER-MID BAND (presence, clarity)\n 1kHz  |─────| MID BAND (vocals, melody)\n250Hz  |─────| LOW-MID BAND (warmth, body)\n 80Hz  |─────| BASS BAND (power, foundation)\n 20Hz  |─────| SUB-BASS BAND (weight, rumble)\n\\`\\`\\`\n\n**Each section of your track can strategically fill or empty different frequency zones.**\n\n---\n\n**Why This Approach Works:**\n\n**1. Perceived Fullness ≠ Element Count**\n\nYou don't need 10 instruments to make a section feel \"full\"—you need **full frequency spectrum coverage**.\n\n**Example A (Feels Thin Despite 4 Elements):**\n- Piano (200Hz-2kHz)\n- Guitar (200Hz-3kHz)\n- Vocals (200Hz-3kHz)\n- Pad (150Hz-2kHz)\n- **Result:** All elements in the same mid-range—sounds cluttered yet thin (no lows, no highs)\n\n**Example B (Feels Full With 3 Elements):**\n- Sub-bass (40Hz-80Hz) ← LOW\n- Vocals (200Hz-3kHz) ← MID\n- Hi-hats (8kHz-16kHz) ← HIGH\n- **Result:** Full spectrum covered—sounds rich and spacious\n\n**The secret: Vertical coverage matters more than horizontal element count.**\n\n---\n\n**2. Frequency Movement = Perceived Energy Change**\n\nWhen you move from verse to chorus, you don't necessarily need to add MORE elements—you can just add MORE FREQUENCY SPECTRUM.\n\n**Verse (Mid-Focused):**\n- Frequencies: 200Hz-4kHz only (mids)\n- Perceived energy: 50%\n\n**Chorus (Full Spectrum):**\n- Frequencies: 40Hz-16kHz (sub, mids, highs)\n- Perceived energy: 100%\n\n**Impact:** The chorus feels TWICE as powerful not because you doubled the element count, but because you filled the empty low and high ranges.\n\n---\n\n**3. Frequency = Emotion**\n\nDifferent frequency ranges create different emotional responses:\n\n**Low Frequencies (20-250Hz):**\n- **Feeling:** Power, weight, aggression, warmth, foundation\n- **Genres:** Hip-hop (808 sub-bass), EDM (massive drops), rock (distorted bass)\n- **When to Use:** Choruses, drops, climax moments\n\n**Mid Frequencies (250Hz-4kHz):**\n- **Feeling:** Intimacy, clarity, presence, vocal focus\n- **Genres:** ALL genres (this is where vocals and melody live)\n- **When to Use:** Always present—this is the core of music\n\n**High Frequencies (4kHz-20kHz):**\n- **Feeling:** Brightness, energy, excitement, airiness, sparkle\n- **Genres:** Pop (bright vocals), EDM (hi-hats, cymbals), electronic (air frequencies)\n- **When to Use:** Energetic sections, choruses, builds\n\n**By controlling which frequencies are active in each section, you control the emotional response.**\n\n---\n\n**Real-World Examples:**\n\n**\"Bad Guy\" by Billie Eilish:**\n- **Verse:** Only sub-bass (40-80Hz) + whispered vocals (low mids)—dark, intimate\n- **Chorus:** Same sub + vocals BUT adds mid-range stabs—slightly fuller but still minimal\n- *Impact:* The entire song lives in the LOW and MID frequencies—no cymbals, no brightness. This creates the dark, claustrophobic vibe.\n\n**\"Titanium\" by David Guetta:**\n- **Verse:** Vocals (mids) + light synth pad (mids/highs)—bright but not powerful\n- **Buildup:** + Rising filter sweep (gradually adding highs)\n- **Drop:** FULL SPECTRUM—sub-bass (40Hz) + mid-bass (80-200Hz) + lead (1-4kHz) + cymbals (8-16kHz)\n- *Impact:* The drop feels MASSIVE because it's the first moment where the entire frequency spectrum is filled.\n\n**\"Everlong\" by Foo Fighters:**\n- **Verse (Quiet):** Clean guitar (200Hz-3kHz only)—mid-focused, no bass weight\n- **Chorus (Loud):** Distorted guitar (80Hz-8kHz) + heavy drums + bass—FULL SPECTRUM\n- *Impact:* The quiet-loud dynamic is achieved through frequency expansion, not just volume.\n\n---\n\n**The Frequency Arc:**\n\nJust like you plan a density arc (sparse → full) or energy arc (low → high), plan a **frequency arc**:\n\n\\`\\`\\`\nIntro:     Mids only (establish melody)\nVerse 1:   Mids + Light lows (add foundation)\nPre-Chorus: Mids + Lows + Some highs (building)\nChorus 1:  FULL SPECTRUM (sub + mids + highs)\nVerse 2:   Return to mids + lows (contrast)\nBridge:    Mids only (strip back to intimacy)\nFinal Chorus: FULL SPECTRUM + (add air/sub extensions)\n\\`\\`\\`\n\n**This creates an emotional journey through frequency movement.**\n        `\n      },\n      {\n        title: \"Frequency Zone Management—The Seven Ranges\",\n        content: `\n**The Frequency Spectrum Breakdown:**\n\nHere's how to think about each frequency zone and when to activate them:\n\n---\n\n**1. SUB-BASS (20-60Hz): The Foundation Rumble**\n\n**What Lives Here:**\n- 808 kicks\n- Sub-bass synths\n- Kick drum fundamentals\n- Low-end weight\n\n**Feeling:** Physical impact, chest-hitting power, club energy\n\n**When to Use:**\n- Choruses and drops (maximum power)\n- Final chorus (ultimate climax)\n- Hip-hop verses (808 foundation)\n\n**When to Remove:**\n- Verses (sparse, intimate sections)\n- Breakdowns (stripped-back moments)\n- Acoustic/organic sections\n\n**Pro Tip:** Only ONE element should occupy sub-bass at a time (usually kick OR bass, not both). If both are present, use sidechaining to duck bass when kick hits.\n\n---\n\n**2. BASS (60-250Hz): The Power Zone**\n\n**What Lives Here:**\n- Bass guitar\n- Bass synth mid-range\n- Kick drum body\n- Low tom drums\n- Male vocal fundamentals\n\n**Feeling:** Warmth, power, groove, foundation\n\n**When to Use:**\n- All full sections (verses, choruses)\n- Anytime you need rhythmic foundation\n- Groovy sections (funk, disco, house)\n\n**When to Remove:**\n- Intimate breakdowns (vocals + piano only)\n- High-energy builds (remove before drop for contrast)\n- Sparse intros (delay bass entrance for impact)\n\n**Pro Tip:** This is where \"muddiness\" lives. If your mix sounds muddy, high-pass filter elements below 80-100Hz (except bass/kick).\n\n---\n\n**3. LOW-MIDS (250Hz-500Hz): The Mud Zone**\n\n**What Lives Here:**\n- Guitar low strings\n- Piano low notes\n- Male vocal chest voice\n- Snare drum body\n\n**Feeling:** Warmth, body, thickness\n\n**When to Use:**\n- Warm, full sections\n- Rock/organic arrangements\n- Supporting low-end\n\n**When to Remove (Often):**\n- This is the \"mud zone\"—too much here = cloudy mix\n- Cut this range slightly in most elements\n- Only bass and kick should have significant energy here\n\n**Pro Tip:** Professional mixes often have a \"scoop\" in this range—cutting 2-4dB around 300-400Hz to clean up mud.\n\n---\n\n**4. MIDS (500Hz-2kHz): The Core Zone**\n\n**What Lives Here:**\n- Vocals (main presence)\n- Lead melodies\n- Snare snap\n- Guitar/piano main body\n\n**Feeling:** Presence, clarity, forward energy\n\n**When to Use:**\n- ALWAYS—this is where music lives\n- This is where vocals shine\n- Never completely remove this range\n\n**When to Emphasize:**\n- Verses (vocal clarity)\n- Intimate sections\n- Solos and lead instruments\n\n**Pro Tip:** The mids should NEVER be empty. Even in sparse sections, mids carry the melody/vocal. This is the most important frequency range.\n\n---\n\n**5. UPPER-MIDS (2kHz-6kHz): The Clarity Zone**\n\n**What Lives Here:**\n- Vocal consonants (S, T, K sounds)\n- Snare crack\n- Guitar pick attack\n- Piano hammer attack\n\n**Feeling:** Definition, clarity, presence, \"in your face\"\n\n**When to Use:**\n- When you want elements to \"cut through\"\n- Aggressive sections (rock, metal)\n- Bright pop productions\n\n**When to Reduce:**\n- Warm, dark vibes (lo-fi, R&B)\n- Harsh/sibilant vocals (de-ess this range)\n\n**Pro Tip:** Boost 3-5kHz slightly for vocal presence, but be careful—too much causes harshness and listener fatigue.\n\n---\n\n**6. HIGHS (6kHz-12kHz): The Brightness Zone**\n\n**What Lives Here:**\n- Cymbals\n- Hi-hats\n- Vocal breathiness\n- String section shimmer\n- Synth brightness\n\n**Feeling:** Energy, excitement, brightness, airiness\n\n**When to Use:**\n- Choruses (add energy)\n- Builds (rising brightness = rising energy)\n- Energetic sections\n\n**When to Remove:**\n- Dark, moody sections\n- Intimate verses\n- Lo-fi/vintage productions\n\n**Pro Tip:** Adding highs AFTER a section without them creates instant perceived energy increase, even if volume doesn't change.\n\n---\n\n**7. AIR (12kHz-20kHz): The Sparkle Zone**\n\n**What Lives Here:**\n- Cymbal overtones\n- Reverb tails\n- \"Air\" and \"sparkle\"\n- String harmonics\n\n**Feeling:** Space, openness, luxury, pro sound\n\n**When to Use:**\n- Polished pop/EDM productions\n- Creating \"expensive\" sound\n- Spacious, atmospheric sections\n\n**When to Remove:**\n- Lo-fi, vintage, gritty productions\n- Aggressive, raw sounds (punk, trap)\n- When going for \"underground\" aesthetic\n\n**Pro Tip:** Many amateur mixes lack air frequencies. A subtle high-shelf boost at 12kHz+ (1-2dB) adds professional polish.\n\n---\n\n**Strategic Frequency Activation by Section:**\n\n**Intro (Establish):**\n- Active: Mids (melody)\n- Inactive: Sub-bass, highs\n- *Goal:* Introduce the core idea without overwhelming\n\n**Verse (Intimacy):**\n- Active: Low-mids, mids (vocals + rhythm)\n- Inactive: Sub-bass, air\n- *Goal:* Clarity for lyrics, leave room for chorus\n\n**Pre-Chorus (Building):**\n- Active: Bass, mids, some highs\n- Inactive: Sub-bass (save for chorus)\n- *Goal:* Add energy progressively\n\n**Chorus (Fullness):**\n- Active: ALL RANGES (sub, bass, mids, highs, air)\n- Inactive: Nothing\n- *Goal:* Maximum fullness and impact\n\n**Bridge (Contrast):**\n- Active: Mids only OR highs only\n- Inactive: Lows (create contrast with previous fullness)\n- *Goal:* Reset attention, create space\n\n**Final Chorus (Climax):**\n- Active: ALL RANGES + emphasized sub and air\n- Inactive: Nothing\n- *Goal:* Exceed all previous sections\n\n**Outro (Resolution):**\n- Active: Mids, progressively remove others\n- Inactive: Gradually mute lows and highs\n- *Goal:* Wind down gracefully\n        `\n      },\n      {\n        title: \"Practical Frequency Arrangement Techniques\",\n        content: `\n**Technique 1: Frequency Stacking (Vertical Layering)**\n\nInstead of adding more of the same frequency, **stack elements across different frequency zones**.\n\n**Example (Verse → Chorus Transition):**\n\n**Verse:**\n- Vocals: 200Hz-3kHz (mids)\n- Acoustic guitar: 150Hz-2kHz (low-mids/mids)\n- *Active Zones:* Mids only\n\n**Chorus:**\n- Vocals: 200Hz-3kHz (mids) ← Same as verse\n- Bass: 40Hz-200Hz (sub + bass) ← NEW LOW ZONE\n- Hi-hats: 8kHz-16kHz (highs) ← NEW HIGH ZONE\n- *Active Zones:* Sub + Mids + Highs = FULL\n\n**Impact:** The chorus feels twice as full despite only adding 2 elements, because those elements fill previously empty zones.\n\n---\n\n**Technique 2: Frequency Removal for Contrast**\n\n**Subtractive frequency arrangement** creates dramatic contrast.\n\n**Example (Chorus → Breakdown):**\n\n**Chorus:**\n- Full frequency spectrum (20Hz-20kHz)\n- Perceived fullness: 100%\n\n**Breakdown:**\n- **Remove** sub-bass and bass (20Hz-250Hz)\n- **Remove** air frequencies (12kHz+)\n- **Keep** only mids (250Hz-6kHz)\n- Perceived fullness: 40%\n\n**Impact:** Sudden frequency reduction feels like an emotional drop, even if element count is the same. The breakdown feels intimate and small.\n\n---\n\n**Technique 3: Frequency Sweeping (Filter Automation)**\n\n**Gradually opening or closing frequencies** creates smooth energy transitions.\n\n**Buildup Example (Opening Filter):**\n\\`\\`\\`\nBar 1-4:   Low-pass filter at 500Hz (only low-mids)\nBar 5-8:   Filter opens to 2kHz (adding upper-mids)\nBar 9-12:  Filter opens to 8kHz (adding highs)\nBar 13-16: Filter fully open 20kHz (full spectrum)\nBar 17:    DROP (full frequency impact)\n\\`\\`\\`\n\n**Result:** Progressive frequency addition = building energy without adding elements.\n\n**Breakdown Example (Closing Filter):**\n\\`\\`\\`\nBar 1:  Full spectrum (20Hz-20kHz)\nBar 2:  Filter closes to 10kHz (removing air)\nBar 3:  Filter closes to 4kHz (removing highs)\nBar 4:  Filter closes to 1kHz (only mids remain)\n\\`\\`\\`\n\n**Result:** Progressive frequency removal = winding down energy smoothly.\n\n---\n\n**Technique 4: Mono-to-Stereo Frequency Expansion**\n\n**Low frequencies should be mono (centered), high frequencies can be stereo (wide).**\n\n**Verse (Narrow):**\n- All elements panned center or narrow\n- Frequency content: Mids mostly mono\n- *Feel:* Focused, intimate, direct\n\n**Chorus (Wide):**\n- Sub-bass: Mono (centered)\n- Mids: Slight stereo spread\n- Highs: Wide stereo (cymbals panned L/R)\n- *Feel:* Expansive, big, cinematic\n\n**Why It Works:** Stereo width in highs = perceived \"bigness\" without losing low-end punch (which needs to stay mono for club/streaming compatibility).\n\n---\n\n**Technique 5: Genre-Specific Frequency Templates**\n\nDifferent genres prioritize different frequency ranges:\n\n**Hip-Hop (Sub-Bass Dominant):**\n- Emphasis: 40-80Hz (808 sub)\n- Support: 200-2kHz (vocals)\n- Minimal: 6kHz+ (dark, heavy vibe)\n\n**Pop (Bright, Full Spectrum):**\n- Emphasis: 1-4kHz (vocal presence)\n- Support: 40-200Hz (bass foundation)\n- Support: 8kHz+ (bright, radio-friendly)\n\n**Rock (Mid-Focused, Crunchy):**\n- Emphasis: 200Hz-2kHz (guitar distortion)\n- Support: 60-200Hz (bass)\n- Support: 2-6kHz (guitar harmonics)\n\n**EDM (Maximum Spectrum Utilization):**\n- Emphasis: 40-80Hz (massive sub)\n- Emphasis: 1-4kHz (lead synths)\n- Emphasis: 8-16kHz (cymbals, FX)\n- *Goal:* Use ENTIRE spectrum for maximum impact\n\n**Lo-Fi (Limited Spectrum, Vintage Feel):**\n- Emphasis: 200Hz-4kHz (vintage warmth)\n- Cut: Below 80Hz (no deep sub)\n- Cut: Above 10kHz (no air/sparkle)\n- *Goal:* Narrow bandwidth = vintage character\n\n---\n\n**Common Frequency Mistakes:**\n\n**❌ Everything in the Mids:**\nAll elements occupying 200Hz-2kHz—sounds cluttered, thin, and muddy simultaneously.\n\n**✓ Fix:** Spread elements vertically. Assign some to lows (bass), some to mids (vocals), some to highs (hi-hats).\n\n---\n\n**❌ No Sub-Bass in Choruses:**\nChorus feels weak despite being \"full\" because there's no low-end weight.\n\n**✓ Fix:** Add sub-bass (40-80Hz) or boost kick fundamental in choruses.\n\n---\n\n**❌ Too Much Low-Mid Mud (250-500Hz):**\nMix sounds cloudy, indistinct, lacks clarity.\n\n**✓ Fix:** Cut 2-4dB around 300-400Hz in most elements. Only bass/kick should have significant energy here.\n\n---\n\n**❌ No Brightness in Energetic Sections:**\nHigh-energy sections (drops, choruses) lack excitement because there's no high-frequency content.\n\n**✓ Fix:** Add cymbals, hi-hats, or high-shelf boost to add brightness and energy.\n\n---\n\n**❌ Constant Full Spectrum:**\nEvery section uses the full frequency range—no contrast, listener fatigue.\n\n**✓ Fix:** Reserve full spectrum for choruses/drops only. Strip frequencies in verses/bridges for contrast.\n\n---\n\n**Frequency Arrangement Workflow:**\n\n**Step 1: Plan Your Frequency Arc**\n- Map which sections should be full-spectrum vs limited-spectrum\n- Example: Verse (mids), Pre-chorus (mids + lows), Chorus (full), Bridge (highs only)\n\n**Step 2: Assign Elements to Frequency Zones**\n- Sub-bass: 808, sub synth\n- Bass: Bass guitar, kick body\n- Mids: Vocals, melody, chords\n- Highs: Hi-hats, cymbals, brightness\n\n**Step 3: EQ for Separation**\n- High-pass non-bass elements (80-100Hz)\n- Cut mud zone in most elements (300-400Hz)\n- Boost presence in vocals (3-5kHz)\n- Add air to mix bus (12kHz+ shelf)\n\n**Step 4: Verify in Spectrum Analyzer**\n- Check verse: Are mids dominant? ✓\n- Check chorus: Is full spectrum active? ✓\n- Check bridge: Is it frequency-distinct from verse? ✓\n\n---\n\n**Why This Matters:**\n\nFrequency-based arrangement is one of the most powerful yet underutilized techniques. Most producers think horizontally (time) but forget to think vertically (frequency). By strategically activating and deactivating frequency zones across sections, you create:\n- **Clarity:** Less frequency masking\n- **Impact:** Contrast through frequency movement\n- **Emotion:** Different frequencies = different feelings\n- **Professional Sound:** Intentional frequency management separates pro from amateur\n\n**What's Next:**\nIn Lesson 15, you'll learn **rhythmic variation**—how to evolve grooves while maintaining the core pattern. This pairs perfectly with frequency arrangement to create multi-dimensional arrangement development.\n        `\n      }\n    ]\n  }\n};\n\nif (typeof window !== 'undefined') window.LESSON_CONFIG = lessonConfig;\n",
    "number": 14,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "arrangement-13",
      "arrangement-12"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Frequency-Based",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-14",
    "filename": "lesson-bass-14.config.js",
    "title": "R&B Bass:",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 14 - R&B Bass: Smooth & Syncopated\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-14-progress\",\n  lessonNumber: 14,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-15.html\",\n  prevLessonUrl: \"lesson-bass-13.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 14, categoryLabel: \"Bass & Low End\" }),\n    title: \"R&B Bass:\",\n    titleHighlight: \"Smooth & Syncopated\",\n    subtitle: \"Create <strong>sultry R&B basslines</strong> with <strong>smooth movement</strong>, <strong>syncopation</strong>, and <strong>space</strong>. Master the art of saying <strong>more with less</strong> — the hallmark of modern R&B and neo-soul production.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 85,\n    stepCount: 16,\n    bars: 1,\n    noteRange: { min: 36, max: 60 }, // C2 to C4 (bass range)\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Program a Smooth R&B Bass Line\",\n    description: \"R&B bass is about <strong>subtlety and space</strong>. Unlike funk (aggressive) or blues (driving), R&B bass supports the vocal and chords with <strong>minimal notes</strong>, <strong>smooth movement</strong>, and <strong>strategic syncopation</strong>. The bass creates a bed for the vocals to float above.\",\n    tip: \"In R&B, less is more. Every note should be intentional. Leave space for the kick, vocals, and keys. Think support, not dominance.\",\n    steps: [\n      '<strong>Root note foundation</strong> — D2 (MIDI 38) on beat 1 (step 0) with medium velocity. This grounds the harmony.',\n      '<strong>Smooth ascent</strong> — F♯2 (MIDI 42) on beat 2 (step 2) — the third adds color.',\n      '<strong>Syncopated jump</strong> — A2 (MIDI 45) on the & of beat 3 (step 5) — off-beat creates groove.',\n      '<strong>Octave resolution</strong> — D3 (MIDI 50) on beat 4 (step 6) — climbs smoothly.',\n      '<strong>Rest and breathe</strong> — No notes on beats after 4. Space is musical.',\n      'Play and feel the sultry, laid-back groove. Notice how space creates intimacy.'\n    ]\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'R&B Bass Philosophy',\n        content: `R&B bass, from Motown to modern neo-soul, prioritizes emotion over technical display:\n\n**Core Principles:**\n- **Space** — Rests are as important as notes\n- **Smoothness** — Stepwise motion, no jarring leaps\n- **Syncopation** — Off-beat notes create subtle groove\n- **Low note count** — 4-8 notes per bar vs funk's 12-16\n- **Vocal support** — Bass moves when vocal rests\n\n**Technique:**\n- Use chord tones (roots, thirds, fifths, sevenths)\n- Connect smoothly (no more than a third apart)\n- Play behind the beat (laid-back feel)\n- Low velocity (70-95) for subtle presence\n- Let the kick drum handle the attack\n\n**Reference Artists:**\n- James Jamerson (Motown)\n- Bootsy Collins (early funk-R&B)\n- Pino Palladino (D'Angelo, neo-soul)\n- Thundercat (modern jazz-R&B fusion)\n\nThe goal: Make the listener FEEL the groove without consciously noticing the bass.`\n      },\n      {\n        title: 'Modern R&B Bass Production',\n        content: `Contemporary R&B bass blends live and electronic techniques:\n\n**Layering:**\n- **Sub bass** — Pure sine wave (30-60 Hz)\n- **Mid bass** — Sawtooth or filtered square (80-200 Hz)\n- **Top texture** — Slight distortion or harmonic content\n\n**Processing:**\n- High-pass filter at 30-40 Hz (remove rumble)\n- Gentle compression (4:1 ratio, slow attack)\n- Sidechain to kick (subtle, -2 to -4 dB)\n- Reverb send (10-15%, short decay)\n\n**Rhythm:**\n- Lock to the kick on beat 1\n- Syncopate on &s (offbeats)\n- Rest during vocal phrases\n- Fill during instrumental breaks\n\nModern producers like Frank Dukes, OVO Sound, and The Neptunes use this approach to create bass that's felt more than heard.`\n      }\n    ]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [\n      { pitch: 38, step: 0, duration: 2, velocity: 85 },    // D2 root (foundational)\n      { pitch: 42, step: 2, duration: 2, velocity: 80 },    // F♯2 third (smooth)\n      { pitch: 45, step: 5, duration: 2, velocity: 90 },    // A2 fifth (syncopated)\n      { pitch: 50, step: 6, duration: 2, velocity: 75 }     // D3 octave (resolution)\n    ],\n    highlightScale: [38, 40, 42, 43, 45, 47, 49, 50], // D major scale (R&B tonality)\n    showChordDetection: true,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Understand R&B bass philosophy: support over dominance\",\n    \"Use space and rests as musical elements\",\n    \"Create smooth, stepwise bass movement\",\n    \"Apply subtle syncopation for groove\",\n    \"Recognize modern R&B bass production techniques\"\n  ],\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Program the R&B bass line to complete this lesson.\",\n    success: \"Smooth! That's a sultry R&B groove. Pino Palladino vibes!\",\n    error: \"Not quite there. Check your note placement and remember: less is more in R&B.\",\n    alreadyCompleted: \"You've mastered R&B bass. That's some smooth soul!\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 14,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "bass-13",
      "bass-12"
    ],
    "outcomes": [
      "Applicare i concetti chiave di R&B Bass:",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-14",
    "filename": "lesson-drums-14.config.js",
    "title": "Polyrhythms &",
    "category": "Drums & Rhythm",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Drums 14 - Polyrhythms & Metric Modulation\n * \n * This lesson teaches polyrhythmic concepts, common ratios (3:4, 5:4, etc.),\n * and metric modulation techniques for advanced rhythm programming.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-drums-14-progress\",\n  lessonNumber: 14,\n  lessonCategory: \"Drums & Rhythm\",\n  depthLevel: 7,\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-drums-19.html\",\n  prevLessonUrl: \"lesson-drums-13.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-drums-14\", categoryLabel: \"Drums & Rhythm\" }),\n    title: \"Polyrhythms &\",\n    titleHighlight: \"Metric Modulation\",\n    subtitle: \"Discover the <strong>mathematical beauty of layered rhythms</strong>. Polyrhythms occur when two or more contrasting rhythmic patterns play simultaneously—the '3' in 3:4 means a pattern dividing time into thirds, while the '4' divides into quarters. This creates <strong>rhythmic tension and hypnotic complexity</strong> used everywhere from West African drumming and prog rock to modern electronic music. Master <strong>3-over-4</strong>, <strong>5-over-4</strong>, and <strong>metric modulation</strong> to add sophisticated movement to your productions.\"\n  },\n  \n  // ====================\n  // SEQUENCER CONFIG\n  // ====================\n  sequencer: {\n    tempo: 100,\n    stepCount: 12,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true,\n    requiredTempo: 100\n  },\n  \n  // ====================\n  // EXERCISE\n  // ====================\n  exercise: {\n    title: \"Create a 3:4 Polyrhythm\",\n    description: \"A <strong>3:4 polyrhythm</strong> is the most common and accessible polyrhythm in music. It layers a pattern repeating every <strong>3 pulses</strong> against a pattern repeating every <strong>4 pulses</strong>. To fit together, we need a grid of 12 steps (the lowest common multiple of 3 and 4). The kick divides this into 4 equal parts (12÷4=3, so every 3 steps), while the hi-hat divides it into 3 equal parts (12÷3=4, so every 4 steps). This mathematical relationship creates a <strong>cyclical tension</strong> that repeats every 12 steps—both patterns align on step 1, then drift apart and realign. This is the rhythmic DNA found in Radiohead's \\\"15 Step,\\\" Aphex Twin's IDM, and countless African drumming traditions.\",\n    tip: \"Mnemonic: Say 'Nice cup of tea' in rhythm—that's the 3:4 pattern! The hi-hats should feel like they're 'floating' against the kick. That's the polyrhythmic tension!\",\n    steps: [\n      { text: \"<strong>Set the tempo to 100 BPM</strong> using the Tempo slider.\" },\n      { text: \"<strong>Kick:</strong> Steps 1, 4, 7, 10 (four evenly spaced = the '4' in 3:4).\" },\n      { text: \"<strong>Hi-Hat:</strong> Steps 1, 5, 9 (three evenly spaced = the '3' in 3:4).\" },\n      { text: \"<strong>Snare:</strong> Steps 4 and 10 for backbeat (helps anchor the rhythm).\" },\n      { text: \"<strong>Listen:</strong> Notice how kick and hi-hat only align on step 1, creating cyclical tension.\" }\n    ]\n  },\n  \n  // ====================\n  // INSTRUMENTS\n  // ====================\n  instruments: [\n    {\n      id: \"kick\",\n      label: \"Kick\",\n      color: \"linear-gradient(135deg, #e17055, #d63031)\",\n      targetSteps: [0, 3, 6, 9],\n      instructionText: \"Four evenly spaced kicks.\",\n      patternHint: { enabled: true, note: \"Kick: 1, 4, 7, 10\" }\n    },\n    {\n      id: \"snare\",\n      label: \"Snare\",\n      color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\",\n      targetSteps: [3, 9],\n      instructionText: \"Backbeat on steps 4 and 10.\",\n      patternHint: { enabled: true, note: \"Snare: 4, 10 (backbeat)\" }\n    },\n    {\n      id: \"hihat\",\n      label: \"Hi-Hat\",\n      color: \"linear-gradient(135deg, #00cec9, #0984e3)\",\n      targetSteps: [0, 4, 8],\n      instructionText: \"Three evenly spaced hi-hats (the '3' in 3:4).\",\n      patternHint: { enabled: true, note: \"Hi-Hat: 1, 5, 9 (3-pulse)\" }\n    }\n  ],\n  \n  // ====================\n  // POLYRHYTHM PRESETS\n  // ====================\n  polyrhythms: [\n    {\n      id: \"3:4\",\n      name: \"Three over Four\",\n      gridSize: 12,\n      description: \"Most common polyrhythm. Creates subtle tension.\",\n      mnemonic: \"Nice cup of tea\"\n    },\n    {\n      id: \"2:3\",\n      name: \"Two over Three\",\n      gridSize: 6,\n      description: \"Foundation of triplet feel and shuffle.\",\n      mnemonic: \"Hot dog\"\n    },\n    {\n      id: \"5:4\",\n      name: \"Five over Four\",\n      gridSize: 20,\n      description: \"Complex and hypnotic, African influence.\",\n      mnemonic: \"I am eating popcorn\"\n    },\n    {\n      id: \"7:4\",\n      name: \"Seven over Four\",\n      gridSize: 28,\n      description: \"Very complex, disorienting. Use sparingly.\",\n      mnemonic: \"I need to call my lawyer\"\n    }\n  ],\n  \n  // ====================\n  // GENRE INFO & CONTEXT\n  // ====================\n  genreInfo: {\n    name: \"Polyrhythmic Music\",\n    origins: \"West African drumming, Indian classical music (talas), Cuban son\",\n    description: \"Polyrhythms are the simultaneous use of two or more conflicting rhythms that are not readily perceived as deriving from one another. They create tension, complexity, and hypnotic grooves.\",\n    applications: [\n      {\n        genre: \"West African Drumming\",\n        example: \"Ewe, Yoruba, and Mandinka traditions\",\n        commonRatios: [\"3:2\", \"3:4\", \"5:4\"],\n        description: \"Foundation of all modern polyrhythmic music—layers of djembes, dununs, and bells creating interlocking patterns.\"\n      },\n      {\n        genre: \"Progressive Rock/Metal\",\n        artists: [\"Tool\", \"Meshuggah\", \"Dream Theater\", \"King Crimson\"],\n        commonRatios: [\"3:4\", \"5:4\", \"7:4\", \"9:8\"],\n        example: \"Tool's 'Schism' (5/8 and 6/8 layering), Meshuggah's polymetric riffs\",\n        description: \"Complex time signatures and polyrhythms create disorienting, powerful grooves.\"\n      },\n      {\n        genre: \"Jazz & Fusion\",\n        artists: [\"Dave Brubeck\", \"Herbie Hancock\", \"Tigran Hamasyan\"],\n        commonRatios: [\"3:2\", \"3:4\", \"5:4\"],\n        example: \"Brubeck's 'Take Five' (5/4 time), Hancock's 'Actual Proof'\",\n        description: \"Polyrhythms add sophistication and swing to improvisation.\"\n      },\n      {\n        genre: \"Electronic & IDM\",\n        artists: [\"Aphex Twin\", \"Flying Lotus\", \"Autechre\", \"Four Tet\"],\n        commonRatios: [\"3:4\", \"5:4\", \"7:8\", \"11:8\"],\n        example: \"Aphex Twin's 'Bucephalus Bouncing Ball', Flying Lotus' 'Zodiac Shit'\",\n        description: \"Programmed polyrhythms create alien, hypnotic textures impossible for human drummers.\"\n      },\n      {\n        genre: \"Hip-Hop & Experimental Beats\",\n        artists: [\"J Dilla\", \"Madlib\", \"Knxwledge\", \"The Alchemist\"],\n        commonRatios: [\"3:4\", \"5:4\"],\n        example: \"J Dilla's micro-timing and polyrhythmic layering\",\n        description: \"Subtle polyrhythmic elements in hi-hats and percussion create unique swing.\"\n      },\n      {\n        genre: \"Pop/Alternative\",\n        artists: [\"Radiohead\", \"Björk\", \"The Police\"],\n        commonRatios: [\"3:4\", \"5:4\"],\n        example: \"Radiohead's '15 Step' (5/4 time with 4/4 feel), The Police's 'Murder by Numbers'\",\n        description: \"Polyrhythms add sophistication to accessible song structures.\"\n      }\n    ],\n    technicalNotes: [\n      \"LCM (Lowest Common Multiple) determines grid size: 3:4 needs 12 steps, 5:4 needs 20 steps\",\n      \"Start with 3:2 and 3:4—they're the most musical and easiest to hear\",\n      \"Use mnemonics: '3:4 = Nice cup of tea', '5:4 = I am eating popcorn'\",\n      \"Anchor one rhythm (usually kick) to help listeners orient\",\n      \"Polyrhythms ≠ polymeter (different time signatures playing together)\"\n    ],\n    historicalContext: \"Polyrhythms are ancient—found in 13th-century African drumming, Indian talas dating back 2000+ years, and European medieval music. They represent humanity's innate understanding of mathematical relationships in sound.\",\n    productionTips: [\n      \"Start simple: Program one rhythm, then add the contrasting pattern\",\n      \"Use velocity automation to emphasize the alignment points\",\n      \"Layer timbres: different drum sounds make polyrhythms clearer\",\n      \"Don't overdo it: Even a 2-bar polyrhythmic section can transform a track\",\n      \"Try recording in slow motion, then speed up to performance tempo\",\n      \"Explore polyrhythmic artists on your own—search for tracks that challenge your rhythmic perception\"\n    ],\n    nextSteps: {\n      title: \"Beyond the Basics\",\n      description: \"You've mastered the fundamentals of polyrhythms—but this is just the beginning. <strong>Advanced rhythm lessons are coming</strong> that will explore nested polyrhythms, metric modulation, and algorithmic rhythm generation. In the meantime, <strong>search the internet</strong> for artists pushing polyrhythmic boundaries and experiment with your own complex ratios.\",\n      futureTopics: [\n        \"Advanced polyrhythm lessons coming soon: nested ratios (3:4:5), metric modulation, and polymetric composition\",\n        \"Combining polyrhythms with odd time signatures for extreme complexity\",\n        \"Micro-timing and groove manipulation techniques\",\n        \"Generative and algorithmic approaches to polyrhythmic patterns\"\n      ],\n      encouragement: \"The deeper you go into rhythm, the more musical possibilities open up. Keep exploring, keep experimenting, and trust your ears. The best rhythms are the ones that surprise even you.\"\n    }\n  },\n\n  // ====================\n  // MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"drums\", {\n    initial: \"Create a 3:4 polyrhythm with hi-hats against kick!\",\n    success: \"🔄 Perfect polyrhythm! You can hear the 3 and 4 working together.\",\n    error: \"Check your hi-hat placement—they should divide the bar into thirds.\",\n    alreadyCompleted: \"You've mastered 3:4! Try programming 5:4 or 7:4 next.\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: true,\n    enableExport: false,\n    showVelocityLane: true,\n    showPolyrhythmGuide: true\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Understand polyrhythmic theory and notation (ratios, LCM, alignment)\",\n    \"Create 3-over-4 and other polyrhythmic patterns (3:2, 5:4, 7:4)\",\n    \"Apply metric modulation for tempo feel changes\",\n    \"Build complex rhythmic textures with layered patterns\",\n    \"Recognize polyrhythms in various musical genres and traditions\",\n    \"Use mnemonics and visualization to internalize complex rhythms\"\n  ],\n\n  // ====================\n  // ADVANCED CONCEPTS\n  // ====================\n  advancedConcepts: {\n    metricModulation: {\n      title: \"Metric Modulation\",\n      description: \"Changing tempo by treating one subdivision as a new beat. Example: If eighth notes at 120 BPM become quarter notes, the new tempo is 240 BPM. Used by composers like Elliott Carter and in modern prog/math rock.\",\n      examples: [\n        \"120 BPM → eighth note becomes quarter note → 240 BPM\",\n        \"90 BPM triplets → triplet becomes new beat → 135 BPM (3:2 ratio)\",\n        \"Tool's 'Lateralus' transitions between time signatures via metric modulation\"\n      ],\n      practicalUse: \"Create seamless tempo changes in drops, breakdowns, or transitions without jarring jumps.\"\n    },\n    complexPolyrhythms: {\n      title: \"Complex Ratios (5:4, 7:4, 11:8)\",\n      description: \"Higher-order polyrhythms create more disorienting, hypnotic effects. They require larger grids and more careful programming but reward with unique grooves.\",\n      gridSizes: {\n        \"2:3\": 6,\n        \"3:4\": 12,\n        \"5:4\": 20,\n        \"7:4\": 28,\n        \"11:8\": 88\n      },\n      tips: [\n        \"5:4 is common in African music—sounds exotic but remains musical\",\n        \"7:4 and beyond can feel chaotic—use sparingly for effect\",\n        \"Layer only 2-3 polyrhythms max to avoid rhythmic mud\",\n        \"Try playing one rhythm with your hands, the other with your feet to internalize it\"\n      ]\n    },\n    crossRhythms: {\n      title: \"Cross-Rhythms vs Polyrhythms\",\n      description: \"Cross-rhythms emphasize beats that go against the main pulse (e.g., 3 against 4 in the same tempo). Polyrhythms create independent tempos that happen to align mathematically.\",\n      example: \"In Cuban son clave, the 3-side and 2-side create a cross-rhythm against the 4/4 pulse—all in the same tempo, but emphasizing different beats.\"\n    },\n    polymetersVsPolyrhythms: {\n      title: \"Polymeter vs Polyrhythm\",\n      description: \"Don't confuse them! Polymeter = different time signatures playing simultaneously (e.g., 3/4 bass + 4/4 drums). Polyrhythm = different subdivisions of the same pulse.\",\n      example: \"Pink Floyd's 'Money' uses 7/4 time (polymeter). A 3:4 polyrhythm uses 4/4 time with triplet feel layered against straight eighths.\"\n    },\n    listening: {\n      title: \"Polyrhythm Listening Examples\",\n      essentialTracks: [\n        { artist: \"Tool\", track: \"Schism\", ratio: \"5/8 + 6/8 layering\", timestamp: \"0:00-4:00\" },\n        { artist: \"Radiohead\", track: \"15 Step\", ratio: \"5/4 with 4/4 feel\", timestamp: \"0:00-1:00\" },\n        { artist: \"Aphex Twin\", track: \"Bucephalus Bouncing Ball\", ratio: \"Multiple complex ratios\", timestamp: \"entire track\" },\n        { artist: \"Flying Lotus\", track: \"Zodiac Shit\", ratio: \"3:4, 5:4 polyrhythms\", timestamp: \"0:30-2:00\" },\n        { artist: \"Dave Brubeck\", track: \"Take Five\", ratio: \"5/4 time signature\", timestamp: \"0:00-0:30\" },\n        { artist: \"Meshuggah\", track: \"Bleed\", ratio: \"Polymetric riffing\", timestamp: \"entire track\" },\n        { artist: \"J Dilla\", track: \"Workinonit\", ratio: \"Subtle 3:4 hi-hat layers\", timestamp: \"0:00-1:00\" },\n        { artist: \"The Police\", track: \"Murder by Numbers\", ratio: \"3:2 rhythmic tension\", timestamp: \"verses\" }\n      ]\n    }\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 14,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "drums-13",
      "drums-12"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Polyrhythms &",
      "Prepararsi alla lezione successiva del modulo Drums & Rhythm"
    ]
  },
  {
    "slug": "harmony-14",
    "filename": "lesson-harmony-14.config.js",
    "title": "Borrow One Chord:",
    "category": "Modal Interchange",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 14 - Borrow One Chord: Instant Emotion Shift\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-14-progress\",\n  lessonNumber: 14,\n  lessonCategory: \"Modal Interchange\",\n\n  nextLessonUrl: \"lesson-harmony-15.html\",\n  prevLessonUrl: \"lesson-harmony-13.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 14, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Borrow One Chord:\",\n    titleHighlight: \"Instant Emotion Shift\",\n    subtitle: \"Add a borrowed chord from the parallel minor key to create dramatic color changes. You'll learn modal interchange - borrowing chords from parallel keys (C major/C minor) for instant emotional impact. This is the secret behind cinematic progressions and modern pop hooks.\"\n  },\n\n  sequencer: {\n    tempo: 95,\n    key: \"C\",\n    scale: \"Major\",\n    stepCount: 64,\n    bars: 4,\n    pitchRange: {\n      low: 48,\n      high: 84\n    }\n  },\n\n  exercise: {\n    title: \"Use a Borrowed Chord for Emotional Color\",\n    description: \"Build a progression in C major, then <strong>borrow one chord from C minor</strong> to add drama. You'll use <strong>Ab major (♭VI)</strong> - a chord not in C major but in C minor. This creates a sudden emotional shift that sounds cinematic and modern.\",\n    tip: \"Modal interchange means borrowing chords from parallel keys. C major and C minor share the same root (C) but have different scales. When you're in C major, you can 'borrow' chords that exist in C minor for instant color. The ♭VI chord (Ab) is the most popular borrowed chord - it sounds epic and cinematic!\",\n    steps: [\n      { text: \"Bar 1: <strong>C major</strong> (C-E-G) - home in C major\" },\n      { text: \"Bar 2: <strong>Ab major</strong> (Ab-C-Eb) - BORROWED from C minor!\" },\n      { text: \"Bar 3: <strong>F major</strong> (F-A-C) - back to C major\" },\n      { text: \"Bar 4: <strong>G major</strong> (G-B-D) - resolves to C\" },\n      { text: \"Notice the Eb note in Ab - it's not in C major (should be E natural)\" },\n      { text: \"Listen for the dramatic, emotional shift when Ab appears!\" }\n    ]\n  },\n\n  validation: {\n    type: \"borrowed_chord_progression\",\n    requiredChords: [\n      { time: 0, pitches: [60, 64, 67], chordName: \"C\", key: \"C major\" },\n      { time: 16, pitches: [68, 72, 75], chordName: \"Ab\", key: \"C minor\", isBorrowed: true },\n      { time: 32, pitches: [65, 69, 72], chordName: \"F\", key: \"C major\" },\n      { time: 48, pitches: [67, 71, 74], chordName: \"G\", key: \"C major\" }\n    ],\n    checkForAccidentals: true,  // Ab chord has Eb (accidental in C major)\n    allowExtraNotes: false\n  },\n\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Build C → Ab → F → G. The Ab chord (Ab-C-Eb) is borrowed from C minor - notice the Eb creates drama and color!\",\n    success: \"Excellent! You've mastered modal interchange. That Ab chord creates instant cinematic drama - it's used in countless pop, rock, and film scores!\",\n    error: \"Check: C = C-E-G, Ab = Ab-C-Eb (note the Eb!), F = F-A-C, G = G-B-D. The Ab chord contains notes from C minor, creating that dramatic shift.\"\n  }),\n\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 14,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "harmony-13",
      "harmony-12"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Borrow One Chord:",
      "Prepararsi alla lezione successiva del modulo Modal Interchange"
    ]
  },
  {
    "slug": "mixing-14",
    "filename": "lesson-mixing-14.config.js",
    "title": "Reference Tracks & Critical Listening:",
    "category": "Mixing",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mixing 14 - Reference Tracks & Critical Listening\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-14-progress\",\n  lessonNumber: 14,\n  lessonCategory: \"Mixing\",\n\n  nextLessonUrl: \"lesson-mixing-15.html\",\n  prevLessonUrl: \"lesson-mixing-13.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 14, categoryLabel: \"Mixing\" }),\n    title: \"Reference Tracks & Critical Listening:\",\n    titleHighlight: \"Calibrate Your Ears to Professional Standards\",\n    subtitle: \"Learn to use reference tracks systematically, match loudness accurately, analyze frequency balance, and develop the critical listening skills that separate amateur from professional mixing\"\n  },\n\n  exercise: {\n    title: \"Build a Reference Panel and Calibrate Your Mix\",\n    description: \"Create a permanent reference system in your session that allows instant, level-matched A/B comparison between your mix and professional references. Develop a repeatable workflow for critical listening that you'll use on every future mix.\",\n    tip: \"The single most common amateur mistake is comparing your mix to a reference without level matching. Louder sounds better—always. Even 0.5 dB difference biases your judgment. Use integrated LUFS (not peak, not RMS) for matching, and switch rapidly (under 2 seconds) to catch real differences before your ears adapt.\",\n    steps: [\n      '<strong>Load and save session</strong> — Open \"Mixing-13_GenreVariants\" and Save As: \"Mixing-14_ReferenceTracking\". This becomes your reference workflow template.',\n      '<strong>Select appropriate references</strong> — Choose 2–3 reference tracks that match: (1) Same genre as your mix, (2) Similar tempo and energy, (3) Released in the last 3–5 years (production standards evolve), (4) Commercially successful (proven to translate). Avoid heavily limited \"loudness war\" masters if possible.',\n      '<strong>Import references into session</strong> — Create a bus labeled \"REFERENCE\" at the end of your mixer. Import reference tracks onto dedicated tracks routed ONLY to the Reference bus. Do NOT route to your Mix Bus—references should bypass all your processing.',\n      '<strong>Set up level matching</strong> — Insert a loudness meter on your Mix Bus and on the Reference bus (or use a plugin like ADPTR MetricAB). Measure both at the same playback section. Match the reference to your mix level (not the other way around)—turn the reference DOWN to match your mix.',\n      '<strong>Match loudness using integrated LUFS</strong> — Play 20–30 seconds of your mix\\'s loudest section. Note the integrated LUFS reading. Play the same timeframe of your reference. Adjust reference track gain until both read within <strong>±0.5 LUFS integrated</strong>. Short-term LUFS fluctuates; integrated is more stable for matching.',\n      '<strong>Set up rapid A/B switching</strong> — Create a switching system: (1) Use a plugin like MetricAB with built-in switching, OR (2) Set up key commands to solo/unsolo Reference bus, OR (3) Use a utility plugin to toggle polarity for instant mute. Goal: switch in under 1 second.',\n      '<strong>Practice rapid switching</strong> — Play your mix, switch to reference, switch back—all within 5 seconds total. Your ears should catch broad differences (low end, vocal level, brightness) before they adapt. If you listen to the reference for more than 3–5 seconds, you start adapting to it and lose objectivity.',\n      '<strong>Analyze low-end balance</strong> — A/B focus: How does your low end compare? Is your kick as punchy? Is your bass as present or too boomy? Does your sub extend as low, or is it weaker/stronger? Note specific observations.',\n      '<strong>Analyze midrange clarity</strong> — A/B focus: Is your vocal as clear and forward? Do your mids feel muddy or hollow compared to the reference? Is there congestion in 200–500 Hz, or harshness in 2–4 kHz?',\n      '<strong>Analyze high-end texture</strong> — A/B focus: Is your top end as bright and airy? Do your cymbals/hi-hats have the same presence? Is there harshness, or is the reference smoother? Check 8–12 kHz range specifically.',\n      '<strong>Analyze stereo width and depth</strong> — A/B focus: Is your mix as wide? Is the center as focused? Does the reference have more depth (front-to-back dimension), or does your mix feel flat? Note width automation differences between verse and chorus.',\n      '<strong>Analyze dynamics</strong> — A/B focus: Does your mix breathe like the reference, or is it more squashed/limited? Do transients (kick, snare) hit as hard? Does the reference have more or less dynamic range? Use a dynamic range meter if available.',\n      '<strong>Document observations</strong> — Create a text note or comment track in your session. Write down: (1) What\\'s working well in your mix, (2) What needs adjustment, (3) Specific frequencies or elements to address. Be specific: \"kick needs more 80 Hz\" not \"low end is off.\"',\n      '<strong>Make targeted adjustments</strong> — Based on your observations, make 2–3 specific adjustments. Re-match levels after each adjustment (processing can change loudness). A/B again to verify improvement.',\n      '<strong>Export and self-evaluate</strong> — Export your improved mix. Re-import alongside the reference (on a new track, routed to Reference bus, level-matched). Listen back without looking at the screen. Can you tell which is which? Where do differences remain?'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Why Reference Tracks Are Non-Negotiable',\n        content: `Reference tracks are your calibration standard. Without them, you're mixing in a vacuum—your room acoustics, monitoring system, and personal biases all color your perception. References ground you in objective reality: what does a professional, commercially successful mix actually sound like?\n\n**The Problem They Solve:**\n- **Room acoustics:** Your room may emphasize or hide certain frequencies. References reveal what's really there.\n- **Speaker bias:** Every monitoring system has a characteristic sound. References help you compensate.\n- **Ear fatigue:** After hours of mixing, your perception drifts. References reset your ears.\n- **Style calibration:** What sounds \"right\" varies by genre and era. References define the target.\n\n**When to Reference:**\n- **At the start:** Before mixing, listen to 2–3 references to calibrate your ears to the genre\n- **During mixing:** Every 15–30 minutes, briefly A/B to check you're on track\n- **Before export:** Final reference check to catch drift\n- **After a break:** When returning to a session, reference before resuming\n\n**The Golden Rule:**\nIf your mix sounds obviously different from professional references in the same genre, something is wrong—with your mix, your monitoring, or your room. References don't lie; your ears can be fooled.`\n      },\n      {\n        title: 'Choosing the Right References',\n        content: `Not all references are equally useful. The best reference tracks share sonic DNA with your target while being of unquestionable professional quality.\n\n**Selection Criteria:**\n1. **Same genre:** A pop reference won't help you mix metal. Match the genre closely.\n2. **Similar tempo/energy:** A ballad reference doesn't help with an uptempo track. Match the vibe.\n3. **Recent release (last 3–5 years):** Production standards evolve. Older tracks may not reflect current expectations.\n4. **Commercial success:** Tracks that charted, got radio play, or critical acclaim have proven translation.\n5. **Good mastering:** Avoid \"loudness war\" victims (crushed dynamics). Look for tracks with clear transients and some dynamic range.\n\n**What to Avoid:**\n- **Mismatched genres:** Comparing your EDM track to a rock reference confuses the analysis\n- **Poorly mastered tracks:** Some releases are over-limited or EQ'd strangely\n- **Re-masters or remixes:** May have different sonic character than original\n- **Your own old mixes:** They carry your same biases\n\n**How Many References?**\nUse 2–3 references maximum. Too many creates confusion. Choose:\n- **One \"aspirational\" reference:** The absolute best example of the sound you want\n- **One \"realistic\" reference:** A good example that's achievable with your resources\n- **One \"contrast\" reference (optional):** A slightly different take on the genre for perspective\n\n**Building a Reference Library:**\nCreate a folder of genre-sorted reference tracks. Keep them organized, properly labeled, and in high-quality format (WAV or high-bitrate lossy). Having references ready means you'll actually use them.`\n      },\n      {\n        title: 'Level Matching: The Most Critical Step',\n        content: `Level matching is the foundation of valid A/B comparison. Louder sounds better—it's psychoacoustic fact. Even a 0.5 dB difference biases your perception. If your reference is louder than your mix, you'll think the reference is \"better\" even if the tonal balance is identical.\n\n**Why Integrated LUFS (Not Peak or RMS):**\n- **Peak:** Measures momentary transient peaks. Doesn't reflect perceived loudness.\n- **RMS:** Measures average level. Better than peak, but doesn't account for frequency perception.\n- **LUFS (Loudness Units Full Scale):** Measures perceived loudness using a weighting curve that models human hearing. This is what you need.\n\n**Integrated vs Short-Term vs Momentary:**\n- **Momentary LUFS:** Updates every 400ms. Fluctuates rapidly. Not useful for matching.\n- **Short-Term LUFS:** Averages over 3 seconds. Useful for checking sections.\n- **Integrated LUFS:** Averages from start to reset. Use this for level matching—it gives a stable number.\n\n**Level Matching Procedure:**\n1. Insert a loudness meter on your Mix Bus (or use your DAW's built-in metering)\n2. Play a representative section of your mix (20–30 seconds of the loudest part, typically chorus)\n3. Note the integrated LUFS reading (e.g., -12 LUFS)\n4. Reset the meter\n5. Play the same timeframe of your reference track\n6. Adjust reference track gain (clip gain or trim plugin) until it reads within ±0.5 LUFS of your mix\n7. Verify by switching back and forth—they should feel equally loud\n\n**Match the Reference DOWN to Your Mix:**\nDon't turn your mix up to match a loud reference. Turn the reference down. Your mix has headroom requirements (Lesson 2); the reference is already mastered. Match the reference to your mixing level.\n\n**Recommended Tools:**\n- **Youlean Loudness Meter (free):** Excellent LUFS metering, visual history\n- **ADPTR MetricAB:** Reference plugin with built-in level matching and A/B switching\n- **Reference (Mastering The Mix):** Similar to MetricAB, good visualization\n- **iZotope Insight 2:** Professional metering suite`\n      },\n      {\n        title: 'A/B Technique: Rapid Switching and Focus Areas',\n        content: `How you A/B matters as much as what you compare. Slow, casual switching allows your ears to adapt and loses critical detail. Rapid, focused switching reveals real differences.\n\n**Rapid Switching Protocol:**\n1. **Switch fast:** Under 1 second between mix and reference. Don't let your ears adapt.\n2. **Listen short:** 2–3 seconds per comparison. Quick impressions catch broad issues.\n3. **Loop a section:** Compare the same section (verse, chorus) each time. Don't jump around randomly.\n4. **Focus on one thing:** Each A/B pass, focus on ONE aspect (low end, vocal level, width). Trying to hear everything at once catches nothing.\n\n**What to Listen For (One at a Time):**\n\n**Pass 1: Overall Tonal Balance**\n- Does your mix feel darker or brighter than the reference?\n- Is there an obvious frequency range that's missing or excessive?\n- First impression: what jumps out as \"wrong\"?\n\n**Pass 2: Low End (20–200 Hz)**\n- Kick punch and weight\n- Bass presence and definition\n- Sub extension (do you feel it in your chest?)\n- Low-mid clarity or mud (200–400 Hz)\n\n**Pass 3: Midrange (200 Hz–5 kHz)**\n- Vocal presence and clarity\n- Snare body and crack\n- Guitar/synth presence\n- Congestion or hollowness\n\n**Pass 4: High End (5–20 kHz)**\n- Cymbal/hi-hat presence\n- Air and sparkle (10–16 kHz)\n- Harshness or smoothness (6–10 kHz)\n- Overall brightness level\n\n**Pass 5: Stereo Image**\n- Width: Is your mix as wide?\n- Center focus: Is your center as solid?\n- Depth: Does the reference have more front-to-back dimension?\n\n**Pass 6: Dynamics**\n- Transient impact (kick, snare, vocal consonants)\n- Dynamic range (verse-to-chorus contrast)\n- Overall \"life\" vs \"squashed\" feel\n\n**Avoiding Adaptation:**\nAfter 5–6 switches, take a 30-second break (silence or conversation). Your ears reset. Then resume. Extended A/B sessions cause ear fatigue and diminishing returns.`\n      },\n      {\n        title: 'Frequency Analysis: Using Visual Tools Wisely',\n        content: `Spectrum analyzers and frequency displays can supplement critical listening, but they cannot replace it. Visual tools show you what's there; your ears tell you if it sounds right.\n\n**What Analyzers CAN Tell You:**\n- **Frequency distribution:** Where does the energy live in the reference vs your mix?\n- **Low-end slope:** Professional mixes often have a consistent low-end roll-off\n- **Spectral balance:** Broad trends across the frequency range\n- **Problem areas:** Obvious peaks or nulls that you might miss\n\n**What Analyzers CANNOT Tell You:**\n- **If it sounds good:** A \"correct\" frequency curve can sound terrible if dynamics are wrong\n- **Transient quality:** Static analyzers miss timing and attack\n- **Stereo information:** Standard analyzers show combined spectrum, not L/R or M/S\n- **Context:** A 3 dB boost at 3 kHz might be perfect for one song and wrong for another\n\n**How to Use Spectrum Comparison:**\n1. Insert an analyzer on your Mix Bus (SPAN, iZotope Insight, Voxengo Span Plus)\n2. Play your mix and note the spectral shape\n3. Play the reference (level-matched) and note differences\n4. Look for: Low-end slope, midrange presence, high-end shelf, obvious peaks/nulls\n\n**Common Observations:**\n- **Reference has more sub:** Your low end may be weak, or you're over-cutting\n- **Reference has less 200–400 Hz:** Common \"mud\" area—many professionals cut here\n- **Reference has more 3–5 kHz:** Presence range—your vocal/leads may be buried\n- **Reference has more 10–16 kHz:** \"Air\" shelf—modern production often boosts here\n\n**Pink Noise Reference (Advanced):**\nSome engineers compare their mix to a pink noise slope (-3 dB/octave). A balanced mix roughly follows this slope. It's a sanity check, not a target—musical context matters more than matching a curve.\n\n**Recommended Analyzers:**\n- **Voxengo SPAN (free):** Excellent FFT analyzer with multiple modes\n- **iZotope Insight 2:** Professional suite with spectrogram, loudness, and stereo analysis\n- **FabFilter Pro-Q 3:** Built-in analyzer with EQ match function\n- **Plugin Alliance ADPTR Streamliner:** Optimizes for streaming with visual feedback`\n      },\n      {\n        title: 'Critical Listening: Training Your Ears',\n        content: `Critical listening is a skill that develops with practice. The more you actively analyze professional mixes, the faster you'll identify issues in your own work.\n\n**Structured Listening Drill (Daily Practice):**\n1. Choose a professional track you admire (not in a session, just playback)\n2. Listen through once for enjoyment\n3. Listen again, focusing ONLY on the low end. How does the kick hit? How does the bass move?\n4. Listen again, focusing ONLY on the vocal. Where is it placed? How is it processed?\n5. Listen again, focusing ONLY on the effects. How much reverb? What type of delay?\n6. Listen again, focusing ONLY on the stereo image. What's panned where? How wide is it?\n7. Take notes. What specific techniques can you identify?\n\n**The Genre Immersion Exercise:**\nWhen mixing a specific genre, spend 30 minutes listening to 5–10 tracks in that genre before opening your session. Don't analyze deeply—just absorb the sound. Your ears will calibrate to genre expectations naturally.\n\n**Logging Observations:**\nKeep a listening journal (physical or digital):\n- Track name, artist, genre\n- Low end: (your observations)\n- Mids: (your observations)\n- Highs: (your observations)\n- Width: (your observations)\n- Effects: (your observations)\n- Standout techniques: (what makes this mix special?)\n\nOver time, patterns emerge. You'll notice what consistently separates pro mixes from amateur ones.\n\n**Critical Listening Checklist (Reusable):**\nWhen referencing your own mix, run through this checklist:\n\n✅ **Low End:** Kick punch, bass presence, sub weight, low-mid clarity\n✅ **Midrange:** Vocal clarity, snare body, instrument definition, congestion\n✅ **High End:** Cymbal presence, air, harshness, brightness level\n✅ **Width:** Stereo spread, center focus, mono compatibility\n✅ **Depth:** Front-to-back dimension, reverb/delay quality\n✅ **Dynamics:** Transient impact, dynamic range, verse/chorus contrast\n✅ **Overall:** Does this sound like it belongs on a playlist with the references?\n\nIf any box can't be checked confidently, that's your next mix adjustment.`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Select appropriate reference tracks based on genre, tempo, era, and production quality\",\n    \"Level-match references to your mix using integrated LUFS measurement (±0.5 LUFS accuracy)\",\n    \"Apply rapid A/B switching technique with focused listening passes (low end, mids, highs, width, dynamics)\",\n    \"Use spectrum analyzers as supplementary tools while prioritizing critical listening\",\n    \"Develop structured critical listening habits through daily practice and observation logging\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this mixing lesson to advance your skills.\",\n    success: \"Excellent! You've mastered Reference Tracks & Critical Listening. Your ears are now calibrated to professional standards!\",\n    error: \"Review the mixing concepts and try again.\",\n    alreadyCompleted: \"You've completed this mixing technique. Keep practicing!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 14,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "mixing-13",
      "mixing-12"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Reference Tracks & Critical Listening:",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-14",
    "filename": "lesson-sound-design-14.config.js",
    "title": "Advanced Synthesis Techniques:",
    "category": "Sound Design",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Sound Design 14 - Advanced Synthesis Techniques\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-sound-design-14-progress\",\n  lessonNumber: 14,\n  lessonCategory: \"Sound Design\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-sound-design-15.html\",\n  prevLessonUrl: \"lesson-sound-design-13.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 14, categoryLabel: \"Sound Design\" }),\n    title: \"Advanced Synthesis Techniques:\",\n    titleHighlight: \"Combine Multiple Synthesis Methods\",\n    subtitle: \"Master hybrid synthesis by combining subtractive, FM, wavetable, and granular methods. Master professional sound design techniques used in modern music production.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Explore Advanced Synthesis Techniques\",\n    description: \"Master hybrid synthesis by combining subtractive, FM, wavetable, and granular methods. This lesson covers the essential concepts and practical techniques you need to master this sound design method.\",\n    tip: \"Listen critically to how each parameter affects the sound. Small changes can have dramatic results in sound design.\",\n    steps: [\n      '<strong>Study the theory</strong> — Read through the sound design concepts and understand the signal flow.',\n      '<strong>Analyze the examples</strong> — Listen to reference sounds and identify key characteristics.',\n      '<strong>Experiment with parameters</strong> — Try different settings and hear how they change the sound.',\n      '<strong>Create variations</strong> — Design multiple versions exploring different timbres.',\n      '<strong>Save your presets</strong> — Document successful sounds for future use.',\n      'Complete the lesson when ready to move forward.'\n    ]\n  },\n  \n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Advanced Synthesis Techniques',\n        content: `Advanced Synthesis Techniques is a fundamental sound design technique that shapes the sonic character of your productions.\n\n**Key Concepts:**\n- Core synthesis principles and signal flow\n- Parameter relationships and interactions  \n- Frequency spectrum considerations\n- Timbral characteristics and sonic possibilities\n- Common applications in music production\n\n**Professional Applications:**\nModern producers use Advanced Synthesis Techniques for:\n- Creating signature sounds and textures\n- Designing genre-specific timbres\n- Building unique sonic identities\n- Crafting sounds that cut through mixes\n- Generating movement and evolution in arrangements\n\nUnderstanding these concepts gives you complete control over your sound palette.`\n      },\n      {\n        title: 'Practical Sound Design Workflow',\n        content: `Professional sound designers follow systematic approaches to achieve desired results:\n\n**Design Process:**\n1. **Define the goal** — Know what sound you're trying to create\n2. **Choose the method** — Select appropriate synthesis technique\n3. **Start simple** — Begin with basic waveforms and build complexity\n4. **Shape with filters** — Sculpt the frequency content\n5. **Add movement** — Use envelopes and modulation\n6. **Layer if needed** — Combine multiple sounds for richness\n7. **Process and polish** — Apply effects and finalize\n\n**Critical Listening:**\n- A/B compare with reference sounds\n- Analyze frequency spectrum with analyzers\n- Check mono compatibility\n- Test in context with other mix elements\n\n**Common Mistakes to Avoid:**\n- Over-processing before establishing the core sound\n- Too many modulation sources creating chaos\n- Ignoring the frequency spectrum balance\n- Not considering the sound's role in the arrangement\n\nStudy professional productions and reverse-engineer the sounds you admire.`\n      }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master the fundamental concepts of Advanced Synthesis Techniques\",\n    \"Understand signal flow and parameter relationships\",\n    \"Apply sound design techniques to practical productions\",\n    \"Develop critical listening skills for timbre and texture\",\n    \"Create professional-quality sounds for your productions\"\n  ],\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this lesson to master Advanced Synthesis Techniques techniques.\",\n    success: \"Excellent! You've mastered Advanced Synthesis Techniques. Your sound design skills are growing!\",\n    error: \"Review the theory and try again.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these techniques!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 14,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "sound-design-13",
      "sound-design-12"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Advanced Synthesis Techniques:",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "vocals-14",
    "filename": "lesson-vocals-14.config.js",
    "title": "Vocal Production",
    "category": "Vocals",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-vocals-14-progress\",\n  lessonNumber: 14,\n  lessonCategory: \"Vocals\",\n  depthLevel: 9,\n  \n  nextLessonUrl: \"lesson-vocals-15.html\",\n  prevLessonUrl: \"lesson-vocals-13.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-vocals-14\", categoryLabel: \"Vocals\" }),\n    title: \"Vocal Production\",\n    titleHighlight: \"Techniques\",\n    subtitle: \"Master advanced recording, comping, tuning, and editing workflows that <strong>professional producers use daily</strong>. Learn how to capture perfect takes, comp the best moments, tune with transparency, and edit for emotional impact.\"\n  },\n  \n  sequencer: {\n    tempo: 88,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true,\n    requiredTempo: 88\n  },\n  \n  exercise: {\n    title: \"Build Multi-Layer Vocal Arrangement\",\n    description: \"Create a <strong>professional vocal stack</strong> with lead, double, harmony, and ad-lib layers to understand vocal production architecture. You'll design a 4-bar vocal arrangement that demonstrates industry-standard layering techniques.\",\n    tip: \"Each vocal layer serves a purpose: lead (focus), double (thickness), harmony (color), ad-libs (interest). Keep lead vocal loudest and most present, doubles 3-6dB quieter, harmonies 6-9dB quieter, ad-libs mixed tastefully.\",\n    steps: [\n      { text: \"<strong>Set tempo to 88 BPM</strong> for a slow, emotional vocal showcase.\" },\n      { text: \"<strong>Program lead vocal</strong> on steps 1, 5, 9, 13 (downbeats) with velocity 110-120 for prominence.\" },\n      { text: \"<strong>Add vocal double</strong> on same steps (1, 5, 9, 13) with velocity 90-100, slightly detuned for thickness.\" },\n      { text: \"<strong>Create harmony vocal</strong> on steps 3, 7, 11, 15 (off-beats) with velocity 70-80 for color.\" },\n      { text: \"<strong>Layer ad-libs</strong> on steps 2, 6, 10, 14 with velocity 60-70 for rhythmic interest.\" },\n      { text: \"<strong>Listen</strong> to how each layer contributes to the full vocal stack and emotional impact.\" }\n    ]\n  },\n  \n  instruments: [\n    {\n      id: \"lead-vocal\",\n      label: \"Lead Vocal\",\n      color: \"linear-gradient(135deg, #6c5ce7, #5f27cd)\",\n      targetSteps: [0, 4, 8, 12],\n      oscillator: { type: \"sawtooth\", detune: 0 },\n      envelope: { attack: 0.01, decay: 0.4, sustain: 0.5, release: 0.5 },\n      filter: { type: \"lowpass\", frequency: 3000, Q: 1.0 }\n    },\n    {\n      id: \"vocal-double\",\n      label: \"Vocal Double\",\n      color: \"linear-gradient(135deg, #a29bfe, #8478f7)\",\n      targetSteps: [0, 4, 8, 12],\n      oscillator: { type: \"sawtooth\", detune: -8 },\n      envelope: { attack: 0.015, decay: 0.4, sustain: 0.5, release: 0.5 },\n      filter: { type: \"lowpass\", frequency: 2800, Q: 1.0 }\n    },\n    {\n      id: \"harmony-vocal\",\n      label: \"Harmony Vocal\",\n      color: \"linear-gradient(135deg, #fd79a8, #e84393)\",\n      targetSteps: [2, 6, 10, 14],\n      oscillator: { type: \"triangle\", detune: 7 },\n      envelope: { attack: 0.02, decay: 0.4, sustain: 0.5, release: 0.6 },\n      filter: { type: \"lowpass\", frequency: 2400, Q: 1.2 }\n    },\n    {\n      id: \"ad-lib\",\n      label: \"Ad-Lib\",\n      color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\",\n      targetSteps: [1, 5, 9, 13],\n      oscillator: { type: \"sine\", detune: 12 },\n      envelope: { attack: 0.005, decay: 0.2, sustain: 0.3, release: 0.3 },\n      filter: { type: \"bandpass\", frequency: 1800, Q: 2.0 }\n    }\n  ],\n  \n  theory: {\n    sections: [\n      {\n        title: 'Recording & Comping Workflows',\n        content: `**Recording Best Practices:**\n**Gain Staging:** Record vocals peaking at -18dB to -12dB (yellow on meters, never red). This leaves headroom for processing and prevents clipping. Use a pop filter to reduce plosives (p, b, t) and position mic 6-12 inches from singer.\n\n**Multiple Takes:** Record 3-5 full takes of each section (verse, chorus, bridge). Don't stop for small mistakes—capture the full emotion. Then record 2-3 \"punch-in\" takes for specific difficult phrases.\n\n**Comping (Compilation):**\nListen to all takes and select the best moments from each:\n1. **Listen once** without editing to get familiar\n2. **Mark favorites** on second listen (A, B, C rating system)\n3. **Comp the best lines** from different takes into one \"perfect\" performance\n4. **Crossfade edits** (10-30ms) to hide transitions between takes\n5. **Prioritize emotion** over technical perfection—a slightly pitchy but passionate line beats a perfect but lifeless one\n\n**Pro Tip:** Use playlist comping in your DAW:\n- **Ableton:** Take Lanes\n- **Logic Pro:** Quick Swipe Comping\n- **FL Studio:** Playlist feature\n- **Pro Tools:** Playlisting mode\n\n**Performance Direction:**\n- **Verse:** More intimate, conversational delivery (6-8 inches from mic)\n- **Chorus:** More powerful, backed-off delivery (10-12 inches to control dynamics)\n- **Ad-libs:** Closer, breathy, or energetic (4-6 inches for presence)`\n      },\n      {\n        title: 'Tuning & Editing Techniques',\n        content: `**Vocal Tuning Philosophy:**\n**When to tune:** Modern pop/EDM expects near-perfect tuning. Hip-hop, R&B, rock, and indie tolerate more natural variation. Tune **after** comping but **before** adding effects.\n\n**Tuning Tools:**\n- **Auto-Tune/Melodyne:** Real-time or manual pitch correction\n- **Retune Speed:** 0-20ms = robotic T-Pain effect, 30-80ms = natural pop vocal, 100-200ms = subtle correction\n- **Humanize:** Leave small imperfections (vibrato, transitions) for authenticity\n\n**Manual Tuning Best Practices:**\n1. **Tune to the key** (if song is in C Major, tune to C Major scale)\n2. **Focus on sustained notes** (long notes are most noticeable)\n3. **Leave transitions alone** (pitch slides between notes add expression)\n4. **Preserve vibrato** (don't flatten the natural wavering at note ends)\n5. **A/B test** (bypass tuning to ensure it sounds natural)\n\n**Timing Correction:**\n**Quantize vocals sparingly.** Unlike drums, vocals sound robotic if perfectly aligned. Instead:\n- Move early/late syllables that feel awkward\n- Tighten backing vocals/doubles more than lead\n- Keep lead vocal's natural timing (it's the \"heart\" of the track)\n\n**Editing Techniques:**\n**Breath Control:** Remove loud breaths before phrases (or reduce volume by -6 to -12dB). Keep subtle breaths for realism.\n\n**Silence Between Phrases:** Add small fades (5-10ms) at the start/end of vocal clips to remove room noise and mouth clicks.\n\n**Crossfades:** Always use short crossfades (10-30ms) when editing vocal clips to avoid clicks/pops.\n\n**Sibilance Control:** Use a de-esser plugin to tame harsh \"s,\" \"sh,\" \"t\" sounds (4-8 kHz). Target frequency: 6-8 kHz, Threshold: -6 to -12dB, Ratio: 4:1.`\n      },\n      {\n        title: 'Vocal Layering Architecture',\n        content: `**Standard Vocal Stack:**\n\n**Lead Vocal (Center, Loudest):**\n- **Purpose:** Main melody, lyrical focus\n- **Processing:** Full compression, EQ, de-esser, reverb, delay\n- **Pan:** Center (mono)\n- **Volume:** 0dB (reference level)\n\n**Double Vocal (Center or Slight L/R, -3 to -6dB):**\n- **Purpose:** Adds thickness and confidence to lead\n- **Recording:** Same melody as lead, slightly different timing/tone\n- **Processing:** Less compression than lead, high-pass filter at 150Hz to avoid low-end buildup\n- **Pan:** Center (mono) OR slight L/R (L: 10%, R: 10%) for width\n- **Volume:** -3 to -6dB quieter than lead\n\n**Harmony Vocals (Stereo, -6 to -9dB):**\n- **Purpose:** Adds color, emotion, and musicality\n- **Recording:** Different pitches (thirds, fifths above/below lead melody)\n- **Processing:** More reverb than lead for depth, chorus for width\n- **Pan:** Hard L/R (L: 100%, R: 100%) for stereo width\n- **Volume:** -6 to -9dB quieter than lead\n\n**Backing Vocals / Ad-Libs (Stereo, -9 to -12dB):**\n- **Purpose:** Adds rhythmic interest, call-and-response, hype\n- **Recording:** Short phrases, exclamations, echoes of lead\n- **Processing:** Heavy effects (distortion, lo-fi, delay) for character\n- **Pan:** Wide stereo (L: 80%, R: 80% or varied)\n- **Volume:** -9 to -12dB quieter than lead (mixed tastefully, not constant)\n\n**Vocal Pad (Stereo, -12 to -18dB):**\n- **Purpose:** Ambient texture, dreamy atmosphere\n- **Processing:** Pitch-shifted down 1 octave, heavy reverb, chorus\n- **Pan:** Wide stereo\n- **Volume:** Barely audible, felt more than heard\n\n**Pro Tip:** Don't use all layers at once. Sparse verses with just lead + subtle double, then bring in harmonies and ad-libs for choruses to create dynamic contrast.`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Master vocal recording best practices: gain staging, multiple takes, performance direction\",\n    \"Learn professional comping workflows to compile the best moments from multiple takes\",\n    \"Understand vocal tuning philosophy: when to tune, retune speeds, preserving natural expression\",\n    \"Apply timing correction and editing techniques: breath control, crossfades, de-essing\",\n    \"Design multi-layer vocal stacks: lead, double, harmony, ad-libs, and vocal pads for dynamic arrangements\"\n  ]\n};\n",
    "number": 14,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "vocals-13",
      "vocals-12"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Vocal Production",
      "Prepararsi alla lezione successiva del modulo Vocals"
    ]
  },
  {
    "slug": "arrangement-15",
    "filename": "lesson-arrangement-15.config.js",
    "title": "Rhythmic Variation:",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 15 - Rhythmic Variation\n *\n * This lesson teaches how to keep rhythm interesting through variation.\n * Master groove changes, beat switches, and rhythmic development.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-arrangement-15-progress\",\n  lessonNumber: 15,\n  lessonCategory: \"Arrangement\",\n  depthLevel: 4,\n\n  nextLessonUrl: \"lesson-arrangement-16.html\",\n  prevLessonUrl: \"lesson-arrangement-14.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 15, categoryLabel: \"Arrangement\" }),\n    title: \"Rhythmic Variation:\",\n    titleHighlight: \"Groove Evolution\",\n    subtitle: \"Keep rhythm <strong>interesting</strong> while maintaining the <strong>core groove</strong>. Master <strong>beat switches</strong>, <strong>fill patterns</strong>, and <strong>rhythmic development</strong> across sections.\"\n  },\n\n  exercise: {\n    title: \"Create Rhythmic Variation Across Sections\",\n    description: \"Build an arrangement where the <strong>rhythm evolves</strong> while keeping recognizable patterns. Vary hi-hat patterns, add percussion, change kick patterns, but maintain the core groove identity.\",\n    tip: \"Keep the core kick pattern the same (listeners lock onto this), but vary everything else: hi-hat rhythm, snare placement, percussion layers. Second chorus: switch from straight to swung hi-hats for freshness.\",\n    steps: [\n      { text: \"<strong>Establish core groove</strong> - Create your main kick/snare pattern\" },\n      { text: \"<strong>Vary hi-hats</strong> - Change from 8ths to 16ths to triplets\" },\n      { text: \"<strong>Add percussion layers</strong> - Shakers, claps, tambourine\" },\n      { text: \"<strong>Change the feel</strong> - Straight to swung, or double-time feel\" },\n      { text: \"<strong>Beat switch</strong> - Completely different pattern for bridge\" },\n      { text: \"<strong>Return to core</strong> - Final chorus brings back original groove\" }\n    ]\n  },\n\n  variationTechniques: [\n    { technique: \"Hi-Hat Variation\", description: \"8ths → 16ths → Triplets → Shuffle\", impact: \"Subtle\" },\n    { technique: \"Percussion Layering\", description: \"Add shakers, claps, tambourine progressively\", impact: \"Medium\" },\n    { technique: \"Snare Movement\", description: \"Move snare hits by 16th notes for variation\", impact: \"Medium\" },\n    { technique: \"Beat Switch\", description: \"Completely change drum pattern for bridge\", impact: \"High\" },\n    { technique: \"Half-Time/Double-Time\", description: \"Change perceived tempo (same BPM)\", impact: \"High\" },\n    { technique: \"Swing Amount\", description: \"Vary from straight (0%) to heavily swung (70%)\", impact: \"Medium\" }\n  ],\n\n  messages: applyMessagePreset(\"arrangement\", {\n    initial: \"Create rhythmic variation while maintaining the core groove!\",\n    success: \"🥁 Excellent groove evolution! Your rhythmic variations keep it fresh without losing the vibe.\",\n    error: \"Keep the core groove recognizable while varying the details.\",\n    alreadyCompleted: \"You've mastered rhythmic variation!\"\n  }),\n\n  mode: {\n    type: \"structure-builder\",\n    sandbox: false,\n    showTimeline: true,\n    showRhythmGrid: true\n  },\n\n  learningObjectives: [\n    \"Vary rhythm while maintaining core groove identity\",\n    \"Apply six rhythmic variation techniques\",\n    \"Use beat switches effectively for contrast\",\n    \"Layer percussion progressively across sections\",\n    \"Understand half-time and double-time feels\"\n  ],\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"Why Rhythmic Variation Keeps Listeners Engaged\",\n        content: `\n**The Groove Paradox:**\n\nListeners want **familiarity** (recognizable patterns) but also **freshness** (subtle changes). Rhythmic variation solves this paradox:\n- Keep the **core groove** the same (listeners lock onto this)\n- Vary **everything around it** (hi-hats, percussion, fills, swing)\n\n**Result:** The track feels fresh and evolving while maintaining its identity.\n\n---\n\n**The Locked Foundation Principle:**\n\nThe most important rhythmic lesson: **Not everything should vary.**\n\n**Core Elements (Keep Consistent):**\n- **Kick drum pattern** — This is what dancers lock onto\n- **Snare placement** — Defines the groove's backbone\n- **Tempo** — Never changes mid-track (unless intentional tempo shift)\n\n**Variable Elements (Change Freely):**\n- **Hi-hat patterns** — 8ths → 16ths → Triplets → Shuffle\n- **Percussion layers** — Shakers, claps, tambourine\n- **Ghost notes** — Subtle snare/hi-hat hits between main beats\n- **Swing amount** — Straight (0%) → Light swing (30%) → Heavy swing (70%)\n\n**Why This Works:** The listener's brain recognizes the kick/snare groove (familiarity) while experiencing fresh hi-hat and percussion patterns (novelty).\n\n---\n\n**Rhythmic Hierarchy:**\n\nNot all rhythmic elements are equally important. Understanding the hierarchy helps you know what to keep vs what to vary:\n\n\\`\\`\\`\nMOST IMPORTANT (Lock This In):\n  ↑ Kick drum pattern\n  ↑ Snare placement\n  ↑ Overall tempo/BPM\n\nMEDIUM IMPORTANCE (Vary Subtly):\n  ↑ Bass rhythm (follows kick usually)\n  ↑ Main hi-hat pattern\n  ↑ Primary percussion\n\nLEAST IMPORTANT (Vary Freely):\n  ↑ Secondary percussion (shakers, etc.)\n  ↑ Ghost notes and fills\n  ↑ Swing/shuffle amount\n  ↑ Velocity variations\n\\`\\`\\`\n\n**Producers often make this mistake:** They vary the kick pattern thinking it creates interest, but it actually **destroys groove identity**. Instead, keep the kick locked and vary the hi-hats—same groove, more interest.\n\n---\n\n**Real-World Examples:**\n\n**\"Uptown Funk\" by Mark Ronson ft. Bruno Mars:**\n- **Core groove:** Kick on 1 and 3, snare on 2 and 4 (never changes)\n- **Variation:** Hi-hat patterns evolve constantly—verse is simple 8ths, chorus adds 16th-note flourishes, bridge has syncopated hi-hats\n- *Impact:* The groove feels locked in (dancers can follow it) but never boring (constant rhythmic detail changes)\n\n**\"One More Time\" by Daft Punk:**\n- **Core groove:** Four-on-the-floor kick (every quarter note) + offbeat open hi-hat\n- **Variation:** Layers percussion progressively—verse has minimal percussion, chorus adds claps and tambourine, breakdown strips back, final chorus adds cowbell and extra hi-hat layers\n- *Impact:* The foundation never changes (perfect for dancing) but density increases to build energy\n\n**\"In Da Club\" by 50 Cent:**\n- **Core groove:** Iconic minimal beat—kick, snare, hi-hat on specific hits (loops identically)\n- **Variation:** Producer occasionally adds tiny hi-hat rolls or ghost snares (barely noticeable but prevents monotony)\n- *Impact:* One of the most repetitive beats in hip-hop, yet it works because subtle variations prevent listener fatigue\n\n---\n\n**The 80/20 Groove Rule:**\n\n**80% Repetition:** Core kick/snare pattern stays identical across the track\n**20% Variation:** Hi-hats, percussion, fills, and swing change per section\n\nThis creates the perfect balance:\n- **Enough repetition** for groove recognition and head-nodding\n- **Enough variation** to prevent boredom\n\nExample Application:\n- **Verse 1:** Simple 8th-note hi-hats\n- **Chorus 1:** 16th-note hi-hats (double the density)\n- **Verse 2:** Swung 8th-note hi-hats (same density, different feel)\n- **Chorus 2:** 16th-note hi-hats + tambourine layer (added texture)\n- **Bridge:** Triplet hi-hats (completely different feel)\n- **Final Chorus:** 16th-note hi-hats + tambourine + shaker (maximum density)\n\n**Notice:** The kick and snare never changed, yet the groove evolved dramatically.\n        `\n      },\n      {\n        title: \"The Six Rhythmic Variation Techniques\",\n        content: `\n**Technique 1: Hi-Hat Subdivision Changes**\n\n**The most powerful yet subtle variation technique.** Change the rhythmic subdivision of your hi-hats between sections.\n\n**Common Progressions:**\n\n**Sparse → Dense (Building Energy):**\n\\`\\`\\`\nVerse:      Quarter notes  (♩ ♩ ♩ ♩)         — Simplest\nPre-Chorus: 8th notes      (♫ ♫ ♫ ♫ ♫ ♫ ♫ ♫) — Medium\nChorus:     16th notes     (♬♬♬♬♬♬♬♬♬♬♬♬♬♬♬♬) — Densest\n\\`\\`\\`\n\n**Straight → Syncopated (Adding Groove):**\n\\`\\`\\`\nIntro:  Straight 8ths    (on every 8th note)\nVerse:  Offbeat 8ths     (between kick/snare)\nChorus: Syncopated 16ths (emphasize offbeats)\n\\`\\`\\`\n\n**Straight → Swing → Shuffle (Changing Feel):**\n\\`\\`\\`\nVerse 1: Straight       (0% swing)  — Rigid, precise\nVerse 2: Light swing    (30% swing) — Slight groove\nChorus:  Heavy swing    (60% swing) — Funky, loose\nBridge:  Shuffle/triplet feel       — Jazz/blues vibe\n\\`\\`\\`\n\n**Why It Works:** Changing hi-hat rhythm affects the **perceived energy and groove** without changing the core beat. It's the easiest way to make sections feel different.\n\n**Pro Tip:** In verse 1, use simple 8th notes. In verse 2 (second time through the same melody), switch to 16ths. The listener recognizes the melody but feels refreshed by the new rhythm.\n\n---\n\n**Technique 2: Percussion Layering (Progressive Addition)**\n\n**Add percussion elements progressively as the track builds.** Each section gets slightly more rhythmic detail.\n\n**Example Progression:**\n\n**Intro:**\n- Just kick + snare\n\n**Verse 1:**\n- Kick + snare + simple hi-hats\n\n**Pre-Chorus:**\n- Kick + snare + hi-hats + shaker (adds constant 16th-note texture)\n\n**Chorus:**\n- Kick + snare + hi-hats + shaker + claps (emphasizes backbeat)\n\n**Bridge:**\n- Strip back to kick + snare only (creates contrast)\n\n**Final Chorus:**\n- Kick + snare + hi-hats + shaker + claps + tambourine + cowbell (maximum density)\n\n**Why It Works:** Progressive layering creates an **arc of rhythmic density**, building energy gradually. Removing layers in the bridge makes the final chorus feel massive when everything returns.\n\n**Common Percussion Layers:**\n- **Shaker:** Constant 16th notes (texture and movement)\n- **Claps:** On snare hits (emphasis and width)\n- **Tambourine:** Offbeat 8ths (sparkle and energy)\n- **Cowbell:** Downbeats or syncopated hits (character and presence)\n- **Rim shots:** Accents and fills (punctuation)\n\n**Pro Tip:** Never add all percussion at once. Reserve one layer for the final chorus to make it feel climactic.\n\n---\n\n**Technique 3: Snare Movement (Micro-Variations)**\n\n**Keep the main snare hits on 2 and 4, but add ghost notes or move accents slightly.**\n\n**Ghost Notes (Subtle Snare Hits):**\n\\`\\`\\`\nBasic pattern:     |  Kick  | SNARE |  Kick  | SNARE |\nWith ghost notes:  |  Kick  |sNAREs |  Kick  |sNAREs |\n                      ↑        ↑ ↑       ↑        ↑ ↑\n               (lowercase 's' = quiet ghost snare)\n\\`\\`\\`\n\n**Why It Works:** Ghost notes add **groove and swing** without disrupting the main backbeat (snare on 2 and 4). Funk and hip-hop use this heavily.\n\n**Snare Position Shifting:**\n\\`\\`\\`\nStandard:    | Kick | SNARE | Kick | SNARE |\n              1  &   2   &   3  &   4   &\n\nShifted:     | Kick |   & SNARE | Kick | SNARE |\n              1  &   2   &   3   &   4   &\n                       ↑ (shifted 16th note early)\n\\`\\`\\`\n\n**Effect:** Shifting snare placement by just a 16th note creates a completely different pocket and vibe. Try this in verse 2 to differentiate from verse 1.\n\n---\n\n**Technique 4: Beat Switch (Complete Pattern Change)**\n\n**For maximum contrast, completely change the drum pattern in the bridge.**\n\n**Original Groove (Verse/Chorus):**\n\\`\\`\\`\n|K---K---|S---S---|K---K---|S---S---|\n 1 & 2 & 3 & 4 &   (Standard backbeat)\n\\`\\`\\`\n\n**Beat Switch (Bridge):**\n\\`\\`\\`\n|K-K-----|--S-S---|K-K-----|S-------|\n 1 & 2 & 3 & 4 &   (Syncopated, off-balance)\n\\`\\`\\`\n\n**When to Use:**\n- **Bridge:** Create maximum contrast before final chorus\n- **Breakdown:** Strip to a completely different minimalist pattern\n- **Outro:** Transition to a simpler or more complex groove\n\n**Why It Works:** After hearing the same groove for 2 minutes, a complete switch **resets listener attention** and creates surprise. When the original groove returns in the final chorus, it feels familiar and powerful.\n\n**Pro Tip:** The beat switch should be temporary. Return to the original groove for the final chorus so listeners get that satisfying \"return home\" feeling.\n\n---\n\n**Technique 5: Half-Time / Double-Time Feel**\n\n**Change the perceived tempo without changing the actual BPM.**\n\n**Original Groove (140 BPM):**\n\\`\\`\\`\n|K---S---|K---S---|K---S---|K---S---|\n 1   2   3   4     (Feels like 140 BPM)\n\\`\\`\\`\n\n**Half-Time Feel (Still 140 BPM):**\n\\`\\`\\`\n|K-------|---S----|-------|---S----|\n 1   2   3   4     (Feels like 70 BPM — slower, heavier)\n\\`\\`\\`\n\n**Double-Time Feel (Still 140 BPM):**\n\\`\\`\\`\n|K-S-K-S-|K-S-K-S-|K-S-K-S-|K-S-K-S-|\n 1 & 2 & 3 & 4 &   (Feels like 280 BPM — faster, more intense)\n\\`\\`\\`\n\n**When to Use:**\n- **Half-time:** Breakdowns, bridges (creates heavy, slow-motion vibe)\n- **Double-time:** Buildups, final choruses (increases intensity)\n\n**Example in Modern Music:**\n- **Trap music:** Verses often use half-time kick patterns (slow, heavy 808s), then chorus switches to double-time hi-hat rolls\n- **Drum and Bass:** Kicks/snares at half-time (70 BPM feel), hi-hats at actual tempo (140 BPM)\n\n**Pro Tip:** Half-time in the bridge followed by return to full-time in the final chorus creates a massive energy release.\n\n---\n\n**Technique 6: Swing Amount Variation**\n\n**Change how \"rigid\" vs \"groovy\" the rhythm feels by adjusting swing.**\n\n**Swing Explained:**\n- **0% Swing (Straight):** Notes fall exactly on grid — robotic, precise, modern\n- **30% Swing (Light Swing):** Slight groove — contemporary pop/hip-hop\n- **50% Swing (Medium Swing):** Noticeable groove — R&B, neo-soul\n- **70% Swing (Heavy Swing):** Maximum groove — jazz, blues, funk\n\n**Application:**\n\\`\\`\\`\nIntro:  0% swing    (straight, robotic intro)\nVerse:  30% swing   (subtle groove for vocals)\nChorus: 50% swing   (full groove, head-nodding vibe)\nBridge: 0% swing    (return to rigid feel for contrast)\nOutro:  70% swing   (loose, jazz-like outro)\n\\`\\`\\`\n\n**Why It Works:** Swing affects the **emotional feel** of the groove. Straight = modern/precise, swung = organic/human.\n\n**Pro Tip:** Apply swing only to hi-hats and percussion, keep kick/snare straight. This creates \"swing over a straight foundation\"—best of both worlds.\n\n---\n\n**Combining Techniques for Maximum Impact:**\n\n**Don't use just one technique—stack 2-3 per section for professional results.**\n\n**Example: Verse 1 → Chorus 1 Transition:**\n\n**Verse 1:**\n- Hi-hats: Simple 8th notes, straight timing (Technique 1)\n- Percussion: Kick + snare + hi-hats only (Technique 2)\n- Feel: Straight, minimal (Technique 6)\n\n**Chorus 1:**\n- Hi-hats: 16th notes (Technique 1 — subdivision change)\n- Percussion: + shaker + claps (Technique 2 — layering)\n- Snare: Add ghost notes between main hits (Technique 3)\n- Feel: 30% swing (Technique 6 — adding groove)\n\n**Impact:** The chorus feels TWICE as energetic due to four simultaneous changes, yet the core kick/snare pattern never changed.\n\n---\n\n**Common Mistakes:**\n\n**❌ Varying the Kick Pattern:**\nChanging the kick destroys groove identity. Keep it locked.\n\n**✓ Fix:** Keep kick pattern identical, vary hi-hats instead.\n\n---\n\n**❌ No Variation at All:**\nSame exact drum pattern for 3 minutes = listener fatigue.\n\n**✓ Fix:** Change hi-hat subdivision in verse 2, add percussion layer in chorus 2.\n\n---\n\n**❌ Too Much Variation:**\nEvery bar has a different pattern = no groove to lock onto.\n\n**✓ Fix:** Use the 80/20 rule—80% identical groove, 20% subtle changes.\n\n---\n\n**❌ Forgetting the Return:**\nBeat switch in bridge but never return to original groove.\n\n**✓ Fix:** Always return to the main groove for final chorus—listeners want that familiar feeling back.\n        `\n      },\n      {\n        title: \"Practical Rhythmic Variation Workflow\",\n        content: `\n**Step-by-Step Groove Evolution Process:**\n\n**Step 1: Lock in Your Core Groove**\n\nBefore varying anything, establish the foundational pattern that will remain consistent:\n\n\\`\\`\\`\nCore Groove (Repeats Throughout Track):\n  Kick:  |X---X---|--------|X---X---|--------|\n  Snare: |--------|---X----|--------|---X----|\n         1 & 2 & 3 & 4 &\n\\`\\`\\`\n\n**This never changes.** Memorize it, loop it, love it. This is your anchor.\n\n**Test:** Can you imagine a dancer or head-nodder locking onto this pattern? If yes, proceed. If no, refine the core groove until it's undeniable.\n\n---\n\n**Step 2: Create Variation Map (Section-by-Section Plan)**\n\nPlan your rhythmic arc before producing:\n\n\\`\\`\\`\nINTRO:\n- Core groove only (kick + snare)\n- No hi-hats yet\n\nVERSE 1:\n- Core groove + simple 8th-note hi-hats\n- Straight timing (0% swing)\n\nPRE-CHORUS:\n- Core groove + 8th-note hi-hats\n- + Shaker (16th notes, low volume)\n\nCHORUS 1:\n- Core groove + 16th-note hi-hats\n- + Shaker + Claps on snare\n- Add light swing (30%)\n\nVERSE 2:\n- Core groove + 16th-note hi-hats (different from V1)\n- Add ghost snares\n\nCHORUS 2:\n- Core groove + 16th-note hi-hats\n- + Shaker + Claps + Tambourine (one more layer than C1)\n\nBRIDGE:\n- Beat switch: Different kick/snare pattern\n- Minimal percussion\n\nFINAL CHORUS:\n- Return to core groove\n- 16th hi-hats + all percussion layers\n- Increase swing to 50%\n\\`\\`\\`\n\n**Notice the arc:** Intro (minimal) → gradual addition → peak in final chorus. This creates forward momentum.\n\n---\n\n**Step 3: Implement Hi-Hat Variations First**\n\nHi-hats are the **easiest and most effective** variation element.\n\n**Verse 1 Hi-Hat Pattern:**\n\\`\\`\\`\n|x-x-x-x-|x-x-x-x-| (8th notes, every offbeat)\n & & & &   & & & &\n\\`\\`\\`\n\n**Chorus 1 Hi-Hat Pattern:**\n\\`\\`\\`\n|xxxxxxxx|xxxxxxxx| (16th notes, constant)\n &e&a&e&a &e&a&e&a\n\\`\\`\\`\n\n**Bridge Hi-Hat Pattern:**\n\\`\\`\\`\n|x--x--x-|--x--x--| (Triplet feel, syncopated)\n 1  &  a  2  &  a\n\\`\\`\\`\n\n**Why Start Here:** Hi-hat changes are low-risk. If they don't work, the groove still functions. If they do work, you've added instant freshness.\n\n---\n\n**Step 4: Layer Percussion Progressively**\n\nAdd **one new percussion element per major section.**\n\n**Verse → Pre-Chorus:**\nAdd shaker (constant 16th notes, panned slightly left)\n\n**Pre-Chorus → Chorus:**\nAdd claps (on snare hits, panned slightly right for width)\n\n**Chorus → Verse 2:**\nRemove claps (create contrast)\n\n**Verse 2 → Chorus 2:**\nRe-add claps + add tambourine (peak density)\n\n**Mixing Tip for Percussion Layers:**\n- **Shaker:** -8dB volume (subtle texture)\n- **Claps:** -6dB volume (supports snare)\n- **Tambourine:** -10dB volume (sparkle, not dominant)\n\n**Critical Rule:** No more than 3 percussion layers simultaneously, or it becomes cluttered.\n\n---\n\n**Step 5: Add Ghost Notes and Micro-Variations**\n\nOnce the main pattern is solid, add subtle ghost notes:\n\n**Standard Snare (Verse 1):**\n\\`\\`\\`\n|--------|---S----|--------|---S----|\n 1   2   3   4\n\\`\\`\\`\n\n**With Ghost Notes (Verse 2):**\n\\`\\`\\`\n|--------|--sS-s--|--------|--sS----|\n 1   2   3   4\n       (lowercase 's' = ghost snare, -12dB quieter)\n\\`\\`\\`\n\n**Effect:** Adds funk and groove without disrupting the main backbeat.\n\n**Where to Add Ghost Notes:**\n- Before main snare hit (anticipation)\n- After main snare hit (rebound feel)\n- On 16th-note subdivisions between kick and snare\n\n**Velocity Tip:** Ghost notes should be 40-60% velocity of main snare. Too loud = destroys groove, too quiet = inaudible.\n\n---\n\n**Step 6: Apply Swing (Timing Variation)**\n\n**Straight vs Swung:**\n\n**Verse (Straight Timing):**\n- All notes fall exactly on grid\n- Feels modern, precise, robotic (good for electronic/pop)\n\n**Chorus (30-50% Swing):**\n- Every second hi-hat is delayed slightly\n- Feels groovy, human, organic (good for hip-hop/R&B/funk)\n\n**How to Apply in Your DAW:**\n1. Select hi-hat and percussion MIDI notes\n2. Apply swing (usually 30-50% setting)\n3. Keep kick and snare straight (they anchor the groove)\n\n**Result:** \"Swing over a straight foundation\"—the best of both worlds.\n\n---\n\n**Step 7: Test the Beat Switch (Bridge Contrast)**\n\n**Original Groove:**\n\\`\\`\\`\n|K---K---|S---S---|K---K---|S---S---|\n\\`\\`\\`\n\n**Beat Switch (Bridge):**\n\\`\\`\\`\n|K-K-----|---S----|K-K-----|S---S---|\n (Syncopated, off-balance pattern)\n\\`\\`\\`\n\n**Or Half-Time Feel:**\n\\`\\`\\`\n|K-------|---S----|--------|---S----|\n (Twice as slow, heavy and dramatic)\n\\`\\`\\`\n\n**Return to Original (Final Chorus):**\n\\`\\`\\`\n|K---K---|S---S---|K---K---|S---S---|\n (Familiar groove returns = satisfaction)\n\\`\\`\\`\n\n**Why This Works:** The beat switch creates surprise and resets attention. Returning to the original groove feels like \"coming home\"—listeners get a dopamine hit from the familiar pattern.\n\n**When Not to Beat Switch:** If your track is a club banger meant for DJs, avoid beat switches. DJs need consistent grooves for mixing. Save beat switches for artist tracks and albums.\n\n---\n\n**Step 8: A/B Test Your Variations**\n\nBefore finalizing, test different variations:\n\n**Test 1: Does the variation enhance or distract?**\n- Loop verse 1 → verse 2 transition\n- Can you feel the difference?\n- Does it sound intentional or random?\n\n**Test 2: Can you still lock onto the core groove?**\n- Close your eyes and try to clap along\n- If the groove feels unstable, you've varied too much\n\n**Test 3: Does the final chorus feel climactic?**\n- Jump from intro straight to final chorus\n- Should feel like a massive progression, not random change\n\n**If any test fails:** Remove one layer or simplify one variation until it passes.\n\n---\n\n**Genre-Specific Rhythmic Variation Strategies:**\n\n**Hip-Hop:**\n- Core groove: Minimal kick/snare pattern (often just 2-4 hits per bar)\n- Variation: Add tiny hi-hat rolls before snare hits\n- Strategy: Keep it simple, add subtle triplet hi-hat flourishes\n\n**EDM (House/Techno):**\n- Core groove: Four-on-the-floor kick (never changes)\n- Variation: Build hi-hat density (8ths → 16ths → 32nds before drop)\n- Strategy: Relentless repetition with filter sweeps and percussion layers\n\n**Pop:**\n- Core groove: Standard backbeat (kick on 1/3, snare on 2/4)\n- Variation: Different hi-hat patterns per section, add claps in chorus\n- Strategy: Verse simple, chorus dense, bridge different\n\n**Rock:**\n- Core groove: Live drum pattern (human feel, slight timing variations)\n- Variation: Drum fills every 4-8 bars, cymbal crashes on section changes\n- Strategy: Emphasize dynamics (verse quiet, chorus loud) over pattern changes\n\n**Lo-Fi Hip-Hop:**\n- Core groove: Off-grid, swung, \"dusty\" drum loop\n- Variation: Minimal—maybe slight filter changes or vinyl crackle\n- Strategy: Hypnotic repetition, vibe over variation\n\n---\n\n**Common Production Mistakes (And Fixes):**\n\n**❌ Mistake: \"My beat sounds boring after 30 seconds\"**\n\n**✓ Fix:**\n- You didn't vary hi-hats between sections\n- Add shaker in chorus\n- Change hi-hat subdivision (8ths → 16ths)\n\n---\n\n**❌ Mistake: \"My groove doesn't feel locked in\"**\n\n**✓ Fix:**\n- You're varying the kick pattern too much\n- Lock kick and snare, vary only hi-hats/percussion\n- Simplify the core groove\n\n---\n\n**❌ Mistake: \"All my sections sound the same\"**\n\n**✓ Fix:**\n- Create a variation map (see Step 2)\n- Verse 1: minimal percussion\n- Chorus 1: add 1-2 layers\n- Verse 2: different hi-hat pattern\n- Chorus 2: add 1 more layer\n\n---\n\n**❌ Mistake: \"My beat switch feels random and jarring\"**\n\n**✓ Fix:**\n- Only use beat switch in bridge (not randomly mid-verse)\n- Return to original groove in final chorus\n- Use beat switch as a purposeful contrast moment\n\n---\n\n**Final Checklist:**\n\nBefore moving on, verify:\n\n- ✓ Core kick/snare pattern is consistent throughout\n- ✓ Hi-hat patterns change between sections\n- ✓ At least 2-3 percussion layers added progressively\n- ✓ Ghost notes or micro-variations added somewhere\n- ✓ Swing applied to hi-hats/percussion (if appropriate for genre)\n- ✓ Bridge has rhythmic contrast (beat switch or half-time)\n- ✓ Final chorus has maximum rhythmic density\n- ✓ You can still clap along to the core groove (locked in)\n\n**If all boxes checked:** You've mastered rhythmic variation. Your grooves will evolve while maintaining identity—the mark of professional production.\n\n---\n\n**What's Next:**\n\nIn Lesson 16, you'll learn **melodic development**—how to evolve a simple melodic motif across sections using theme-and-variation techniques. This pairs perfectly with rhythmic variation to create multi-dimensional musical growth.\n        `\n      }\n    ]\n  }\n};\n\nif (typeof window !== 'undefined') window.LESSON_CONFIG = lessonConfig;\n",
    "number": 15,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "arrangement-14",
      "arrangement-13"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Rhythmic Variation:",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-15",
    "filename": "lesson-bass-15.config.js",
    "title": "Reggae & Dub Bass:",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 15 - Reggae & Dub Bass: Heavy Low End\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-15-progress\",\n  lessonNumber: 15,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-16.html\",\n  prevLessonUrl: \"lesson-bass-14.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 15, categoryLabel: \"Bass & Low End\" }),\n    title: \"Reggae & Dub Bass:\",\n    titleHighlight: \"Heavy Low End\",\n    subtitle: \"Program massive reggae basslines with emphasis on the one and three. Master dub bass with delay and space. Learn professional techniques used in industry-standard productions.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    bars: 2,\n    noteRange: { min: 36, max: 60 },\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Complete the Bass Exercise\",\n    description: \"Program massive reggae basslines with emphasis on the one and three. Master dub bass with delay and space. This lesson covers professional techniques for Reggae & Dub Bass: Heavy Low End.\",\n    tip: \"Focus on the foundational elements and build complexity gradually. Listen critically to how each technique affects the overall bass sound.\",\n    steps: [\n      '<strong>Step 1</strong> — Study the theory sections to understand the concepts.',\n      '<strong>Step 2</strong> — Analyze the target pattern and identify key characteristics.',\n      '<strong>Step 3</strong> — Program the bass pattern following the guidelines.',\n      '<strong>Step 4</strong> — Listen critically and compare to reference tracks.',\n      '<strong>Step 5</strong> — Experiment with variations while maintaining the core technique.',\n      'Check when ready to validate your work.'\n    ]\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Core Concepts',\n        content: `This lesson explores Reggae & Dub Bass: Heavy Low End with focus on professional production techniques.\n\n**Key Learning Points:**\n- Understanding the characteristic sound and feel\n- Rhythm and timing considerations\n- Frequency management and sonic characteristics\n- Genre-specific applications\n- Professional mixing and processing techniques\n\nMaster these concepts to create bass that sits perfectly in any mix and serves the song effectively.`\n      },\n      {\n        title: 'Professional Application',\n        content: `Apply Reggae & Dub Bass: Heavy Low End techniques in your productions:\n\n**Production Workflow:**\n1. Start with a clear sonic goal\n2. Choose appropriate synthesis or sample method\n3. Program the rhythm with intention\n4. Process for clarity and power\n5. Mix in context with other elements\n\n**Common Use Cases:**\n- Genre-specific productions\n- Creative sound design\n- Professional mixing scenarios\n- Live performance considerations\n\nStudy reference tracks to hear these techniques in action.`\n      }\n    ]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [\n      { pitch: 40, step: 0, duration: 2, velocity: 100 },\n      { pitch: 47, step: 2, duration: 2, velocity: 90 },\n      { pitch: 40, step: 4, duration: 2, velocity: 95 },\n      { pitch: 43, step: 6, duration: 2, velocity: 85 }\n    ],\n    highlightScale: [40, 42, 43, 45, 47, 48, 50, 52],\n    showChordDetection: false,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master Reggae & Dub Bass: Heavy Low End techniques and concepts\",\n    \"Apply professional production workflows\",\n    \"Understand genre-specific bass characteristics\",\n    \"Develop critical listening skills for bass\",\n    \"Create industry-standard bass productions\"\n  ],\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete the bass exercise to master this technique.\",\n    success: \"Excellent! You've mastered Reggae & Dub Bass: Heavy Low End. Professional-level skills!\",\n    error: \"Review the theory and target pattern. Pay attention to the key characteristics.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these professional techniques!\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 15,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "bass-14",
      "bass-13"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Reggae & Dub Bass:",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-15",
    "filename": "lesson-drums-15.config.js",
    "title": "Advanced Hi-Hat",
    "category": "Drums & Rhythm",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Drums 15 - Advanced Hi-Hat Techniques\n * \n * Master open/closed hi-hat patterns, rolls, crescendos, and pedal hi-hat techniques\n * for dynamic, expressive grooves.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-drums-15-progress\",\n  lessonNumber: 15,\n  lessonCategory: \"Drums & Rhythm\",\n  depthLevel: 7,\n  \n  nextLessonUrl: \"lesson-drums-16.html\",\n  prevLessonUrl: \"lesson-drums-14.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-drums-15\", categoryLabel: \"Drums & Rhythm\" }),\n    title: \"Advanced Hi-Hat\",\n    titleHighlight: \"Techniques\",\n    subtitle: \"Transform your hi-hats from static timekeepers into <strong>dynamic, expressive elements</strong>. Learn <strong>open/closed hat patterns</strong> that breathe, <strong>hi-hat rolls</strong> for buildups, <strong>crescendos</strong> that add tension, and <strong>pedal hi-hat</strong> techniques for foot-controlled accents. These techniques separate amateur beats from professional grooves—the difference between robotic and human feel.\"\n  },\n  \n  sequencer: {\n    tempo: 110,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true,\n    requiredTempo: 110\n  },\n  \n  exercise: {\n    title: \"Build Open/Closed Hi-Hat Pattern\",\n    description: \"Create a groove with <strong>closed hi-hats on 8th notes</strong> and <strong>open hi-hats on accents</strong>. The open hats ring longer, creating rhythmic emphasis and dynamic contrast. This technique is essential for house, techno, funk, and rock grooves.\",\n    tip: \"Open hats should be louder (velocity 110-127) than closed hats (velocity 70-90) to cut through the mix. The contrast is what creates the groove!\",\n    steps: [\n      { text: \"<strong>Set tempo to 110 BPM</strong>.\" },\n      { text: \"<strong>Kick:</strong> Steps 1, 5, 9, 13 (four on the floor).\" },\n      { text: \"<strong>Snare:</strong> Steps 5, 13 (backbeat).\" },\n      { text: \"<strong>Closed Hi-Hat:</strong> All 16 steps (16th notes), velocity 75.\" },\n      { text: \"<strong>Open Hi-Hat:</strong> Steps 4, 12 (before snares), velocity 115.\" },\n      { text: \"<strong>Listen:</strong> The open hats create accents that drive the groove forward.\" }\n    ]\n  },\n  \n  instruments: [\n    {\n      id: \"kick\",\n      label: \"Kick\",\n      color: \"linear-gradient(135deg, #e17055, #d63031)\",\n      targetSteps: [0, 4, 8, 12],\n      instructionText: \"Four on the floor kick pattern.\",\n      patternHint: { enabled: true, note: \"Kick: 1, 5, 9, 13\" }\n    },\n    {\n      id: \"snare\",\n      label: \"Snare\",\n      color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\",\n      targetSteps: [4, 12],\n      instructionText: \"Backbeat on 2 and 4.\",\n      patternHint: { enabled: true, note: \"Snare: 5, 13\" }\n    },\n    {\n      id: \"hihat\",\n      label: \"Closed HH\",\n      color: \"linear-gradient(135deg, #00cec9, #0984e3)\",\n      targetSteps: [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],\n      targetVelocities: { 0:75, 1:75, 2:75, 3:75, 4:75, 5:75, 6:75, 7:75, 8:75, 9:75, 10:75, 11:75, 12:75, 13:75, 14:75, 15:75 },\n      instructionText: \"16th note closed hi-hats, velocity 75.\",\n      patternHint: { enabled: true, note: \"All 16 steps, vel 75\" }\n    },\n    {\n      id: \"openhat\",\n      label: \"Open HH\",\n      color: \"linear-gradient(135deg, #a29bfe, #6c5ce7)\",\n      targetSteps: [3, 11],\n      targetVelocities: { 3: 115, 11: 115 },\n      instructionText: \"Open hi-hats on steps 4 and 12, velocity 115.\",\n      patternHint: { enabled: true, note: \"Steps 4, 12, vel 115\" }\n    }\n  ],\n  \n  theory: {\n    sections: [\n      {\n        title: \"Hi-Hat Techniques Explained\",\n        content: `\n**Open vs. Closed Hi-Hats:**\n- **Closed:** Short, tight sound (chick). Acts as timekeeper, usually quieter.\n- **Open:** Ringing, sustained sound (tsss). Creates accents and emphasis.\n- **Technique:** In real drumming, drummers use foot pressure on the pedal to control openness.\n\n**Common Patterns:**\n1. **House/Techno:** 16th note closed hats with open hats on off-beats\n2. **Funk:** Syncopated open hats with tight closed hat groove\n3. **Rock:** 8th note closed hats with open hat crashes on backbeats\n\n**Hi-Hat Rolls:**\n- Fast 32nd or 64th notes building in velocity\n- Used in transitions, buildups, drops\n- Creates tension before breakdowns\n\n**Crescendo Technique:**\n- Gradually increase velocity from 60 → 127 over 8-16 steps\n- Creates building energy without changing the pattern\n- Essential for electronic music buildups\n        `\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Program realistic open/closed hi-hat patterns with proper velocity\",\n    \"Create hi-hat rolls and crescendos for transitions\",\n    \"Use pedal hi-hat techniques for foot-controlled accents\",\n    \"Understand when to use open vs closed hi-hats for maximum groove impact\",\n    \"Apply advanced hi-hat techniques across genres (house, funk, rock)\"\n  ],\n  \n  validation: applyMessagePreset(\"drumSequencer\", \"correct-placement-and-velocity\"),\n  messagePresets: {\n    success: \"Perfect! Your hi-hat technique is professional-level. Open hats add the accents that make grooves breathe!\",\n    incorrect: \"Not quite. Check your hi-hat velocities and placement. Open hats should be louder than closed hats.\"\n  }\n};\n",
    "number": 15,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "drums-14",
      "drums-13"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Advanced Hi-Hat",
      "Prepararsi alla lezione successiva del modulo Drums & Rhythm"
    ]
  },
  {
    "slug": "harmony-15",
    "filename": "lesson-harmony-15.config.js",
    "title": "Add9 Color:",
    "category": "Advanced Harmony",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 15 - Add9 Color: Make Chords Glow\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-15-progress\",\n  lessonNumber: 15,\n  lessonCategory: \"Advanced Harmony\",\n\n  nextLessonUrl: \"lesson-harmony-16.html\",\n  prevLessonUrl: \"lesson-harmony-14.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 15, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Add9 Color:\",\n    titleHighlight: \"Make Chords Glow\",\n    subtitle: \"Turn plain chords into modern, airy harmonies by adding the ninth (2nd scale degree up an octave). You'll create add9 and 9th chords that add shimmer and space without losing stability. This is the signature sound of Bon Iver, ODESZA, and ambient producers.\"\n  },\n\n  sequencer: {\n    tempo: 85,\n    key: \"D\",\n    scale: \"Major\",\n    stepCount: 64,\n    bars: 4,\n    pitchRange: {\n      low: 48,\n      high: 84\n    }\n  },\n\n  exercise: {\n    title: \"Build Add9 and 9th Chords\",\n    description: \"Create chords with added ninths: <strong>Dadd9 (D-F#-A-E)</strong> and <strong>Gmaj9 (G-B-D-F#-A)</strong>. The ninth is the 2nd scale degree played an octave higher - it adds color and air without changing the chord's basic function.\",\n    tip: \"The 9th is just the 2nd scale degree up an octave. In D major: D-E-F#... so E is the 2nd, and E an octave up is the 9th. Add it to any major or minor chord for instant shimmer. Use add9 (no 7th) for open, folky sounds. Use maj9 (with 7th) for jazzy sophistication.\",\n    steps: [\n      { text: \"Bar 1: <strong>Dadd9</strong> (D-F#-A-E) - triad + 9th, no 7th\" },\n      { text: \"Bar 2: <strong>Gmaj9</strong> (G-B-D-F#-A) - full maj7 chord + 9th\" },\n      { text: \"Bar 3: <strong>Bm7add11</strong> (B-D-F#-A-E) - minor with extensions\" },\n      { text: \"Bar 4: <strong>Aadd9</strong> (A-C#-E-B)\" },\n      { text: \"Listen for the airy, modern quality - perfect for pads and atmosphere\" },\n      { text: \"Keep voicing in mid-to-high register for clarity\" }\n    ]\n  },\n\n  validation: {\n    type: \"extended_chords\",\n    requiredChords: [\n      { time: 0, pitches: [62, 66, 69, 76], chordName: \"Dadd9\" },\n      { time: 16, pitches: [67, 71, 74, 78, 81], chordName: \"Gmaj9\" },\n      { time: 32, pitches: [71, 74, 78, 81, 88], chordName: \"Bm7(11)\" },\n      { time: 48, pitches: [69, 73, 76, 83], chordName: \"Aadd9\" }\n    ],\n    allowInversions: false,\n    allowExtraNotes: false\n  },\n\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Build Dadd9, Gmaj9, Bm7(11), Aadd9. The 9th (2nd scale degree up an octave) adds shimmer and space.\",\n    success: \"Beautiful! You've mastered extended harmony. These add9 and 9th chords create that modern, airy sound used in indie, ambient, and electronic music!\",\n    error: \"Check: Dadd9 = D-F#-A-E, Gmaj9 = G-B-D-F#-A, Bm7(11) = B-D-F#-A-E, Aadd9 = A-C#-E-B. The 9th adds color without tension.\"\n  }),\n\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 15,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "harmony-14",
      "harmony-13"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Add9 Color:",
      "Prepararsi alla lezione successiva del modulo Advanced Harmony"
    ]
  },
  {
    "slug": "mixing-15",
    "filename": "lesson-mixing-15.config.js",
    "title": "Masterclass: Complete Mix Project",
    "category": "Mixing",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Mixing 15 - Masterclass: Complete Mix Project\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-15-progress\",\n  lessonNumber: 15,\n  lessonCategory: \"Mixing\",\n\n  nextLessonUrl: \"lesson-mastering-1.html\",\n  prevLessonUrl: \"lesson-mixing-14.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 15, categoryLabel: \"Mixing\" }),\n    title: \"Masterclass: Complete Mix Project\",\n    titleHighlight: \"From Raw Stems to Polished Mix\",\n    subtitle: \"Apply everything from Lessons 1–14 in a complete, professional mixing workflow. Walk through session prep, processing order, quality control, and delivery—producing a release-ready mix with stems and documentation.\"\n  },\n\n  exercise: {\n    title: \"Complete a Full Mix from Start to Finish\",\n    description: \"Execute a complete professional mixing workflow on your session, applying every technique from this course. You'll produce a final mix print, instrumental, acapella, and stems ready for mastering—with full documentation.\",\n    tip: \"This is a marathon, not a sprint. Professional mixes take hours, sometimes days. Don't rush through this exercise—take breaks, reference frequently, and trust the process. The goal isn't speed; it's a finished mix you're proud of.\",\n    steps: [\n      '<strong>Session prep: Load and organize</strong> — Start fresh or use \"Mixing-14_ReferenceTracking\". Save As: \"Mixing-15_FinalMix\". Review track naming (Lesson 10 conventions), color coding, and bus routing (Drums/Music/Vocals → Mix Bus → Master).',\n      '<strong>Session prep: Gain staging check</strong> — Verify all tracks hit approximately <strong>-18 dBFS RMS</strong> (Lesson 2). Use clip gain or trim plugins to correct. Confirm no tracks are clipping before processing. Check that your Mix Bus peaks below <strong>-6 dBFS</strong> with all faders at unity.',\n      '<strong>Session prep: Import references</strong> — Import 2–3 genre-appropriate references (Lesson 14) onto a dedicated Reference bus. Level-match using integrated LUFS. Set up rapid A/B switching. These will guide your entire mix.',\n      '<strong>Phase 1: Static balance</strong> — Mute all processing. Set faders only. Create a rough balance where every element is audible and the vocal sits correctly for your genre (Lesson 13). This is your foundation—spend time here.',\n      '<strong>Phase 2: Corrective EQ (subtractive)</strong> — Work through each track with surgical EQ: HPF on non-bass elements, cut mud (200–400 Hz), boxiness, harshness. Lesson 3 techniques. Goal: clean up problems before adding compression.',\n      '<strong>Phase 3: Compression (control dynamics)</strong> — Apply compression to control dynamics: leveling compression on vocals (Lesson 12), transient shaping on drums (Lesson 6), consistency on bass. Don\\'t over-compress—2–6 dB GR typical.',\n      '<strong>Phase 4: Tone shaping EQ (additive)</strong> — Now add character: presence boosts on vocals (3–5 kHz), air (10–12 kHz), warmth on bass (80–120 Hz). Lesson 4 techniques. These are broad, musical moves.',\n      '<strong>Phase 5: Effects (space and depth)</strong> — Set up reverb and delay returns (Lesson 7, 8). Apply to vocals, drums, melodic elements. Filter returns (HPF 200–400 Hz, LPF 6–10 kHz). Automate sends for throws (Lesson 11).',\n      '<strong>Phase 6: Bus processing</strong> — Apply glue compression to buses (Lesson 10): Drum Bus (3–4 dB GR), Music Bus (2–3 dB GR), Vocal Bus (2–4 dB GR). Subtle EQ on buses for overall tone. Mix Bus compression: very gentle (1–2 dB GR max).',\n      '<strong>Phase 7: Stereo and panning</strong> — Verify stereo placement: kick/bass/vocal centered, guitars/keys/pads spread (Lesson 9). Check mono compatibility—fold to mono and confirm nothing disappears. Adjust width for genre (Lesson 13).',\n      '<strong>Phase 8: Automation pass</strong> — Automation brings the mix to life (Lesson 11): vocal rides for consistency, section lifts for energy (chorus +0.5–1 dB), FX throws for ear candy, mutes for cleanup. Smooth all curves.',\n      '<strong>Phase 9: Reference check</strong> — A/B against your references (Lesson 14). Compare: low end, mids, highs, width, dynamics. Make targeted adjustments. Re-match levels after changes. Document what you adjusted and why.',\n      '<strong>Quality control: Mono check</strong> — Fold to mono. Listen for: elements that disappear (phase issues), center elements that remain strong, overall balance shift. Fix any mono problems before proceeding.',\n      '<strong>Quality control: Translation test</strong> — Export a rough bounce. Listen on headphones, phone speaker, car system (if possible), laptop speakers. Note issues: too much bass? Harsh highs? Vocal buried? Return to session and address.',\n      '<strong>Quality control: Fresh ears check</strong> — Take a 15–30 minute break. Return with fresh ears and listen through without touching anything. Make notes. Then make final adjustments based on fresh perspective.',\n      '<strong>Final export: Full mix print</strong> — Export full mix: <strong>24-bit WAV</strong>, session sample rate, Mix Bus output. Confirm peaks below <strong>-3 dBFS</strong> (headroom for mastering). Name: \"SongTitle_FullMix_v1.wav\".',\n      '<strong>Final export: Instrumental</strong> — Mute all vocal tracks/buses. Export: \"SongTitle_Instrumental_v1.wav\". Same specs as full mix.',\n      '<strong>Final export: Acapella</strong> — Solo vocal bus only (dry vocals, no effects returns unless you want them). Export: \"SongTitle_Acapella_v1.wav\".',\n      '<strong>Final export: Stems</strong> — Export individual stems: Drums stem (Drum Bus output), Bass stem (Bass Bus output), Music stem (Music Bus output), Vocal stem (Vocal Bus output), FX stem (FX returns). Each stem: 24-bit WAV, same length, same start point.',\n      '<strong>Documentation</strong> — Create a text file or notes document: session BPM, key, reference tracks used, any notes for mastering engineer (problem frequencies, intended loudness, genre context). Save alongside exports.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Session Preparation: The Foundation of Professional Mixing',\n        content: `A professional mix starts before you touch any processing. Session preparation sets you up for efficiency and prevents problems later.\n\n**Organization (Lesson 10 Review):**\n- **Naming:** Use consistent prefixes (DRM-, BASS-, SYN-, VOX-, FX-)\n- **Color coding:** Drums red, bass purple, synths blue, vocals green, FX yellow\n- **Track order:** Group related tracks together (all drums, all vocals, etc.)\n- **Bus routing:** Individual tracks → Group Buses → Mix Bus → Master\n\n**Gain Staging (Lesson 2 Review):**\n- **Individual tracks:** Peak around -18 dBFS RMS, never clipping\n- **Buses:** Peak around -6 to -10 dBFS before processing\n- **Mix Bus:** Peak below -6 dBFS during mixing (headroom for mastering)\n- **Why it matters:** Proper gain staging ensures plugins operate in their sweet spot and prevents digital clipping\n\n**Reference Import (Lesson 14 Review):**\n- Import 2–3 references on a dedicated bus\n- Level-match to your mix using integrated LUFS\n- References bypass your Mix Bus—they're for comparison only\n- A/B frequently throughout the entire mixing process\n\n**Before You Start Processing:**\n✅ All tracks named and color-coded\n✅ Bus routing confirmed (Drums/Music/Vocals → Mix Bus)\n✅ Gain staging verified (-18 dBFS RMS, no clipping)\n✅ References imported and level-matched\n✅ Session saved with descriptive name`\n      },\n      {\n        title: 'Processing Order: Why Sequence Matters',\n        content: `The order of operations in mixing isn't arbitrary. Each phase builds on the previous one. Skipping steps or doing them out of order creates problems that compound.\n\n**The Professional Mixing Sequence:**\n\n**1. Static Balance (Faders Only)**\n- No processing yet—just faders and pans\n- Goal: Every element audible, rough balance established\n- Vocal position set for genre (forward for pop, integrated for rock)\n- This reveals what actually needs processing\n\n**2. Corrective EQ (Subtractive)**\n- HPF on everything except bass/kick (Lesson 3)\n- Cut problem frequencies: mud (200–400 Hz), boxiness, harshness\n- Subtractive EQ before compression prevents boosted frequencies from triggering compressors excessively\n\n**3. Compression (Dynamic Control)**\n- Leveling compression on vocals (3:1–4:1, 4–8 dB GR)\n- Transient shaping on drums (attack/release for punch or sustain)\n- Consistency on bass\n- Goal: Control dynamics so elements sit consistently\n\n**4. Tone Shaping EQ (Additive)**\n- Now add character: presence, air, warmth\n- Additive EQ after compression shapes the controlled signal\n- Broad, musical boosts—not surgical\n\n**5. Effects (Space and Depth)**\n- Reverb and delay on aux sends\n- Filter effect returns (remove lows, tame highs)\n- Automate sends for musical moments\n\n**6. Bus Processing (Glue)**\n- Light compression on group buses\n- Subtle EQ for overall tone\n- Mix Bus compression: very gentle (1–2 dB GR)\n\n**7. Automation (Life and Movement)**\n- Vocal rides, section energy, FX throws\n- Automation makes the mix breathe and evolve\n\n**Why This Order Works:**\nEach step prepares the signal for the next. Corrective EQ cleans up before compression. Compression controls before additive EQ. Effects come after the dry signal is polished. Automation refines the processed mix. Skipping steps or reversing order creates compounding problems.`\n      },\n      {\n        title: 'Phase-by-Phase Mixing Checklist',\n        content: `Use this checklist during your mix. Work through each section systematically.\n\n**DRUMS Checklist:**\n✅ Kick: Punchy (80–100 Hz), click (2–5 kHz), no mud\n✅ Snare: Body (200 Hz), crack (2–4 kHz), controlled ring\n✅ Hi-hats: Present but not harsh, de-essed if needed\n✅ Overheads/room: Supporting width, not overpowering\n✅ Drum Bus: Glue compression (3–4 dB GR), punchy but not squashed\n✅ Drum Bus to Mix Bus: Balanced against other elements\n\n**BASS Checklist:**\n✅ Sub frequencies present (40–80 Hz) but controlled\n✅ Mid-bass clarity (80–200 Hz), no mud\n✅ High-frequency content for speaker translation (if needed)\n✅ Kick/bass relationship: Clear separation, sidechain if needed\n✅ Mono below 100–150 Hz confirmed\n\n**VOCALS Checklist:**\n✅ HPF applied (80–120 Hz depending on voice)\n✅ Corrective EQ: Mud, boxiness, harshness cut\n✅ Compression: Leveling (3:1–4:1, 4–8 dB GR) + optional peak catcher\n✅ De-esser: Sibilance controlled without lisping\n✅ Tone EQ: Presence (3–5 kHz), air (10–12 kHz)\n✅ Saturation: Subtle warmth, level-matched\n✅ Effects: Reverb (short + long), delay (tempo-synced)\n✅ Ducking on effects: Effects clear when vocal present\n✅ Vocal level: Appropriate for genre\n✅ Automation: Rides for consistency, throws for ear candy\n\n**FX RETURNS Checklist:**\n✅ All reverbs HPF'd (200–400 Hz)\n✅ All delays filtered (HPF 400 Hz, LPF 4–6 kHz)\n✅ Effect levels appropriate (supportive, not washing out dry signal)\n✅ Automation on sends for musical moments\n\n**MIX BUS Checklist:**\n✅ Gentle compression (2:1, slow attack, 1–2 dB GR max)\n✅ Subtle EQ if needed (±1–2 dB maximum)\n✅ No brickwall limiting (leave that for mastering)\n✅ Peaks below -6 dBFS (headroom for mastering)\n✅ Level-matched A/B against references confirms balance`\n      },\n      {\n        title: 'Quality Control: Testing Before Delivery',\n        content: `Before calling a mix \"done,\" run it through quality control. These tests catch problems before the client or mastering engineer does.\n\n**Mono Compatibility Test (Lesson 9 Review):**\n1. Insert a utility plugin on your Mix Bus set to mono\n2. Play through the entire song (or key sections)\n3. Listen for:\n   - Elements that disappear (phase cancellation from stereo widening)\n   - Elements that become too loud (out-of-phase content summing)\n   - Overall balance shift\n4. Fix any mono problems (reduce stereo widening, check phase, adjust levels)\n\n**Translation Test (Multiple Systems):**\nExport a quick bounce and listen on:\n- **Headphones:** Detail check, effects, stereo image\n- **Phone speaker:** Vocal clarity, bass representation (harmonics matter)\n- **Car system:** Low end, overall balance, vocal presence\n- **Laptop speakers:** Midrange balance, harshness check\n\nNote issues and return to session to address. A great mix translates across all systems.\n\n**Fresh Ears Test:**\n1. Take a 15–30 minute break (completely away from audio)\n2. Return and listen through without touching anything\n3. First impressions are valuable—what jumps out as wrong?\n4. Make notes, then address issues\n5. Repeat if necessary\n\n**Reference Check (Lesson 14 Review):**\nFinal A/B against your references:\n- Does your mix sound like it belongs in the same genre?\n- Is the low end in the same ballpark?\n- Is the vocal position appropriate?\n- Is the overall brightness/darkness similar?\n- Do the dynamics feel right?\n\nIf you can answer \"yes\" to all of these, your mix is ready.\n\n**Common Last-Minute Issues:**\n- **Vocal too loud/quiet:** Re-check against references\n- **Low end muddy:** Revisit 200–400 Hz cuts\n- **Harsh highs:** Check 2–4 kHz, 6–8 kHz\n- **Mix too wide/narrow:** Check mono compatibility, adjust width\n- **Dynamics squashed:** Reduce bus/mix compression`\n      },\n      {\n        title: 'Knowing When to Stop: Diminishing Returns and Decision Fatigue',\n        content: `One of the hardest skills in mixing is knowing when a mix is \"done.\" There's always something you could tweak—but at some point, changes become lateral moves rather than improvements.\n\n**Signs Your Mix Is Done:**\n- It sounds good on multiple playback systems\n- It compares favorably to professional references\n- Changes you make are tiny (under 0.5 dB, fractions of Q)\n- You're changing things back to what they were before\n- Fresh ears confirm it sounds right\n\n**Signs You're Overworking:**\n- You've been at it for hours without a break\n- You can't remember why you made certain changes\n- Everything sounds the same and you've lost perspective\n- You're making changes because you feel you \"should,\" not because you hear problems\n- You've undone the same change 3+ times\n\n**The \"Fix vs Improve\" Test:**\nAsk yourself: \"Am I fixing a problem, or am I just improving something that's already fine?\"\n- **Fixing:** There's a clear issue (vocal buried, kick muddy, harshness)\n- **Improving:** It's fine, but maybe it could be slightly better?\n\nIf you're improving rather than fixing, you might be done. Move to quality control and export.\n\n**Managing Ear Fatigue:**\n- Take breaks every 45–60 minutes\n- Mix at moderate volumes (conversation level)\n- Reference frequently to reset your ears\n- If you've been mixing for 4+ hours, consider stopping for the day\n\n**The 90% Rule:**\nGetting a mix to 90% takes most of the work. Getting from 90% to 100% takes as long again—with diminishing returns. Know when 90% is good enough for a draft, and when you need that last 10%.\n\n**Version Control:**\nSave versions regularly: _v1, _v2, _v3. If you've been tweaking for hours, compare against an earlier version. Sometimes v2 was better than v5.`\n      },\n      {\n        title: 'Delivery: Export Specifications and Documentation',\n        content: `Professional delivery means providing the mastering engineer (or client) with everything they need. This includes properly formatted files and clear documentation.\n\n**Export Specifications:**\n\n| Deliverable | Format | Bit Depth | Sample Rate | Peak Level |\n|-------------|--------|-----------|-------------|------------|\n| Full Mix | WAV | 24-bit | Session rate | ≤ -3 dBFS |\n| Instrumental | WAV | 24-bit | Session rate | ≤ -3 dBFS |\n| Acapella | WAV | 24-bit | Session rate | ≤ -6 dBFS |\n| Stems | WAV | 24-bit | Session rate | ≤ -6 dBFS |\n\n**Stem Export Guidelines:**\n- All stems must be the same length and start at the same point\n- Include processing (EQ, compression, saturation) on stems\n- Do NOT include Mix Bus processing on individual stems\n- Standard stems: Drums, Bass, Music/Synths, Vocals, FX\n- Label clearly: \"SongTitle_Drums_Stem.wav\"\n\n**Headroom for Mastering:**\nLeave -3 to -6 dBFS peak headroom on your mix. The mastering engineer needs room to work. Don't slam a limiter on the Mix Bus—that's their job.\n\n**Documentation to Include:**\nCreate a text file or PDF with:\n- **Song title, artist, version number**\n- **Session info:** BPM, key, sample rate\n- **Reference tracks used:** What you compared against\n- **Notes for mastering:** Any problem areas, intended loudness, genre context\n- **Stem list:** What's included and what's in each stem\n- **Contact info:** How to reach you with questions\n\n**File Organization:**\n```\n/SongTitle_MixDelivery/\n├── SongTitle_FullMix_v1.wav\n├── SongTitle_Instrumental_v1.wav\n├── SongTitle_Acapella_v1.wav\n├── /Stems/\n│   ├── SongTitle_Drums_Stem.wav\n│   ├── SongTitle_Bass_Stem.wav\n│   ├── SongTitle_Music_Stem.wav\n│   ├── SongTitle_Vocals_Stem.wav\n│   └── SongTitle_FX_Stem.wav\n└── SongTitle_MixNotes.txt\n```\n\n**Final Checklist Before Delivery:**\n✅ All files exported at correct specs (24-bit WAV)\n✅ Headroom verified (peaks ≤ -3 dBFS on full mix)\n✅ Stems same length and aligned\n✅ Documentation complete\n✅ Files organized and clearly named\n✅ One final listen-through to confirm no export glitches`\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Execute complete session preparation: organization, gain staging, reference import, and bus routing\",\n    \"Apply the professional processing order: static balance → corrective EQ → compression → tone EQ → effects → bus processing → automation\",\n    \"Use phase-by-phase checklists for drums, bass, vocals, effects, and mix bus to ensure thorough, consistent mixing\",\n    \"Perform quality control: mono compatibility, translation tests, fresh ears check, and reference validation\",\n    \"Deliver professional exports: full mix, instrumental, acapella, and stems with proper specifications and documentation\"\n  ],\n\n  messages: applyMessagePreset(\"default\", {\n    initial: \"This is the final mixing lesson. Apply everything you've learned to complete a professional mix.\",\n    success: \"Congratulations! You've completed the Mixing Masterclass and produced a professional-quality mix with stems and documentation!\",\n    error: \"Review the mixing workflow and try again.\",\n    alreadyCompleted: \"You've completed the Mixing Masterclass. Your mixing skills are now at a professional level!\"\n  }),\n\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 15,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "mixing-14",
      "mixing-13"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Masterclass: Complete Mix Project",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-15",
    "filename": "lesson-sound-design-15.config.js",
    "title": "Masterclass: Complete Sound Library:",
    "category": "Sound Design",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Sound Design 15 - Masterclass: Complete Sound Library\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-sound-design-15-progress\",\n  lessonNumber: 15,\n  lessonCategory: \"Sound Design\",\n  \n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-mixing-1.html\",\n  prevLessonUrl: \"lesson-sound-design-14.html\",\n  overviewUrl: \"labs.html\",\n  \n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 15, categoryLabel: \"Sound Design\" }),\n    title: \"Masterclass: Complete Sound Library:\",\n    titleHighlight: \"Build a Professional Sound Collection\",\n    subtitle: \"Final project: create a complete, professional sound library from scratch across multiple synthesis techniques. Master professional sound design techniques used in modern music production.\"\n  },\n  \n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Explore Masterclass: Complete Sound Library\",\n    description: \"Final project: create a complete, professional sound library from scratch across multiple synthesis techniques. This lesson covers the essential concepts and practical techniques you need to master this sound design method.\",\n    tip: \"Listen critically to how each parameter affects the sound. Small changes can have dramatic results in sound design.\",\n    steps: [\n      '<strong>Study the theory</strong> — Read through the sound design concepts and understand the signal flow.',\n      '<strong>Analyze the examples</strong> — Listen to reference sounds and identify key characteristics.',\n      '<strong>Experiment with parameters</strong> — Try different settings and hear how they change the sound.',\n      '<strong>Create variations</strong> — Design multiple versions exploring different timbres.',\n      '<strong>Save your presets</strong> — Document successful sounds for future use.',\n      'Complete the lesson when ready to move forward.'\n    ]\n  },\n  \n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Masterclass: Complete Sound Library',\n        content: `Masterclass: Complete Sound Library is a fundamental sound design technique that shapes the sonic character of your productions.\n\n**Key Concepts:**\n- Core synthesis principles and signal flow\n- Parameter relationships and interactions  \n- Frequency spectrum considerations\n- Timbral characteristics and sonic possibilities\n- Common applications in music production\n\n**Professional Applications:**\nModern producers use Masterclass: Complete Sound Library for:\n- Creating signature sounds and textures\n- Designing genre-specific timbres\n- Building unique sonic identities\n- Crafting sounds that cut through mixes\n- Generating movement and evolution in arrangements\n\nUnderstanding these concepts gives you complete control over your sound palette.`\n      },\n      {\n        title: 'Practical Sound Design Workflow',\n        content: `Professional sound designers follow systematic approaches to achieve desired results:\n\n**Design Process:**\n1. **Define the goal** — Know what sound you're trying to create\n2. **Choose the method** — Select appropriate synthesis technique\n3. **Start simple** — Begin with basic waveforms and build complexity\n4. **Shape with filters** — Sculpt the frequency content\n5. **Add movement** — Use envelopes and modulation\n6. **Layer if needed** — Combine multiple sounds for richness\n7. **Process and polish** — Apply effects and finalize\n\n**Critical Listening:**\n- A/B compare with reference sounds\n- Analyze frequency spectrum with analyzers\n- Check mono compatibility\n- Test in context with other mix elements\n\n**Common Mistakes to Avoid:**\n- Over-processing before establishing the core sound\n- Too many modulation sources creating chaos\n- Ignoring the frequency spectrum balance\n- Not considering the sound's role in the arrangement\n\nStudy professional productions and reverse-engineer the sounds you admire.`\n      }\n    ]\n  },\n  \n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master the fundamental concepts of Masterclass: Complete Sound Library\",\n    \"Understand signal flow and parameter relationships\",\n    \"Apply sound design techniques to practical productions\",\n    \"Develop critical listening skills for timbre and texture\",\n    \"Create professional-quality sounds for your productions\"\n  ],\n  \n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete this lesson to master Masterclass: Complete Sound Library techniques.\",\n    success: \"Excellent! You've mastered Masterclass: Complete Sound Library. Your sound design skills are growing!\",\n    error: \"Review the theory and try again.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these techniques!\"\n  }),\n  \n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    type: \"educational\",\n    sandbox: true,\n    showContent: true,\n    enableInteractive: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 15,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "sound-design-14",
      "sound-design-13"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Masterclass: Complete Sound Library:",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "vocals-15",
    "filename": "lesson-vocals-15.config.js",
    "title": "Advanced Vocal",
    "category": "Vocals",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-vocals-15-progress\",\n  lessonNumber: 15,\n  lessonCategory: \"Vocals\",\n  depthLevel: 10,\n  \n  nextLessonUrl: \"labs.html\",\n  prevLessonUrl: \"lesson-vocals-14.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-vocals-15\", categoryLabel: \"Vocals\" }),\n    title: \"Advanced Vocal\",\n    titleHighlight: \"Mixing\",\n    subtitle: \"Master the final stage of vocal production with <strong>expert mixing techniques</strong> that make vocals sit perfectly in any mix. Learn compression chains, EQ surgery, spatial placement, automation, and how to achieve radio-ready vocal sound.\"\n  },\n  \n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true,\n    requiredTempo: 120\n  },\n  \n  exercise: {\n    title: \"Mix Dynamics: Verse to Chorus Transition\",\n    description: \"Program a <strong>dynamic vocal arrangement</strong> that demonstrates verse (sparse) to chorus (full) layering and automation. You'll create a pattern that shows how professional mixers use dynamics to create emotional impact.\",\n    tip: \"Verses should be intimate with fewer layers, choruses should explode with width and power. Use velocity to simulate automation: low velocity = quiet/intimate, high velocity = loud/powerful. Think of the journey from whisper to shout.\",\n    steps: [\n      { text: \"<strong>Set tempo to 120 BPM</strong> for an energetic, dynamic vocal showcase.\" },\n      { text: \"<strong>Program verse lead vocal</strong> on steps 1-8 with moderate velocity (80-90) for intimacy.\" },\n      { text: \"<strong>Add minimal backing</strong> on steps 4, 8 with low velocity (60-70) for sparse verse feel.\" },\n      { text: \"<strong>Program chorus lead vocal</strong> on steps 9-16 with high velocity (110-120) for power.\" },\n      { text: \"<strong>Layer chorus harmonies</strong> on steps 10, 12, 14, 16 with velocity 90-100 for fullness.\" },\n      { text: \"<strong>Listen</strong> to the dynamic contrast between sparse verse and powerful chorus.\" }\n    ]\n  },\n  \n  instruments: [\n    {\n      id: \"verse-lead\",\n      label: \"Verse Lead\",\n      color: \"linear-gradient(135deg, #74b9ff, #0984e3)\",\n      targetSteps: [0, 2, 4, 6],\n      oscillator: { type: \"triangle\", detune: 0 },\n      envelope: { attack: 0.02, decay: 0.3, sustain: 0.4, release: 0.4 },\n      filter: { type: \"lowpass\", frequency: 2400, Q: 1.0 }\n    },\n    {\n      id: \"verse-backing\",\n      label: \"Verse Backing\",\n      color: \"linear-gradient(135deg, #a29bfe, #6c5ce7)\",\n      targetSteps: [3, 7],\n      oscillator: { type: \"sine\", detune: -5 },\n      envelope: { attack: 0.05, decay: 0.3, sustain: 0.3, release: 0.4 },\n      filter: { type: \"lowpass\", frequency: 1800, Q: 1.2 }\n    },\n    {\n      id: \"chorus-lead\",\n      label: \"Chorus Lead\",\n      color: \"linear-gradient(135deg, #fd79a8, #e84393)\",\n      targetSteps: [8, 10, 12, 14],\n      oscillator: { type: \"sawtooth\", detune: 0 },\n      envelope: { attack: 0.01, decay: 0.4, sustain: 0.6, release: 0.5 },\n      filter: { type: \"lowpass\", frequency: 3200, Q: 0.8 }\n    },\n    {\n      id: \"chorus-harmony\",\n      label: \"Chorus Harmony\",\n      color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\",\n      targetSteps: [9, 11, 13, 15],\n      oscillator: { type: \"square\", detune: 7 },\n      envelope: { attack: 0.02, decay: 0.4, sustain: 0.5, release: 0.6 },\n      filter: { type: \"bandpass\", frequency: 2000, Q: 1.5 }\n    }\n  ],\n  \n  theory: {\n    sections: [\n      {\n        title: 'Advanced Compression Chains',\n        content: `**Serial Compression (2-3 Compressors in Series):**\nInstead of one heavy compressor, use multiple gentle compressors for transparent control:\n\n**Compressor 1: \"Catch the Peaks\" (Fast Compressor)**\n- **Type:** FET or VCA (1176, DBX 160)\n- **Purpose:** Tame harsh peaks and sibilance\n- **Settings:** Ratio 4:1, Attack 0.5-2ms, Release 50-100ms, Threshold: -6dB, Gain Reduction: 3-5dB\n- **Result:** Catches fast transients without squashing sustain\n\n**Compressor 2: \"Control Dynamics\" (Medium Compressor)**\n- **Type:** Opto or VCA (LA-2A, SSL Bus Comp)\n- **Purpose:** Even out overall performance dynamics\n- **Settings:** Ratio 3:1, Attack 10-30ms, Release 100-300ms, Threshold: -12dB, Gain Reduction: 3-6dB\n- **Result:** Smooths out loud/quiet variations naturally\n\n**Compressor 3: \"Glue & Character\" (Slow Compressor)**\n- **Type:** Tube or Opto (Fairchild 670, LA-2A)\n- **Purpose:** Add warmth, sustain, and \"glue\" to the mix\n- **Settings:** Ratio 2:1, Attack 30-50ms, Release 300-500ms (auto release), Threshold: -18dB, Gain Reduction: 1-3dB\n- **Result:** Adds analog color and sustain without pumping\n\n**Total Gain Reduction:** 7-14dB across all three compressors (transparent vs. one 14dB compressor which sounds squashed)\n\n**Parallel Compression:**\nBlend heavily compressed vocal (80-100% squashed) with dry vocal for \"New York style\" compression. Gives power without losing dynamics.`\n      },\n      {\n        title: 'Surgical EQ & Frequency Management',\n        content: `**Corrective EQ (First in Chain):**\n\n**High-Pass Filter (80-120 Hz):**\n- **Purpose:** Remove low-end rumble, room noise, proximity effect\n- **Settings:** 12 dB/octave slope at 80-120 Hz (depends on singer's voice)\n- **Result:** Clean low-end, reduces muddiness\n\n**Notch Out Problem Frequencies:**\n- **200-400 Hz:** \"Mud\" and boxiness (narrow cut, -3 to -6dB, Q: 2-4)\n- **500-800 Hz:** Nasal, honky tone (narrow cut, -2 to -4dB, Q: 2-3)\n- **2-4 kHz:** Harsh, tinny, fatiguing (narrow cut, -2 to -4dB, Q: 2-3)\n- Use **spectrum analyzer** to identify exact problem frequencies\n\n**Creative EQ (After Compression):**\n\n**Presence Boost (2-5 kHz):**\n- **Purpose:** Forward, clear, intelligible vocals\n- **Settings:** Broad boost (+2 to +4dB, Q: 0.7-1.2) around 3-4 kHz\n- **Result:** Vocal cuts through dense mixes\n\n**Air Boost (8-12 kHz):**\n- **Purpose:** Sparkle, openness, \"expensive\" sound\n- **Settings:** Shelving boost (+2 to +6dB) above 8-10 kHz\n- **Result:** Modern, hi-fi vocal tone\n\n**Warmth (200-400 Hz):**\n- **Purpose:** Body and fullness (if needed)\n- **Settings:** Gentle boost (+1 to +3dB, Q: 0.8-1.5) around 250-300 Hz\n- **Result:** Fuller, warmer tone (use sparingly to avoid mud)\n\n**EQ Order:**\nHigh-Pass → Corrective Cuts → Compression → Creative Boosts → De-Esser`\n      },\n      {\n        title: 'Spatial Placement & Automation',\n        content: `**Spatial Mixing Techniques:**\n\n**Depth (Front-to-Back):**\n- **Close:** Less reverb/delay, brighter EQ, louder\n- **Distant:** More reverb/delay, darker EQ (roll off highs), quieter\n- **Lead vocal:** Front (minimal reverb, bright)\n- **Backing vocals:** Middle-to-back (more reverb, slightly darker)\n\n**Width (Left-to-Right):**\n- **Lead vocal:** Center (mono)\n- **Doubles:** Slight L/R (10-20% pan)\n- **Harmonies:** Hard L/R (70-100% pan)\n- **Ad-libs:** Varied stereo placement\n\n**Height (Frequency Range):**\n- **Low vocals:** Feel grounded, powerful (preserve 200-400 Hz)\n- **High vocals:** Feel airy, ethereal (boost 10-12 kHz)\n- Use EQ to position vocals vertically in the mix\n\n**Haas Effect (Fake Stereo Width):**\nDuplicate vocal, pan hard L/R, delay one side by 15-30ms. Creates wide stereo image from mono vocal. **Warning:** Can cause phase issues on mono playback.\n\n**Volume Automation (Critical for Professional Sound):**\n\n**Syllable-Level Automation:**\n- Boost quiet consonants (+1 to +3dB) so lyrics are intelligible\n- Reduce loud peaks (-1 to -3dB) that poke out of the mix\n- Smooth out \"p,\" \"t,\" \"k\" plosives that are too loud\n\n**Section-Level Automation:**\n- **Verse:** -2 to -4dB (intimate)\n- **Pre-Chorus:** -1 to -2dB (building)\n- **Chorus:** 0dB (reference level, fullest)\n- **Bridge:** -3 to -5dB (stripped back)\n- **Final Chorus:** +1 to +2dB (climax)\n\n**Effect Automation:**\n- **Delay throws:** Automate delay send to 100% on last word of phrase\n- **Reverb swells:** Increase reverb during sustained notes\n- **Filter sweeps:** Automate high-pass filter for lo-fi/telephone effect\n\n**Sidechain Ducking:**\nDuck vocals slightly (-1 to -3dB) when other instruments (kick, snare) hit for clarity. Use fast attack (5ms), fast release (50-100ms).`\n      },\n      {\n        title: 'Final Mix Polish',\n        content: `**Reference Mixing:**\nA/B your vocal mix against professional tracks in the same genre:\n1. Import reference track into your DAW\n2. Match loudness (use LUFS meter, aim for -14 LUFS for streaming)\n3. Compare vocal level, brightness, width, effects\n4. Make adjustments to match professional sound\n\n**Mono Compatibility:**\nCheck your mix in mono (sum L+R to mono):\n- Does the vocal maintain presence?\n- Do harmonies/doubles disappear? (Phase cancellation issue)\n- Fix phase issues with slight panning or delay adjustments\n\n**Headroom & Loudness:**\n- Leave -6dB headroom on master for mastering\n- Vocal should peak around -3 to -6dB on vocal bus\n- Don't over-compress trying to match commercial loudness (that's mastering's job)\n\n**Vocal Presence Test:**\nCan you clearly hear every word?\n- If no: Boost 2-5 kHz, reduce reverb/delay mix, automate quiet words\n- If vocals are too loud: Check if instrumental is too quiet vs. vocal being too loud\n\n**Frequency Masking:**\nUse **spectrum analyzer** to ensure vocal occupies its frequency range (1-5 kHz) without competition:\n- Duck guitars/synths at 2-4 kHz when vocal is present\n- High-pass bass/kick to leave room for vocal warmth (200-400 Hz)\n- Create \"vocal pocket\" by carving space in other instruments\n\n**Final Chain (Lead Vocal Example):**\n1. High-Pass Filter (100 Hz)\n2. Corrective EQ (notch cuts)\n3. Fast Compressor (catch peaks, 4:1)\n4. Medium Compressor (even dynamics, 3:1)\n5. Creative EQ (presence, air)\n6. De-Esser (6-8 kHz)\n7. Slow Compressor (glue, 2:1)\n8. Saturation (subtle warmth)\n9. Send to Reverb Bus (20-40% wet)\n10. Send to Delay Bus (10-30% wet)\n\n**Mastering Preparation:**\n- Bounce stems: Lead vocal dry, Doubles dry, Harmonies dry, FX returns (reverb, delay)\n- This gives mastering engineer flexibility to adjust vocal balance\n- Export at 24-bit, 48kHz WAV (or higher) with -6dB headroom`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Master serial compression chains: fast compressor (peaks) + medium (dynamics) + slow (glue) for transparent control\",\n    \"Apply surgical EQ: high-pass filtering, corrective cuts, presence boosts, air for radio-ready tone\",\n    \"Understand spatial placement: depth (reverb), width (panning), height (EQ) for 3D vocal imaging\",\n    \"Implement volume automation: syllable-level adjustments, section dynamics, effect automation for emotional impact\",\n    \"Polish final mix: reference mixing, mono compatibility, headroom, frequency masking for professional sound\"\n  ]\n};\n",
    "number": 15,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "vocals-14",
      "vocals-13"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Advanced Vocal",
      "Prepararsi alla lezione successiva del modulo Vocals"
    ]
  },
  {
    "slug": "arrangement-16",
    "filename": "lesson-arrangement-16.config.js",
    "title": "Melodic Development:",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 16 - Melodic Development\n *\n * This lesson teaches how to develop melodic ideas across a track.\n * Master theme and variation, motivic development, and melodic callbacks.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-arrangement-16-progress\",\n  lessonNumber: 16,\n  lessonCategory: \"Arrangement\",\n  depthLevel: 4,\n\n  nextLessonUrl: \"lesson-arrangement-17.html\",\n  prevLessonUrl: \"lesson-arrangement-15.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 16, categoryLabel: \"Arrangement\" }),\n    title: \"Melodic Development:\",\n    titleHighlight: \"Theme and Variation\",\n    subtitle: \"Develop <strong>melodic themes</strong> across your track. Master <strong>motivic development</strong>, <strong>melodic callbacks</strong>, and <strong>thematic unity</strong>. Great songs develop one core idea in multiple ways.\"\n  },\n\n  exercise: {\n    title: \"Develop a Melodic Theme Across Sections\",\n    description: \"Create a <strong>core melodic motif</strong> (2-4 note pattern) and develop it throughout the track. Use it in different octaves, rhythms, instruments, and harmonizations. This creates <strong>thematic unity</strong>.\",\n    tip: \"Film scores do this masterfully: one theme appears in brass (heroic), strings (sad), piano (intimate). Use your hook melody in the intro (simple), verse (developed), chorus (full), outro (callback).\",\n    steps: [\n      { text: \"<strong>Create core motif</strong> - Simple 2-4 note melodic idea\" },\n      { text: \"<strong>Intro: State the theme</strong> - Present it simply, clearly\" },\n      { text: \"<strong>Verse: Develop it</strong> - Add notes, change rhythm, new octave\" },\n      { text: \"<strong>Chorus: Harmonize it</strong> - Add counter-melodies or harmonies\" },\n      { text: \"<strong>Bridge: Transform it</strong> - Major to minor, or rhythmic variation\" },\n      { text: \"<strong>Outro: Callback</strong> - Return to original simple version\" }\n    ]\n  },\n\n  developmentTechniques: [\n    { technique: \"Octave Displacement\", description: \"Play the motif in different octaves\", example: \"Intro: C4-E4-G4 → Chorus: C5-E5-G5\" },\n    { technique: \"Rhythmic Variation\", description: \"Keep pitches, change rhythm\", example: \"Quarter notes → Eighth notes → Syncopated\" },\n    { technique: \"Intervallic Expansion\", description: \"Widen or narrow intervals\", example: \"C-D-E → C-E-G (wider intervals)\" },\n    { technique: \"Inversion\", description: \"Flip the melody upside down\", example: \"Up-Up-Down → Down-Down-Up\" },\n    { technique: \"Augmentation\", description: \"Play it slower (double note values)\", example: \"Quarter notes → Half notes\" },\n    { technique: \"Fragmentation\", description: \"Use only part of the motif\", example: \"Use first 2 notes only\" }\n  ],\n\n  messages: applyMessagePreset(\"arrangement\", {\n    initial: \"Develop a melodic motif across different sections!\",\n    success: \"🎼 Brilliant melodic development! Your theme creates unity while evolving throughout the track.\",\n    error: \"Make sure your motif appears in multiple sections with variations.\",\n    alreadyCompleted: \"You've mastered melodic development!\"\n  }),\n\n  mode: {\n    type: \"structure-builder\",\n    sandbox: false,\n    showTimeline: true,\n    highlightMotifs: true\n  },\n\n  learningObjectives: [\n    \"Create a memorable melodic motif\",\n    \"Develop themes through six variation techniques\",\n    \"Use melodic callbacks for emotional impact\",\n    \"Create thematic unity across a complete track\",\n    \"Apply classical composition techniques to modern production\"\n  ],\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"Why Great Songs Develop One Idea (Not Ten)\",\n        content: `\n**The Amateur vs Professional Approach:**\n\n**Amateur Producer:**\n- Creates 10 different melodies for 10 different sections\n- Each section feels disconnected\n- Listeners can't remember any melody after the track ends\n- **Result:** Forgettable\n\n**Professional Producer:**\n- Creates ONE strong melodic motif (2-4 notes)\n- Develops it across all sections using variation\n- Every section relates back to the core idea\n- **Result:** Memorable, cohesive, and emotionally resonant\n\n---\n\n**Thematic Unity: The Secret to Hit Songs**\n\nThe biggest hits in music history are built on **one simple melodic idea** that's developed throughout:\n\n**\"Happy Birthday\":**\n- Entire song built on the opening 4-note motif: \"Hap-py Birth-day\"\n- Every phrase is a variation of those four notes\n- *Why it works:* One idea, repeated with slight changes = instant memorability\n\n**\"Für Elise\" by Beethoven:**\n- The entire piece develops the opening E-D#-E-D#-E-B-D-C-A motif\n- Every section references those notes in different ways\n- *Why it works:* 5 minutes of music from 9 notes = perfect thematic unity\n\n**\"Shape of You\" by Ed Sheeran:**\n- The marimba riff (da-da da-da da-da da) appears in:\n  - Intro (simple, clear)\n  - Verse (background, supporting vocals)\n  - Pre-chorus (harmonized version)\n  - Chorus (full, loud version)\n  - Bridge (stripped, minimal version)\n  - Outro (callback to intro)\n- *Why it works:* One motif, six variations = listeners hear familiar + fresh simultaneously\n\n---\n\n**The Motif: Your Musical DNA**\n\nA **motif** (or motive) is a short, recognizable musical idea—usually 2-4 notes.\n\n**Characteristics of a Strong Motif:**\n1. **Short** — 2-4 notes maximum (any longer = it's a phrase, not a motif)\n2. **Memorable** — Simple enough to sing after one listen\n3. **Flexible** — Can be transformed in multiple ways\n4. **Rhythmically distinct** — Clear rhythm pattern\n\n**Examples of Iconic Motifs:**\n\n**Beethoven's 5th Symphony:**\n- Motif: G-G-G-Eb (three short + one long)\n- *da da da DAAAA*\n- Entire symphony built on this\n\n**\"Smoke on the Water\" by Deep Purple:**\n- Motif: G-Bb-C / G-Bb-Db-C (guitar riff)\n- Entire song uses this riff in different contexts\n\n**\"Lose Yourself\" by Eminem:**\n- Motif: Guitar riff in intro (da-DA da-DA da-DA)\n- Appears in every section, sometimes foreground, sometimes background\n\n**Your Goal:** Create one motif this strong, then develop it throughout your track.\n\n---\n\n**Why This Approach Works Psychologically:**\n\n**1. Familiarity Breeds Liking**\n- Repeated exposure to the same melody (in varied forms) makes listeners like it more\n- Called the \"mere-exposure effect\" in psychology\n- **Application:** Repeat your motif 10+ times across the track (in different forms)\n\n**2. Recognition Creates Satisfaction**\n- When listeners recognize the motif returning, their brain releases dopamine\n- \"Oh, I know this part!\"—instant emotional connection\n- **Application:** Use callbacks to the original motif in the outro\n\n**3. Variation Prevents Boredom**\n- Exact repetition = monotony\n- Variation = freshness while maintaining identity\n- **Application:** Change octave, rhythm, or harmony each time\n\n**The Perfect Balance:**\n- **80% familiar** (recognizable motif)\n- **20% fresh** (new variation)\n\n---\n\n**The Motivic Development Arc:**\n\nMap out how your motif will evolve across the track:\n\n\\`\\`\\`\nINTRO: Statement\n  → Present the motif in its simplest form\n  → Clear, unadorned, memorable\n  → Example: Piano plays C-E-G-A (simple melody)\n\nVERSE: Background Development\n  → Motif moves to background (supporting role)\n  → Let vocals take focus\n  → Example: C-E-G-A as subtle synth pad\n\nPRE-CHORUS: Rhythmic Variation\n  → Keep pitches, change rhythm\n  → Building energy\n  → Example: C-E-G-A but in eighth notes instead of quarters\n\nCHORUS: Full Statement\n  → Motif at full power, all instruments\n  → Often harmonized or doubled\n  → Example: C-E-G-A played by synth + guitar + bass (octave lower)\n\nBRIDGE: Transformation\n  → Major change (inversion, mode change, or fragmentation)\n  → Creates contrast\n  → Example: C-E-G-A becomes C-Ab-F-D (inverted)\n\nFINAL CHORUS: Augmentation\n  → Motif in longer note values (slower, more epic)\n  → Or full orchestration (maximum impact)\n  → Example: C-E-G-A stretched to half notes\n\nOUTRO: Callback\n  → Return to the simple intro version\n  → Full circle, emotional resolution\n  → Example: Bare piano plays C-E-G-A like the intro\n\\`\\`\\`\n\n**This creates an emotional journey through a single melodic idea.**\n\n---\n\n**Real-World Examples of Motivic Development:**\n\n**\"Let It Be\" by The Beatles:**\n\n**Intro (Simple Statement):**\n- Piano plays the iconic C-G-Am-F melody\n- Clear, simple, recognizable\n\n**Verse (Background):**\n- Same melody continues underneath vocals\n- Supporting role\n\n**Chorus (\"Let it be\" melody):**\n- New melody but rhythmically relates to intro motif\n- Feels connected\n\n**Guitar Solo:**\n- Solo built on fragments of the main piano melody\n- Recognizable DNA\n\n**Outro:**\n- Returns to simple piano motif from intro\n- Brings listeners full circle\n\n---\n\n**\"Levels\" by Avicii:**\n\n**Intro (Statement):**\n- Iconic Etta James vocal sample: \"Oh, sometimes\"\n- 4-note melodic motif\n\n**Buildup:**\n- Same vocal sample, filtered and repeated\n- Creates anticipation\n\n**Drop:**\n- Synth lead plays the EXACT melody from vocal sample\n- Listeners recognize it instantly = dopamine hit\n\n**Breakdown:**\n- Vocal sample returns (callback)\n- Familiar = satisfying\n\n**Final Drop:**\n- Synth melody again (developed further with harmonies)\n\n**Entire track built on one 4-note vocal sample.**\n\n---\n\n**Film Score Approach (John Williams Technique):**\n\nFilm composers are masters of motivic development. Study their techniques:\n\n**Star Wars Main Theme (John Williams):**\n- Opening fanfare: Simple ascending motif (3 notes: C-G-C)\n- This motif appears in:\n  - Heroic moments (loud, brass)\n  - Sad moments (strings, minor key)\n  - Intimate moments (solo piano)\n  - Action scenes (fast, rhythmic version)\n\n**Same motif, different emotion = thematic unity with emotional range**\n\n**Your Application:**\n- Intro: Motif on piano (intimate)\n- Verse: Motif on guitar (organic)\n- Chorus: Motif on synth (powerful)\n- Bridge: Motif on strings (emotional)\n\n**Same melody, different instrument/context = different feeling.**\n        `\n      },\n      {\n        title: \"The Six Classical Development Techniques\",\n        content: `\n**These techniques have been used for 400 years—from Bach to Billie Eilish.**\n\n---\n\n**Technique 1: Octave Displacement**\n\n**Definition:** Play the same melody in a different octave (higher or lower).\n\n**Original Motif (Middle Octave):**\n\\`\\`\\`\nC4 - E4 - G4 - A4\n\\`\\`\\`\n\n**Octave Displacement (Higher):**\n\\`\\`\\`\nC5 - E5 - G5 - A5\n\\`\\`\\`\n\n**Effect:** Same melody, different energy. Higher = brighter/more excited, Lower = darker/more serious.\n\n**When to Use:**\n- **Verse → Chorus:** Move motif up one octave for increased energy\n- **Chorus → Bridge:** Move motif down one octave for intimate contrast\n- **Final Chorus:** Layer multiple octaves simultaneously (massive impact)\n\n**Real Example:**\n- **\"Clarity\" by Zedd:** Main synth melody appears in low octave (verse), high octave (chorus), and both simultaneously (drop)\n\n**Production Tip:** Layering the same melody across 2-3 octaves creates thickness without adding new musical ideas.\n\n---\n\n**Technique 2: Rhythmic Variation**\n\n**Definition:** Keep the pitches the same, but change the rhythm.\n\n**Original Motif (Quarter Notes):**\n\\`\\`\\`\nC - E - G - A\n♩   ♩   ♩   ♩  (steady quarter notes)\n\\`\\`\\`\n\n**Rhythmic Variation 1 (Eighth Notes):**\n\\`\\`\\`\nC - E - G - A\n♫   ♫   ♫   ♫  (twice as fast)\n\\`\\`\\`\n\n**Rhythmic Variation 2 (Syncopated):**\n\\`\\`\\`\nC  -  E - G   -   A\n♩    ♪  ♪  ♩.     ♪  (offbeat accents)\n\\`\\`\\`\n\n**Rhythmic Variation 3 (Triplets):**\n\\`\\`\\`\nC - E - G - A\n♪♪♪ ♪♪♪ ♪♪♪ ♪♪♪  (triplet feel)\n\\`\\`\\`\n\n**Effect:** Same notes, completely different vibe.\n\n**When to Use:**\n- **Verse 1:** Slow, steady rhythm (quarter notes)\n- **Verse 2:** Faster rhythm (eighth notes) — more energy without changing melody\n- **Chorus:** Syncopated rhythm — adds groove and excitement\n- **Bridge:** Triplet feel — different character entirely\n\n**Real Example:**\n- **\"Faded\" by Alan Walker:** The main piano motif appears in slow rhythm (intro), faster rhythm (drop), and syncopated rhythm (breakdown)\n\n---\n\n**Technique 3: Intervallic Expansion/Contraction**\n\n**Definition:** Make the intervals between notes wider (expansion) or narrower (contraction).\n\n**Original Motif (Step-wise Motion):**\n\\`\\`\\`\nC - D - E - F  (each note one step apart)\n\\`\\`\\`\n\n**Expansion (Wider Intervals):**\n\\`\\`\\`\nC - E - G - C  (intervals widened to thirds and fifths)\n\\`\\`\\`\n\n**Contraction (Narrower Intervals):**\n\\`\\`\\`\nC - C# - D - D#  (chromatic, half-step motion)\n\\`\\`\\`\n\n**Effect:**\n- **Expansion** = more dramatic, heroic, powerful\n- **Contraction** = more tense, creeping, unsettling\n\n**When to Use:**\n- **Intro:** Original step-wise motif (simple)\n- **Chorus:** Expanded intervals (epic, powerful)\n- **Bridge:** Contracted intervals (tense, building anticipation)\n\n**Real Example:**\n- **Hans Zimmer (Inception Soundtrack):** The main BRAAAM sound uses interval expansion—simple motif stretched to massive intervals\n\n---\n\n**Technique 4: Inversion (Flipping the Melody)**\n\n**Definition:** Flip the melody upside down. Where it went up, now it goes down (and vice versa).\n\n**Original Motif:**\n\\`\\`\\`\nC  →  E  →  G  →  E\n(up  up  down)\n\\`\\`\\`\n\n**Inversion:**\n\\`\\`\\`\nC  →  Ab →  F  →  Ab\n(down down up)\n\\`\\`\\`\n\n**Effect:** Recognizable DNA, but feels fresh and unexpected.\n\n**When to Use:**\n- **Bridge:** Create contrast by using inverted version of main motif\n- **B-section of verse:** Second half of verse uses inverted motif\n\n**Real Example:**\n- **Classical music uses this constantly:** Bach's fugues invert melodies all the time\n- **Modern example:** Many EDM tracks invert the main lead melody in the second drop\n\n**Production Tip:** Inversion is subtle—most listeners won't consciously notice, but they'll feel the connection.\n\n---\n\n**Technique 5: Augmentation (Slower) / Diminution (Faster)**\n\n**Definition:**\n- **Augmentation:** Play the motif in longer note values (slower, more epic)\n- **Diminution:** Play the motif in shorter note values (faster, more intense)\n\n**Original Motif (Quarter Notes):**\n\\`\\`\\`\nC - E - G - A\n♩   ♩   ♩   ♩  (1 beat each)\n\\`\\`\\`\n\n**Augmentation (Half Notes):**\n\\`\\`\\`\nC  -  E  -  G  -  A\n𝅗𝅥    𝅗𝅥    𝅗𝅥    𝅗𝅥   (2 beats each = twice as slow)\n\\`\\`\\`\n\n**Diminution (Eighth Notes):**\n\\`\\`\\`\nC - E - G - A\n♫   ♫   ♫   ♫  (half beat each = twice as fast)\n\\`\\`\\`\n\n**Effect:**\n- **Augmentation** = epic, emotional, cinematic (think slow-motion)\n- **Diminution** = urgent, intense, exciting\n\n**When to Use:**\n- **Final Chorus:** Augmented version (stretched out for maximum emotion)\n- **Buildup:** Diminution (faster version creates urgency before drop)\n\n**Real Example:**\n- **\"Strobe\" by Deadmau5:** The main motif appears in slow form (intro/breakdown) and fast form (drop)\n- **\"Experience\" by Ludovico Einaudi:** Piano motif progressively gets faster (diminution builds intensity)\n\n---\n\n**Technique 6: Fragmentation (Using Only Part of the Motif)**\n\n**Definition:** Take only the first 2 notes (or last 2 notes) and develop them independently.\n\n**Original Motif:**\n\\`\\`\\`\nC - E - G - A\n\\`\\`\\`\n\n**Fragmentation (First 2 Notes Only):**\n\\`\\`\\`\nC - E  (repeat this fragment)\nC - E - C - E - C - E\n\\`\\`\\`\n\n**Fragmentation (Last 2 Notes Only):**\n\\`\\`\\`\nG - A  (repeat this fragment)\nG - A - G - A - G - A\n\\`\\`\\`\n\n**Effect:** Creates variation while maintaining DNA. Sounds fresh but familiar.\n\n**When to Use:**\n- **Transition sections:** Fragment the motif during buildups or breakdowns\n- **Background layers:** Full motif in foreground, fragment in background\n- **Percussive elements:** Use motif rhythm but only first 2 notes\n\n**Real Example:**\n- **\"Midnight City\" by M83:** The sax solo at the end uses fragments of the main synth melody\n- **Hip-hop production:** Producers often loop just 2 notes of a sample (fragmentation) instead of the full phrase\n\n---\n\n**Combining Techniques for Maximum Development:**\n\n**Don't use just one technique—combine 2-3 for professional results.**\n\n**Example: Full Track Using All Six Techniques**\n\n**Original Motif:** C - E - G - A (quarter notes, middle octave)\n\n**Intro (Statement):**\n- Original motif, simple piano\n\n**Verse (Octave Displacement + Rhythmic Variation):**\n- C5 - E5 - G5 - A5 (one octave higher)\n- Eighth notes instead of quarters (faster)\n\n**Pre-Chorus (Fragmentation):**\n- C - E (just first 2 notes, repeated)\n- Creates urgency\n\n**Chorus (Augmentation + Harmonization):**\n- C - E - G - A (stretched to half notes = slower, epic)\n- Layered across 3 octaves (C3 + C4 + C5 simultaneously)\n\n**Bridge (Inversion + Intervallic Expansion):**\n- C → Ab → F → Ab (inverted)\n- Intervals widened for drama\n\n**Final Chorus (All Techniques Combined):**\n- Original motif (C - E - G - A)\n- Played in 3 octaves (octave displacement)\n- Half note rhythm (augmentation)\n- Harmonized with counter-melody\n\n**Outro (Callback to Intro):**\n- Return to simple piano, original motif\n- Emotional resolution\n\n**Result:** Six variations of one motif = thematic unity + constant development.\n\n---\n\n**Common Mistakes:**\n\n**❌ Mistake: Creating too many motifs**\nHaving 5 different melodies = no thematic unity, forgettable.\n\n**✓ Fix:** Pick ONE motif, develop it 6+ ways.\n\n---\n\n**❌ Mistake: Not transforming enough**\nUsing the exact same melody in every section = boring.\n\n**✓ Fix:** Change octave, rhythm, or harmony each time it appears.\n\n---\n\n**❌ Mistake: Transforming too much**\nListeners can't recognize the motif anymore = loses connection.\n\n**✓ Fix:** Keep at least one aspect the same (rhythm OR pitches OR contour).\n\n---\n\n**❌ Mistake: Forgetting the callback**\nTrack ends with new material instead of returning to the motif.\n\n**✓ Fix:** Always return to the original motif in the outro for emotional resolution.\n\n---\n\n**Professional Development Checklist:**\n\nBefore moving on, verify your motif appears in:\n\n- ✓ Intro (simple statement)\n- ✓ Verse (background or variation)\n- ✓ Chorus (full power)\n- ✓ Bridge (transformation)\n- ✓ Final chorus (climax version)\n- ✓ Outro (callback to intro)\n\nAnd you've used at least 3 of the 6 techniques:\n\n- ✓ Octave displacement\n- ✓ Rhythmic variation\n- ✓ Intervallic expansion/contraction\n- ✓ Inversion\n- ✓ Augmentation/diminution\n- ✓ Fragmentation\n\n**If checked:** You've created professional-level motivic development.\n        `\n      },\n      {\n        title: \"Practical Melodic Development Workflow\",\n        content: `\n**Step-by-Step Process: From Motif to Full Track**\n\n---\n\n**Step 1: Craft Your Core Motif (2-4 Notes)**\n\n**The most important step.** A weak motif can't be saved by development. A strong motif writes the track for you.\n\n**Characteristics of a Strong Motif:**\n\n✓ **2-4 notes maximum** (any longer = phrase, not motif)\n✓ **Memorable after one listen** (can you sing it back?)\n✓ **Rhythmically distinct** (not just straight quarter notes)\n✓ **Emotionally clear** (happy/sad/mysterious/energetic)\n\n**How to Create a Strong Motif:**\n\n**Method 1: Chord Tones**\n- Take a chord: C major (C - E - G)\n- Create motif using those notes: C - E - G - E\n- **Benefit:** Automatically sounds harmonious\n\n**Method 2: Scale Fragments**\n- Take a scale: C major (C D E F G A B C)\n- Use 3-4 consecutive notes: E - F - G - A\n- **Benefit:** Natural melodic flow\n\n**Method 3: Rhythm First**\n- Create interesting rhythm: ♩ ♪♪ ♩ ♪\n- Add pitches after: C - E E - G - A\n- **Benefit:** Rhythmically memorable\n\n**Method 4: Call-and-Response**\n- Question phrase: C - E (up, unresolved)\n- Answer phrase: G - E (down, resolved)\n- **Benefit:** Natural musical conversation\n\n**Test Your Motif:**\n1. Play it once. Close your laptop.\n2. Can you sing it back from memory?\n3. If **YES** → Proceed. If **NO** → Simplify.\n\n---\n\n**Step 2: Map Your Development Arc**\n\nBefore producing, plan how the motif will evolve:\n\n\\`\\`\\`\nSECTION          | TECHNIQUE USED           | EMOTION/PURPOSE\n-----------------|--------------------------|-----------------\nIntro            | Original (simple)        | Establish theme\nVerse 1          | Octave down              | Intimate, vocal focus\nPre-Chorus       | Rhythmic variation       | Building energy\nChorus 1         | Octave up + augmentation | Epic, powerful\nVerse 2          | Fragmentation            | Variation on V1\nChorus 2         | Layered octaves          | Fuller than C1\nBridge           | Inversion + expansion    | Maximum contrast\nFinal Chorus     | All octaves + harmonies  | Climax\nOutro            | Original (callback)      | Resolution\n\\`\\`\\`\n\n**This is your roadmap.** Stick to it during production to maintain focus.\n\n---\n\n**Step 3: Produce the Intro (Simple Statement)**\n\n**Goal:** Present the motif in its clearest, simplest form.\n\n**Best Practices:**\n- **One instrument only** (piano, guitar, or lead synth)\n- **No effects** (minimal reverb, no delay/distortion)\n- **Center panned** (mono, direct)\n- **Clean mix** (nothing competing for attention)\n\n**Example:**\n\\`\\`\\`\nMotif: C - E - G - A (quarter notes)\nInstrument: Piano\nBars: 4 bars, loop 2x\n\\`\\`\\`\n\n**Why This Works:** Listeners hear the motif CLEARLY. They'll recognize it every time it returns (even transformed).\n\n**Common Mistake:** Adding drums, bass, pads in the intro. **Too cluttered.** Let the motif breathe.\n\n---\n\n**Step 4: Develop for Verse (Background Role)**\n\n**Goal:** Let vocals take focus, motif supports in the background.\n\n**Techniques:**\n- **Octave displacement** (move to higher or lower octave to avoid vocal clash)\n- **Rhythmic variation** (slower rhythm so it doesn't compete with vocal rhythm)\n- **Instrumentation change** (if intro was piano, verse is pad)\n\n**Example:**\n\\`\\`\\`\nMotif: C5 - E5 - G5 - A5 (one octave higher than intro)\nInstrument: Soft pad (not piano)\nRhythm: Half notes (slower than intro)\nVolume: -6dB (background, not foreground)\n\\`\\`\\`\n\n**Why This Works:** Motif is present (thematic unity) but doesn't fight vocals for attention.\n\n---\n\n**Step 5: Build Pre-Chorus (Rhythmic Urgency)**\n\n**Goal:** Create forward momentum into the chorus.\n\n**Technique:** Rhythmic variation (faster rhythm = building energy)\n\n**Example:**\n\\`\\`\\`\nOriginal motif: C - E - G - A (quarter notes)\nPre-chorus: C - E - G - A (eighth notes = twice as fast)\n\\`\\`\\`\n\n**Additional Techniques:**\n- **Fragmentation:** Repeat just C - E fragment at the end of pre-chorus\n- **Rising octave:** Start at C4, end at C5 (rising into chorus)\n\n**Why This Works:** Faster rhythm creates urgency. Listeners feel the chorus approaching.\n\n---\n\n**Step 6: Deliver the Chorus (Full Power)**\n\n**Goal:** Maximum impact. This is where the motif shines.\n\n**Techniques:**\n- **Octave layering:** Play motif in 2-3 octaves simultaneously (C3 + C4 + C5)\n- **Harmonization:** Add harmony notes (thirds or fifths above main melody)\n- **Full instrumentation:** Piano + synth + guitar all playing motif\n- **Augmentation (optional):** Stretch to half notes for epic feel\n\n**Example:**\n\\`\\`\\`\nMotif: C - E - G - A\nOctaves: C3 (bass), C4 (mid), C5 (high)\nInstruments: Synth lead (C5) + Piano (C4) + Bass (C3 playing root notes)\nRhythm: Half notes (stretched for impact)\nVolume: 0dB (full power)\n\\`\\`\\`\n\n**Why This Works:** The listener has heard this motif 3 times already (intro, verse, pre-chorus). Now it arrives in FULL FORCE. Recognition + power = dopamine hit.\n\n---\n\n**Step 7: Transform for Bridge (Maximum Contrast)**\n\n**Goal:** Create a moment of surprise and freshness before final chorus.\n\n**Best Techniques for Bridge:**\n- **Inversion:** Flip the melody upside down\n- **Mode change:** Major to minor (or vice versa)\n- **Intervallic expansion:** Widen the intervals dramatically\n- **Fragmentation:** Use only 2 notes of the motif\n\n**Example:**\n\\`\\`\\`\nOriginal motif: C - E - G - A (ascending)\nBridge inversion: C - Ab - F - D (descending)\n\nOr:\nOriginal motif: C - E - G - A (major)\nBridge mode change: C - Eb - G - Ab (minor = darker)\n\\`\\`\\`\n\n**Why This Works:** The bridge feels DIFFERENT (prevents monotony) but still RELATED (thematic unity). Listeners feel refreshed.\n\n---\n\n**Step 8: Climax in Final Chorus (Everything Combined)**\n\n**Goal:** Exceed all previous choruses. Make this the peak.\n\n**Combine Multiple Techniques:**\n- **Layered octaves:** 3-4 octaves (C2, C3, C4, C5)\n- **Harmonies:** Add thirds, fifths, and counter-melodies\n- **Augmentation:** Stretch to longer note values (more epic)\n- **Full instrumentation:** Every instrument playing some version of the motif\n\n**Example:**\n\\`\\`\\`\nBass: C2 - E2 - G2 - A2 (sub-bass, foundational)\nSynth 1: C3 - E3 - G3 - A3 (mid-range power)\nSynth 2: C4 - E4 - G4 - A4 (main melody)\nLead: C5 - E5 - G5 - A5 (high, bright)\nHarmony: E4 - G4 - B4 - C5 (third above main melody)\nCounter-melody: A3 - G3 - E3 - C3 (descending answer to motif)\n\\`\\`\\`\n\n**Why This Works:** The final chorus feels MASSIVE because every frequency range has the motif. It's the same melody, but in 6 different voices.\n\n---\n\n**Step 9: Resolve in Outro (Callback to Intro)**\n\n**Goal:** Bring the listener full circle. End where you began.\n\n**Technique:** Return to the EXACT intro version.\n\n**Example:**\n\\`\\`\\`\nSame as intro:\n  - Simple piano (same instrument as intro)\n  - Original motif: C - E - G - A\n  - Quarter notes (original rhythm)\n  - No other instruments\n\\`\\`\\`\n\n**Optional Variation:**\n- Fade out while looping motif\n- Or end on the first note of the motif (C) held as a final chord\n\n**Why This Works:** Listeners hear the familiar intro motif return. \"Oh, we're back where we started.\" Creates emotional closure.\n\n**Film score equivalent:** \"Returning home\" feeling. The journey is complete.\n\n---\n\n**Step 10: Add Background Development (Optional Pro Move)**\n\nWhile the main motif develops in the foreground, add **background variations**:\n\n**Example:**\n\n**Chorus (foreground):**\n- Main synth plays full motif: C - E - G - A\n\n**Chorus (background):**\n- Pad plays fragmented motif: C - E (looping)\n- Percussion plays motif rhythm (no pitched notes, just rhythm)\n- Bass plays motif in reverse: A - G - E - C\n\n**Why This Works:** Creates depth. Casual listeners hear the main motif, but deep listeners discover hidden variations on repeat listens.\n\n---\n\n**Production Tips for Each Technique:**\n\n**Octave Displacement:**\n- Use EQ to prevent frequency masking (high-pass lower octaves, low-pass higher octaves)\n- Pan different octaves left/right for width\n\n**Rhythmic Variation:**\n- Keep the FIRST note of the motif on the same beat (anchors the rhythm)\n- Vary the notes that follow\n\n**Intervallic Expansion:**\n- Don't expand TOO much or it becomes unrecognizable\n- Keep at least one interval the same\n\n**Inversion:**\n- Use MIDI editor to \"flip vertically\" for perfect inversion\n- Test: does it still sound related to the original?\n\n**Augmentation:**\n- Works best in final chorus or outro (epic, stretched)\n- Combine with reverb for cinematic effect\n\n**Fragmentation:**\n- Use in transitions (buildups/breakdowns)\n- Layer full motif + fragment simultaneously\n\n---\n\n**Common Production Mistakes (And Fixes):**\n\n**❌ Mistake: \"My motif sounds boring when repeated\"**\n\n**✓ Fix:**\n- You're not transforming it enough\n- Apply at least 2 techniques per section (e.g., octave + rhythm change)\n\n---\n\n**❌ Mistake: \"Listeners don't recognize my motif across sections\"**\n\n**✓ Fix:**\n- You're transforming it TOO much\n- Keep rhythm OR pitches the same (change one, not both)\n\n---\n\n**❌ Mistake: \"My bridge doesn't feel different enough\"**\n\n**✓ Fix:**\n- Use inversion or mode change (major → minor)\n- These create maximum contrast while maintaining DNA\n\n---\n\n**❌ Mistake: \"My final chorus doesn't feel climactic\"**\n\n**✓ Fix:**\n- Layer multiple octaves (3-4 simultaneously)\n- Add harmonies and counter-melodies\n- Increase instrumentation (every element plays the motif)\n\n---\n\n**Genre-Specific Applications:**\n\n**Pop:**\n- Motif in intro (piano or guitar)\n- Motif in chorus (full vocals + instruments)\n- Callback in outro\n\n**EDM:**\n- Motif in breakdown (simple synth)\n- Motif in drop (layered synths, multiple octaves)\n- Fragmentation in buildup\n\n**Hip-Hop:**\n- Motif as sample loop (intro)\n- Motif chopped/fragmented (verse)\n- Motif in hook (chorus)\n\n**Rock:**\n- Motif as guitar riff (intro)\n- Motif as vocal melody (chorus)\n- Motif in guitar solo (developed)\n\n---\n\n**Final Checklist Before Moving On:**\n\n✓ **Motif is 2-4 notes and memorable**\n✓ **Intro states motif clearly (simple, one instrument)**\n✓ **Verse has motif in background (different octave or rhythm)**\n✓ **Chorus has full motif (loud, layered, powerful)**\n✓ **Bridge transforms motif (inversion, mode change, or expansion)**\n✓ **Final chorus layers motif across octaves**\n✓ **Outro returns to intro version (callback)**\n✓ **Used at least 3 development techniques**\n✓ **Motif appears 6+ times across track**\n\n**If all checked:** You've created professional thematic unity. Your track will be memorable and cohesive—the hallmark of great songwriting.\n\n---\n\n**What's Next:**\n\nIn Lesson 17, you'll learn **advanced transition techniques**—how to move between sections using professional tricks like reverse effects, automation, and creative edits. These transitions will connect your developed motif across sections seamlessly.\n        `\n      }\n    ]\n  }\n};\n\nif (typeof window !== 'undefined') window.LESSON_CONFIG = lessonConfig;\n",
    "number": 16,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "arrangement-15",
      "arrangement-14"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Melodic Development:",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-16",
    "filename": "lesson-bass-16.config.js",
    "title": "UK Garage & Grime Bass:",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 16 - UK Garage & Grime Bass\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-16-progress\",\n  lessonNumber: 16,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-17.html\",\n  prevLessonUrl: \"lesson-bass-15.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 16, categoryLabel: \"Bass & Low End\" }),\n    title: \"UK Garage & Grime Bass:\",\n    titleHighlight: \"UK Garage & Grime Bass\",\n    subtitle: \"Create skippy UK Garage bass and dark Grime sub-bass patterns. Master the UK bass sound with 2-step rhythms. Learn professional techniques used in industry-standard productions.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    bars: 2,\n    noteRange: { min: 36, max: 60 },\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Complete the Bass Exercise\",\n    description: \"Create skippy UK Garage bass and dark Grime sub-bass patterns. Master the UK bass sound with 2-step rhythms. This lesson covers professional techniques for UK Garage & Grime Bass.\",\n    tip: \"Focus on the foundational elements and build complexity gradually. Listen critically to how each technique affects the overall bass sound.\",\n    steps: [\n      '<strong>Step 1</strong> — Study the theory sections to understand the concepts.',\n      '<strong>Step 2</strong> — Analyze the target pattern and identify key characteristics.',\n      '<strong>Step 3</strong> — Program the bass pattern following the guidelines.',\n      '<strong>Step 4</strong> — Listen critically and compare to reference tracks.',\n      '<strong>Step 5</strong> — Experiment with variations while maintaining the core technique.',\n      'Check when ready to validate your work.'\n    ]\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Core Concepts',\n        content: `This lesson explores UK Garage & Grime Bass with focus on professional production techniques.\n\n**Key Learning Points:**\n- Understanding the characteristic sound and feel\n- Rhythm and timing considerations\n- Frequency management and sonic characteristics\n- Genre-specific applications\n- Professional mixing and processing techniques\n\nMaster these concepts to create bass that sits perfectly in any mix and serves the song effectively.`\n      },\n      {\n        title: 'Professional Application',\n        content: `Apply UK Garage & Grime Bass techniques in your productions:\n\n**Production Workflow:**\n1. Start with a clear sonic goal\n2. Choose appropriate synthesis or sample method\n3. Program the rhythm with intention\n4. Process for clarity and power\n5. Mix in context with other elements\n\n**Common Use Cases:**\n- Genre-specific productions\n- Creative sound design\n- Professional mixing scenarios\n- Live performance considerations\n\nStudy reference tracks to hear these techniques in action.`\n      }\n    ]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [\n      { pitch: 40, step: 0, duration: 2, velocity: 100 },\n      { pitch: 47, step: 2, duration: 2, velocity: 90 },\n      { pitch: 40, step: 4, duration: 2, velocity: 95 },\n      { pitch: 43, step: 6, duration: 2, velocity: 85 }\n    ],\n    highlightScale: [40, 42, 43, 45, 47, 48, 50, 52],\n    showChordDetection: false,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master UK Garage & Grime Bass techniques and concepts\",\n    \"Apply professional production workflows\",\n    \"Understand genre-specific bass characteristics\",\n    \"Develop critical listening skills for bass\",\n    \"Create industry-standard bass productions\"\n  ],\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete the bass exercise to master this technique.\",\n    success: \"Excellent! You've mastered UK Garage & Grime Bass. Professional-level skills!\",\n    error: \"Review the theory and target pattern. Pay attention to the key characteristics.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these professional techniques!\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 16,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "bass-15",
      "bass-14"
    ],
    "outcomes": [
      "Applicare i concetti chiave di UK Garage & Grime Bass:",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-16",
    "filename": "lesson-drums-16.config.js",
    "title": "Advanced Fills &",
    "category": "Drums & Rhythm",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-drums-16-progress\",\n  lessonNumber: 16,\n  lessonCategory: \"Drums & Rhythm\",\n  depthLevel: 8,\n  nextLessonUrl: \"lesson-drums-17.html\",\n  prevLessonUrl: \"lesson-drums-15.html\",\n  overviewUrl: \"labs.html\",\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-drums-16\", categoryLabel: \"Drums & Rhythm\" }),\n    title: \"Advanced Fills &\",\n    titleHighlight: \"Transitions\",\n    subtitle: \"Build <strong>dramatic drum fills</strong> that bridge song sections seamlessly. Master <strong>tom rolls</strong>, <strong>crash patterns</strong>, and <strong>fill placement strategies</strong> that create excitement without derailing the groove. Learn when to use simple vs complex fills, how to build tension, and the art of the perfect transition.\"\n  },\n  sequencer: { tempo: 105, stepCount: 16, swing: 0, showBeatMarkers: true, showStepNumbers: true, autoSaveState: true, enableVelocity: true, requiredTempo: 105 },\n  exercise: {\n    title: \"Create Tom Roll Fill\",\n    description: \"Build a classic <strong>tom roll fill</strong> that transitions between sections. Use <strong>high, mid, and low toms</strong> in descending order with a <strong>crash cymbal accent</strong> on beat 1.\",\n    tip: \"Fills should lead INTO the downbeat, not land ON it. End fills on step 15-16 so the crash hits step 1 of the next bar!\",\n    steps: [\n      { text: \"<strong>Set tempo to 105 BPM</strong>.\" },\n      { text: \"<strong>High Tom:</strong> Steps 13, 14 (16th notes).\" },\n      { text: \"<strong>Mid Tom:</strong> Step 15.\" },\n      { text: \"<strong>Low Tom (Floor):</strong> Step 16.\" },\n      { text: \"<strong>Crash:</strong> Step 1 (next bar - imagine it!).\" },\n      { text: \"<strong>Velocities:</strong> Crescendo from 90 → 120 across toms.\" }\n    ]\n  },\n  instruments: [\n    { id: \"tom1\", label: \"High Tom\", color: \"linear-gradient(135deg, #ff6b6b, #ee5a6f)\", targetSteps: [12, 13], targetVelocities: { 12: 90, 13: 100 }, instructionText: \"High tom on steps 13-14.\", patternHint: { enabled: true } },\n    { id: \"tom2\", label: \"Mid Tom\", color: \"linear-gradient(135deg, #f9ca24, #f0932b)\", targetSteps: [14], targetVelocities: { 14: 110 }, instructionText: \"Mid tom on step 15.\", patternHint: { enabled: true } },\n    { id: \"tom3\", label: \"Low Tom\", color: \"linear-gradient(135deg, #6c5ce7, #a29bfe)\", targetSteps: [15], targetVelocities: { 15: 120 }, instructionText: \"Low tom on step 16.\", patternHint: { enabled: true } }\n  ],\n  theory: { sections: [{ title: \"Fill Construction Principles\", content: \"**Rule of thumb:** Fills should be 1-2 bars maximum. Longer fills lose impact. **Placement:** Last 2 beats of a bar (steps 13-16 in 16-step grid). **Velocity:** Build energy with crescendo. **Simplicity:** Simple fills often work better than complex ones.\" }] },\n  learningObjectives: [\"Build effective tom roll fills\", \"Use velocity crescendos for drama\", \"Place fills strategically between sections\", \"Balance simplicity and complexity\", \"Create smooth transitions\"],\n  validation: applyMessagePreset(\"drumSequencer\", \"correct-placement-and-velocity\")\n};\n",
    "number": 16,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "drums-15",
      "drums-14"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Advanced Fills &",
      "Prepararsi alla lezione successiva del modulo Drums & Rhythm"
    ]
  },
  {
    "slug": "harmony-16",
    "filename": "lesson-harmony-16.config.js",
    "title": "Neo-Soul Moves:",
    "category": "Advanced Harmony",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 16 - Neo-Soul Moves: Sus → Resolve\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-16-progress\",\n  lessonNumber: 16,\n  lessonCategory: \"Advanced Harmony\",\n\n  nextLessonUrl: \"lesson-harmony-17.html\",\n  prevLessonUrl: \"lesson-harmony-15.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 16, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Neo-Soul Moves:\",\n    titleHighlight: \"Sus → Resolve\",\n    subtitle: \"Build lush progressions using suspended chords that resolve to major or minor. You'll learn sus2 and sus4 chords - the ambiguous, floating quality that defines Robert Glasper, Hiatus Kaiyote, and modern R&B. Master smooth voice leading with suspension and resolution.\"\n  },\n\n  sequencer: {\n    tempo: 88,\n    key: \"E\",\n    scale: \"Major\",\n    stepCount: 64,\n    bars: 4,\n    pitchRange: {\n      low: 48,\n      high: 84\n    }\n  },\n\n  exercise: {\n    title: \"Build Sus Chords with Resolution\",\n    description: \"Create suspended chords that resolve: <strong>Esus2 → E</strong> and <strong>Asus4 → A</strong>. Suspended chords replace the third with either the 2nd (sus2) or 4th (sus4), creating tension that wants to resolve when the third returns.\",\n    tip: \"Sus chords are 'suspended' - they float without major/minor identity because they have no third. Esus2 = E-F#-B (2nd replaces 3rd). Esus4 = E-A-B (4th replaces 3rd). They create gentle tension that resolves beautifully when the third appears. This is the DNA of neo-soul and R&B keys!\",\n    steps: [\n      { text: \"Bar 1: <strong>Esus2</strong> (E-F#-B) sustained\" },\n      { text: \"Bar 2: <strong>E major</strong> (E-G#-B) - resolution!\" },\n      { text: \"Bar 3: <strong>Asus4</strong> (A-D-E) suspended\" },\n      { text: \"Bar 4: <strong>Amaj7</strong> (A-C#-E-G#) - full resolution with 7th\" },\n      { text: \"Listen for the floating quality of sus and satisfaction of resolution\" },\n      { text: \"Use smooth voice leading - keep common tones between chords\" }\n    ]\n  },\n\n  validation: {\n    type: \"sus_resolution\",\n    requiredChords: [\n      { time: 0, pitches: [64, 66, 71], chordName: \"Esus2\", suspended: true },\n      { time: 16, pitches: [64, 68, 71], chordName: \"E\", resolvedFrom: \"Esus2\" },\n      { time: 32, pitches: [69, 74, 76], chordName: \"Asus4\", suspended: true },\n      { time: 48, pitches: [69, 73, 76, 80], chordName: \"Amaj7\", resolvedFrom: \"Asus4\" }\n    ],\n    checkVoiceLeading: true,\n    allowInversions: false\n  },\n\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Build Esus2 → E and Asus4 → Amaj7. Sus chords float (no third), then resolve when the third appears.\",\n    success: \"Perfect! You've mastered suspension and resolution - the secret to neo-soul and R&B harmony. Notice how sus chords create gentle tension that melts into the third!\",\n    error: \"Check: Esus2 = E-F#-B (no G#), E = E-G#-B, Asus4 = A-D-E (no C#), Amaj7 = A-C#-E-G#. Sus chords have no third!\"\n  }),\n\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 16,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "harmony-15",
      "harmony-14"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Neo-Soul Moves:",
      "Prepararsi alla lezione successiva del modulo Advanced Harmony"
    ]
  },
  {
    "slug": "mixing-16",
    "filename": "lesson-mixing-16.config.js",
    "title": "Advanced Parallel",
    "category": "Mixing",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-16-progress\",\n  lessonNumber: 16,\n  lessonCategory: \"Mixing\",\n  depthLevel: 9,\n  \n  nextLessonUrl: \"lesson-mixing-17.html\",\n  prevLessonUrl: \"lesson-mixing-15.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-mixing-16\", categoryLabel: \"Mixing\" }),\n    title: \"Advanced Parallel\",\n    titleHighlight: \"Processing\",\n    subtitle: \"Master the art of parallel compression, saturation, and distortion to add <strong>power and character</strong> without sacrificing dynamics. Learn New York compression, parallel saturation chains, and how to blend processed signals for professional impact.\"\n  },\n  \n  sequencer: {\n    tempo: 128,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true,\n    requiredTempo: 128\n  },\n  \n  exercise: {\n    title: \"Build Parallel Processing Chain\",\n    description: \"Create a <strong>dynamic pattern demonstrating parallel processing</strong> with clean signal (high velocity) and heavily processed signal (low velocity). You'll understand how blending clean and aggressive signals creates powerful, punchy mixes.\",\n    tip: \"High velocity represents clean, dynamic signal. Low velocity represents heavily compressed/saturated parallel signal. When mixed together, they create power without losing punch.\",\n    steps: [\n      { text: \"<strong>Set tempo to 128 BPM</strong> for an energetic electronic/EDM groove.\" },\n      { text: \"<strong>Program clean kick</strong> on steps 1, 5, 9, 13 with high velocity (110-120) for punch.\" },\n      { text: \"<strong>Add parallel kick</strong> on same steps with low velocity (60-70) simulating heavy compression.\" },\n      { text: \"<strong>Program clean snare</strong> on steps 5, 13 with velocity 100-110 for snap.\" },\n      { text: \"<strong>Layer parallel snare</strong> on steps 5, 13 with velocity 50-60 simulating saturation.\" },\n      { text: \"<strong>Listen</strong> to how blending clean + processed signals creates power and character.\" }\n    ]\n  },\n  \n  instruments: [\n    {\n      id: \"clean-kick\",\n      label: \"Clean Kick\",\n      color: \"linear-gradient(135deg, #e17055, #d63031)\",\n      targetSteps: [0, 4, 8, 12],\n      oscillator: { type: \"sine\", detune: 0 },\n      envelope: { attack: 0.001, decay: 0.15, sustain: 0, release: 0.05 },\n      filter: { type: \"lowpass\", frequency: 120, Q: 2.0 }\n    },\n    {\n      id: \"parallel-kick\",\n      label: \"Parallel Kick\",\n      color: \"linear-gradient(135deg, #fab1a0, #e17055)\",\n      targetSteps: [0, 4, 8, 12],\n      oscillator: { type: \"square\", detune: 0 },\n      envelope: { attack: 0.001, decay: 0.3, sustain: 0.5, release: 0.2 },\n      filter: { type: \"lowpass\", frequency: 200, Q: 1.5 }\n    },\n    {\n      id: \"clean-snare\",\n      label: \"Clean Snare\",\n      color: \"linear-gradient(135deg, #74b9ff, #0984e3)\",\n      targetSteps: [4, 12],\n      oscillator: { type: \"noise\", detune: 0 },\n      envelope: { attack: 0.001, decay: 0.12, sustain: 0, release: 0.05 },\n      filter: { type: \"highpass\", frequency: 300, Q: 1.0 }\n    },\n    {\n      id: \"parallel-snare\",\n      label: \"Parallel Snare\",\n      color: \"linear-gradient(135deg, #a29bfe, #6c5ce7)\",\n      targetSteps: [4, 12],\n      oscillator: { type: \"noise\", detune: 0 },\n      envelope: { attack: 0.001, decay: 0.25, sustain: 0.3, release: 0.15 },\n      filter: { type: \"bandpass\", frequency: 1200, Q: 2.5 }\n    }\n  ],\n  \n  theory: {\n    sections: [\n      {\n        title: 'Parallel Compression (New York Compression)',\n        content: `**What Is Parallel Compression?**\nInstead of inserting a compressor directly on a track (series), you send a copy of the signal to a separate bus with heavy compression, then blend the compressed signal with the original.\n\n**The Magic:**\n- **Clean signal:** Preserves transients, punch, and dynamics\n- **Compressed signal:** Adds sustain, body, and power\n- **Blend:** Get the best of both worlds—dynamic AND powerful\n\n**Classic \"New York Compression\" Setup:**\n1. Create a bus called \"Parallel Compression\"\n2. Send drum bus (or any element) to this bus\n3. Apply **aggressive compression:**\n   - **Ratio:** 8:1 to 20:1 (brick wall)\n   - **Attack:** 1-5ms (fast, catch transients)\n   - **Release:** 50-150ms (fast, recover quickly)\n   - **Threshold:** Low (hitting 10-20dB gain reduction)\n   - **Makeup Gain:** +10 to +20dB (compensate for reduction)\n4. Blend compressed bus at -6 to -12dB below original signal\n\n**Why It Works:**\n- Original signal keeps punch and attack\n- Parallel signal brings up quiet elements (room mics, tails, sustain)\n- Result: Everything feels powerful without sounding squashed\n\n**Common Applications:**\n- **Drums:** Makes drums feel huge and punchy\n- **Vocals:** Adds presence and power without losing articulation\n- **Bass:** Adds sustain and weight without losing attack\n- **Full mix:** Adds glue and energy on the mix bus`\n      },\n      {\n        title: 'Parallel Saturation & Distortion',\n        content: `**Parallel Saturation Concept:**\nSimilar to parallel compression, but using saturation/distortion processors to add harmonic richness and aggression without destroying the clean signal.\n\n**Parallel Saturation Chain:**\n1. **Send clean signal to saturation bus**\n2. **Apply one or more saturation types:**\n   - **Tape saturation:** Warm, smooth harmonics (Waves J37, UAD Ampex ATR-102)\n   - **Tube saturation:** Rich, even-order harmonics (UAD Fairchild 670, Softube Tube-Tech)\n   - **Analog saturation:** Console/preamp color (Slate VCC, UAD Neve, SSL)\n   - **Distortion/Overdrive:** Aggressive, crunchy harmonics (Decapitator, Saturn 2)\n3. **High-pass filter the saturated bus** (80-150 Hz) to avoid muddying low end\n4. **Blend at 10-30%** with original signal\n\n**Advanced: Serial Parallel Processing**\nChain multiple saturators in parallel for complex harmonic layering:\n- **Bus 1:** Tape saturation (warmth)\n- **Bus 2:** Tube saturation (richness)\n- **Bus 3:** Analog console saturation (glue)\n- **Bus 4:** Aggressive distortion (edge)\nBlend each bus at different levels for custom tone.\n\n**Genre Applications:**\n- **EDM/Electronic:** Parallel distortion on synth buses for aggression\n- **Rock/Metal:** Parallel saturation on guitars, drums for analog punch\n- **Hip-Hop:** Parallel tape saturation on drums for warmth and weight\n- **Pop:** Subtle parallel tube saturation on vocals for presence`\n      },\n      {\n        title: 'Parallel Effects & Creative Processing',\n        content: `**Beyond Compression & Saturation:**\nYou can use parallel processing with ANY effect for creative mixing.\n\n**Parallel Reverb:**\n**Standard:** Insert reverb, adjust wet/dry mix\n**Parallel:** Send to reverb bus at 100% wet, blend to taste\n**Advantage:** More control—compress the reverb, EQ it, automate send level independently\n\n**Setup:**\n1. Create reverb bus, set reverb to 100% wet\n2. High-pass filter reverb return (200-300 Hz) to avoid muddiness\n3. Compress reverb return (4:1, fast attack/release) to control blooming\n4. Send drums/vocals to this bus, adjust send level for depth\n5. **Pro tip:** Use different reverb types on different sends (plate for snare, hall for vocals)\n\n**Parallel Delay:**\n1. Create delay bus, set to 100% wet\n2. Apply quarter-note or eighth-note delay (tempo-synced)\n3. High-pass filter delay return (500 Hz+) for clarity\n4. Send vocals or lead instruments, automate for delay throws\n5. Compress delay return to keep it consistent\n\n**Parallel Distortion/Lo-Fi:**\n1. Create \"grit\" bus with bitcrusher, distortion, or lo-fi plugin\n2. Send vocals or synths to this bus\n3. Blend at 5-20% for subtle harmonic excitement\n4. **Pro tip:** Automate parallel send during chorus for added energy\n\n**Parallel Pitch Shifting:**\n1. Create pitch-shift bus (octave down or up)\n2. Send bass or vocals for thickness\n3. Blend low in mix for subtle reinforcement\n4. Classic on bass: +1 octave parallel for high-end presence\n\n**Parallel EQ (Frequency Splitting):**\n1. Create multiple buses with different EQ curves\n2. **Bus 1:** High-pass 5 kHz+ (air and sparkle)\n3. **Bus 2:** Bandpass 200-500 Hz (warmth and body)\n4. **Bus 3:** Low-pass <80 Hz (sub weight)\n5. Process each bus independently (compress air, saturate body, limit sub)\n6. Blend back with original for surgical control`\n      },\n      {\n        title: 'Blending & Balancing Parallel Signals',\n        content: `**The Art of the Blend:**\nParallel processing power comes from finding the perfect balance between clean and processed signals.\n\n**Gain Staging Parallel Chains:**\n1. Start with parallel bus at -∞ (muted)\n2. Solo original signal, set clean level\n3. Bring up parallel bus gradually\n4. Listen for the \"sweet spot\" where it adds impact without overpowering\n\n**Listening Tests:**\n- **Too little parallel:** No noticeable difference, wasting processing\n- **Too much parallel:** Sounds squashed, lifeless, or distorted\n- **Perfect blend:** Adds power, energy, or character while maintaining dynamics\n\n**Common Blend Ratios:**\n- **Parallel Compression:** 30-50% blend (drums), 20-30% (vocals)\n- **Parallel Saturation:** 10-30% blend\n- **Parallel Distortion:** 5-20% blend (subtle), 30-50% (aggressive EDM/rock)\n- **Parallel Reverb:** 15-40% blend (depends on depth desired)\n\n**Phase Considerations:**\nParallel processing can cause phase issues if not careful:\n- **Check mono compatibility:** Sum to mono and listen\n- **If signal gets thinner in mono:** You have phase cancellation\n- **Fix:** Flip polarity on parallel bus, or add small delay (1-5ms) to parallel bus\n\n**Frequency Masking:**\nUse EQ on parallel buses to carve space:\n- **High-pass parallel compression bus** (50-100 Hz) to avoid low-end buildup\n- **Low-pass parallel distortion bus** (8-10 kHz) if it adds harsh highs\n- **Notch out problem frequencies** on parallel buses without affecting original\n\n**Automation for Dynamic Mixing:**\nAutomate parallel send levels for dynamic impact:\n- **Verse:** Lower parallel blend (10-20%) for intimacy\n- **Chorus:** Higher parallel blend (30-50%) for power\n- **Breakdown:** Mute parallel buses for stark contrast\n- **Drop:** Max out parallel buses for maximum energy`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Master parallel compression (New York compression) for powerful drums, vocals, and mix bus processing\",\n    \"Apply parallel saturation and distortion chains for harmonic richness without destroying clean signals\",\n    \"Use parallel reverb, delay, pitch-shifting, and creative effects for surgical control\",\n    \"Balance clean and processed signals with proper blending ratios and frequency management\",\n    \"Automate parallel processing for dynamic impact across different song sections\"\n  ]\n};\n",
    "number": 16,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "mixing-15",
      "mixing-14"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Advanced Parallel",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-16",
    "filename": "lesson-sound-design-16.config.js",
    "title": "Advanced Modular",
    "category": "Sound Design",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-sound-design-16-progress\",\n  lessonNumber: 16,\n  lessonCategory: \"Sound Design\",\n  depthLevel: 9,\n  \n  nextLessonUrl: \"lesson-sound-design-17.html\",\n  prevLessonUrl: \"lesson-sound-design-15.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-sound-design-16\", categoryLabel: \"Sound Design\" }),\n    title: \"Advanced Modular\",\n    titleHighlight: \"Synthesis\",\n    subtitle: \"Master complex modulation routing, CV control, and <strong>modular synthesis techniques</strong> for dynamic, evolving sounds. Learn patch design, feedback loops, and generative synthesis strategies used in professional sound design.\"\n  },\n  \n  sequencer: {\n    tempo: 105,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true,\n    requiredTempo: 105\n  },\n  \n  exercise: {\n    title: \"Design Modulation Matrix Pattern\",\n    description: \"Create a <strong>pattern demonstrating modular synthesis concepts</strong> with multiple interconnected layers representing oscillators, modulators, and effects. Understand how complex modulation routing creates evolving, dynamic sounds.\",\n    tip: \"Each instrument represents a modular component: Oscillator (carrier), Modulator (LFO/envelope), Filter (shaper), Output (final sound). In modular synthesis, everything can modulate everything else.\",\n    steps: [\n      { text: \"<strong>Set tempo to 105 BPM</strong> for a groovy, exploratory feel.\" },\n      { text: \"<strong>Program carrier oscillator</strong> on steps 1, 5, 9, 13 with velocity 100-110 for foundation.\" },\n      { text: \"<strong>Add modulator LFO</strong> on all 16 steps with velocity 60-70 (continuous modulation).\" },\n      { text: \"<strong>Layer filter envelope</strong> on steps 1, 5, 9, 13 with velocity 80-90 (shapes timbre).\" },\n      { text: \"<strong>Add feedback path</strong> on steps 3, 7, 11, 15 with velocity 70-80 (creates complexity).\" },\n      { text: \"<strong>Listen</strong> to how layered modulation creates evolving, organic textures.\" }\n    ]\n  },\n  \n  instruments: [\n    {\n      id: \"carrier-osc\",\n      label: \"Carrier Osc\",\n      color: \"linear-gradient(135deg, #e17055, #d63031)\",\n      targetSteps: [0, 4, 8, 12],\n      oscillator: { type: \"sawtooth\", detune: 0 },\n      envelope: { attack: 0.02, decay: 0.3, sustain: 0.5, release: 0.4 },\n      filter: { type: \"lowpass\", frequency: 2000, Q: 1.0 }\n    },\n    {\n      id: \"modulator-lfo\",\n      label: \"Modulator LFO\",\n      color: \"linear-gradient(135deg, #74b9ff, #0984e3)\",\n      targetSteps: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],\n      oscillator: { type: \"sine\", detune: 5 },\n      envelope: { attack: 0.1, decay: 0.5, sustain: 0.7, release: 1.0 },\n      filter: { type: \"lowpass\", frequency: 800, Q: 0.8 }\n    },\n    {\n      id: \"filter-env\",\n      label: \"Filter Env\",\n      color: \"linear-gradient(135deg, #a29bfe, #6c5ce7)\",\n      targetSteps: [0, 4, 8, 12],\n      oscillator: { type: \"triangle\", detune: -7 },\n      envelope: { attack: 0.05, decay: 0.2, sustain: 0.3, release: 0.3 },\n      filter: { type: \"bandpass\", frequency: 1500, Q: 2.0 }\n    },\n    {\n      id: \"feedback\",\n      label: \"Feedback\",\n      color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\",\n      targetSteps: [2, 6, 10, 14],\n      oscillator: { type: \"square\", detune: 12 },\n      envelope: { attack: 0.01, decay: 0.15, sustain: 0.4, release: 0.5 },\n      filter: { type: \"lowpass\", frequency: 1200, Q: 3.0 }\n    }\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Modular Synthesis Fundamentals',\n        content: `**Modular Philosophy:**\nIn modular synthesis, every parameter is a potential modulation destination, and every signal can be a modulation source. This creates infinite sonic possibilities through complex signal routing.\n\n**Core Modules:**\n- **Oscillators (VCO):** Generate audio-rate waveforms (carriers)\n- **Filters (VCF):** Shape frequency content\n- **Amplifiers (VCA):** Control amplitude\n- **Envelopes:** Create time-based modulation\n- **LFOs:** Generate sub-audio modulation signals\n- **Utilities:** Mixers, multiples, attenuators, offsets\n\n**CV (Control Voltage):**\nModulation signals that control parameters. CV is the \"language\" of modular synthesis—every parameter accepts CV input.\n\n**Patching Strategy:**\nStart simple, add complexity gradually. Classic patch: VCO → VCF → VCA (output), with envelopes controlling filter and amplitude.`\n      },\n      {\n        title: 'Advanced Modulation Routing',\n        content: `**Complex Modulation Matrices:**\nRoute multiple sources to multiple destinations for evolving sounds:\n- **LFO 1 → Filter Cutoff:** Creates wah-wah movement\n- **LFO 2 → LFO 1 Rate:** Creates evolving modulation speed (meta-modulation)\n- **Envelope → LFO Depth:** Dynamic modulation intensity\n- **Velocity → Everything:** Touch-sensitive parameters\n\n**Cross-Modulation:**\nOscillators modulate each other for complex timbres:\n- **Osc 1 → Osc 2 Pitch:** Creates FM-style harmonics\n- **Osc 2 → Osc 1 PWM:** Creates evolving pulse width\n- **Both → Each Other:** Creates chaotic, unpredictable sounds\n\n**Feedback Loops:**\nRoute output back to input for self-modulation:\n- **Filter output → Filter input:** Creates resonant feedback and instability\n- **Delay output → Pitch input:** Creates karplus-strong synthesis\n- **⚠️ Warning:** Can create runaway feedback—use attenuators!\n\n**Modulation Offsets & Scaling:**\nUse utilities to fine-tune modulation:\n- **Attenuators:** Reduce modulation depth (0-100%)\n- **Offsets:** Shift modulation range up/down\n- **Inverters:** Flip modulation polarity (negative modulation)\n- **Mixers:** Combine multiple modulation sources`\n      },\n      {\n        title: 'Generative & Self-Evolving Patches',\n        content: `**Generative Synthesis:**\nDesign patches that evolve without user input—used in ambient, experimental, and game audio.\n\n**Random Voltage Sources:**\n- **Sample & Hold:** Generates random stepped voltages\n- **Random LFO:** Smooth random modulation\n- **Noise:** Chaotic modulation source\n\n**Self-Evolving Patch Example:**\n1. Random LFO → VCO Pitch (wandering melody)\n2. Sample & Hold → Filter Cutoff (evolving timbre)\n3. Slow LFO → Random LFO Rate (changing randomness speed)\n4. Envelope → Feedback Amount (dynamic complexity)\n5. **Result:** Patch that never repeats, always evolving\n\n**Clock Dividers & Sequencers:**\nCreate polyrhythmic, evolving patterns:\n- **Master Clock:** 16th notes\n- **÷2 output:** 8th notes (trigger filter envelope)\n- **÷3 output:** Triplets (trigger pitch change)\n- **÷7 output:** Polyrhythm (trigger timbre shift)\n\n**Probability & Logic:**\nUse logic modules for unpredictable behavior:\n- **Coin toss:** 50% chance of gate passing through\n- **Bernoulli gate:** Adjustable probability (0-100%)\n- **Logic gates (AND, OR, XOR):** Complex triggering conditions`\n      },\n      {\n        title: 'Professional Modular Techniques',\n        content: `**West Coast vs. East Coast Synthesis:**\n\n**East Coast (Subtractive):**\n- Start with harmonically rich waveform\n- Subtract frequencies with filter\n- Control amplitude with VCA\n- Examples: Moog, ARP, Sequential\n\n**West Coast (Additive/Complex):**\n- Start with simple waveform (sine, triangle)\n- Add complexity through waveshaping, FM, AM\n- No traditional filter—shape with wavefolders, ring modulators\n- Examples: Buchla, Serge\n\n**Buchla-Style Lowpass Gates (LPG):**\nCombines VCA + VCF in one module—amplitude and brightness controlled simultaneously. Creates natural, \"plucky\" sounds similar to acoustic instruments.\n\n**Complex Oscillators:**\nTwo oscillators with built-in cross-modulation:\n- **Carrier + Modulator** with through-zero FM\n- **Linear FM** for harmonic sidebands\n- **Exponential FM** for inharmonic timbres\n\n**Waveshaping & Folding:**\nDistort waveforms by \"folding\" them back on themselves:\n- Low input: Sine wave\n- Medium input: Folded wave (adds harmonics)\n- High input: Highly complex, metallic timbre\n- **Use:** Evolving timbres with single VCO\n\n**Karplus-Strong Synthesis:**\nPhysical modeling technique using short delay + feedback:\n1. Noise burst → Short delay (pitch = 1/delay time)\n2. Feedback with lowpass filter (damping)\n3. Result: Plucked string, bell, drum sounds\n\n**Audio Rate Modulation:**\nUse audio-rate signals as modulators (not just LFOs):\n- **VCO → VCA CV input:** Amplitude modulation (tremolo → ring mod)\n- **VCO → Filter cutoff:** Creates formants and vowel sounds\n- **VCO → Wavefolder:** Creates evolving, complex timbres`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Understand modular synthesis: CV control, signal routing, and modulation matrices\",\n    \"Design complex modulation patches: cross-modulation, feedback loops, meta-modulation\",\n    \"Create generative self-evolving patches with random sources, clock dividers, and logic\",\n    \"Apply professional techniques: West Coast synthesis, LPGs, waveshaping, Karplus-Strong\",\n    \"Master audio-rate modulation for AM, FM, and formant synthesis\"\n  ]\n};\n",
    "number": 16,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "sound-design-15",
      "sound-design-14"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Advanced Modular",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "arrangement-17",
    "filename": "lesson-arrangement-17.config.js",
    "title": "Advanced Transitions:",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 17 - Advanced Transition Techniques\n *\n * This lesson teaches pro-level transition techniques beyond basic risers.\n * Master reverse effects, noise sweeps, automation, and creative transitions.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-arrangement-17-progress\",\n  lessonNumber: 17,\n  lessonCategory: \"Arrangement\",\n  depthLevel: 5,\n\n  nextLessonUrl: \"lesson-arrangement-18.html\",\n  prevLessonUrl: \"lesson-arrangement-16.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 17, categoryLabel: \"Arrangement\" }),\n    title: \"Advanced Transitions:\",\n    titleHighlight: \"Pro Techniques\",\n    subtitle: \"Master <strong>professional transition techniques</strong> beyond basic risers. Learn <strong>reverse effects</strong>, <strong>automation tricks</strong>, <strong>creative edits</strong>, and <strong>unexpected moments</strong>.\"\n  },\n\n  exercise: {\n    title: \"Create Professional Transitions Using Advanced Techniques\",\n    description: \"Use <strong>pro-level transition techniques</strong> to create seamless, exciting section changes. Combine multiple techniques for maximum impact.\",\n    tip: \"Stack techniques for impact: reverse cymbal + filter sweep + volume automation + silence before drop = massive transition. Pros use 3-5 techniques simultaneously.\",\n    steps: [\n      { text: \"<strong>Reverse cymbal/vocal</strong> - Create anticipation with reversed audio\" },\n      { text: \"<strong>Automation sweep</strong> - Automate filter, reverb, or pitch\" },\n      { text: \"<strong>Rhythmic stutter</strong> - Chop last bar into repeating fragments\" },\n      { text: \"<strong>Impact moment</strong> - Use silence, kick, or cymbal hit on the '1'\" },\n      { text: \"<strong>Layer 3-4 techniques</strong> - Combine for professional transitions\" },\n      { text: \"<strong>Unexpected transition</strong> - Break the pattern once for surprise\" }\n    ]\n  },\n\n  advancedTechniques: [\n    {\n      name: \"Reverse Cymbal/Vocal\",\n      icon: \"⏮️\",\n      description: \"Reverse a cymbal crash or vocal phrase leading into the drop\",\n      timing: \"Last 1-2 bars before section\",\n      impact: \"High - creates anticipation\"\n    },\n    {\n      name: \"Filter Automation\",\n      icon: \"🎛️\",\n      description: \"Automate low-pass filter opening from closed to fully open\",\n      timing: \"Last 4-8 bars\",\n      impact: \"Medium - gradual build\"\n    },\n    {\n      name: \"Rhythmic Stutter\",\n      icon: \"🔀\",\n      description: \"Chop last bar into 1/16th or 1/32nd repeats\",\n      timing: \"Last bar only\",\n      impact: \"High - creates urgency\"\n    },\n    {\n      name: \"Pitch Rise/Drop\",\n      icon: \"📊\",\n      description: \"Automate pitch up (build) or down (drop intro)\",\n      timing: \"Last 2-4 bars\",\n      impact: \"Medium-High\"\n    },\n    {\n      name: \"Volume Swell\",\n      icon: '<img src=\"images/speakerwave.png\" alt=\"🔊\" style=\"width: 1.5em;\">',\n      description: \"Fade out current section, fade in next section\",\n      timing: \"Last 1-2 bars\",\n      impact: \"Low - smooth transition\"\n    },\n    {\n      name: \"Drum Fill into Silence\",\n      icon: \"🥁\",\n      description: \"Drum fill ends on silence, then drop hits\",\n      timing: \"Last bar + 1 beat silence\",\n      impact: \"Maximum - unexpected pause\"\n    },\n    {\n      name: \"Texture Change\",\n      icon: \"\",\n      description: \"Abruptly change reverb/delay/distortion amount\",\n      timing: \"Exactly on section change\",\n      impact: \"Medium - sonic shift\"\n    }\n  ],\n\n  messages: applyMessagePreset(\"arrangement\", {\n    initial: \"Create advanced transitions using pro techniques!\",\n    success: \"🎚️ Pro-level transitions! Your section changes are seamless and exciting.\",\n    error: \"Try combining multiple transition techniques for bigger impact.\",\n    alreadyCompleted: \"You've mastered advanced transitions!\"\n  }),\n\n  mode: {\n    type: \"structure-builder\",\n    sandbox: false,\n    showTimeline: true,\n    showAutomationLanes: true,\n    enableAdvancedFX: true\n  },\n\n  learningObjectives: [\n    \"Apply seven advanced transition techniques\",\n    \"Layer multiple techniques for maximum impact\",\n    \"Use automation creatively for transitions\",\n    \"Create unexpected transition moments\",\n    \"Understand timing for each technique type\"\n  ],\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"Why Professional Transitions Matter\",\n        content: `\n**The Difference Between Amateur and Pro:**\n\n**Amateur Transition:**\n- Sections just... end and start\n- Maybe a basic riser or white noise sweep\n- Feels abrupt, disconnected\n- **Result:** Listeners notice the section change in a bad way\n\n**Professional Transition:**\n- Multiple techniques stacked (reverse cymbal + filter sweep + volume automation + silence)\n- Seamless yet exciting\n- Builds anticipation perfectly\n- **Result:** Listeners feel the energy shift but stay immersed\n\n**The goal:** Transitions should feel **inevitable**—like the next section HAD to happen.\n\n---\n\n**The Psychology of Anticipation:**\n\nGreat transitions exploit how our brains predict musical patterns:\n\n**1. Build Expectation**\n- Gradual changes (filter opening, volume increasing) signal \"something's coming\"\n- Brain prepares for the payoff\n- **Technique:** Filter sweeps, risers, buildups\n\n**2. Create Tension**\n- Disrupt the pattern (stutters, pitch bends, unexpected silence)\n- Brain craves resolution\n- **Technique:** Rhythmic stutters, pitch automation, silence before drop\n\n**3. Deliver the Payoff**\n- New section hits exactly when expected\n- Brain releases dopamine (satisfaction)\n- **Technique:** Impact on beat 1, full frequency spectrum, maximum energy\n\n**This is the formula every EDM drop uses—and it works in ALL genres.**\n\n---\n\n**The Layering Principle:**\n\n**One transition technique = decent**\n**Three+ techniques stacked = professional**\n\n**Example: Amateur vs Pro Transition**\n\n**Amateur (One Technique):**\n\\`\\`\\`\nBar 15: Normal beat\nBar 16: White noise riser\nBar 17: CHORUS (drop)\n\\`\\`\\`\n\n**Professional (Five Techniques Stacked):**\n\\`\\`\\`\nBars 13-16: Filter sweep (low-pass gradually opening)\nBars 15-16: Reverse cymbal (building backwards)\nBar 16: Rhythmic stutter (last bar chopped to 1/16ths)\nBar 16 (beat 4): Silence (unexpected pause)\nBar 17 (beat 1): CHORUS (impact with kick + cymbal crash)\n\\`\\`\\`\n\n**The pro version uses FIVE techniques simultaneously:**\n1. Filter automation (gradual)\n2. Reverse cymbal (anticipation)\n3. Rhythmic stutter (urgency)\n4. Silence (surprise)\n5. Impact moment (payoff)\n\n**Result:** Transition feels massive, inevitable, and exciting.\n\n---\n\n**Transition Timing Guidelines:**\n\nDifferent techniques work at different timescales:\n\n**Long-Form (4-8 bars before section change):**\n- Filter sweeps\n- Volume automation\n- Progressive percussion removal/addition\n- **Effect:** Gradual build or wind-down\n\n**Medium-Form (1-2 bars before section change):**\n- Reverse cymbals/vocals\n- Pitch rises\n- Drum fills\n- **Effect:** Immediate anticipation\n\n**Short-Form (Last bar or beat only):**\n- Rhythmic stutters\n- Silence/cuts\n- Impact moments (cymbal crash, kick hit)\n- **Effect:** Sudden urgency or surprise\n\n**Pro Strategy:** Combine all three timescales for maximum impact.\n\n\\`\\`\\`\nBars 9-16: Filter sweep (long-form, 8 bars)\nBars 15-16: Reverse cymbal (medium-form, 2 bars)\nBar 16: Rhythmic stutter (short-form, 1 bar)\nBar 17 beat 1: Impact (instant)\n\\`\\`\\`\n\n**Result:** Transition builds gradually, accelerates, then hits hard.\n\n---\n\n**Real-World Examples:**\n\n**\"Animals\" by Martin Garrix:**\n\n**Buildup (Bars 25-32):**\n- Filter sweep: Low-pass filter gradually opens (long-form)\n- Snare roll: Continuous snare roll building intensity (medium-form)\n- Last bar: Rhythmic stutter on vocal sample (short-form)\n- Beat 1 of drop: Silence for half a beat, then massive kick (impact)\n\n**Techniques used:** 4 stacked (filter, snare roll, stutter, silence)\n**Result:** One of the most iconic drops in EDM history\n\n---\n\n**\"Sicko Mode\" by Travis Scott:**\n\n**Transition to Beat Switch (2:00 mark):**\n- Gradual tempo slowdown (long-form)\n- Vocal sample chopped and repeated (medium-form)\n- Silence (short-form)\n- New beat hits with completely different groove (impact)\n\n**Techniques used:** 4 stacked (tempo automation, vocal chops, silence, contrast)\n**Result:** Unexpected yet satisfying beat switch\n\n---\n\n**\"Everlong\" by Foo Fighters:**\n\n**Verse → Chorus Transition:**\n- Drum fill (medium-form, last 2 bars)\n- Volume swell on guitar (short-form, last bar)\n- Cymbal crash on beat 1 (impact)\n- Sudden frequency expansion (full spectrum in chorus)\n\n**Techniques used:** 4 stacked (drum fill, volume swell, cymbal, frequency jump)\n**Result:** Quiet verse → LOUD chorus feels massive\n\n---\n\n**The Seven Transition Categories:**\n\n**1. Time-Based:** Affects rhythm/timing\n- Rhythmic stutters, drum fills, tempo changes\n\n**2. Frequency-Based:** Affects frequency spectrum\n- Filter sweeps, EQ automation, frequency drops\n\n**3. Spatial-Based:** Affects stereo field\n- Width collapse/expansion, panning automation\n\n**4. Dynamic-Based:** Affects volume/energy\n- Volume swells, silence, impact moments\n\n**5. Temporal-Based:** Affects time perception\n- Reverse effects, time-stretching, delays\n\n**6. Textural-Based:** Affects sonic character\n- Reverb/delay automation, distortion changes, bit-crushing\n\n**7. Structural-Based:** Affects arrangement\n- Element removal/addition, beat switches, breakdown/build patterns\n\n**Professional transitions combine 3+ categories for multi-dimensional impact.**\n\n---\n\n**The \"Silence Before the Storm\" Principle:**\n\n**The most powerful transition technique: strategic silence.**\n\n**Why It Works:**\n- Humans hate silence in music—it creates anticipation\n- The longer the silence, the more impactful the return\n- Even 1 beat of silence feels like an eternity\n\n**Application:**\n\n**Standard Transition (No Silence):**\n\\`\\`\\`\nBar 16: Buildup intensifies... intensifies...\nBar 17 beat 1: DROP (chorus hits)\n\\`\\`\\`\n\n**With Silence (Professional):**\n\\`\\`\\`\nBar 16 beats 1-3: Buildup intensifies...\nBar 16 beat 4: SILENCE (all audio cuts)\nBar 17 beat 1: DROP (chorus EXPLODES)\n\\`\\`\\`\n\n**The silence creates a \"vacuum\" that makes the drop feel 2x more powerful.**\n\n**Real Example:**\n- **\"Scary Monsters and Nice Sprites\" by Skrillex:** Iconic buildup → silence → \"Yes, oh my gosh!\" → DROP\n- The silence makes the drop unforgettable\n\n**How Long Should Silence Be?**\n- **1/2 beat:** Subtle but effective\n- **1 beat:** Very noticeable, high impact\n- **2+ beats:** Extreme, use sparingly (can feel awkward if too long)\n\n**Pro Tip:** During the silence, add a tiny reverb tail or breath sound. Pure digital silence can feel \"broken\"—organic silence (with reverb decay) feels intentional.\n        `\n      },\n      {\n        title: \"The Seven Advanced Transition Techniques (Deep Dive)\",\n        content: `\n**Technique 1: Reverse Cymbal/Vocal (The Anticipation Builder)**\n\n**What It Is:** Take audio (cymbal crash, vocal phrase, or sound effect), reverse it, and place it leading INTO the section change.\n\n**How It Works:**\n\\`\\`\\`\nNormal cymbal: CRASH (hits on beat 1)\nReversed: ...hsarC (builds INTO beat 1)\n\\`\\`\\`\n\n**The reversed cymbal starts quiet and gets louder, creating perfect anticipation for the drop.\n\n**Step-by-Step Production:**\n\n1. **Find a cymbal crash or vocal sample**\n   - Cymbal crash: Record a real cymbal or use a sample\n   - Vocal: Take a word/phrase from your track (works great with hook vocals)\n\n2. **Reverse the audio**\n   - In your DAW: Select audio → Reverse function\n   - The sound now \"sucks in\" instead of \"explodes out\"\n\n3. **Place it before the section change**\n   - If chorus starts on bar 17, place reverse cymbal on bar 16\n   - The reverse should END exactly on bar 17 beat 1\n\n4. **Add reverb (optional but recommended)**\n   - Reverb on reverse cymbal = epic, cinematic build\n   - Use large hall reverb, 3-4 second decay\n\n**When to Use:**\n- Before drops (EDM, trap, bass music)\n- Before choruses (pop, rock)\n- Before beat switches (hip-hop)\n\n**Pro Variations:**\n\n**Reverse + Pitch Shift:**\n- Reverse cymbal, but also automate pitch upward\n- Creates \"sucking upward\" effect (used in dubstep)\n\n**Reverse Vocal Phrase:**\n- Instead of cymbal, reverse the first line of the chorus\n- Example: Chorus lyric is \"Take me higher\"\n  - Reverse it: \"rehgih em ekaT\" leading into chorus\n- **Effect:** Subconscious recognition when real vocal hits\n\n**Real Examples:**\n- **\"Levels\" by Avicii:** Reverse vocal sample before every drop\n- **\"Titanium\" by David Guetta:** Reverse cymbal before \"I am titanium\" chorus\n\n---\n\n**Technique 2: Filter Automation (The Gradual Builder)**\n\n**What It Is:** Automate a low-pass filter to gradually open (or close) the frequency spectrum.\n\n**Types:**\n\n**Opening Filter (Buildup):**\n\\`\\`\\`\nBar 1: Filter at 500Hz (only low-mids audible)\nBar 2: Filter at 1kHz (adding upper-mids)\nBar 3: Filter at 4kHz (adding highs)\nBar 4: Filter fully open (full spectrum)\nBar 5: DROP\n\\`\\`\\`\n\n**Closing Filter (Breakdown):**\n\\`\\`\\`\nBar 1: Full spectrum (20kHz)\nBar 2: Filter closes to 4kHz (removing air)\nBar 3: Filter closes to 1kHz (removing highs)\nBar 4: Filter closes to 500Hz (only mids left)\n\\`\\`\\`\n\n**Why It Works:**\n- Opening filter = rising energy (frequency spectrum = energy)\n- Closing filter = winding down, intimate feel\n\n**Step-by-Step Production:**\n\n1. **Add low-pass filter to your track/group**\n   - Can be on individual elements (synths, drums) or master bus\n\n2. **Set starting filter frequency**\n   - Buildup: Start at 200-500Hz (low-mids only)\n   - Breakdown: Start at 20kHz (fully open)\n\n3. **Automate the filter cutoff**\n   - Draw automation curve from start to end\n   - Buildup: 500Hz → 20kHz over 4-8 bars\n   - Breakdown: 20kHz → 500Hz over 4-8 bars\n\n4. **Adjust resonance (optional)**\n   - Increase resonance (Q) = emphasized sweep (EDM style)\n   - Low resonance = smooth sweep (pop/rock style)\n\n**Pro Tips:**\n\n**Curve Shape Matters:**\n- **Linear curve:** Steady, predictable rise (safe)\n- **Exponential curve:** Slow start, rapid finish (urgent)\n- **S-curve:** Gradual start, fast middle, gradual end (natural)\n\n**Multi-Bus Filtering:**\n- Don't filter kick/bass (they need lows)\n- Filter only synths, vocals, and pads\n- Creates selective frequency movement\n\n**Reverse Automation:**\n- Filter close during buildup (opposite of expected)\n- Creates tension through restriction\n- Then OPEN on the drop = massive release\n\n**Real Examples:**\n- **\"Strobe\" by Deadmau5:** 1-minute filter opening during intro build\n- **Every house track ever:** Filter sweep before the drop\n\n---\n\n**Technique 3: Rhythmic Stutter (The Urgency Creator)**\n\n**What It Is:** Chop the last bar (or last beat) into rapid, repeating fragments.\n\n**Example:**\n\\`\\`\\`\nNormal last bar: [Full drum pattern plays]\nStuttered last bar: [Cho-cho-cho-cho-cho-chorus] (chopped to 1/16ths)\n\\`\\`\\`\n\n**Why It Works:**\n- Rapid repetition = urgency and anticipation\n- Brain expects the pattern to break (which it does—into the new section)\n\n**Step-by-Step Production:**\n\n1. **Duplicate the last bar before the section change**\n   - If chorus starts bar 17, duplicate bar 16\n\n2. **Chop it into small fragments**\n   - 1/8th notes: Moderate stutter\n   - 1/16th notes: Fast stutter (most common)\n   - 1/32nd notes: Extreme stutter (intense, use sparingly)\n\n3. **Repeat the fragments**\n   - Loop the first 1/16th note across the entire bar\n   - OR: Gradually chop smaller (1/4 → 1/8 → 1/16 → 1/32)\n\n4. **Add filter + volume automation (optional)**\n   - Combine with filter sweep for extra impact\n   - Lower volume at start, increase toward drop\n\n**Variations:**\n\n**Progressive Stutter:**\n\\`\\`\\`\nBeat 1: Normal\nBeat 2: 1/8th note chops\nBeat 3: 1/16th note chops\nBeat 4: 1/32nd note chops (extreme urgency)\n\\`\\`\\`\n\n**Pitch Stutter:**\n- Same as above, but pitch each chop up progressively\n- Creates \"rising stutter\" effect\n\n**Vocal Stutter:**\n- Take last word of verse: \"...WAY\"\n- Chop to: \"W-W-W-W-W-W-W-WAY\" leading into chorus\n\n**Real Examples:**\n- **\"Bangarang\" by Skrillex:** Vocal stutter before every drop (\"B-b-b-b-bangarang\")\n- **\"Scary Monsters\" by Skrillex:** Rhythmic stutter on \"Yes, oh my gosh\"\n\n---\n\n**Technique 4: Pitch Rise/Drop (The Roller Coaster)**\n\n**What It Is:** Automate pitch upward (building) or downward (dropping).\n\n**Pitch Rise (Buildup):**\n\\`\\`\\`\nBar 1: Original pitch (0 semitones)\nBar 2: +2 semitones\nBar 3: +4 semitones\nBar 4: +6 semitones\nBar 5 (drop): Return to 0 semitones (or -12 for impact)\n\\`\\`\\`\n\n**Pitch Drop (Impact):**\n\\`\\`\\`\nBar 1: +12 semitones (one octave high)\nBar 2: Gradually drop to 0 semitones\nBar 3: Normal pitch (resolved)\n\\`\\`\\`\n\n**Why It Works:**\n- Pitch rise = tension (musical \"climbing\")\n- Pitch drop = release (musical \"falling\")\n\n**Step-by-Step Production:**\n\n1. **Select the element to pitch**\n   - Works best on: vocals, synths, risers, drums\n\n2. **Automate pitch bend or transpose**\n   - DAW pitch automation: 0 semitones → +12 semitones\n   - Can also use pitch-shifting plugin\n\n3. **Time the automation**\n   - Buildup: 2-8 bars of gradual rise\n   - Impact: Sudden drop on beat 1 of new section\n\n**Pro Variations:**\n\n**Pitch + Filter Combo:**\n- Pitch rises while filter opens\n- Double the tension, double the payoff\n\n**Reverse Pitch (Drop into Section):**\n- Instead of rising, pitch drops leading INTO chorus\n- Creates \"falling into the drop\" feeling\n- Example: +12 semitones → 0 semitones before drop\n\n**Formant Shift:**\n- Change formant (vocal character) along with pitch\n- Creates alien/robotic effect\n\n**Real Examples:**\n- **\"Turn Down for What\" by DJ Snake:** Pitch drop on \"Turn down for what\"\n- **Air horn sound in trap music:** Always pitch-bent upward before drop\n\n---\n\n**Technique 5: Volume Swell (The Smooth Crossfade)**\n\n**What It Is:** Fade out the current section while fading in the next section simultaneously.\n\n**How It Works:**\n\\`\\`\\`\nVerse (bars 1-4):  Volume 0dB → -12dB → -∞dB (fading out)\nChorus (bars 1-4): Volume -∞dB → -12dB → 0dB (fading in)\n\\`\\`\\`\n\n**Why It Works:**\n- Smoothest possible transition (no jarring cuts)\n- Works for calm, emotional, or atmospheric tracks\n- **Not for high-energy drops** (use impacts instead)\n\n**When to Use:**\n- Verse → Bridge (emotional shift)\n- Breakdown → Outro (winding down)\n- Ambient/cinematic sections\n\n**Step-by-Step Production:**\n\n1. **Overlap sections by 2-4 bars**\n   - Chorus starts 2 bars before verse ends\n\n2. **Automate volume on both sections**\n   - Verse: 0dB → -∞dB (fade out over 2 bars)\n   - Chorus: -∞dB → 0dB (fade in over 2 bars)\n\n3. **Use EQ crossfading (pro move)**\n   - Verse fades high frequencies first (sounds like it's \"moving away\")\n   - Chorus fades low frequencies in first (sounds like it's \"approaching\")\n\n**Pro Variation: The \"Crossfade Swell\"**\n- Volume swell + reverb automation\n- As verse fades, increase reverb (sounds distant)\n- As chorus fades in, decrease reverb (sounds close)\n\n**Real Examples:**\n- **\"Intro\" by The xx:** Entire track uses volume swells between sections\n- **Film scores:** Constant use of smooth volume crossfades\n\n---\n\n**Technique 6: Drum Fill into Silence (The Fake-Out)**\n\n**What It Is:** Traditional drum fill, but instead of landing on beat 1, there's SILENCE. Then the drop hits.\n\n**Standard Drum Fill:**\n\\`\\`\\`\nBar 16: [Snare roll building]\nBar 17 beat 1: Kick + chorus\n\\`\\`\\`\n\n**Drum Fill + Silence (Professional):**\n\\`\\`\\`\nBar 16 beats 1-3: [Snare roll building]\nBar 16 beat 4: [Fill ends]\nBar 17 beat 1: SILENCE (nothing)\nBar 17 beat 2: DROP HITS (delayed impact)\n\\`\\`\\`\n\n**Why It Works:**\n- Brain expects the drop on beat 1\n- Silence = surprise\n- Drop on beat 2 = even MORE impactful because it's unexpected\n\n**Step-by-Step Production:**\n\n1. **Create drum fill (last bar before section)**\n   - Snare roll, tom roll, or hi-hat build\n\n2. **End the fill on beat 4**\n   - Last hit is on beat 4 (not beat 1)\n\n3. **Mute everything on bar 17 beat 1**\n   - Complete silence (or just reverb tail)\n\n4. **Drop hits on beat 2 (or \"1 and\")**\n   - Offbeat drop = surprise factor\n\n**Variations:**\n\n**Extended Silence:**\n- Silence for 2 beats instead of 1\n- Extremely dramatic (use sparingly)\n\n**Silence + Breath/Riser:**\n- During silence, add a subtle breath, vinyl crackle, or riser\n- Prevents \"dead air\" feel\n\n**Real Examples:**\n- **\"In the Air Tonight\" by Phil Collins:** Iconic drum fill into silence, then drums EXPLODE\n- **Many Skrillex tracks:** Drum fill → silence → offbeat drop\n\n---\n\n**Technique 7: Texture Change (The Sonic Shift)**\n\n**What It Is:** Abruptly change the sonic character (reverb, delay, distortion) exactly on the section change.\n\n**Examples:**\n\n**Dry → Wet:**\n- Verse: Dry vocals (no reverb)\n- Chorus: WET vocals (huge reverb)\n- **Effect:** Chorus feels expansive and epic\n\n**Clean → Distorted:**\n- Verse: Clean guitar\n- Chorus: Heavy distortion\n- **Effect:** Chorus feels aggressive and powerful\n\n**Mono → Stereo:**\n- Verse: All elements panned center (mono)\n- Chorus: Wide stereo (elements panned L/R)\n- **Effect:** Chorus feels bigger and wider\n\n**Step-by-Step Production:**\n\n1. **Identify the textural change you want**\n   - Reverb amount, delay time, distortion, stereo width, etc.\n\n2. **Set up two states**\n   - State A (verse): Minimal reverb, narrow stereo\n   - State B (chorus): Large reverb, wide stereo\n\n3. **Automate the change on section boundary**\n   - Bar 17 beat 1: Snap from State A → State B\n   - No gradual transition (abrupt = impactful)\n\n**Pro Tip: Pre-Delay Trick**\n- In verse: Reverb with 100ms pre-delay (tight, focused)\n- In chorus: Reverb with 0ms pre-delay (washy, big)\n- Creates huge contrast without changing reverb amount\n\n**Real Examples:**\n- **\"Smells Like Teen Spirit\" by Nirvana:** Verse clean guitar → chorus distorted guitar\n- **\"Rolling in the Deep\" by Adele:** Verse dry vocals → chorus huge reverb\n\n---\n\n**Combining All Seven for Maximum Impact:**\n\n**The \"Everything Drop\" (Pro-Level Transition):**\n\n\\`\\`\\`\nBars 13-16: Filter sweep (opening from 500Hz to 20kHz) [Technique 2]\nBars 15-16: Reverse cymbal building [Technique 1]\nBar 16 beats 1-3: Snare roll [Technique 6]\nBar 16 beat 4: Rhythmic stutter (chopped vocal) [Technique 3]\nBar 16 beat 4.5: Pitch rise (+2 semitones) [Technique 4]\nBar 17 beat 1: SILENCE (1 beat) [Technique 6]\nBar 17 beat 2: DROP HITS\n  - Kick + bass (impact)\n  - Huge reverb (texture change) [Technique 7]\n  - Wide stereo (texture change) [Technique 7]\n  - Full frequency spectrum\n\\`\\`\\`\n\n**That's SEVEN techniques in 4 bars. This is professional-level transition design.**\n        `\n      },\n      {\n        title: \"Practical Transition Design Workflow\",\n        content: `\n**Step-by-Step: Creating Professional Transitions**\n\n---\n\n**Step 1: Identify Transition Points**\n\nMap where section changes occur in your track:\n\n\\`\\`\\`\nBar 1-8: Intro\nBar 9-16: Verse 1 → TRANSITION → Chorus 1\nBar 17-24: Chorus 1\nBar 25-32: Verse 2 → TRANSITION → Chorus 2\nBar 33-40: Chorus 2\nBar 41-48: Bridge → TRANSITION → Final Chorus\nBar 49-56: Final Chorus\nBar 57-64: Outro\n\\`\\`\\`\n\n**You have THREE major transitions to design.**\n\n---\n\n**Step 2: Classify Each Transition Type**\n\nNot all transitions need the same intensity:\n\n**Transition 1 (Verse 1 → Chorus 1): HIGH IMPACT**\n- First chorus = big moment\n- Use 4-5 techniques stacked\n- Build anticipation heavily\n\n**Transition 2 (Verse 2 → Chorus 2): MEDIUM IMPACT**\n- Second chorus should feel different from first\n- Use 2-3 techniques (less than first to create variety)\n- Focus on one unique element (e.g., vocal stutter instead of riser)\n\n**Transition 3 (Bridge → Final Chorus): MAXIMUM IMPACT**\n- Biggest transition in the track\n- Use ALL techniques available\n- Should exceed Transition 1\n\n**By varying transition intensity, you prevent listener fatigue.**\n\n---\n\n**Step 3: Choose Techniques Based on Genre**\n\nDifferent genres favor different transition styles:\n\n**EDM (House/Trance/Dubstep):**\n- Reverse cymbals (always)\n- Filter sweeps (always)\n- Rhythmic stutters\n- Silence before drop\n- **Goal:** Maximum anticipation, explosive drop\n\n**Hip-Hop/Trap:**\n- Rhythmic stutters (especially vocals)\n- Pitch drops (air horn effect)\n- Minimal transitions (often just a drum fill or none)\n- **Goal:** Keep the vibe consistent, subtle transitions\n\n**Pop:**\n- Drum fills\n- Volume swells\n- Texture changes (reverb shifts)\n- **Goal:** Smooth yet noticeable section changes\n\n**Rock:**\n- Drum fills (classic)\n- Volume swells (dynamics)\n- Cymbal crashes\n- **Goal:** Organic, human-feeling transitions\n\n**Ambient/Downtempo:**\n- Volume crossfades\n- Texture changes\n- Minimal percussion\n- **Goal:** Seamless, meditative transitions\n\n---\n\n**Step 4: Layer Techniques by Timeline**\n\n**Long-Form Layer (4-8 bars before):**\nChoose ONE:\n- [ ] Filter sweep\n- [ ] Volume automation\n- [ ] Progressive element removal\n\n**Medium-Form Layer (1-2 bars before):**\nChoose ONE:\n- [ ] Reverse cymbal/vocal\n- [ ] Drum fill\n- [ ] Pitch rise\n\n**Short-Form Layer (Last bar only):**\nChoose ONE OR TWO:\n- [ ] Rhythmic stutter\n- [ ] Silence\n- [ ] Texture change\n\n**Impact Layer (Beat 1 of new section):**\nAlways include:\n- [ ] Kick drum + bass hit\n- [ ] Cymbal crash (if appropriate)\n- [ ] Full frequency spectrum active\n\n**Example Stack:**\n\n\\`\\`\\`\nBars 13-16: Filter sweep (long-form)\nBars 15-16: Reverse cymbal (medium-form)\nBar 16: Rhythmic stutter (short-form)\nBar 17 beat 1: Silence → Beat 2: Impact (drop)\n\\`\\`\\`\n\n---\n\n**Step 5: Produce the Long-Form Layer**\n\n**Example: Filter Sweep (Bars 13-16)**\n\n1. **Select which elements to filter**\n   - Option A: Filter only synths/pads (keep drums unfiltered)\n   - Option B: Filter everything except kick/bass\n   - Option C: Filter the entire mix (most dramatic)\n\n2. **Set filter type and starting point**\n   - Low-pass filter, start at 500Hz\n\n3. **Automate filter cutoff**\n   - Bar 13: 500Hz\n   - Bar 14: 1kHz\n   - Bar 15: 4kHz\n   - Bar 16: 12kHz\n   - Bar 17: Fully open (20kHz)\n\n4. **Adjust resonance for character**\n   - Low Q (0.5-1.0): Smooth sweep (natural)\n   - High Q (3.0-8.0): Emphasized sweep (electronic)\n\n5. **Test in context**\n   - Loop bars 13-17\n   - Does the filter opening create rising energy? ✓\n\n---\n\n**Step 6: Add the Medium-Form Layer**\n\n**Example: Reverse Cymbal (Bars 15-16)**\n\n1. **Find or record cymbal crash**\n   - Crash cymbal sample (or record a real one)\n   - OR use reverse vocal sample\n\n2. **Reverse the audio**\n   - Select sample → Reverse function\n   - The crash now \"sucks in\" backward\n\n3. **Place it precisely**\n   - End of reverse cymbal = bar 17 beat 1 (exact)\n   - Start of reverse cymbal = bar 15 beat 1\n\n4. **Add reverb (crucial)**\n   - Large hall reverb\n   - 100% wet, 3-4 second decay\n   - Makes the reverse cymbal sound epic\n\n5. **Adjust volume curve**\n   - Fade in at start (subtle entrance)\n   - Peak at end (maximum anticipation)\n\n---\n\n**Step 7: Add the Short-Form Layer**\n\n**Example: Rhythmic Stutter (Bar 16)**\n\n1. **Choose element to stutter**\n   - Vocal phrase (last word of verse)\n   - Drum loop\n   - Synth lead\n\n2. **Duplicate the last beat**\n   - Bar 16 beat 4: Duplicate audio/MIDI\n\n3. **Chop into 1/16th notes**\n   - Slice the audio/MIDI into 16 equal pieces\n\n4. **Repeat the first slice**\n   - Take the first 1/16th note, loop it 16 times\n   - Creates rapid \"ta-ta-ta-ta-ta\" stutter\n\n5. **Optional: Add pitch automation**\n   - Each stutter increases pitch by +1 semitone\n   - Creates rising stutter effect\n\n---\n\n**Step 8: Create the Silence (Beat 1)**\n\n**The Power Move:**\n\n1. **Mute all tracks on bar 17 beat 1**\n   - Literally silence everything\n   - OR leave only reverb tail (more organic)\n\n2. **Decide silence length**\n   - 1/2 beat: Subtle pause\n   - 1 beat: Standard (most common)\n   - 2 beats: Dramatic (use sparingly)\n\n3. **Add subtle elements during silence (optional)**\n   - Breath sound\n   - Vinyl crackle\n   - Distant riser\n   - **Goal:** Fill the silence without killing the tension\n\n---\n\n**Step 9: Deliver the Impact (Beat 2 or Bar 17)**\n\n**The Payoff:**\n\n1. **Kick + Bass hit simultaneously**\n   - Punchy kick (transient-heavy)\n   - Sub-bass (fundamental frequency)\n\n2. **Cymbal crash (if genre-appropriate)**\n   - Bright crash cymbal\n   - Creates \"splash\" of high frequencies\n\n3. **Full frequency spectrum active**\n   - Sub-bass (40-80Hz)\n   - Bass (80-250Hz)\n   - Mids (vocals/lead)\n   - Highs (cymbals, hi-hats)\n\n4. **Texture change (if applicable)**\n   - Huge reverb on chorus vocals\n   - Wide stereo on synths\n   - Distortion on guitars\n\n**Result:** Maximum impact. The drop feels MASSIVE because of the stacked anticipation + silence + full-spectrum payoff.\n\n---\n\n**Step 10: A/B Test Your Transition**\n\n**Before finalizing, test these scenarios:**\n\n**Test 1: Loop the Transition**\n- Loop bars 13-17 continuously\n- Does the anticipation feel natural or forced?\n- Does the drop deliver on the buildup?\n\n**Test 2: Remove One Technique**\n- Temporarily mute the reverse cymbal\n- Does the transition still work? (It should)\n- If removing one layer breaks the transition, you're over-reliant on it\n\n**Test 3: Compare to Reference Track**\n- Find a professional track in your genre\n- How do their transitions compare?\n- Are you using similar techniques?\n\n**Test 4: Listen at Low Volume**\n- Professional transitions work even quietly\n- If it only sounds good loud, it's not balanced correctly\n\n---\n\n**Common Mistakes (And How to Fix Them):**\n\n**❌ Mistake: \"My transition sounds cluttered and messy\"**\n\n**✓ Fix:**\n- You're stacking too many techniques\n- Remove 1-2 layers (less is more)\n- Focus on clean execution of 3 techniques instead of sloppy 6\n\n---\n\n**❌ Mistake: \"The drop doesn't feel impactful after the buildup\"**\n\n**✓ Fix:**\n- Add silence before the drop (creates vacuum effect)\n- Ensure drop has full frequency spectrum (sub + mids + highs)\n- Make sure drop is actually louder than buildup (check RMS levels)\n\n---\n\n**❌ Mistake: \"All my transitions sound the same\"**\n\n**✓ Fix:**\n- Vary which techniques you use per transition\n- Transition 1: Reverse cymbal + filter\n- Transition 2: Drum fill + stutter\n- Transition 3: All techniques combined\n\n---\n\n**❌ Mistake: \"My filter sweep sounds too harsh/artificial\"**\n\n**✓ Fix:**\n- Lower the resonance (Q value)\n- Use a gentler filter slope (12dB/octave instead of 24dB/octave)\n- Apply filter to individual elements, not the master bus\n\n---\n\n**❌ Mistake: \"The silence feels awkward and broken\"**\n\n**✓ Fix:**\n- Leave reverb tail during silence (not pure digital silence)\n- Add a subtle breath, vinyl crackle, or ambient noise\n- Make sure the silence is exactly 1 beat (not 0.9 or 1.1 beats—timing matters)\n\n---\n\n**❌ Mistake: \"My reverse cymbal is too loud/obvious\"**\n\n**✓ Fix:**\n- Lower the volume (reverse effects should support, not dominate)\n- EQ out low-mids (200-500Hz) to prevent muddiness\n- Add reverb (makes it feel cinematic instead of cheesy)\n\n---\n\n**Genre-Specific Transition Templates:**\n\n**EDM Drop Template:**\n\\`\\`\\`\nBars 13-16: Filter sweep (500Hz → 20kHz)\nBars 15-16: Reverse cymbal + reverb\nBar 16: Snare roll + rhythmic stutter\nBar 16 beat 4: Silence (1 beat)\nBar 17 beat 2: DROP (kick + bass + full spectrum)\n\\`\\`\\`\n\n**Pop Chorus Template:**\n\\`\\`\\`\nBar 15-16: Drum fill (snare roll)\nBar 16 beat 4: Volume swell\nBar 17 beat 1: Cymbal crash + chorus (texture change to wide reverb)\n\\`\\`\\`\n\n**Hip-Hop Beat Switch Template:**\n\\`\\`\\`\nBar 15-16: Vocal stutter (\"Yeah-yeah-yeah-yeah\")\nBar 16 beat 4: Pitch drop\nBar 17 beat 1: New beat (completely different pattern)\n\\`\\`\\`\n\n**Rock Chorus Template:**\n\\`\\`\\`\nBar 16: Drum fill (tom-tom-snare-snare)\nBar 17 beat 1: Cymbal crash + distorted guitar + full band\n(No reverse effects or electronic tricks—keep it organic)\n\\`\\`\\`\n\n---\n\n**Advanced: The \"Unexpected Transition\" (Use Once Per Track)**\n\n**To prevent predictability, include ONE unexpected transition:**\n\n**Unexpected Transitions:**\n- No buildup at all—section just SLAMS in (surprise)\n- Reverse buildup (filter CLOSES instead of opens)\n- Drop on the offbeat instead of beat 1\n- Silence AFTER the drop instead of before\n\n**Example: The \"No Buildup\" Drop**\n\n\\`\\`\\`\nBar 16: Normal verse continues...\nBar 17 beat 1: CHORUS SLAMS IN (no warning)\n\\`\\`\\`\n\n**Effect:** Shocking, jarring, memorable. Use once (usually final chorus or bridge).\n\n**Real Example:**\n- **\"HUMBLE.\" by Kendrick Lamar:** Beat switches with zero buildup—just cuts to new beat\n\n---\n\n**Final Transition Checklist:**\n\nBefore finalizing each transition, verify:\n\n✓ **Stacked 3+ techniques** (one from each timeline category)\n✓ **Filter automation is smooth** (no sudden jumps)\n✓ **Reverse effects end exactly on section change** (timing is perfect)\n✓ **Silence is intentional, not accidental** (feels musical)\n✓ **Impact moment delivers** (kick + full frequency spectrum)\n✓ **Transition feels inevitable** (listeners expect and want the section change)\n✓ **Tested at low volume** (works quietly, not just loud)\n✓ **Varied from other transitions in track** (not repetitive)\n\n**If all boxes checked:** You've created a professional, impactful transition.\n\n---\n\n**What's Next:**\n\nIn Lesson 18, you'll learn **genre blending**—how to combine elements from different musical styles into cohesive arrangements. Transitions are crucial for genre blends, as you'll move between stylistic sections seamlessly.\n        `\n      }\n    ]\n  }\n};\n\nif (typeof window !== 'undefined') window.LESSON_CONFIG = lessonConfig;\n",
    "number": 17,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "arrangement-16",
      "arrangement-15"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Advanced Transitions:",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-17",
    "filename": "lesson-bass-17.config.js",
    "title": "Bass Synthesis & Sound Design:",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 17 - Bass Synthesis & Sound Design\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-17-progress\",\n  lessonNumber: 17,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-18.html\",\n  prevLessonUrl: \"lesson-bass-16.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 17, categoryLabel: \"Bass & Low End\" }),\n    title: \"Bass Synthesis & Sound Design:\",\n    titleHighlight: \"Bass Synthesis & Sound Design\",\n    subtitle: \"Design bass sounds from scratch using synthesis. Master filters, envelopes, oscillators, and modulation for massive bass tones. Learn professional techniques used in industry-standard productions.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    bars: 2,\n    noteRange: { min: 36, max: 60 },\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Complete the Bass Exercise\",\n    description: \"Design bass sounds from scratch using synthesis. Master filters, envelopes, oscillators, and modulation for massive bass tones. This lesson covers professional techniques for Bass Synthesis & Sound Design.\",\n    tip: \"Focus on the foundational elements and build complexity gradually. Listen critically to how each technique affects the overall bass sound.\",\n    steps: [\n      '<strong>Step 1</strong> — Study the theory sections to understand the concepts.',\n      '<strong>Step 2</strong> — Analyze the target pattern and identify key characteristics.',\n      '<strong>Step 3</strong> — Program the bass pattern following the guidelines.',\n      '<strong>Step 4</strong> — Listen critically and compare to reference tracks.',\n      '<strong>Step 5</strong> — Experiment with variations while maintaining the core technique.',\n      'Check when ready to validate your work.'\n    ]\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Core Concepts',\n        content: `This lesson explores Bass Synthesis & Sound Design with focus on professional production techniques.\n\n**Key Learning Points:**\n- Understanding the characteristic sound and feel\n- Rhythm and timing considerations\n- Frequency management and sonic characteristics\n- Genre-specific applications\n- Professional mixing and processing techniques\n\nMaster these concepts to create bass that sits perfectly in any mix and serves the song effectively.`\n      },\n      {\n        title: 'Professional Application',\n        content: `Apply Bass Synthesis & Sound Design techniques in your productions:\n\n**Production Workflow:**\n1. Start with a clear sonic goal\n2. Choose appropriate synthesis or sample method\n3. Program the rhythm with intention\n4. Process for clarity and power\n5. Mix in context with other elements\n\n**Common Use Cases:**\n- Genre-specific productions\n- Creative sound design\n- Professional mixing scenarios\n- Live performance considerations\n\nStudy reference tracks to hear these techniques in action.`\n      }\n    ]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [\n      { pitch: 40, step: 0, duration: 2, velocity: 100 },\n      { pitch: 47, step: 2, duration: 2, velocity: 90 },\n      { pitch: 40, step: 4, duration: 2, velocity: 95 },\n      { pitch: 43, step: 6, duration: 2, velocity: 85 }\n    ],\n    highlightScale: [40, 42, 43, 45, 47, 48, 50, 52],\n    showChordDetection: false,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master Bass Synthesis & Sound Design techniques and concepts\",\n    \"Apply professional production workflows\",\n    \"Understand genre-specific bass characteristics\",\n    \"Develop critical listening skills for bass\",\n    \"Create industry-standard bass productions\"\n  ],\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete the bass exercise to master this technique.\",\n    success: \"Excellent! You've mastered Bass Synthesis & Sound Design. Professional-level skills!\",\n    error: \"Review the theory and target pattern. Pay attention to the key characteristics.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these professional techniques!\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 17,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "bass-16",
      "bass-15"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Bass Synthesis & Sound Design:",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-17",
    "filename": "lesson-drums-17.config.js",
    "title": "Drum Layering &",
    "category": "Drums & Rhythm",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-drums-17-progress\",\n  lessonNumber: 17,\n  lessonCategory: \"Drums & Rhythm\",\n  depthLevel: 8,\n  nextLessonUrl: \"lesson-drums-18.html\",\n  prevLessonUrl: \"lesson-drums-16.html\",\n  overviewUrl: \"labs.html\",\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-drums-17\", categoryLabel: \"Drums & Rhythm\" }),\n    title: \"Drum Layering &\",\n    titleHighlight: \"Parallel Processing\",\n    subtitle: \"Stack <strong>multiple drum sounds</strong> and process layers independently to create <strong>massive, professional drum tones</strong>. Learn kick layering (sub + punch), snare stacking (body + crack + clap), and parallel processing techniques used in modern pop, hip-hop, and EDM.\"\n  },\n  sequencer: { tempo: 95, stepCount: 16, swing: 0, showBeatMarkers: true, showStepNumbers: true, autoSaveState: true, enableVelocity: true, requiredTempo: 95 },\n  exercise: {\n    title: \"Layer Kick Sounds\",\n    description: \"Create a <strong>massive kick</strong> by layering <strong>sub kick (low freq)</strong> and <strong>punch kick (mid/high freq)</strong> on the same steps. This is the secret to modern drum production.\",\n    tip: \"Layer sounds with different frequency ranges: Sub (20-80Hz), Body (80-250Hz), Punch (2-8kHz). Each layer fills a different part of the spectrum!\",\n    steps: [\n      { text: \"<strong>Set tempo to 95 BPM</strong>.\" },\n      { text: \"<strong>Sub Kick:</strong> Steps 1, 5, 9, 13, velocity 127 (pure low end).\" },\n      { text: \"<strong>Punch Kick:</strong> Same steps 1, 5, 9, 13, velocity 100 (mid/high click).\" },\n      { text: \"<strong>Listen:</strong> Together they create a full-spectrum kick.\" }\n    ]\n  },\n  instruments: [\n    { id: \"kick_sub\", label: \"Sub Kick\", color: \"linear-gradient(135deg, #2d3436, #636e72)\", targetSteps: [0, 4, 8, 12], targetVelocities: { 0: 127, 4: 127, 8: 127, 12: 127 }, instructionText: \"Sub kick layer.\", patternHint: { enabled: true } },\n    { id: \"kick_punch\", label: \"Punch Kick\", color: \"linear-gradient(135deg, #e17055, #d63031)\", targetSteps: [0, 4, 8, 12], targetVelocities: { 0: 100, 4: 100, 8: 100, 12: 100 }, instructionText: \"Punch kick layer.\", patternHint: { enabled: true } }\n  ],\n  theory: { sections: [{ title: \"Layering Strategy\", content: \"**Kick Layering:** Sub (808) + Punch (acoustic) = full kick. **Snare Layering:** Body + Crack + Clap = massive snare. **Processing:** EQ each layer differently, compress separately, then mix together.\" }] },\n  learningObjectives: [\"Layer multiple drum sounds on same steps\", \"Understand frequency spectrum separation\", \"Apply parallel processing concepts\", \"Create professional drum tones\", \"Use layering for genre-specific sounds\"],\n  validation: applyMessagePreset(\"drumSequencer\", \"correct-placement-and-velocity\")\n};\n",
    "number": 17,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "drums-16",
      "drums-15"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Drum Layering &",
      "Prepararsi alla lezione successiva del modulo Drums & Rhythm"
    ]
  },
  {
    "slug": "harmony-17",
    "filename": "lesson-harmony-17.config.js",
    "title": "Dorian Mode:",
    "category": "Modal Harmony",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 17 - Dorian Mode: The Cool Minor Sound\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-17-progress\",\n  lessonNumber: 17,\n  lessonCategory: \"Modal Harmony\",\n\n  nextLessonUrl: \"lesson-harmony-18.html\",\n  prevLessonUrl: \"lesson-harmony-16.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 17, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Dorian Mode:\",\n    titleHighlight: \"The Cool Minor Sound\",\n    subtitle: \"Write groove-based progressions using Dorian mode for modern funk, house, and R&B. Dorian is a minor scale with a raised 6th - creating a brighter, cooler minor sound than natural minor. This is the mode behind Daft Punk, Thundercat, and Miles Davis.\"\n  },\n\n  sequencer: {\n    tempo: 110,\n    key: \"D\",\n    scale: \"Dorian\",\n    stepCount: 64,\n    bars: 4,\n    pitchRange: {\n      low: 48,\n      high: 84\n    }\n  },\n\n  exercise: {\n    title: \"Build a Dorian Vamp\",\n    description: \"Create a modal progression in <strong>D Dorian</strong> using <strong>Dm7 → Em7 → Dm7 → Cmaj7</strong>. Dorian mode has a natural 6th (B natural in D Dorian) instead of the flat 6th in natural minor. This creates that funky, sophisticated minor sound.\",\n    tip: \"Dorian mode = minor scale with raised 6th. D Dorian: D-E-F-G-A-B-C (compare to D natural minor: D-E-F-G-A-Bb-C). That B natural instead of Bb creates the 'cool minor' sound. Use i-ii vamps (Dm7-Em7) and emphasize the 6th (B) in your melody. Think So What by Miles Davis!\",\n    steps: [\n      { text: \"Bar 1-2: <strong>Dm7</strong> (D-F-A-C) - the home chord\" },\n      { text: \"Bar 3: <strong>Em7</strong> (E-G-B-D) - the ii chord in Dorian\" },\n      { text: \"Bar 4: <strong>Dm7 → Cmaj7</strong> back to tonic\" },\n      { text: \"Add melody using <strong>D Dorian scale: D-E-F-G-A-B-C</strong>\" },\n      { text: \"Emphasize the <strong>B natural</strong> (6th) - this is what makes it Dorian!\" },\n      { text: \"Listen for the funky, modal vibe - not major, not natural minor\" }\n    ]\n  },\n\n  validation: {\n    type: \"modal_progression\",\n    mode: \"Dorian\",\n    root: \"D\",\n    requiredChords: [\n      { time: 0, pitches: [62, 65, 69, 72], chordName: \"Dm7\", minDuration: 32 },\n      { time: 32, pitches: [64, 67, 71, 74], chordName: \"Em7\" },\n      { time: 48, pitches: [62, 65, 69, 72], chordName: \"Dm7\" },\n      { time: 56, pitches: [60, 64, 67, 71], chordName: \"Cmaj7\" }\n    ],\n    melody: {\n      scale: [62, 64, 65, 67, 69, 71, 72, 74, 76, 77, 79, 81, 83],  // D Dorian\n      minNotes: 8,\n      emphasizeCharacteristicNote: 71  // B natural (the 6th)\n    }\n  },\n\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Build Dm7 → Em7 → Dm7 → Cmaj7 in D Dorian. Use D-E-F-G-A-B-C scale, emphasizing the B natural (6th degree).\",\n    success: \"Excellent! You've mastered Dorian mode - that cool, funky minor sound. Notice how the raised 6th (B) creates brightness while keeping the minor vibe!\",\n    error: \"Check: Dm7 = D-F-A-C, Em7 = E-G-B-D, Cmaj7 = C-E-G-B. Melody uses D Dorian scale (D-E-F-G-A-B-C) with B natural, not Bb!\"\n  }),\n\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 17,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "harmony-16",
      "harmony-15"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Dorian Mode:",
      "Prepararsi alla lezione successiva del modulo Modal Harmony"
    ]
  },
  {
    "slug": "mixing-17",
    "filename": "lesson-mixing-17.config.js",
    "title": "Mid-Side Processing &",
    "category": "Mixing",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-17-progress\",\n  lessonNumber: 17,\n  lessonCategory: \"Mixing\",\n  depthLevel: 9,\n  \n  nextLessonUrl: \"lesson-mixing-18.html\",\n  prevLessonUrl: \"lesson-mixing-16.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-mixing-17\", categoryLabel: \"Mixing\" }),\n    title: \"Mid-Side Processing &\",\n    titleHighlight: \"Stereo Imaging\",\n    subtitle: \"Control stereo width with surgical precision using <strong>mid-side EQ, compression, and enhancement</strong>. Learn to widen mixes, tighten centers, and create professional spatial imaging without phase issues.\"\n  },\n  \n  sequencer: {\n    tempo: 115,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true,\n    requiredTempo: 115\n  },\n  \n  exercise: {\n    title: \"Design Center vs. Sides Pattern\",\n    description: \"Create a pattern that demonstrates <strong>center-focused vs. wide elements</strong>. Use different instrument colors to simulate mid (center) and side (stereo) signals, understanding how professional mixes balance mono compatibility with stereo width.\",\n    tip: \"Center elements (kick, bass, lead vocal) provide focus and mono compatibility. Side elements (pads, ambience, effects) create width and space. Balance is key.\",\n    steps: [\n      { text: \"<strong>Set tempo to 115 BPM</strong> for a groovy, mid-tempo feel.\" },\n      { text: \"<strong>Program center kick</strong> on steps 1, 5, 9, 13 with velocity 110-120 for focus.\" },\n      { text: \"<strong>Add center bass</strong> on steps 3, 7, 11, 15 with velocity 100-110 for foundation.\" },\n      { text: \"<strong>Layer side pads</strong> on steps 1, 3, 5, 7, 9, 11, 13, 15 with low velocity (60-70) for width.\" },\n      { text: \"<strong>Add side hi-hats</strong> on all 16 steps with velocity 50-60 for stereo shimmer.\" },\n      { text: \"<strong>Listen</strong> to how center elements anchor the mix while sides create space and width.\" }\n    ]\n  },\n  \n  instruments: [\n    {\n      id: \"center-kick\",\n      label: \"Center Kick\",\n      color: \"linear-gradient(135deg, #e17055, #d63031)\",\n      targetSteps: [0, 4, 8, 12],\n      oscillator: { type: \"sine\", detune: 0 },\n      envelope: { attack: 0.001, decay: 0.15, sustain: 0, release: 0.05 },\n      filter: { type: \"lowpass\", frequency: 120, Q: 2.0 }\n    },\n    {\n      id: \"center-bass\",\n      label: \"Center Bass\",\n      color: \"linear-gradient(135deg, #6c5ce7, #5f27cd)\",\n      targetSteps: [2, 6, 10, 14],\n      oscillator: { type: \"sawtooth\", detune: 0 },\n      envelope: { attack: 0.01, decay: 0.2, sustain: 0.6, release: 0.15 },\n      filter: { type: \"lowpass\", frequency: 400, Q: 1.5 }\n    },\n    {\n      id: \"side-pad\",\n      label: \"Side Pad\",\n      color: \"linear-gradient(135deg, #81ecec, #00cec9)\",\n      targetSteps: [0, 2, 4, 6, 8, 10, 12, 14],\n      oscillator: { type: \"triangle\", detune: 12 },\n      envelope: { attack: 0.3, decay: 0.5, sustain: 0.7, release: 1.0 },\n      filter: { type: \"lowpass\", frequency: 1800, Q: 0.8 }\n    },\n    {\n      id: \"side-hihat\",\n      label: \"Side Hi-Hat\",\n      color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\",\n      targetSteps: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],\n      oscillator: { type: \"noise\", detune: 0 },\n      envelope: { attack: 0.001, decay: 0.05, sustain: 0, release: 0.02 },\n      filter: { type: \"highpass\", frequency: 8000, Q: 1.0 }\n    }\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Mid-Side Processing Explained',\n        content: `**What Is Mid-Side (M/S)?**\nMid-Side processing splits a stereo signal into two components:\n- **Mid (M):** Center/mono information (everything panned center)\n- **Side (S):** Stereo information (everything panned left/right)\n\n**Technical Breakdown:**\n- **Mid = Left + Right** (sum)\n- **Side = Left - Right** (difference)\n\nAfter processing, the signal is decoded back to stereo:\n- **Left = Mid + Side**\n- **Right = Mid - Side**\n\n**Why It's Powerful:**\nInstead of processing Left and Right channels equally, you can:\n- Boost/cut center elements independently\n- Widen/narrow stereo image surgically\n- Apply different compression, EQ, saturation to center vs. sides\n- Fix mono compatibility without sacrificing stereo width\n\n**When to Use M/S:**\n- **Mastering:** Final stereo width control\n- **Mix bus:** Overall spatial balance\n- **Individual elements:** Guitars, synths, pads, drums (overheads)\n- **Problem solving:** Tighten muddy center, enhance dull sides`\n      },\n      {\n        title: 'Mid-Side EQ Techniques',\n        content: `**Mid-Side EQ Applications:**\n\n**Tighten Low-End (Cut Mid 20-150 Hz):**\n- Removes low-end mud and rumble from center\n- Keeps kick and bass focused\n- Improves clarity without thinning sides\n\n**Add Air to Sides (Boost Side 8-12 kHz):**\n- Adds sparkle and width to stereo image\n- Makes mix feel more open and expensive\n- Doesn't affect center vocal or lead\n\n**Remove Harshness from Center (Cut Mid 2-4 kHz):**\n- Reduces harsh frequencies in vocal or lead\n- Doesn't affect stereo guitars or pads\n- Maintains clarity without losing width\n\n**Widen Guitars (Boost Side 200 Hz - 5 kHz):**\n- Emphasizes stereo guitars without muddying center\n- Creates space around center elements\n- Classic for rock/metal mixes\n\n**M/S EQ Workflow:**\n1. **Listen to Mid solo:** Identify problems in center (vocal, kick, bass, snare)\n2. **Listen to Side solo:** Identify problems in stereo field (guitars, pads, ambience)\n3. **Apply corrective EQ:**\n   - Cut problem frequencies in Mid\n   - Boost enhancement frequencies in Side\n4. **Check mono compatibility:** Sum to mono and listen (no phase cancellation)\n\n**Common M/S EQ Moves:**\n- **High-pass Mid at 30-40 Hz** (remove sub rumble from center)\n- **High-pass Side at 200-300 Hz** (tighten stereo low-end)\n- **Boost Side 10-12 kHz** (+2 to +4dB for air and width)\n- **Cut Mid 200-400 Hz** (-1 to -3dB if center is muddy)\n- **Boost Mid 3-5 kHz** (+2 to +3dB for vocal presence)\n\n**Tools:**\n- FabFilter Pro-Q 3 (built-in M/S mode)\n- iZotope Ozone Imager (visual M/S control)\n- Waves Center (simple M/S width control)\n- Brainworx bx_digital V3 (M/S EQ + compression)`\n      },\n      {\n        title: 'Mid-Side Compression & Dynamics',\n        content: `**Why Compress Mid/Side Separately?**\nCenter and stereo elements often have different dynamic needs:\n- **Center:** Needs consistent level (vocal, kick, bass)\n- **Sides:** Can be more dynamic (guitars, pads, ambience)\n\n**Mid Compression:**\n**Purpose:** Control center elements (vocal, kick, snare, bass)\n**Settings:**\n- **Ratio:** 3:1 to 6:1 (moderate to heavy)\n- **Attack:** 10-30ms (let transients through)\n- **Release:** 100-300ms (natural recovery)\n- **Threshold:** Adjust for 3-6dB gain reduction\n\n**Side Compression:**\n**Purpose:** Control stereo width and ambience\n**Settings:**\n- **Ratio:** 2:1 to 4:1 (lighter than mid)\n- **Attack:** 30-50ms (slower, preserve stereo space)\n- **Release:** 200-500ms (slow, maintain atmosphere)\n- **Threshold:** Adjust for 2-4dB gain reduction\n\n**Advanced: Multiband M/S Compression:**\nCompress different frequency ranges in Mid/Side independently:\n- **Low Mid (20-200 Hz):** Heavy compression (control kick/bass)\n- **Mid Mid (200 Hz - 5 kHz):** Moderate compression (vocal, snare)\n- **High Mid (5-20 kHz):** Light compression (air and presence)\n- **Low Side (20-200 Hz):** Heavy compression or limit (control stereo bass)\n- **Mid Side (200 Hz - 5 kHz):** Light compression (preserve stereo guitars)\n- **High Side (5-20 kHz):** Very light compression (stereo shimmer)\n\n**M/S Compression on Mix Bus:**\nClassic mastering technique:\n1. **Mid:** 2:1 ratio, slow attack/release, 2-3dB GR (glue center)\n2. **Side:** 1.5:1 ratio, very slow attack/release, 1-2dB GR (control width)\n3. **Result:** Cohesive center with controlled stereo image`\n      },\n      {\n        title: 'Stereo Width Enhancement & Imaging',\n        content: `**Safe Stereo Widening Techniques:**\n\n**1. Mid-Side Balance:**\n- **Reduce Mid level** (-1 to -3dB): Emphasizes sides, creates width\n- **Increase Side level** (+1 to +3dB): Exaggerates stereo information\n- **Balance:** More side = wider, more mid = narrower/focused\n- **Caution:** Too much side reduction causes phase issues in mono\n\n**2. Haas Effect (Delay-Based Widening):**\n- Duplicate mono signal\n- Pan hard left/right\n- Delay one side by 10-30ms\n- **Result:** Perceived stereo width\n- **Warning:** Completely phase-cancels in mono (use carefully)\n\n**3. Stereo Synthesizers:**\nTools that generate stereo width artificially:\n- **iZotope Ozone Imager:** Visual stereo width control\n- **Waves S1 Stereo Imager:** Simple width slider\n- **Goodhertz MidSide:** Surgical M/S control\n- **Voxengo MSED:** Free M/S plugin\n\n**4. Double-Tracking (Natural Width):**\n- Record two takes of the same part\n- Pan hard left/right\n- Natural timing/pitch differences create width\n- **No phase issues** (different performances)\n- Classic for guitars, vocals, synths\n\n**5. Stereo Chorus/Widening:**\n- Use chorus or stereo widener on pads, synths\n- Creates width through pitch/timing modulation\n- **Safe for mono:** Doesn't rely on phase tricks\n\n**Mono Compatibility Testing:**\nCritical for professional mixes:\n1. Sum your mix to mono (Utility plugin or mono button)\n2. Listen for elements that disappear or thin out\n3. If something vanishes: You have phase cancellation\n4. **Fix:** Reduce Haas widening, reduce M/S side boost, or re-record\n\n**Frequency-Specific Width:**\nYou don't need to widen everything equally:\n- **Low (20-150 Hz):** Narrow/mono (keeps bass focused)\n- **Mid (150 Hz - 5 kHz):** Moderate width (guitars, pads)\n- **High (5-20 kHz):** Wide (air, ambience, shimmer)\n\n**Use multiband stereo widener:**\n- Keep lows narrow (0-20% width)\n- Widen mids moderately (40-60% width)\n- Widen highs aggressively (70-100% width)\n\n**Genre Guidelines:**\n- **EDM/Electronic:** Wide mixes (heavy M/S, stereo synths)\n- **Hip-Hop:** Narrow/focused (mono bass, centered vocals, wide effects)\n- **Rock/Metal:** Guitars wide, drums/vocals centered\n- **Pop:** Balanced (wide chorus, intimate verse)\n- **Classical/Jazz:** Natural width (minimal processing)`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Understand mid-side (M/S) processing: splitting stereo signals into center (mid) and sides components\",\n    \"Apply mid-side EQ to tighten low-end, add air to sides, and surgically shape stereo image\",\n    \"Use mid-side compression to control center dynamics independently from stereo width\",\n    \"Master safe stereo widening techniques: M/S balance, double-tracking, frequency-specific width\",\n    \"Test mono compatibility to avoid phase cancellation and ensure mixes translate to all playback systems\"\n  ]\n};\n",
    "number": 17,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "mixing-16",
      "mixing-15"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Mid-Side Processing &",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-17",
    "filename": "lesson-sound-design-17.config.js",
    "title": "Granular Synthesis &",
    "category": "Sound Design",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-sound-design-17-progress\",\n  lessonNumber: 17,\n  lessonCategory: \"Sound Design\",\n  depthLevel: 9,\n  \n  nextLessonUrl: \"lesson-sound-design-18.html\",\n  prevLessonUrl: \"lesson-sound-design-16.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-sound-design-17\", categoryLabel: \"Sound Design\" }),\n    title: \"Granular Synthesis &\",\n    titleHighlight: \"Texture Design\",\n    subtitle: \"Create atmospheric textures and experimental sounds with <strong>granular synthesis and micro-sampling</strong>. Master grain clouds, time-stretching, and textural sound design for cinematic and ambient productions.\"\n  },\n  \n  sequencer: {\n    tempo: 85,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true,\n    requiredTempo: 85\n  },\n  \n  exercise: {\n    title: \"Build Granular Texture Layers\",\n    description: \"Create a <strong>multi-layer granular texture pattern</strong> with different grain sizes, densities, and pitches. Understand how micro-samples combine to form atmospheric, evolving soundscapes.\",\n    tip: \"Low velocity = sparse grains (airy texture), High velocity = dense grains (solid texture). Granular synthesis turns any sound into a malleable cloud of sonic particles.\",\n    steps: [\n      { text: \"<strong>Set tempo to 85 BPM</strong> for a slow, atmospheric feel.\" },\n      { text: \"<strong>Program sparse grain layer</strong> on steps 1, 5, 9, 13 with velocity 60-70 (spacious).\" },\n      { text: \"<strong>Add medium density layer</strong> on steps 1, 3, 5, 7, 9, 11, 13, 15 with velocity 80-90.\" },\n      { text: \"<strong>Layer dense grain cloud</strong> on all 16 steps with velocity 50-60 (background shimmer).\" },\n      { text: \"<strong>Add pitched grains</strong> on steps 4, 8, 12, 16 with velocity 100-110 (melodic accents).\" },\n      { text: \"<strong>Listen</strong> to how grain density and velocity create textural depth and movement.\" }\n    ]\n  },\n  \n  instruments: [\n    {\n      id: \"sparse-grains\",\n      label: \"Sparse Grains\",\n      color: \"linear-gradient(135deg, #74b9ff, #0984e3)\",\n      targetSteps: [0, 4, 8, 12],\n      oscillator: { type: \"sine\", detune: 0 },\n      envelope: { attack: 0.2, decay: 0.8, sustain: 0.3, release: 1.5 },\n      filter: { type: \"lowpass\", frequency: 800, Q: 0.5 }\n    },\n    {\n      id: \"medium-grains\",\n      label: \"Medium Grains\",\n      color: \"linear-gradient(135deg, #a29bfe, #6c5ce7)\",\n      targetSteps: [0, 2, 4, 6, 8, 10, 12, 14],\n      oscillator: { type: \"triangle\", detune: 5 },\n      envelope: { attack: 0.1, decay: 0.4, sustain: 0.4, release: 0.8 },\n      filter: { type: \"bandpass\", frequency: 1200, Q: 1.5 }\n    },\n    {\n      id: \"dense-cloud\",\n      label: \"Dense Cloud\",\n      color: \"linear-gradient(135deg, #81ecec, #00cec9)\",\n      targetSteps: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],\n      oscillator: { type: \"sine\", detune: 12 },\n      envelope: { attack: 0.5, decay: 1.0, sustain: 0.6, release: 2.0 },\n      filter: { type: \"lowpass\", frequency: 600, Q: 0.8 }\n    },\n    {\n      id: \"pitched-grains\",\n      label: \"Pitched Grains\",\n      color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\",\n      targetSteps: [3, 7, 11, 15],\n      oscillator: { type: \"sawtooth\", detune: -5 },\n      envelope: { attack: 0.05, decay: 0.3, sustain: 0.5, release: 0.6 },\n      filter: { type: \"lowpass\", frequency: 2000, Q: 1.0 }\n    }\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Granular Synthesis Explained',\n        content: `**What Is Granular Synthesis?**\nGranular synthesis chops audio into tiny fragments called \"grains\" (1-100ms), then reassembles them to create new textures. Like painting with sound molecules.\n\n**Key Parameters:**\n- **Grain Size:** Length of each grain (1-100ms). Small = grainy/noisy, Large = smooth/musical\n- **Grain Density:** Grains per second. Sparse = rhythmic pulses, Dense = continuous texture\n- **Grain Pitch:** Transpose individual grains independently of time\n- **Playback Position:** Where in source audio to extract grains\n- **Grain Envelope:** Shape of each grain (Gaussian, Hanning, rectangular)\n\n**Applications:**\n- **Time-stretching:** Change duration without affecting pitch\n- **Pitch-shifting:** Change pitch without affecting duration\n- **Texture creation:** Transform any sound into atmospheric clouds\n- **Freeze effects:** Sustain a moment indefinitely\n- **Sound mangling:** Experimental sound design`\n      },\n      {\n        title: 'Advanced Granular Techniques',\n        content: `**Cloud Synthesis:**\nRandomly scatter grains in time, pitch, and pan for evolving textures:\n- Random pitch variation (±12 semitones) creates shimmering clouds\n- Random pan creates wide stereo field\n- Random grain size adds textural complexity\n\n**Granular Time-Stretching:**\nSlow down or speed up without pitch change:\n- Overlap many grains while moving slowly through source\n- Artifact: Robotic/phase-y sound at extreme stretches\n- Solution: Add pitch/time randomization for natural feel\n\n**Asynchronous Granular:**\nGrains triggered rhythmically, not continuously:\n- Sync grain density to tempo (e.g., 16th notes)\n- Creates stuttering, glitchy rhythms\n- Used in IDM, glitch, and electronic music\n\n**Multi-Stream Granular:**\nMultiple grain generators reading from different positions:\n- Stream 1: Beginning of sample\n- Stream 2: Middle of sample\n- Stream 3: End of sample\n- Morph between streams for evolving textures\n\n**Granular Effects:**\nApply effects to individual grains before reassembly:\n- Grain-level reverb creates dense, evolving ambience\n- Grain-level distortion adds aggression\n- Grain-level filtering shapes spectral content`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Understand granular synthesis: grain size, density, pitch, and position parameters\",\n    \"Create atmospheric textures with cloud synthesis and random grain modulation\",\n    \"Master time-stretching and pitch-shifting without artifacts\",\n    \"Apply advanced techniques: asynchronous grains, multi-stream granular, grain-level effects\"\n  ]\n};\n",
    "number": 17,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "sound-design-16",
      "sound-design-15"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Granular Synthesis &",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "arrangement-18",
    "filename": "lesson-arrangement-18.config.js",
    "title": "Genre Blending:",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 18 - Genre Blending\n *\n * This lesson teaches how to blend elements from different genres.\n * Master cross-genre arrangement, fusion techniques, and hybrid styles.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-arrangement-18-progress\",\n  lessonNumber: 18,\n  lessonCategory: \"Arrangement\",\n  depthLevel: 5,\n\n  nextLessonUrl: \"lesson-arrangement-19.html\",\n  prevLessonUrl: \"lesson-arrangement-17.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 18, categoryLabel: \"Arrangement\" }),\n    title: \"Genre Blending:\",\n    titleHighlight: \"Fusion Techniques\",\n    subtitle: \"Master <strong>cross-genre arrangement</strong>. Learn to blend <strong>hip-hop with EDM</strong>, <strong>rock with electronic</strong>, or <strong>pop with trap</strong>. Modern hits often blend multiple genres.\"\n  },\n\n  exercise: {\n    title: \"Create a Genre-Blending Arrangement\",\n    description: \"Combine elements from <strong>two or more genres</strong> into a cohesive arrangement. Use verse from one genre, chorus from another, or blend simultaneously. The key is maintaining identity from both genres.\",\n    tip: \"Genre blending recipe: Take the DRUMS from one genre + HARMONY from another + STRUCTURE from a third. Example: Trap drums + Pop chords + EDM structure = Modern pop hit.\",\n    steps: [\n      { text: \"<strong>Choose 2-3 genres to blend</strong> - Select complementary styles\" },\n      { text: \"<strong>Identify signature elements</strong> - What defines each genre?\" },\n      { text: \"<strong>Intro: Establish genre A</strong> - Start with one genre identity\" },\n      { text: \"<strong>Verse: Introduce genre B elements</strong> - Blend begins\" },\n      { text: \"<strong>Chorus: Full fusion</strong> - Both genres present simultaneously\" },\n      { text: \"<strong>Bridge: Genre C surprise</strong> - Optional third genre element\" }\n    ]\n  },\n\n  genreCombinations: [\n    {\n      blend: \"Pop + Trap\",\n      signatureElements: {\n        pop: [\"Major key\", \"Verse-chorus structure\", \"Catchy melody\"],\n        trap: [\"808 bass\", \"Hi-hat rolls\", \"Snare hits\"],\n        result: \"Modern Billboard pop (Ariana Grande, Post Malone)\"\n      }\n    },\n    {\n      blend: \"Rock + Electronic\",\n      signatureElements: {\n        rock: [\"Live drums\", \"Electric guitar\", \"Organic feel\"],\n        electronic: [\"Synth bass\", \"EDM drops\", \"Electronic FX\"],\n        result: \"Alternative/indie electronic (CHVRCHES, Twenty One Pilots)\"\n      }\n    },\n    {\n      blend: \"Hip-Hop + House\",\n      signatureElements: {\n        hiphop: [\"Rap vocals\", \"808s\", \"16-bar verses\"],\n        house: [\"4-on-floor kick\", \"Chord stabs\", \"Filter sweeps\"],\n        result: \"Future house rap (DJ Snake, Major Lazer)\"\n      }\n    },\n    {\n      blend: \"Jazz + Lo-Fi\",\n      signatureElements: {\n        jazz: [\"7th chords\", \"Swing feel\", \"Walking bass\"],\n        lofi: [\"Vinyl crackle\", \"Downtempo beats\", \"Sample aesthetic\"],\n        result: \"Lo-fi hip-hop (ChilledCow, Jinsang)\"\n      }\n    }\n  ],\n\n  blendingTechniques: [\n    { technique: \"Sectional Blending\", description: \"Verse = Genre A, Chorus = Genre B\" },\n    { technique: \"Simultaneous Blending\", description: \"Both genres present at once\" },\n    { technique: \"Transitional Blending\", description: \"Gradually morph from A to B\" },\n    { technique: \"Element Substitution\", description: \"Replace one genre's element with another's\" }\n  ],\n\n  messages: applyMessagePreset(\"arrangement\", {\n    initial: \"Blend elements from two or more genres!\",\n    success: \"🎭 Brilliant genre fusion! Your blend creates something fresh while honoring both styles.\",\n    error: \"Make sure signature elements from both genres are clearly present.\",\n    alreadyCompleted: \"You've mastered genre blending! Try more unexpected combinations.\"\n  }),\n\n  mode: {\n    type: \"structure-builder\",\n    sandbox: false,\n    showTimeline: true,\n    showGenreIndicators: true\n  },\n\n  learningObjectives: [\n    \"Identify signature elements that define genres\",\n    \"Blend two or more genres cohesively\",\n    \"Apply four blending techniques effectively\",\n    \"Create modern cross-genre arrangements\",\n    \"Maintain identity from multiple genres simultaneously\"\n  ],\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"Why Genre Blending Defines Modern Music\",\n        content: `\n**The Evolution of Genre:**\n\n**1960s-1990s:**\n- Strict genre boundaries (rock is rock, hip-hop is hip-hop)\n- Radio formats reinforced separation\n- Artists stayed in their lane\n\n**2000s-Present:**\n- Genre lines dissolve completely\n- Streaming algorithms expose listeners to diverse styles\n- **Modern hits blend 3-4 genres simultaneously**\n\n**Examples:**\n\n**\"Old Town Road\" by Lil Nas X:**\n- Country (banjo, twang)\n- Hip-hop (trap drums, rap vocals)\n- Rock (guitar in remix)\n- **Result:** #1 hit that broke genre barriers\n\n**\"Starboy\" by The Weeknd ft. Daft Punk:**\n- R&B (vocal style, melodies)\n- Synthwave (80s synth production)\n- Pop (structure, hooks)\n- **Result:** Genre-defying global hit\n\n**\"Happier Than Ever\" by Billie Eilish:**\n- Jazz (chord progressions, Verse structure)\n- Pop (vocal delivery)\n- Grunge/Rock (distorted guitar outro)\n- **Result:** Three genres in one 5-minute song\n\n**The pattern:** Modern hits don't pick one genre—they cherry-pick the BEST elements from multiple genres.\n\n---\n\n**Why Genre Blending Works:**\n\n**1. Novelty + Familiarity Balance**\n- **Familiar:** Listeners recognize elements from genres they know (comfort)\n- **Novel:** The combination is fresh and unexpected (excitement)\n- **Result:** \"I've never heard this before, but I already love it\"\n\n**2. Expanded Audience**\n- Genre A fans check it out (familiar elements)\n- Genre B fans check it out (familiar elements)\n- **Result:** 2x the potential audience\n\n**3. Creative Freedom**\n- Not bound by genre rules (you make your own rules)\n- Can pull ANY technique from ANY genre\n- **Result:** Unlimited sonic palette\n\n**4. Cultural Zeitgeist**\n- Reflects how people actually listen (playlists, not genres)\n- Gen Z doesn't think in genres—they think in vibes\n- **Result:** Your music feels contemporary and relevant\n\n---\n\n**The Genre Blending Paradox:**\n\n**You must know the rules before you can break them.**\n\n**Amateur Approach (Doesn't Work):**\n- Throws random genre elements together\n- \"Let's add a trap hi-hat to this folk song because why not\"\n- **Result:** Sounds confused, not innovative\n\n**Professional Approach (Works):**\n- Identifies SIGNATURE elements that define each genre\n- Selects complementary elements that enhance each other\n- Maintains identity from both genres\n- **Result:** Cohesive fusion that honors both styles\n\n**Example:**\n\n**Bad Blend (Random):**\n- Death metal screaming + smooth jazz chord progressions + reggaeton drums\n- **Why it fails:** Elements clash, no unifying vision\n\n**Good Blend (Intentional):**\n- Pop melodies (accessible) + Trap drums (modern) + Rock energy (dynamic contrast)\n- **Why it works:** All elements serve the same emotional goal (energetic, youthful, powerful)\n\n---\n\n**The Signature Element Framework:**\n\nEvery genre is defined by 3-5 **signature elements**. Identify them, then blend.\n\n**Pop:**\n- ✓ Verse-chorus structure (predictable, catchy)\n- ✓ Major keys (happy, uplifting)\n- ✓ Vocal melodies (front and center)\n- ✓ 4-bar phrases (radio-friendly)\n\n**Hip-Hop:**\n- ✓ Rap vocals (rhythmic, conversational)\n- ✓ 808 bass (sub-heavy, percussive)\n- ✓ Sampled loops (repetitive, hypnotic)\n- ✓ 16-bar verses (lyric-focused)\n\n**EDM (House/Trance):**\n- ✓ 4-on-the-floor kick (constant quarter notes)\n- ✓ Build-drop structure (tension-release)\n- ✓ Synth leads (bright, cutting)\n- ✓ Repetition (hypnotic, danceable)\n\n**Rock:**\n- ✓ Live drums (human feel, dynamics)\n- ✓ Electric guitar (distortion, power chords)\n- ✓ Verse-chorus-bridge (classic structure)\n- ✓ Dynamic contrast (quiet-loud-quiet-loud)\n\n**To blend genres:** Take 2-3 signature elements from each genre, combine intentionally.\n\n---\n\n**Real-World Blending Examples (Deconstructed):**\n\n**\"Sicko Mode\" by Travis Scott:**\n\n**Genre A: Hip-Hop**\n- Rap vocals ✓\n- 808 bass ✓\n- Trap hi-hat rolls ✓\n\n**Genre B: Psychedelic Rock**\n- Distorted guitars ✓\n- Beat switches (progressive rock technique) ✓\n- Reverb-heavy atmosphere ✓\n\n**Genre C: Electronic**\n- Synth leads ✓\n- Filter sweeps ✓\n- Build-drop structure ✓\n\n**Result:** Three genres seamlessly blended. Each section emphasizes different genre elements.\n\n---\n\n**\"Sunflower\" by Post Malone & Swae Lee:**\n\n**Genre A: Pop**\n- Catchy vocal melody ✓\n- Verse-chorus structure ✓\n- Major key (happy vibe) ✓\n\n**Genre B: Hip-Hop**\n- Rap delivery (Post Malone's flow) ✓\n- 808 bass ✓\n- Hi-hat patterns ✓\n\n**Genre C: Indie/Alternative**\n- Organic guitar strumming ✓\n- Laid-back vibe ✓\n- Melodic focus over lyrics ✓\n\n**Result:** Pop accessibility + hip-hop groove + indie authenticity = global hit\n\n---\n\n**\"Bad Guy\" by Billie Eilish:**\n\n**Genre A: Minimal Electronic**\n- Sub-bass synth (only low frequencies) ✓\n- Sparse arrangement (negative space) ✓\n- Programmed beats ✓\n\n**Genre B: Jazz**\n- Walking bass line (chromatic movement) ✓\n- Unconventional song structure ✓\n- Vocal phrasing (conversational, not grid-locked) ✓\n\n**Genre C: Pop**\n- Hook-driven (repeating \"I'm the bad guy, duh\") ✓\n- Radio-friendly length ✓\n- Memorable melody ✓\n\n**Result:** Dark, minimalist, genre-defying hit\n\n---\n\n**The 60/40 Blending Rule:**\n\n**Don't blend genres equally—one should dominate.**\n\n**60% Genre A (Foundation):** Establishes the core identity\n**40% Genre B (Flavor):** Adds uniqueness and freshness\n\n**Example:**\n\n**\"ROCKSTAR\" by Post Malone ft. 21 Savage:**\n- **60% Hip-Hop:** Rap vocals, 808s, trap drums (foundation)\n- **40% Rock:** Distorted guitar loop, rebellious attitude (flavor)\n- **Result:** Hip-hop track with rock edge\n\n**If blended 50/50:**\n- Identity crisis—listeners don't know what they're listening to\n- Neither genre fans fully connect\n\n**Why 60/40 Works:**\n- Clear primary genre (defines the track)\n- Secondary genre adds novelty (makes it interesting)\n- **Result:** \"This is hip-hop... but with a twist\"\n\n---\n\n**Genre Compatibility Matrix:**\n\nSome genres blend naturally, others clash. Choose wisely.\n\n**High Compatibility (Blend Easily):**\n- Pop + Hip-Hop (dominant pairing in modern music)\n- Rock + Electronic (established by Muse, Linkin Park)\n- Jazz + Lo-Fi (natural fit—both use swing, warmth)\n- R&B + Trap (The Weeknd proved this works)\n- House + Pop (Calvin Harris, Dua Lipa)\n\n**Medium Compatibility (Requires Skill):**\n- Country + Hip-Hop (works if done right: \"Old Town Road\")\n- Classical + Electronic (film scores do this often)\n- Funk + EDM (Nu-disco, French house)\n\n**Low Compatibility (Very Difficult):**\n- Death Metal + Classical Piano (rarely works)\n- Speed Metal + Reggae (opposing tempos/energy)\n- Hardcore Punk + Ambient (opposing dynamics/intensity)\n\n**Note:** \"Low compatibility\" doesn't mean impossible—it means you need exceptional skill and vision to make it work.\n\n---\n\n**The Emotional Alignment Principle:**\n\n**Genres blend successfully when they share emotional intent.**\n\n**Works:**\n- **Sad Pop + Emo Rap:** Both express melancholy (Juice WRLD)\n- **Aggressive Rock + Heavy Trap:** Both express power (Rage Against the Machine + trap drums)\n- **Uplifting House + Happy Pop:** Both express joy (dance-pop)\n\n**Doesn't Work:**\n- **Aggressive Death Metal + Chill Lo-Fi:** Opposing emotions (confusion)\n- **Sad Ballad + Party EDM:** Opposing intents (mixed message)\n\n**Rule:** Match the emotional goals of the genres you're blending.\n        `\n      },\n      {\n        title: \"The Four Genre Blending Techniques\",\n        content: `\n**Technique 1: Sectional Blending (Genre Per Section)**\n\n**Definition:** Different sections of the track use different genre elements.\n\n**Structure:**\n\\`\\`\\`\nIntro:   Genre A\nVerse:   Genre A\nChorus:  Genre B\nBridge:  Genre C (optional)\nOutro:   Return to Genre A\n\\`\\`\\`\n\n**Example: Pop/EDM Blend**\n\n**Verse (Pop):**\n- Acoustic guitar strumming\n- Clean vocals (front and center)\n- Live drum feel (or programmed but organic)\n- Major key progressions\n\n**Chorus (EDM):**\n- 4-on-the-floor kick\n- Synth leads (bright, cutting)\n- Build-drop structure\n- Electronic production\n\n**Result:** Verse = intimate and relatable (pop), Chorus = energetic and danceable (EDM)\n\n**Real Example:**\n- **\"Wake Me Up\" by Avicii:** Verse is folk/country (acoustic guitar, soulful vocals), Chorus is EDM (house beat, synth drops)\n\n---\n\n**Why Sectional Blending Works:**\n\n✓ **Clear identity per section** — Listeners know what they're hearing\n✓ **Contrast creates impact** — Verse to chorus feels like a transformation\n✓ **Easy to produce** — Design each section independently\n\n**When to Use:**\n- When genres have opposing energy levels (calm folk + energetic EDM)\n- When you want maximum contrast between sections\n- When blending 3+ genres (assign one per section)\n\n---\n\n**Production Workflow:**\n\n**Step 1: Design Verse in Genre A**\n- Choose Genre A signature elements (e.g., acoustic guitar, organic drums)\n- Produce verse using ONLY Genre A elements\n- Goal: This section should feel 100% Genre A\n\n**Step 2: Design Chorus in Genre B**\n- Choose Genre B signature elements (e.g., synth leads, electronic drums)\n- Produce chorus using ONLY Genre B elements\n- Goal: This section should feel 100% Genre B\n\n**Step 3: Create Transition Between Genres**\n- Use transition techniques from Lesson 17 (filter sweeps, risers)\n- Transition should prepare listeners for the genre shift\n- Example: Buildup with electronic riser (signals EDM chorus approaching)\n\n**Step 4: Add Unifying Elements**\n- One element that appears in BOTH sections (vocal melody, bass line)\n- Creates cohesion despite genre contrast\n- Example: Same vocal melody in both verse and chorus (sung differently)\n\n---\n\n**Technique 2: Simultaneous Blending (Both Genres at Once)**\n\n**Definition:** Multiple genre elements present in the same section simultaneously.\n\n**Example: Hip-Hop + Rock (Simultaneous)**\n\n**Drums:** Trap hi-hats + Live rock drums\n**Bass:** 808 sub-bass (hip-hop) + Distorted bass guitar (rock)\n**Melody:** Rap vocals (hip-hop) + Electric guitar riff (rock)\n**Production:** All elements play at once\n\n**Real Example:**\n- **Linkin Park's entire catalog:** Rap vocals over rock instrumentation (simultaneously)\n- **\"Numb/Encore\" by Jay-Z & Linkin Park:** Rap + rock guitars + live drums all at once\n\n---\n\n**Why Simultaneous Blending Works:**\n\n✓ **Creates unique sonic identity** — Sounds like neither genre alone\n✓ **High novelty factor** — Fresh and unexpected\n✓ **Constant fusion** — Every moment is a blend\n\n**When to Use:**\n- When genres complement each other sonically (hip-hop vocals + rock guitars)\n- When you want a consistent hybrid sound throughout\n- When creating a new subgenre (trap-metal, jazz-hop, etc.)\n\n**Challenges:**\n- **Frequency clashing:** Two genres competing for same frequencies\n- **Rhythmic conflict:** Different groove patterns fighting each other\n- **Identity confusion:** If done poorly, sounds messy\n\n---\n\n**Production Workflow:**\n\n**Step 1: Identify Frequency Zones Per Genre**\n\n**Genre A Elements (Hip-Hop):**\n- 808 bass: 40-80Hz (sub-bass)\n- Trap hi-hats: 8-12kHz (highs)\n- Rap vocals: 200Hz-3kHz (mids)\n\n**Genre B Elements (Rock):**\n- Distorted guitar: 200Hz-4kHz (mids-highs)\n- Live drums: 80-10kHz (full range)\n- Bass guitar: 60-250Hz (bass)\n\n**Frequency Conflict:** Both have elements in 200Hz-3kHz (mids). **Solution:** EQ one to emphasize upper-mids (guitar at 2-4kHz), other to emphasize lower-mids (vocals at 500Hz-1kHz).\n\n**Step 2: Assign Rhythmic Roles**\n\n**Genre A (Hip-Hop) Handles:**\n- Kick pattern (trap-style syncopation)\n- Hi-hat rolls\n- 808 bass hits\n\n**Genre B (Rock) Handles:**\n- Snare pattern (backbeat on 2 and 4)\n- Guitar rhythm (power chords)\n- Bass guitar (follows kick or plays counter-rhythm)\n\n**Avoid:** Both genres trying to define the groove—choose ONE to lead rhythmically.\n\n**Step 3: Layer Carefully**\n\n- Start with Genre A foundation (hip-hop beat)\n- Add Genre B elements ONE AT A TIME (guitar, then bass, then vocals)\n- Test after each addition: Does it enhance or clutter?\n\n**Step 4: Unify with Production**\n\n- Use the same reverb on both genre elements (creates cohesion)\n- Apply subtle distortion to entire mix (glues disparate elements)\n- Master together (loudness and tonal balance unify the blend)\n\n---\n\n**Technique 3: Transitional Blending (Gradual Morph)**\n\n**Definition:** Gradually transition from Genre A to Genre B over time.\n\n**Structure:**\n\\`\\`\\`\nIntro:        100% Genre A\nVerse:        80% Genre A, 20% Genre B\nPre-Chorus:   60% Genre A, 40% Genre B\nChorus:       40% Genre A, 60% Genre B\nBridge:       20% Genre A, 80% Genre B\nFinal Chorus: 100% Genre B\n\\`\\`\\`\n\n**Example: Acoustic Pop → Electronic Pop**\n\n**Intro (100% Acoustic):**\n- Acoustic guitar\n- Hand percussion\n- Organic vocals\n\n**Verse (80% Acoustic, 20% Electronic):**\n- Acoustic guitar (still dominant)\n- + Subtle synth pad (background)\n- + Light electronic hi-hat\n\n**Chorus (40% Acoustic, 60% Electronic):**\n- Acoustic guitar (still present but quieter)\n- + Synth lead (foreground)\n- + Electronic drums (dominant)\n\n**Final Chorus (100% Electronic):**\n- Full electronic production\n- Acoustic guitar removed\n- Synth bass, leads, pads, electronic drums only\n\n**Real Example:**\n- **\"Riptide\" by Vance Joy (Flume Remix):** Gradually transforms from indie-folk to electronic over the course of the track\n\n---\n\n**Why Transitional Blending Works:**\n\n✓ **Smooth evolution** — Listeners don't notice the genre shift\n✓ **Journey feeling** — Track feels like it's going somewhere\n✓ **Accessible** — Starts familiar, ends fresh\n\n**When to Use:**\n- When you want to introduce listeners to a new genre gradually\n- When creating a build from organic to electronic\n- When telling a musical story (e.g., past → future)\n\n---\n\n**Production Workflow:**\n\n**Step 1: Map the Genre Percentage Arc**\n\n\\`\\`\\`\nSection       | Genre A % | Genre B %\n--------------|-----------|----------\nIntro         | 100%      | 0%\nVerse 1       | 80%       | 20%\nChorus 1      | 60%       | 40%\nVerse 2       | 70%       | 30%\nChorus 2      | 50%       | 50%\nBridge        | 30%       | 70%\nFinal Chorus  | 20%       | 80%\nOutro         | 0%        | 100%\n\\`\\`\\`\n\n**Notice:** Not a perfectly linear progression—some sections pull back (Verse 2 more acoustic than Chorus 1). This creates dynamic movement.\n\n**Step 2: Produce Genre A Version (100%)**\n\n- Create the entire track using ONLY Genre A elements\n- This is your \"source material\"\n\n**Step 3: Produce Genre B Version (100%)**\n\n- Create the entire track using ONLY Genre B elements\n- Same structure, different instrumentation/production\n\n**Step 4: Crossfade Between Versions**\n\n- Intro: 100% Genre A version, 0% Genre B\n- Gradually fade out Genre A elements, fade in Genre B elements\n- Use volume automation to control the blend percentage\n\n**Example:**\n- Intro: Acoustic guitar at 0dB, synth at -∞dB\n- Chorus: Acoustic guitar at -6dB, synth at -3dB\n- Outro: Acoustic guitar at -∞dB, synth at 0dB\n\n---\n\n**Technique 4: Element Substitution (Swap One Signature Element)**\n\n**Definition:** Take a genre template, but replace ONE signature element with another genre's element.\n\n**Example: Pop with Hip-Hop Drums**\n\n**Pop Template:**\n- Verse-chorus structure ✓\n- Major key ✓\n- Vocal melody ✓\n- Live drum kit\n\n**Element Substitution:**\n- Replace live drums → Trap-style programmed drums (808s, hi-hat rolls)\n\n**Result:** Still pop (structure, melody, vocals) but with hip-hop groove\n\n**Real Example:**\n- **\"7 Rings\" by Ariana Grande:** Pop melody/structure + Trap production (808s, hi-hat rolls)\n\n---\n\n**Common Element Substitutions:**\n\n**Pop + Hip-Hop:**\n- Swap: Live drums → Trap drums\n- Keep: Song structure, melodies, vocal style\n\n**Rock + Electronic:**\n- Swap: Live drums → Programmed beats\n- Keep: Distorted guitars, aggressive vocals\n\n**Country + Pop:**\n- Swap: Banjo → Electric guitar OR keep banjo but add pop drums\n- Keep: Lyrical themes, vocal delivery\n\n**EDM + Acoustic:**\n- Swap: Synth lead → Acoustic guitar\n- Keep: Build-drop structure, electronic drums\n\n---\n\n**Why Element Substitution Works:**\n\n✓ **Low risk** — Only one element changed (still feels familiar)\n✓ **High impact** — That one element transforms the entire vibe\n✓ **Easy to produce** — Minimal changes to arrangement\n\n**When to Use:**\n- When you want subtle genre fusion (not full hybrid)\n- When introducing your genre to a new audience (gateway drug approach)\n- When you want a \"modern\" version of a classic genre (e.g., pop with trap drums)\n\n---\n\n**Production Workflow:**\n\n**Step 1: Identify the Genre You're Starting With**\n\n- Example: Pop song (verse-chorus, catchy melody, major key)\n\n**Step 2: Choose ONE Element to Substitute**\n\n- Options: Drums, bass, lead instrument, vocal delivery, production style\n- **Best choice:** Drums or bass (most impactful change)\n\n**Step 3: Replace with Target Genre's Signature Element**\n\n- Remove: Pop live drums\n- Add: Trap programmed drums (808 kick, trap hi-hats, snare)\n\n**Step 4: Adjust Other Elements to Support the Change**\n\n- If drums are now trap-style, bass might need to be more sub-heavy\n- Vocal delivery might adopt slight rhythmic phrasing from hip-hop\n- Production might add some trap-style effects (hi-hat rolls, 808 slides)\n\n**Step 5: Test Genre Balance**\n\n- Does it still feel primarily like the original genre? (Yes = success)\n- Does the substituted element add freshness? (Yes = success)\n- If it feels 50/50, you've substituted too much—scale back\n\n---\n\n**Combining Blending Techniques:**\n\n**Don't limit yourself to one technique—use multiple across the track.**\n\n**Example: Full Track Using All Four Techniques**\n\n**Intro: Transitional Blending**\n- Start 100% acoustic, gradually introduce electronic elements\n\n**Verse: Element Substitution**\n- Folk song structure, but with trap drums instead of acoustic drums\n\n**Chorus: Simultaneous Blending**\n- Acoustic guitar + Synth leads + Trap drums + Pop vocals (all at once)\n\n**Bridge: Sectional Blending**\n- Complete genre switch to pure electronic (EDM breakdown)\n\n**Final Chorus: All Techniques Combined**\n- Return to simultaneous blend, but with full transitional evolution\n\n**Result:** Dynamic, evolving, genre-defying track that keeps listeners engaged.\n        `\n      },\n      {\n        title: \"Practical Genre Blending Workflow\",\n        content: `\n**Step-by-Step: Creating a Genre-Blended Track**\n\n---\n\n**Step 1: Choose Your Genres (2-3 Maximum)**\n\n**Too Few (1 genre):** Safe, but not innovative\n**Just Right (2-3 genres):** Fresh, cohesive\n**Too Many (4+ genres):** Confusing, identity crisis\n\n**Selection Criteria:**\n\n✓ **Emotional alignment:** Do they share similar moods?\n✓ **Audience overlap:** Do fans of Genre A also listen to Genre B?\n✓ **Sonic compatibility:** Can their signature elements coexist?\n\n**Example Combinations:**\n\n**Pop + Trap:**\n- Emotional alignment: Both upbeat, modern\n- Audience overlap: Gen Z/millennials listen to both\n- Sonic compatibility: Pop melodies + trap drums = proven formula\n\n**Jazz + Lo-Fi:**\n- Emotional alignment: Both laid-back, introspective\n- Audience overlap: Study music playlists feature both\n- Sonic compatibility: Jazz chords + lo-fi beats = natural fit\n\n**Rock + Electronic:**\n- Emotional alignment: Both high-energy\n- Audience overlap: Alternative music fans\n- Sonic compatibility: Distorted guitars + synth bass = established fusion\n\n---\n\n**Step 2: Identify Signature Elements from Each Genre**\n\n**Genre A Signature Elements:**\n1. _________________\n2. _________________\n3. _________________\n\n**Genre B Signature Elements:**\n1. _________________\n2. _________________\n3. _________________\n\n**Example: Pop + Trap**\n\n**Pop Signature Elements:**\n1. Catchy vocal melody (hook-focused)\n2. Verse-chorus structure (radio-friendly)\n3. Major key (uplifting, accessible)\n\n**Trap Signature Elements:**\n1. 808 bass (sub-heavy, percussive)\n2. Hi-hat rolls (triplet rolls, 32nd notes)\n3. Sparse arrangement (negative space, minimal)\n\n---\n\n**Step 3: Decide Which Elements to Use**\n\n**Don't use ALL signature elements—cherry-pick the best.**\n\n**From Pop, Take:**\n- ✓ Catchy vocal melody (essential for accessibility)\n- ✓ Verse-chorus structure (familiar structure)\n- ✗ Major key (skip this—trap often uses minor/modal)\n\n**From Trap, Take:**\n- ✓ 808 bass (modern, impactful)\n- ✓ Hi-hat rolls (signature trap flavor)\n- ✗ Sparse arrangement (skip—pop needs fuller arrangements)\n\n**Result:** Pop melody + structure, Trap drums + bass = modern pop-trap hybrid\n\n---\n\n**Step 4: Choose Your Blending Technique**\n\n**Based on your vision, select:**\n\n**Technique 1: Sectional Blending**\n- Best for: Maximum genre contrast (e.g., folk verse → EDM chorus)\n- Example: \"Wake Me Up\" by Avicii\n\n**Technique 2: Simultaneous Blending**\n- Best for: Creating a new hybrid sound (e.g., rap over rock guitars)\n- Example: Linkin Park\n\n**Technique 3: Transitional Blending**\n- Best for: Evolving journey from one genre to another\n- Example: Acoustic intro → Electronic outro\n\n**Technique 4: Element Substitution**\n- Best for: Subtle modernization (e.g., pop with trap drums)\n- Example: \"7 Rings\" by Ariana Grande\n\n**Most professional tracks use a combination of techniques.**\n\n---\n\n**Step 5: Produce the Foundation Genre (60% Component)**\n\n**Start with your PRIMARY genre—the one that will define the track.**\n\n**Example: Pop + Trap (Pop is primary)**\n\n**Produce Pop Foundation:**\n1. Create verse-chorus structure\n2. Write catchy vocal melody (hook)\n3. Add basic chord progression (piano or guitar)\n4. Record lead vocal\n5. Add basic pop drum pattern (or placeholder drums)\n\n**At this stage:** Track sounds 100% pop (nothing trap yet)\n\n**Test:** Play it for someone. They should say \"This is a pop song.\"\n\n---\n\n**Step 6: Layer in Secondary Genre Elements (40% Component)**\n\n**Now add signature elements from your SECONDARY genre.**\n\n**Example: Adding Trap Elements to Pop Foundation**\n\n**Step 6a: Replace Drums**\n- Remove pop drum pattern\n- Add trap-style drums:\n  - 808 kick (sub-heavy, tuned to song key)\n  - Trap hi-hats (16th notes, with occasional rolls)\n  - Snare (on 3, with ghost notes)\n\n**Step 6b: Add 808 Bass**\n- Sub-bass (40-80Hz)\n- Follows kick pattern (or plays counter-rhythm)\n- Add 808 slides (pitch bends between notes)\n\n**Step 6c: Simplify Arrangement**\n- Remove some pop elements (strings, extra guitars)\n- Create negative space (trap signature = minimal)\n- Keep verse sparse, chorus fuller\n\n**Step 6d: Add Hi-Hat Rolls**\n- Before snare hits (builds anticipation)\n- Before section changes (transition technique)\n- Triplet rolls (signature trap timing)\n\n**Result:** Pop song (structure, melody, vocals) with trap production (drums, bass, vibe)\n\n---\n\n**Step 7: Create Frequency Separation (Prevent Clashing)**\n\n**Common Problem:** Two genres fighting for the same frequency space.\n\n**Solution: Assign Frequency Zones**\n\n**Genre A (Pop) Owns:**\n- Mids (vocals, melody): 500Hz-4kHz\n- Highs (bright elements): 8kHz+\n\n**Genre B (Trap) Owns:**\n- Sub-bass (808): 40-80Hz\n- Low-bass (kick body): 80-200Hz\n- Hi-hats (air): 10kHz+\n\n**EQ Strategy:**\n\n**Pop Vocals:**\n- High-pass at 100Hz (remove lows)\n- Boost at 3kHz (presence)\n- Result: Lives in mids, doesn't clash with 808\n\n**Trap 808:**\n- Low-pass at 200Hz (remove highs)\n- Boost at 60Hz (sub weight)\n- Result: Lives in lows, doesn't clash with vocals\n\n**Pop Guitar:**\n- High-pass at 200Hz\n- Cut at 300-500Hz (remove mud)\n- Result: Lives in upper-mids/highs\n\n**Trap Hi-Hats:**\n- High-pass at 8kHz (only air frequencies)\n- Result: Lives in extreme highs, adds texture without clashing\n\n**If frequency zones are separated:** Both genres can coexist without muddiness.\n\n---\n\n**Step 8: Unify with Production Techniques**\n\n**Even if genres are different, production can unify them.**\n\n**Technique A: Same Reverb on Everything**\n- Choose ONE reverb (e.g., plate reverb)\n- Apply to vocals, guitars, synths, drums (different amounts)\n- **Result:** All elements sound like they're in the same \"space\"\n\n**Technique B: Parallel Processing**\n- Send all elements to a parallel compression bus\n- **Result:** Glues disparate elements together\n\n**Technique C: Subtle Distortion on Master**\n- Light saturation or tape emulation\n- **Result:** Adds harmonic glue, makes everything feel cohesive\n\n**Technique D: Consistent Stereo Width**\n- Genre A elements: 50% width\n- Genre B elements: 50% width\n- **Result:** Balanced, unified stereo field\n\n---\n\n**Step 9: Test the Blend**\n\n**Checklist:**\n\n✓ **Can you identify both genres?** (If not, blend isn't clear)\n✓ **Does one genre dominate (60/40 rule)?** (If 50/50, identity crisis)\n✓ **Do elements clash or complement?** (Frequency/rhythm conflicts?)\n✓ **Does it sound cohesive or random?** (Unified or confused?)\n✓ **Would fans of both genres enjoy it?** (Accessible to both audiences?)\n\n**If any answer is \"no,\" adjust.**\n\n---\n\n**Step 10: Add Genre-Specific Details (Final Polish)**\n\n**Trap Details:**\n- Add occasional hi-hat rolls before snares\n- 808 slide (pitch glide) on some bass notes\n- Snare delay/echo (trap signature)\n\n**Pop Details:**\n- Vocal doubles (depth and width)\n- Bright background vocals (\"ooh\" and \"ahh\")\n- Polished, clean production (no lo-fi grit)\n\n**Rock Details (if blending rock):**\n- Guitar feedback or noise\n- Dynamic contrast (quiet-loud-quiet)\n- Live drum feel (slight timing imperfections)\n\n**EDM Details (if blending EDM):**\n- Risers and impacts\n- Sidechain compression (pumping effect)\n- Buildup-drop structure\n\n**These small details authenticate each genre's presence.**\n\n---\n\n**Common Genre Blending Mistakes (And Fixes):**\n\n**❌ Mistake: \"My blend sounds like two separate songs awkwardly stitched together\"**\n\n**✓ Fix:**\n- Use transitional blending (gradual morph) instead of sectional blending\n- Add unifying elements (same vocal melody in both sections)\n- Smooth transitions using Lesson 17 techniques\n\n---\n\n**❌ Mistake: \"You can't tell which genres I'm blending—it just sounds generic\"**\n\n**✓ Fix:**\n- Emphasize signature elements more clearly\n- Don't dilute—make trap drums OBVIOUSLY trap, make pop melodies OBVIOUSLY pop\n- 60/40 rule: Let one genre dominate\n\n---\n\n**❌ Mistake: \"The genres clash and sound messy\"**\n\n**✓ Fix:**\n- Frequency separation (assign genres to different frequency zones)\n- Rhythmic alignment (make sure grooves complement, not compete)\n- Choose compatible genres (check compatibility matrix)\n\n---\n\n**❌ Mistake: \"Fans of Genre A hate it because of Genre B elements (and vice versa)\"**\n\n**✓ Fix:**\n- You're blending incompatible genres (emotional misalignment)\n- OR: You're offending genre purists (embrace this—innovation always faces resistance)\n- Target audience: People who like BOTH genres, not purists\n\n---\n\n**Genre Blending Templates (Copy These):**\n\n**Template 1: Pop + Trap**\n- Structure: Verse-chorus (pop)\n- Melody: Catchy hook (pop)\n- Drums: 808s, trap hi-hats (trap)\n- Bass: Sub-heavy 808 (trap)\n- **Result:** Modern pop hit\n\n**Template 2: Rock + Electronic**\n- Structure: Verse-chorus-bridge (rock)\n- Guitars: Distorted, power chords (rock)\n- Drums: Programmed, electronic (electronic)\n- Synths: Pads and leads (electronic)\n- **Result:** Alternative electronic rock\n\n**Template 3: Jazz + Lo-Fi**\n- Chords: 7th, 9th, complex jazz chords (jazz)\n- Drums: Dusty, swung, vinyl crackle (lo-fi)\n- Bass: Walking bass or simple root notes (jazz)\n- Production: Lo-fi aesthetic, tape saturation (lo-fi)\n- **Result:** Chill study beats\n\n**Template 4: Country + Hip-Hop**\n- Vocals: Country twang and delivery (country)\n- Melody: Banjo or acoustic guitar riff (country)\n- Drums: Trap-style 808s and hi-hats (hip-hop)\n- Flow: Rap verses or country-rap hybrid (both)\n- **Result:** Country trap (Lil Nas X style)\n\n---\n\n**Advanced: Creating a New Subgenre**\n\n**If you blend genres consistently and distinctively, you create a NEW subgenre.**\n\n**Historical Examples:**\n\n**Reggaeton = Reggae + Hip-Hop + Latin**\n- Reggae: Offbeat rhythm (dembow pattern)\n- Hip-Hop: Rap vocals, urban production\n- Latin: Spanish lyrics, Latin percussion\n- **Result:** Entirely new genre (now mainstream)\n\n**Trap-Metal = Trap + Metal**\n- Trap: 808s, hi-hat rolls\n- Metal: Screaming vocals, distorted guitars\n- **Result:** New underground genre (Scarlxrd, Ghostemane)\n\n**Future Bass = EDM + R&B + Trap**\n- EDM: Synth leads, build-drop structure\n- R&B: Soulful vocals, melodic focus\n- Trap: Hi-hat rolls, 808 bass\n- **Result:** New EDM subgenre (Flume, Illenium)\n\n**Your goal:** Blend so consistently that your fusion becomes your signature sound.\n\n---\n\n**Final Checklist Before Releasing:**\n\n✓ **Both/all genres clearly identifiable**\n✓ **One genre dominates (60/40 or 70/30)**\n✓ **Signature elements from each genre present**\n✓ **Frequency separation prevents muddiness**\n✓ **Unified production (reverb, compression, saturation)**\n✓ **Smooth transitions between genre sections**\n✓ **Emotional alignment across all genre elements**\n✓ **Tested on fans of both genres (positive response)**\n\n**If all checked:** You've successfully created a professional genre blend.\n\n---\n\n**What's Next:**\n\nIn Lesson 19, you'll learn **arranging for the mix**—how to create arrangements designed for easy mixing. Genre blends require extra attention to frequency separation, which makes Lesson 19's mix-ready principles essential.\n        `\n      }\n    ]\n  }\n};\n\nif (typeof window !== 'undefined') window.LESSON_CONFIG = lessonConfig;\n",
    "number": 18,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "arrangement-17",
      "arrangement-16"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Genre Blending:",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-18",
    "filename": "lesson-bass-18.config.js",
    "title": "Bass EQ & Frequency Management:",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 18 - Bass EQ & Frequency Management\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-18-progress\",\n  lessonNumber: 18,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-19.html\",\n  prevLessonUrl: \"lesson-bass-17.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 18, categoryLabel: \"Bass & Low End\" }),\n    title: \"Bass EQ & Frequency Management:\",\n    titleHighlight: \"Bass EQ & Frequency Management\",\n    subtitle: \"Carve perfect bass frequencies with EQ. Remove mud, boost clarity, and manage the sub-to-mid relationship professionally. Learn professional techniques used in industry-standard productions.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    bars: 2,\n    noteRange: { min: 36, max: 60 },\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Complete the Bass Exercise\",\n    description: \"Carve perfect bass frequencies with EQ. Remove mud, boost clarity, and manage the sub-to-mid relationship professionally. This lesson covers professional techniques for Bass EQ & Frequency Management.\",\n    tip: \"Focus on the foundational elements and build complexity gradually. Listen critically to how each technique affects the overall bass sound.\",\n    steps: [\n      '<strong>Step 1</strong> — Study the theory sections to understand the concepts.',\n      '<strong>Step 2</strong> — Analyze the target pattern and identify key characteristics.',\n      '<strong>Step 3</strong> — Program the bass pattern following the guidelines.',\n      '<strong>Step 4</strong> — Listen critically and compare to reference tracks.',\n      '<strong>Step 5</strong> — Experiment with variations while maintaining the core technique.',\n      'Check when ready to validate your work.'\n    ]\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Core Concepts',\n        content: `This lesson explores Bass EQ & Frequency Management with focus on professional production techniques.\n\n**Key Learning Points:**\n- Understanding the characteristic sound and feel\n- Rhythm and timing considerations\n- Frequency management and sonic characteristics\n- Genre-specific applications\n- Professional mixing and processing techniques\n\nMaster these concepts to create bass that sits perfectly in any mix and serves the song effectively.`\n      },\n      {\n        title: 'Professional Application',\n        content: `Apply Bass EQ & Frequency Management techniques in your productions:\n\n**Production Workflow:**\n1. Start with a clear sonic goal\n2. Choose appropriate synthesis or sample method\n3. Program the rhythm with intention\n4. Process for clarity and power\n5. Mix in context with other elements\n\n**Common Use Cases:**\n- Genre-specific productions\n- Creative sound design\n- Professional mixing scenarios\n- Live performance considerations\n\nStudy reference tracks to hear these techniques in action.`\n      }\n    ]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [\n      { pitch: 40, step: 0, duration: 2, velocity: 100 },\n      { pitch: 47, step: 2, duration: 2, velocity: 90 },\n      { pitch: 40, step: 4, duration: 2, velocity: 95 },\n      { pitch: 43, step: 6, duration: 2, velocity: 85 }\n    ],\n    highlightScale: [40, 42, 43, 45, 47, 48, 50, 52],\n    showChordDetection: false,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master Bass EQ & Frequency Management techniques and concepts\",\n    \"Apply professional production workflows\",\n    \"Understand genre-specific bass characteristics\",\n    \"Develop critical listening skills for bass\",\n    \"Create industry-standard bass productions\"\n  ],\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete the bass exercise to master this technique.\",\n    success: \"Excellent! You've mastered Bass EQ & Frequency Management. Professional-level skills!\",\n    error: \"Review the theory and target pattern. Pay attention to the key characteristics.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these professional techniques!\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 18,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "bass-17",
      "bass-16"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Bass EQ & Frequency Management:",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-18",
    "filename": "lesson-drums-18.config.js",
    "title": "Swing & Shuffle",
    "category": "Drums & Rhythm",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-drums-18-progress\",\n  lessonNumber: 18,\n  lessonCategory: \"Drums & Rhythm\",\n  depthLevel: 8,\n  nextLessonUrl: \"lesson-drums-19.html\",\n  prevLessonUrl: \"lesson-drums-17.html\",\n  overviewUrl: \"labs.html\",\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-drums-18\", categoryLabel: \"Drums & Rhythm\" }),\n    title: \"Swing & Shuffle\",\n    titleHighlight: \"Variations\",\n    subtitle: \"Go beyond basic swing. Master <strong>triplet-based shuffles</strong>, <strong>half-time shuffle</strong>, and <strong>swing percentages</strong> for different genres. Understand the difference between <strong>binary (straight)</strong> and <strong>ternary (triplet)</strong> groove feels.\"\n  },\n  sequencer: { tempo: 88, stepCount: 12, swing: 0, showBeatMarkers: true, showStepNumbers: true, autoSaveState: true, enableVelocity: true, requiredTempo: 88 },\n  exercise: {\n    title: \"Build Triplet Shuffle Pattern\",\n    description: \"Create a <strong>12-step triplet shuffle</strong> using 12 steps (4 beats × 3 = 12 triplets). This is the foundation of blues, jazz, and shuffle rock.\",\n    tip: \"In 12-step mode, each beat has 3 subdivisions. Play on beats 1 and 3 of each triplet to get the classic shuffle 'long-short' feel!\",\n    steps: [\n      { text: \"<strong>Set tempo to 88 BPM</strong>.\" },\n      { text: \"<strong>Kick:</strong> Steps 1, 7 (downbeats).\" },\n      { text: \"<strong>Snare:</strong> Steps 4, 10 (backbeats).\" },\n      { text: \"<strong>Hi-Hat:</strong> Steps 1, 3, 4, 6, 7, 9, 10, 12 (shuffle pattern: long-short-long-short).\" },\n      { text: \"<strong>Listen:</strong> The uneven spacing creates the shuffle groove.\" }\n    ]\n  },\n  instruments: [\n    { id: \"kick\", label: \"Kick\", color: \"linear-gradient(135deg, #e17055, #d63031)\", targetSteps: [0, 6], instructionText: \"Kick on 1 and 7.\", patternHint: { enabled: true } },\n    { id: \"snare\", label: \"Snare\", color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\", targetSteps: [3, 9], instructionText: \"Snare backbeat.\", patternHint: { enabled: true } },\n    { id: \"hihat\", label: \"Hi-Hat\", color: \"linear-gradient(135deg, #00cec9, #0984e3)\", targetSteps: [0, 2, 3, 5, 6, 8, 9, 11], instructionText: \"Shuffle hi-hat pattern.\", patternHint: { enabled: true } }\n  ],\n  theory: { sections: [{ title: \"Swing vs Shuffle\", content: \"**Swing:** Delays 8th notes slightly (50-75% triplet feel). **Shuffle:** Full triplet-based rhythm (100% triplet). **Half-time shuffle:** Shuffle pattern at half tempo (Rosanna, Fool in the Rain). **Percentage:** 0% = straight, 50% = full triplet, 25% = subtle swing.\" }] },\n  learningObjectives: [\"Program triplet-based shuffle patterns\", \"Understand swing percentages\", \"Create half-time shuffle grooves\", \"Differentiate binary vs ternary feels\", \"Apply swing to different genres\"],\n  validation: applyMessagePreset(\"drumSequencer\", \"correct-placement\")\n};\n",
    "number": 18,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "drums-17",
      "drums-16"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Swing & Shuffle",
      "Prepararsi alla lezione successiva del modulo Drums & Rhythm"
    ]
  },
  {
    "slug": "harmony-18",
    "filename": "lesson-harmony-18.config.js",
    "title": "Cinematic Lift:",
    "category": "Advanced Techniques",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 18 - Cinematic Lift: Pedal Tone + Chord Changes\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-18-progress\",\n  lessonNumber: 18,\n  lessonCategory: \"Advanced Techniques\",\n\n  nextLessonUrl: \"lesson-harmony-19.html\",\n  prevLessonUrl: \"lesson-harmony-17.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 18, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Cinematic Lift:\",\n    titleHighlight: \"Pedal Tone + Chord Changes\",\n    subtitle: \"Create film-style emotion by holding one note (pedal tone) while chords shift above or below it. You'll learn how sustained bass notes or high drones create tension, atmosphere, and epic builds. This is the sound of Hans Zimmer, Inception, and ambient scoring.\"\n  },\n\n  sequencer: {\n    tempo: 75,\n    key: \"C\",\n    scale: \"Major\",\n    stepCount: 64,\n    bars: 4,\n    pitchRange: {\n      low: 36,\n      high: 84\n    }\n  },\n\n  exercise: {\n    title: \"Build a Pedal Tone Progression\",\n    description: \"Hold a <strong>C bass note pedal</strong> (sustained throughout all 4 bars) while chords change above it: <strong>C/C → F/C → Am/C → G/C</strong>. The unchanging bass creates a drone effect while harmony shifts above - generating tension and release.\",\n    tip: \"A pedal tone (or pedal point) is a sustained note that continues while chords change. Usually in the bass (tonic pedal) or top voice (drone). It creates tension when the changing chords clash with the pedal, and release when they align. Film composers use this for emotional builds and atmosphere!\",\n    steps: [\n      { text: \"Low bass: Hold <strong>C (C2)</strong> for all 4 bars - this is the pedal tone\" },\n      { text: \"Bar 1: <strong>C major</strong> (C-E-G) above the pedal - consonant\" },\n      { text: \"Bar 2: <strong>F major</strong> (F-A-C) above the pedal - slight tension\" },\n      { text: \"Bar 3: <strong>Am</strong> (A-C-E) above the pedal - dissonant, emotional\" },\n      { text: \"Bar 4: <strong>G major</strong> (G-B-D) above the pedal - tension resolving\" },\n      { text: \"Listen for how the sustained C creates atmosphere and the chords create motion\" }\n    ]\n  },\n\n  validation: {\n    type: \"pedal_tone_progression\",\n    pedalTone: {\n      pitch: 48,  // C2\n      sustainedThroughout: true,\n      minDuration: 64  // All 4 bars\n    },\n    requiredChords: [\n      { time: 0, pitches: [60, 64, 67], chordName: \"C\", overPedal: true },\n      { time: 16, pitches: [65, 69, 72], chordName: \"F\", overPedal: true },\n      { time: 32, pitches: [69, 72, 76], chordName: \"Am\", overPedal: true },\n      { time: 48, pitches: [67, 71, 74], chordName: \"G\", overPedal: true }\n    ],\n    checkPedalContinuity: true\n  },\n\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Hold C bass pedal (C2) throughout. Play C → F → Am → G chords above it. The sustained bass creates cinematic atmosphere!\",\n    success: \"Brilliant! You've mastered pedal tones - the secret to cinematic builds and ambient atmosphere. Notice how the unchanging bass creates tension as chords shift!\",\n    error: \"Hold C (low C2) for all 4 bars. Above it: Bar 1 = C major (C-E-G), Bar 2 = F (F-A-C), Bar 3 = Am (A-C-E), Bar 4 = G (G-B-D).\"\n  }),\n\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 18,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "harmony-17",
      "harmony-16"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Cinematic Lift:",
      "Prepararsi alla lezione successiva del modulo Advanced Techniques"
    ]
  },
  {
    "slug": "mixing-18",
    "filename": "lesson-mixing-18.config.js",
    "title": "Mixing for",
    "category": "Mixing",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-18-progress\",\n  lessonNumber: 18,\n  lessonCategory: \"Mixing\",\n  depthLevel: 9,\n  \n  nextLessonUrl: \"lesson-mixing-19.html\",\n  prevLessonUrl: \"lesson-mixing-17.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-mixing-18\", categoryLabel: \"Mixing\" }),\n    title: \"Mixing for\",\n    titleHighlight: \"Streaming Platforms\",\n    subtitle: \"Optimize your mixes for <strong>Spotify, Apple Music, YouTube</strong> and other streaming services. Master loudness normalization (-14 LUFS), format-specific techniques, and how to make your music sound great on every platform.\"\n  },\n  \n  sequencer: {\n    tempo: 130,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true,\n    requiredTempo: 130\n  },\n  \n  exercise: {\n    title: \"Balance for Streaming Loudness\",\n    description: \"Create a <strong>balanced pattern with healthy dynamics</strong> that demonstrates streaming-ready mixing. Use velocity variations to simulate dynamic range that survives loudness normalization without sounding squashed.\",\n    tip: \"Streaming platforms normalize to -14 LUFS. Over-compressed mixes get turned DOWN, losing impact. Dynamic mixes maintain punch and keep listener engaged.\",\n    steps: [\n      { text: \"<strong>Set tempo to 130 BPM</strong> for an upbeat, dance-friendly groove.\" },\n      { text: \"<strong>Program loud kick</strong> on steps 1, 5, 9, 13 with velocity 110-120 for impact.\" },\n      { text: \"<strong>Add varied snare</strong> on steps 5, 13 with velocity range 90-110 for dynamics.\" },\n      { text: \"<strong>Layer soft hi-hats</strong> on all 16 steps with velocity 50-70 for groove.\" },\n      { text: \"<strong>Add dynamic clap</strong> on steps 3, 7, 11, 15 with velocity 70-100 for variation.\" },\n      { text: \"<strong>Listen</strong> to natural dynamics that translate well to streaming normalization.\" }\n    ]\n  },\n  \n  instruments: [\n    {\n      id: \"loud-kick\",\n      label: \"Loud Kick\",\n      color: \"linear-gradient(135deg, #e17055, #d63031)\",\n      targetSteps: [0, 4, 8, 12],\n      oscillator: { type: \"sine\", detune: 0 },\n      envelope: { attack: 0.001, decay: 0.15, sustain: 0, release: 0.05 },\n      filter: { type: \"lowpass\", frequency: 120, Q: 2.0 }\n    },\n    {\n      id: \"dynamic-snare\",\n      label: \"Dynamic Snare\",\n      color: \"linear-gradient(135deg, #74b9ff, #0984e3)\",\n      targetSteps: [4, 12],\n      oscillator: { type: \"noise\", detune: 0 },\n      envelope: { attack: 0.001, decay: 0.12, sustain: 0, release: 0.05 },\n      filter: { type: \"highpass\", frequency: 300, Q: 1.0 }\n    },\n    {\n      id: \"soft-hihat\",\n      label: \"Soft Hi-Hat\",\n      color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\",\n      targetSteps: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],\n      oscillator: { type: \"noise\", detune: 0 },\n      envelope: { attack: 0.001, decay: 0.05, sustain: 0, release: 0.02 },\n      filter: { type: \"highpass\", frequency: 8000, Q: 1.0 }\n    },\n    {\n      id: \"dynamic-clap\",\n      label: \"Dynamic Clap\",\n      color: \"linear-gradient(135deg, #a29bfe, #6c5ce7)\",\n      targetSteps: [2, 6, 10, 14],\n      oscillator: { type: \"noise\", detune: 0 },\n      envelope: { attack: 0.005, decay: 0.15, sustain: 0, release: 0.08 },\n      filter: { type: \"bandpass\", frequency: 1500, Q: 2.0 }\n    }\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Understanding Loudness Normalization',\n        content: `**The Loudness Wars Are Over:**\nBefore streaming, engineers competed for the loudest CD. Heavy limiting and compression made tracks louder but lifeless. Streaming platforms ended this with **loudness normalization**.\n\n**What Is Loudness Normalization?**\nStreaming services automatically adjust playback volume so all tracks play at a consistent perceived loudness level, regardless of how loud the master was.\n\n**Normalization Targets (as of 2026):**\n- **Spotify:** -14 LUFS (Loudness Units Full Scale)\n- **Apple Music:** -16 LUFS\n- **YouTube:** -13 to -15 LUFS\n- **Tidal:** -14 LUFS\n- **Amazon Music:** -14 LUFS\n- **Deezer:** -14 to -16 LUFS\n\n**What This Means:**\n- If your track is **louder** than -14 LUFS: Platform turns it DOWN\n- If your track is **quieter** than -14 LUFS: Platform turns it UP (or leaves it)\n- **Loudest ≠ Best anymore**\n\n**The New Goal:**\nInstead of maximum loudness, aim for **maximum IMPACT and DYNAMICS** within -14 LUFS range.\n\n**LUFS Explained:**\n**LUFS** = Loudness Units relative to Full Scale\n- Measures **perceived loudness** (how loud it feels), not just peak level\n- Takes into account human hearing (mid frequencies sound louder than lows/highs)\n- More accurate than RMS or peak meters\n\n**Integrated LUFS:**\nAverage loudness across the entire track (this is what streaming platforms measure)\n\n**Recommended LUFS Targets:**\n- **Pop/EDM:** -8 to -10 LUFS (dynamic, impactful)\n- **Hip-Hop:** -8 to -12 LUFS (punchy, dynamic)\n- **Rock/Metal:** -7 to -9 LUFS (powerful, aggressive)\n- **Indie/Folk:** -10 to -14 LUFS (natural, dynamic)\n- **Classical/Jazz:** -12 to -18 LUFS (huge dynamic range)\n\n**Why Not Mix to Exactly -14 LUFS?**\nMix with dynamics (-8 to -10 LUFS), let mastering engineer bring it to final loudness. This preserves impact while meeting platform requirements.`\n      },\n      {\n        title: 'Platform-Specific Optimization',\n        content: `**Spotify:**\n- **Normalization:** -14 LUFS\n- **User control:** \"Loud\" mode (no normalization), \"Normal\" mode (-14 LUFS), \"Quiet\" mode (-23 LUFS)\n- **Codec:** Ogg Vorbis (Free: 160 kbps, Premium: 320 kbps)\n- **Strategy:** \n  - Aim for -9 to -11 LUFS integrated\n  - Preserve dynamics (DR8-10 or higher)\n  - True Peak: -1 dBTP (prevents inter-sample clipping)\n  - Most users on \"Normal\" mode (gets normalized)\n\n**Apple Music:**\n- **Normalization:** -16 LUFS\n- **User control:** \"Sound Check\" on/off\n- **Codec:** AAC 256 kbps (very high quality)\n- **Soundcheck:** If enabled, normalizes to -16 LUFS\n- **Strategy:**\n  - Aim for -10 to -12 LUFS integrated\n  - Slightly more dynamic than Spotify\n  - True Peak: -1 dBTP\n  - AAC encoding is forgiving (better high-end preservation)\n\n**YouTube:**\n- **Normalization:** -13 to -15 LUFS (varies)\n- **User control:** None (always normalized)\n- **Codec:** Opus/AAC 128-256 kbps\n- **Video matters:** Engaging thumbnail/video keeps people watching\n- **Strategy:**\n  - Aim for -11 to -13 LUFS integrated\n  - Maximize impact in first 10 seconds (hook listeners)\n  - Consider vocal clarity (viewers often on phone speakers/earbuds)\n  - True Peak: -1 dBTP\n\n**Tidal:**\n- **Normalization:** -14 LUFS\n- **User control:** Loudness normalization on/off\n- **Codec:** HiFi: 1411 kbps FLAC, HiFi Plus: MQA\n- **Audience:** Audiophiles with good gear\n- **Strategy:**\n  - Aim for -10 to -12 LUFS integrated\n  - Focus on dynamics and detail (DR10+ ideal)\n  - High-quality masters matter here\n  - True Peak: -1 dBTP\n\n**SoundCloud:**\n- **Normalization:** None (yet)\n- **Codec:** 128 kbps MP3 (free), 256 kbps AAC (Go+)\n- **Strategy:**\n  - Can push loudness slightly (but don't overdo it)\n  - -8 to -10 LUFS integrated works well\n  - True Peak: -0.5 dBTP (slight headroom for codec)\n\n**True Peak Explained:**\nDigital-to-analog conversion can create peaks **between samples** that exceed 0 dBFS, causing distortion. **True Peak limiting** prevents this.\n\n**Set True Peak to -1 dBTP** (or -2 dBTP for safety) to avoid inter-sample clipping on all platforms.`\n      },\n      {\n        title: 'Mixing for Dynamics & Impact',\n        content: `**The Loudness Paradox:**\nLouder ≠ Better on streaming. In fact, **over-limited mixes lose impact** when turned down.\n\n**Why Dynamics Win:**\n- **Contrast creates excitement:** Quiet-to-loud builds tension\n- **Transients hit harder:** Uncompressed kick/snare have more punch\n- **Less fatigue:** Dynamic mixes keep listeners engaged longer\n- **Algorithms favor engagement:** Spotify/YouTube promote songs people finish listening to\n\n**How to Mix for Impact (Not Loudness):**\n\n**1. Preserve Transients:**\n- Use compression with slower attack (10-30ms) to let drum transients through\n- Limit total gain reduction to 3-6dB per compressor\n- Use parallel compression for power without squashing\n\n**2. Create Dynamic Contrast:**\n- **Verse:** Sparser arrangement, lower levels, less compression\n- **Pre-Chorus:** Build with layers, slight volume increase\n- **Chorus:** Full arrangement, maximum energy, but NOT maximum limiting\n- **Bridge:** Strip back, create tension\n- **Final Chorus:** Peak energy (automation, not over-limiting)\n\n**3. Use EQ for Clarity (Not Loudness):**\n- Carve space for each element\n- High-pass everything that doesn't need low end\n- Boost presence/air (3-5 kHz, 10-12 kHz) for perceived loudness without actual loudness\n\n**4. Strategic Saturation:**\n- Add harmonic richness with subtle saturation\n- Makes tracks feel fuller and louder without raising LUFS\n- Use tape saturation, tube saturation, or analog emulation\n\n**5. Arrangement for Impact:**\n- Don't have everything playing all the time\n- Leave space—silence is powerful\n- Automate elements in/out for dynamic movement\n\n**6. Reference Tracks:**\nUse professional tracks in your genre as reference:\n- Match their LUFS range (-8 to -12 LUFS typically)\n- Compare dynamics (use a dynamic range meter)\n- Notice their use of space and arrangement\n\n**Dynamic Range (DR) Meter:**\nMeasures the difference between loudest and quietest parts:\n- **DR4-6:** Very compressed (avoid unless intentional)\n- **DR7-9:** Modern pop/EDM sweet spot\n- **DR10-12:** Dynamic, impactful rock/indie\n- **DR13+:** Highly dynamic classical/jazz\n\n**Tools:**\n- **Youlean Loudness Meter** (free LUFS meter)\n- **iZotope Insight 2** (professional metering suite)\n- **TT Dynamic Range Meter** (free DR meter)\n- **Plugin Alliance ADPTR Streamliner** (optimizes for streaming platforms)\n- **Waves WLM Plus** (loudness metering)`\n      },\n      {\n        title: 'Format Considerations & Delivery',\n        content: `**Master File Specifications:**\n\n**For Streaming Distribution:**\n- **Format:** WAV or FLAC (lossless)\n- **Bit Depth:** 24-bit (16-bit acceptable, but 24-bit preferred)\n- **Sample Rate:** 44.1 kHz or 48 kHz (higher rates okay, but downsampled by platforms)\n- **True Peak:** -1 dBTP (prevents clipping during encoding)\n- **Integrated LUFS:** -9 to -12 LUFS (mastering will adjust to platform)\n- **Headroom:** Leave -6dB headroom for mastering (if sending to mastering engineer)\n\n**Why Not 96 kHz / 192 kHz?**\n- Most platforms downsample to 44.1 or 48 kHz\n- Human hearing caps at ~20 kHz (Nyquist: 44.1 kHz covers this)\n- Higher sample rates create larger files with no audible benefit on streaming\n- **Exception:** Tidal MQA supports high-res (but rare)\n\n**Codec Considerations:**\n\n**Lossy Compression (MP3, AAC, Ogg Vorbis):**\n- Reduces file size by removing \"inaudible\" frequencies\n- Can introduce artifacts (especially <256 kbps)\n- **High frequencies** most affected (cymbals, hi-hats, vocals)\n- **Pre-echo** artifacts on transients (kick, snare)\n\n**How to Mix for Lossy Codecs:**\n1. **Don't over-brighten:** Excessive 8-12 kHz boost can sound harsh after MP3 encoding\n2. **Don't brick-wall limit:** Over-limiting creates inter-sample distortion\n3. **Test your mix:** Export to 128 kbps MP3 and listen on cheap earbuds\n4. **Stereo width:** Extreme stereo enhancement can phase-cancel in lossy formats\n\n**Exporting Best Practices:**\n\n**For Streaming Release:**\n1. Mix to -9 to -11 LUFS integrated, -1 dBTP true peak\n2. Export 24-bit WAV or FLAC\n3. Send to mastering engineer (or use AI mastering: LANDR, eMastered)\n4. Mastering brings to -8 to -10 LUFS, applies final limiting to -1 dBTP\n5. Distribute 24-bit WAV via DistroKid, TuneCore, CD Baby\n\n**For YouTube Upload:**\n- **Export:** 24-bit WAV, 48 kHz (YouTube's native rate)\n- **LUFS:** -11 to -13 LUFS integrated\n- **True Peak:** -1 dBTP\n\n**For SoundCloud Upload:**\n- **Export:** 24-bit WAV or high-quality MP3 (320 kbps)\n- **LUFS:** -8 to -10 LUFS (slightly louder, no normalization)\n- **Note:** Free accounts get downsampled to 128 kbps (consider this)\n\n**For DJ Promos / Beatport:**\n- **Export:** 24-bit WAV or AIFF\n- **LUFS:** -7 to -9 LUFS (DJs want loud, punchy tracks)\n- **True Peak:** -0.3 dBTP (maximum loudness without clipping)\n\n**For Client Review / Streaming:**\n- **Export:** 320 kbps MP3 or 256 kbps AAC\n- **Add metadata:** Song title, artist, album, genre\n- **Embed artwork** (3000x3000 px JPEG)\n\n**Metadata & Artwork:**\n- **ISRC code:** International Standard Recording Code (for royalty tracking)\n- **Album art:** 3000x3000 px minimum (Spotify/Apple requirement)\n- **Tags:** Artist, Title, Album, Year, Genre, BPM, Key (helps with playlist placement)\n\n**Final Checklist Before Upload:**\n✅ LUFS: -9 to -12 LUFS integrated\n✅ True Peak: -1 dBTP\n✅ No clipping (check meters throughout track)\n✅ Mono compatibility tested\n✅ Listened on multiple systems (headphones, car, phone speaker)\n✅ Compared to professional references\n✅ Metadata embedded (ISRC, tags, artwork)\n✅ 24-bit WAV exported`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Understand loudness normalization: how Spotify, Apple Music, YouTube adjust playback to -14 LUFS\",\n    \"Optimize mixes for streaming platforms with platform-specific LUFS targets and codec considerations\",\n    \"Mix for dynamics and impact: preserve transients, create contrast, avoid over-compression\",\n    \"Master format and delivery: 24-bit WAV, -1 dBTP true peak, proper sample rates for streaming\",\n    \"Apply final checklist: LUFS metering, mono compatibility, reference comparison, metadata embedding\"\n  ]\n};\n",
    "number": 18,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "mixing-17",
      "mixing-16"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Mixing for",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-18",
    "filename": "lesson-sound-design-18.config.js",
    "title": "Physical Modeling &",
    "category": "Sound Design",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-sound-design-18-progress\",\n  lessonNumber: 18,\n  lessonCategory: \"Sound Design\",\n  depthLevel: 10,\n  \n  nextLessonUrl: \"lesson-sound-design-19.html\",\n  prevLessonUrl: \"lesson-sound-design-17.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-sound-design-18\", categoryLabel: \"Sound Design\" }),\n    title: \"Physical Modeling &\",\n    titleHighlight: \"Analog Emulation\",\n    subtitle: \"Design realistic acoustic instruments and vintage analog sounds through <strong>physical modeling and circuit emulation</strong>. Master resonators, waveguides, and analog modeling for authentic, expressive sounds.\"\n  },\n  \n  sequencer: {\n    tempo: 100,\n    stepCount: 16,\n    swing: 5,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true,\n    requiredTempo: 100\n  },\n  \n  exercise: {\n    title: \"Design Physical Model Instrument\",\n    description: \"Create a <strong>pattern simulating physical modeling</strong> with exciter (initial energy), resonator (body), and damping (decay). Understand how acoustic instruments are synthesized through physics equations.\",\n    tip: \"High velocity = strong excitation (bright attack), Low velocity = soft excitation (mellow tone). Physical modeling recreates the physics of real instruments mathematically.\",\n    steps: [\n      { text: \"<strong>Set tempo to 100 BPM</strong> with 5% swing for human feel.\" },\n      { text: \"<strong>Program strong exciter</strong> on steps 1, 5, 9, 13 with velocity 110-120 (pluck/strike).\" },\n      { text: \"<strong>Add resonator body</strong> on same steps with velocity 80-90 (sustains tone).\" },\n      { text: \"<strong>Layer damping tail</strong> on steps 2, 6, 10, 14 with velocity 60-70 (natural decay).\" },\n      { text: \"<strong>Add soft exciter</strong> on steps 4, 8, 12, 16 with velocity 70-80 (ghost notes).\" },\n      { text: \"<strong>Listen</strong> to how excitation + resonance + damping creates realistic, expressive instruments.\" }\n    ]\n  },\n  \n  instruments: [\n    {\n      id: \"exciter\",\n      label: \"Exciter\",\n      color: \"linear-gradient(135deg, #e17055, #d63031)\",\n      targetSteps: [0, 4, 8, 12],\n      oscillator: { type: \"noise\", detune: 0 },\n      envelope: { attack: 0.001, decay: 0.02, sustain: 0, release: 0.01 },\n      filter: { type: \"highpass\", frequency: 2000, Q: 0.8 }\n    },\n    {\n      id: \"resonator\",\n      label: \"Resonator\",\n      color: \"linear-gradient(135deg, #fdcb6e, #e17055)\",\n      targetSteps: [0, 4, 8, 12],\n      oscillator: { type: \"sine\", detune: 0 },\n      envelope: { attack: 0.005, decay: 0.8, sustain: 0.3, release: 1.2 },\n      filter: { type: \"bandpass\", frequency: 800, Q: 8.0 }\n    },\n    {\n      id: \"damping\",\n      label: \"Damping\",\n      color: \"linear-gradient(135deg, #74b9ff, #0984e3)\",\n      targetSteps: [1, 5, 9, 13],\n      oscillator: { type: \"triangle\", detune: 3 },\n      envelope: { attack: 0.05, decay: 1.5, sustain: 0.1, release: 2.0 },\n      filter: { type: \"lowpass\", frequency: 1200, Q: 0.5 }\n    },\n    {\n      id: \"soft-exciter\",\n      label: \"Soft Exciter\",\n      color: \"linear-gradient(135deg, #a29bfe, #6c5ce7)\",\n      targetSteps: [3, 7, 11, 15],\n      oscillator: { type: \"noise\", detune: 0 },\n      envelope: { attack: 0.005, decay: 0.05, sustain: 0, release: 0.03 },\n      filter: { type: \"highpass\", frequency: 1000, Q: 1.0 }\n    }\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Physical Modeling Fundamentals',\n        content: `**What Is Physical Modeling?**\nPhysical modeling synthesizes sound by simulating the physics of real instruments using mathematical equations. Instead of samples or waveforms, it models vibrations, resonances, and acoustics.\n\n**Core Components:**\n- **Exciter:** Initial energy source (pluck, bow, strike, blow)\n- **Resonator:** Vibrating body (string, tube, membrane)\n- **Coupling:** How exciter and resonator interact\n- **Radiation:** How sound propagates to listener\n\n**Karplus-Strong (Plucked String):**\n1. Noise burst (excitation)\n2. Short delay line (pitch = 1/delay time)\n3. Lowpass filter in feedback loop (damping)\n4. Result: Plucked string, decay, harmonics\n\n**Waveguide Synthesis:**\nModels traveling waves in tubes, strings, membranes:\n- **Delay lines** simulate wave propagation\n- **Filters** simulate energy loss\n- **Junctions** simulate reflections\n- Used for: Flutes, brass, strings, drums\n\n**Modal Synthesis:**\nModels objects as collections of resonant modes:\n- Each mode = frequency + amplitude + decay\n- Strike marimba = excite all modes simultaneously\n- Result: Realistic mallet instruments, bells, chimes`\n      },\n      {\n        title: 'Analog Circuit Emulation',\n        content: `**Component-Level Modeling:**\nEmulate individual circuit components:\n- **Transistors:** Soft clipping, even harmonics\n- **Tubes:** Warm saturation, smooth compression\n- **Transformers:** Harmonic richness, low-end weight\n- **Op-amps:** Clean or colored amplification\n\n**Vintage Synth Emulation:**\nRecreate classic analog behavior:\n- **Oscillator drift:** Slight pitch instability\n- **Filter self-oscillation:** Resonance at cutoff\n- **VCA bleed:** Leakage even when \"closed\"\n- **Component tolerance:** No two synths sound identical\n\n**Analog Compressor Emulation:**\n- **VCA (SSL, API):** Fast, transparent, punchy\n- **FET (1176):** Aggressive, colored, musical distortion\n- **Opto (LA-2A):** Slow, smooth, natural\n- **Tube (Fairchild):** Warm, rich, expensive sound\n\n**Tape Saturation:**\nEmulate magnetic tape behavior:\n- **Soft clipping:** Rounds off peaks\n- **Harmonic generation:** Adds warmth\n- **Compression:** Natural limiting\n- **Hysteresis:** Non-linear response\n- **Wow/flutter:** Subtle pitch modulation`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Understand physical modeling: exciter, resonator, damping, and radiation\",\n    \"Design instruments with Karplus-Strong, waveguide, and modal synthesis\",\n    \"Emulate analog circuits: transistors, tubes, transformers, vintage synths\",\n    \"Apply analog compressor and tape saturation emulation for color and character\"\n  ]\n};\n",
    "number": 18,
    "access": "paid",
    "difficulty": "advanced",
    "prerequisites": [
      "sound-design-17",
      "sound-design-16"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Physical Modeling &",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "arrangement-19",
    "filename": "lesson-arrangement-19.config.js",
    "title": "Arranging for the Mix:",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 19 - Arranging for the Mix\n *\n * This lesson teaches how to arrange with mixing in mind.\n * Master frequency space, dynamic range, and mix-ready arrangements.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-arrangement-19-progress\",\n  lessonNumber: 19,\n  lessonCategory: \"Arrangement\",\n  depthLevel: 5,\n\n  nextLessonUrl: \"lesson-arrangement-20.html\",\n  prevLessonUrl: \"lesson-arrangement-18.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 19, categoryLabel: \"Arrangement\" }),\n    title: \"Arranging for the Mix:\",\n    titleHighlight: \"Mix-Ready Production\",\n    subtitle: \"Arrange with <strong>mixing in mind</strong>. Leave <strong>frequency space</strong>, manage <strong>dynamic range</strong>, and create <strong>mix-ready arrangements</strong>. Good arrangement = 80% of a great mix.\"\n  },\n\n  exercise: {\n    title: \"Create a Mix-Ready Arrangement\",\n    description: \"Build an arrangement designed for easy mixing. Leave frequency space, avoid element clashing, manage dynamics, and create natural separation. <strong>A great arrangement needs minimal mixing.</strong>\",\n    tip: \"Mix engineers say: \\\"A great arrangement mixes itself.\\\" If you can't hear every element clearly in the arrangement, you won't be able to mix it later. Fix it in the arrangement phase.\",\n    steps: [\n      { text: \"<strong>Assign frequency zones</strong> - One element per frequency range\" },\n      { text: \"<strong>Use stereo space</strong> - Pan elements left/right to avoid center pile-up\" },\n      { text: \"<strong>Leave dynamic range</strong> - Don't max out levels, leave headroom\" },\n      { text: \"<strong>Create natural separation</strong> - Elements separated by frequency, stereo, or time\" },\n      { text: \"<strong>Limit simultaneous elements</strong> - Maximum 4-5 at once\" },\n      { text: \"<strong>Test in mono</strong> - Should still sound clear with no panning\" }\n    ]\n  },\n\n  mixFriendlyPrinciples: [\n    {\n      principle: \"Frequency Separation\",\n      description: \"No two elements fight for the same frequency range\",\n      howTo: \"Bass: 60-250Hz, Pads: 250Hz-1kHz, Vocals: 1kHz-4kHz, Hi-hats: 8kHz+\",\n      benefit: \"Each element has sonic space to live\"\n    },\n    {\n      principle: \"Stereo Separation\",\n      description: \"Use the full stereo field, not just center\",\n      howTo: \"Lead vocal: Center, Rhythm guitar: Left, Piano: Right, Pad: Wide\",\n      benefit: \"Prevents center frequency pile-up\"\n    },\n    {\n      principle: \"Dynamic Range\",\n      description: \"Leave 6-12dB headroom on the master\",\n      howTo: \"Keep peaks around -6dB to -12dB, not hitting 0dB\",\n      benefit: \"Room for mixing, mastering, and transient punch\"\n    },\n    {\n      principle: \"Element Limit\",\n      description: \"Maximum 4-5 elements playing simultaneously\",\n      howTo: \"Foundation + Pad + Rhythm + Lead + Fills = 5 max\",\n      benefit: \"Clarity, separation, and professional sound\"\n    },\n    {\n      principle: \"Mono Compatibility\",\n      description: \"Arrangement works in mono (no phase cancellation)\",\n      howTo: \"Test mix in mono—everything should still be audible\",\n      benefit: \"Works on phones, clubs, and radio\"\n    }\n  ],\n\n  commonMistakes: [\n    { mistake: \"Center pile-up\", fix: \"Pan instruments left/right\" },\n    { mistake: \"Frequency clashing\", fix: \"Assign each element its own frequency zone\" },\n    { mistake: \"Too many elements\", fix: \"Remove 1-2 elements, arrangement will sound bigger\" },\n    { mistake: \"No headroom\", fix: \"Lower all faders, leave 6-12dB headroom\" },\n    { mistake: \"Phase cancellation\", fix: \"Check in mono, adjust stereo width\" }\n  ],\n\n  messages: applyMessagePreset(\"arrangement\", {\n    initial: \"Create a mix-ready arrangement with proper separation!\",\n    success: \"🎚️ Perfect mix-ready arrangement! This will be incredibly easy to mix.\",\n    error: \"Check for frequency clashing, center pile-up, or too many simultaneous elements.\",\n    alreadyCompleted: \"You've mastered mix-ready arranging!\"\n  }),\n\n  mode: {\n    type: \"structure-builder\",\n    sandbox: false,\n    showTimeline: true,\n    showFrequencyAnalyzer: true,\n    showStereoMeter: true,\n    showHeadroomMeter: true\n  },\n\n  learningObjectives: [\n    \"Arrange with mixing in mind from the start\",\n    \"Apply five mix-friendly principles\",\n    \"Create natural frequency and stereo separation\",\n    \"Leave appropriate headroom for mixing\",\n    \"Ensure mono compatibility\",\n    \"Avoid common arrangement mistakes that cause mix problems\"\n  ],\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"Why Great Arrangements Mix Themselves\",\n        content: `\n**The Producer's Secret:**\n\n**\"A great arrangement needs minimal mixing. A bad arrangement can't be fixed in the mix.\"**\n\nThis is the #1 truth professional producers know but amateurs ignore.\n\n---\n\n**The 80/20 Mix Rule:**\n\n**80% of a professional mix comes from arrangement decisions**\n**20% comes from actual mixing (EQ, compression, effects)**\n\n**What This Means:**\n- If your arrangement has frequency clashing, no amount of EQ will fix it\n- If your arrangement has too many elements, compression won't create space\n- If your arrangement lacks dynamic range, limiters will make it worse\n\n**Solution:** Design mix-ready arrangements from the start.\n\n---\n\n**Amateur vs Professional Approach:**\n\n**Amateur Workflow:**\n1. Produce track with 30 elements playing simultaneously\n2. Everything panned center\n3. No frequency planning\n4. Master bus hitting 0dB (no headroom)\n5. Try to \"fix it in the mix\"\n6. Spend 20 hours mixing, still sounds muddy\n\n**Professional Workflow:**\n1. Produce track with 5 elements playing simultaneously (max)\n2. Each element in separate frequency zone\n3. Elements panned intentionally (stereo separation)\n4. Master bus peaking at -12dB (headroom for mixing)\n5. Arrangement already sounds clean\n6. Spend 2 hours mixing, sounds professional\n\n**The difference:** Professionals solve problems during ARRANGEMENT, not mixing.\n\n---\n\n**The \"Arrangement = 80% of the Mix\" Principle:**\n\n**What Arrangement Handles:**\n\n✓ **Frequency separation** — Each element occupies a distinct frequency range\n✓ **Stereo placement** — Elements spread across the stereo field\n✓ **Element density** — Maximum 4-5 simultaneous elements\n✓ **Dynamic range** — Natural loud/quiet contrast built in\n✓ **Clarity** — Each element audible and distinct\n\n**What Mixing Handles:**\n\n✓ **Tonal balance** — Final EQ adjustments (fine-tuning)\n✓ **Dynamics control** — Compression to even out performances\n✓ **Space and depth** — Reverb and delay for dimension\n✓ **Polish** — Final loudness, saturation, mastering\n\n**If arrangement handles the 80%, mixing is easy. If arrangement is a mess, mixing is impossible.**\n\n---\n\n**Real-World Example:**\n\n**Track A (Bad Arrangement):**\n- 15 elements playing in chorus\n- All elements in mid-range (200Hz-2kHz)\n- Everything panned center\n- Master bus hitting 0dB\n\n**Mixing Track A:**\n- EQ can't create separation (too much mid-range content)\n- Panning won't help (already bounced/printed)\n- Compression makes it worse (accentuates the mud)\n- **Result:** 20 hours of work, still sounds amateur\n\n**Track B (Good Arrangement):**\n- 5 elements playing in chorus\n- Each element in separate frequency zone:\n  - Sub-bass (40-80Hz)\n  - Bass (80-250Hz)\n  - Vocals (500Hz-3kHz)\n  - Guitar (1-4kHz)\n  - Hi-hats (8-12kHz)\n- Panned: Vocal center, guitar left, piano right, hi-hats wide\n- Master bus peaking at -12dB\n\n**Mixing Track B:**\n- Minor EQ tweaks (already clean)\n- Light compression (already dynamic)\n- Reverb for space (already has depth)\n- **Result:** 2 hours of work, sounds professional\n\n**The lesson:** Spend time on arrangement, save time on mixing.\n\n---\n\n**The Five Mix-Friendly Principles:**\n\nThese principles should guide EVERY arrangement decision:\n\n**1. Frequency Separation**\n- **Rule:** No two elements occupy the same frequency range simultaneously\n- **Why:** Prevents masking, mud, and frequency clashing\n\n**2. Stereo Separation**\n- **Rule:** Spread elements across the stereo field (not all center)\n- **Why:** Prevents \"center pile-up,\" creates width and space\n\n**3. Dynamic Range**\n- **Rule:** Leave 6-12dB headroom on master bus\n- **Why:** Room for mixing, mastering, and transient punch\n\n**4. Element Limit**\n- **Rule:** Maximum 4-5 elements playing simultaneously\n- **Why:** Clarity, separation, professional sound\n\n**5. Mono Compatibility**\n- **Rule:** Arrangement must sound good in mono (no phase cancellation)\n- **Why:** Works on phones, clubs, radio, streaming services\n\n**If your arrangement follows these five principles, mixing will be effortless.**\n\n---\n\n**Why Mix Engineers Reject Poorly Arranged Tracks:**\n\nProfessional mix engineers can identify a bad arrangement instantly:\n\n**Red Flags:**\n\n❌ **\"There are 20 tracks all fighting for the mids\"**\n- Engineer: \"I can't separate these with EQ. You need to remove elements.\"\n\n❌ **\"Everything is panned center\"**\n- Engineer: \"I can't create width. You need to pan things during production.\"\n\n❌ **\"The master is clipping\"**\n- Engineer: \"I can't add processing. You need to lower your levels.\"\n\n❌ **\"There's no dynamic range\"**\n- Engineer: \"It's already squashed. Compression will make it worse.\"\n\n❌ **\"It sounds terrible in mono\"**\n- Engineer: \"Phase cancellation. You need to fix stereo imaging.\"\n\n**The pattern:** All of these are ARRANGEMENT problems, not mixing problems.\n\n**Professional producers don't give mix engineers these problems—they solve them during arrangement.**\n\n---\n\n**The Headroom Principle:**\n\n**Amateur tracks:** Master bus hitting 0dB, peaks clipping\n**Professional tracks:** Master bus peaking at -6dB to -12dB\n\n**Why Headroom Matters:**\n\n**1. Room for Mixing:**\n- Mix engineer needs to add EQ, compression, effects\n- Each process adds gain\n- If you're already at 0dB, there's nowhere to go (limiters = distortion)\n\n**2. Transient Preservation:**\n- Drums, percussion, plucks need transient punch\n- If levels are maxed, transients get clipped (sounds dull)\n- Headroom preserves punch and attack\n\n**3. Analog Emulation:**\n- Tape saturation, console emulation, tube warmth\n- These add harmonics (increase loudness)\n- If you're at 0dB, they clip instead of saturate\n\n**4. Mastering Flexibility:**\n- Mastering engineer needs 3-6dB to work with\n- If you deliver a track at 0dB, they have to reduce gain first (degradation)\n\n**How to Leave Headroom:**\n\n**During Arrangement:**\n1. Lower all faders by 6-12dB\n2. Check master peak levels (-12dB max)\n3. If peaking higher, lower individual tracks (not master fader)\n\n**Why Not Just Lower Master Fader?**\n- Lowering master = you're still clipping internally (bad)\n- Lowering individual tracks = proper gain staging (good)\n\n**Result:** Clean signal path, no internal clipping, maximum headroom.\n\n---\n\n**The Mono Compatibility Test:**\n\n**Modern music is consumed in mono more than you think:**\n\n- Phones (single speaker, mono output)\n- Bluetooth speakers (many are mono)\n- Clubs (often sum to mono for consistency)\n- Radio (broadcast in mono or collapsed stereo)\n- Streaming services (sometimes downsample to mono)\n\n**If your track sounds terrible in mono, it will sound terrible on these platforms = millions of lost listens.**\n\n---\n\n**What Causes Mono Issues?**\n\n**Phase Cancellation:**\n- Two identical signals panned left/right\n- When summed to mono, they cancel out (disappear)\n\n**Example:**\n- Vocal panned center (mono)\n- Vocal double panned hard left and hard right (stereo)\n- In stereo: Sounds wide and rich\n- In mono: Doubled vocals cancel out, only center vocal remains (thin)\n\n**How to Test:**\n\n1. **Export your track in stereo**\n2. **Import into DAW and collapse to mono** (sum L+R)\n3. **Listen carefully:**\n   - Do any elements disappear?\n   - Does the low end vanish?\n   - Does it sound thin or hollow?\n\n**If YES to any:** You have phase cancellation. Fix it in arrangement.\n\n---\n\n**How to Ensure Mono Compatibility:**\n\n**Rule 1: Keep Low Frequencies Mono**\n- Bass, kick, sub-bass = always center (mono)\n- Why: Low frequencies need focus and power (stereo = weak)\n\n**Rule 2: Use Haas Effect Carefully**\n- Haas effect: Delay one side 10-30ms (creates stereo width)\n- Risk: Can cause phase issues in mono\n- Test: Always check in mono after applying\n\n**Rule 3: Avoid Identical Doubled Signals Panned L/R**\n- Bad: Same vocal take panned hard L + hard R (phase issues)\n- Good: Two different vocal takes panned L + R (no phase issues)\n\n**Rule 4: Use Mid/Side Processing**\n- Mid = center (mono content)\n- Side = stereo width\n- Ensure mid has strong content (doesn't disappear in mono)\n\n**Rule 5: Test Every Stereo Effect**\n- After adding stereo widener, chorus, or stereo delay:\n- Collapse to mono and listen\n- If something disappears or sounds thin, adjust\n\n---\n\n**The \"Less is More\" Philosophy:**\n\n**Counterintuitive Truth: Removing elements makes your track sound BIGGER.**\n\n**Why?**\n\n**1. Masking Reduction**\n- Fewer elements = less frequency masking\n- Each element has space to breathe\n- Result: Clearer, more impactful\n\n**2. Perceived Loudness**\n- Mixing 5 elements to -6dB each = -6dB master (loud)\n- Mixing 20 elements to -20dB each = -6dB master (quiet)\n- Same master level, but 5 elements SOUND louder (less competition)\n\n**3. Dynamic Range**\n- Fewer elements = more dynamic contrast\n- Verse: 2 elements (quiet)\n- Chorus: 5 elements (LOUD)\n- Contrast = impact\n\n**Test This Yourself:**\n\n1. Mute 3-5 elements in your arrangement\n2. Does the track sound BETTER?\n3. If YES: Those elements were clutter. Keep them muted.\n\n**Professional producers ruthlessly remove elements. Amateurs keep adding.**\n\n---\n\n**Real-World Examples:**\n\n**\"Bad Guy\" by Billie Eilish:**\n- Verse: 3 elements (sub-bass, vocals, finger snaps)\n- Chorus: 4 elements (sub-bass, vocals, mid-bass stabs, snap)\n- **Why it works:** Minimalism = massive clarity. Each element has space.\n\n**\"Shallow\" by Lady Gaga & Bradley Cooper:**\n- Verse: 2 elements (acoustic guitar, vocal)\n- Chorus: 5 elements (guitar, vocal, bass, drums, strings)\n- **Why it works:** Contrast. Verse is sparse, chorus feels HUGE.\n\n**\"Blinding Lights\" by The Weeknd:**\n- Entire track: 5-6 elements max at any time\n- Synth bass, drum machine, synth lead, vocal, pad, arpeggio\n- **Why it works:** Each element is distinct, no frequency clashing\n\n**Notice:** These are GLOBAL HITS. None have 20 elements playing simultaneously. They're minimal, clean, mix-ready.\n        `\n      },\n      {\n        title: \"The Five Mix-Friendly Principles (Deep Dive)\",\n        content: `\n**Principle 1: Frequency Separation (The Vertical Mixing Approach)**\n\n**Goal:** Each element occupies a distinct frequency zone. No overlapping.\n\n---\n\n**The Frequency Assignment Map:**\n\nAssign each element to ONE primary frequency zone:\n\n\\`\\`\\`\n20Hz-60Hz:   SUB-BASS (808, sub synth)\n60Hz-250Hz:  BASS (bass guitar, kick body, bass synth)\n250Hz-500Hz: LOW-MIDS (piano low notes, rhythm guitar low)\n500Hz-2kHz:  MIDS (vocals, lead melody, snare)\n2kHz-6kHz:   UPPER-MIDS (vocal clarity, guitar attack)\n6kHz-12kHz:  HIGHS (hi-hats, cymbals, brightness)\n12kHz-20kHz: AIR (reverb, sparkle, harmonics)\n\\`\\`\\`\n\n**Rule:** Only ONE element should dominate each zone at a time.\n\n---\n\n**Example: Chorus Arrangement**\n\n**Good Frequency Separation:**\n\\`\\`\\`\nSub-bass (40-80Hz):    808 kick ← DOMINANT\nBass (80-250Hz):       Bass guitar ← DOMINANT\nMids (500Hz-2kHz):     Lead vocal ← DOMINANT\nUpper-Mids (2-6kHz):   Acoustic guitar ← DOMINANT\nHighs (8-12kHz):       Hi-hats ← DOMINANT\n\\`\\`\\`\n\n**Each zone has ONE dominant element. Clear, separated, professional.**\n\n---\n\n**Bad Frequency Separation:**\n\\`\\`\\`\nMids (500Hz-2kHz):\n  - Lead vocal\n  - Rhythm guitar\n  - Piano\n  - Pad\n  - Synth lead\n\nAll fighting for the same frequency range = MUD\n\\`\\`\\`\n\n---\n\n**How to Implement Frequency Separation:**\n\n**Step 1: List All Elements in Your Arrangement**\n\nExample:\n- Kick\n- 808 bass\n- Snare\n- Hi-hats\n- Lead vocal\n- Harmony vocal\n- Piano\n- Synth pad\n- Guitar\n\n**Step 2: Assign Each to a Frequency Zone**\n\n\\`\\`\\`\nKick:           60-200Hz (bass zone)\n808 bass:       40-80Hz (sub-bass zone)\nSnare:          200Hz-4kHz (mids + upper-mids)\nHi-hats:        8kHz+ (highs)\nLead vocal:     500Hz-3kHz (mids, dominant)\nHarmony vocal:  1kHz-5kHz (upper-mids, support)\nPiano:          200Hz-4kHz (overlaps with vocal—PROBLEM)\nSynth pad:      250Hz-2kHz (overlaps with vocal—PROBLEM)\nGuitar:         500Hz-4kHz (overlaps with vocal—PROBLEM)\n\\`\\`\\`\n\n**Identified Problems:**\n- Piano, pad, guitar all compete with lead vocal in mids\n\n**Step 3: Fix Frequency Conflicts**\n\n**Option A: EQ to Create Separation**\n- Piano: Cut 500Hz-1kHz (make room for vocal)\n- Pad: Cut 1kHz-3kHz (make room for vocal)\n- Guitar: High-pass at 500Hz (remove low-mid overlap)\n\n**Option B: Remove Elements**\n- Choose ONE mid-range element to support vocal\n- Remove or mute the others\n- Example: Keep piano, mute pad and guitar\n\n**Option C: Change Instrumentation**\n- Replace piano with bass guitar (occupies bass zone instead)\n- Replace pad with hi-hat layer (occupies high zone instead)\n- Keep guitar but move it up one octave (upper-mids instead of mids)\n\n**Result:** Each frequency zone has clear ownership. No masking.\n\n---\n\n**Advanced: The \"Frequency Gap\" Technique**\n\n**Leave intentional gaps in the frequency spectrum.**\n\n**Example:**\n\n**Verse (Frequency Gap Strategy):**\n\\`\\`\\`\nActive:   Mids (vocals), Low-mids (acoustic guitar)\nInactive: Sub-bass, Highs, Air\n\\`\\`\\`\n\n**Chorus (Fill the Gaps):**\n\\`\\`\\`\nActive:   Sub-bass (808), Mids (vocals), Highs (hi-hats), Air (reverb)\nInactive: None\n\\`\\`\\`\n\n**Why It Works:**\n- Verse feels SMALL (frequency gaps)\n- Chorus feels HUGE (full spectrum)\n- Contrast = impact\n\n---\n\n**Principle 2: Stereo Separation (The Horizontal Mixing Approach)**\n\n**Goal:** Spread elements across the stereo field. Avoid \"center pile-up.\"\n\n---\n\n**The Stereo Field Map:**\n\n\\`\\`\\`\nHard Left (-100): Secondary elements (rhythm guitar, perc)\nLeft (-50 to -70): Supporting elements (harmony vocal, piano)\nCenter (0):        Primary elements (lead vocal, kick, snare, bass)\nRight (+50 to +70): Supporting elements (synth pad, keys)\nHard Right (+100): Secondary elements (shaker, FX)\n\\`\\`\\`\n\n**Rule:** Only 2-3 elements should be panned center. Everything else spread L/R.\n\n---\n\n**What Should ALWAYS Be Center (Mono):**\n\n✓ **Lead vocal** — Main focus, needs to be centered\n✓ **Kick drum** — Low-end power, must be mono for punch\n✓ **Snare** — Backbeat anchor, centered for impact\n✓ **Bass** — Sub frequencies need mono for club/streaming compatibility\n\n**Everything else can (and should) be panned.**\n\n---\n\n**Example: Stereo Arrangement**\n\n**Bad (Center Pile-Up):**\n\\`\\`\\`\nCenter (0): Lead vocal, kick, snare, bass, piano, guitar, pad, synth\nLeft/Right: Nothing\n\\`\\`\\`\n\n**Result:** Narrow, congested, amateur sound\n\n---\n\n**Good (Stereo Separation):**\n\\`\\`\\`\nHard Left (-100):  Shaker\nLeft (-60):        Rhythm guitar\nLeft (-40):        Harmony vocal (low)\nCenter (0):        Lead vocal, kick, snare, bass\nRight (+40):       Harmony vocal (high)\nRight (+60):       Piano\nHard Right (+100): Hi-hat (alternate with left-panned perc)\n\\`\\`\\`\n\n**Result:** Wide, spacious, professional sound\n\n---\n\n**How to Implement Stereo Separation:**\n\n**Step 1: Identify Center Elements (Mandatory Mono)**\n- Lead vocal\n- Kick\n- Snare\n- Bass\n\n**Step 2: Pan Supporting Elements L/R**\n\n**Panning Strategy A: Complementary Pairs**\n- Harmony vocal (low) → Left (-40)\n- Harmony vocal (high) → Right (+40)\n- Creates balanced width\n\n**Panning Strategy B: Frequency-Based**\n- Lower frequencies → Closer to center (-20 to +20)\n- Higher frequencies → Wider panning (-60 to +60)\n- Why: Low frequencies need focus, highs can spread\n\n**Panning Strategy C: Call-and-Response**\n- Guitar phrase → Left\n- Piano response → Right\n- Creates stereo dialogue\n\n**Step 3: Test in Mono**\n- Collapse to mono\n- Do elements disappear?\n- If yes, adjust panning or fix phase\n\n---\n\n**Advanced: LCR Panning (Classic Technique)**\n\n**LCR = Left, Center, Right (only 3 positions)**\n\n\\`\\`\\`\nHard Left (-100): All left-panned elements\nCenter (0):       Lead vocal, kick, snare, bass\nHard Right (+100): All right-panned elements\nNO positions in between (-50, +20, etc.)\n\\`\\`\\`\n\n**Why It Works:**\n- Maximum separation (no in-between clutter)\n- Clean, retro, focused sound\n- Used by classic rock, Beatles-style production\n\n**Modern Variation:**\n- Most producers use full stereo field (-100 to +100)\n- LCR is a stylistic choice (old-school vibe)\n\n---\n\n**Principle 3: Dynamic Range (Leave Headroom)**\n\n**Goal:** Master bus should peak at -6dB to -12dB (not 0dB).\n\n---\n\n**Why Headroom is Critical:**\n\n**1. Mixing Needs Gain**\n- EQ boosts add +3 to +6dB\n- Compression makeup gain adds +2 to +6dB\n- Saturation adds harmonics (perceived loudness)\n- If you start at 0dB, all of these clip\n\n**2. Mastering Needs Gain**\n- Mastering engineer adds +6 to +12dB (final loudness)\n- If you deliver at 0dB, they must lower gain first (degradation)\n\n**3. Transients Get Preserved**\n- Drum hits, plucks, attacks need headroom to punch through\n- Clipping = lost transients = dull sound\n\n---\n\n**How to Leave Headroom:**\n\n**Method 1: Lower All Faders**\n\n1. After arranging, select all tracks\n2. Lower by -6dB to -12dB (use trim/gain plugin or fader)\n3. Check master peak level (should be -12dB max)\n\n**Method 2: Gain Staging**\n\n1. Set each track to peak at -18dB to -12dB\n2. Master bus will naturally peak at -12dB to -6dB\n3. No clipping, clean signal path\n\n**Method 3: Reference Track Matching**\n\n1. Import professional track (same genre)\n2. Match your peak levels to theirs (-12dB to -6dB typically)\n3. This ensures your levels are in professional range\n\n---\n\n**Common Mistake: \"My track is too quiet!\"**\n\n**Amateur Response:**\n- Turn up master fader (clips)\n- Add limiter to master (squashes dynamics)\n- **Result:** Loud but lifeless\n\n**Professional Response:**\n- Leave track quiet during arrangement/mixing\n- Mastering handles final loudness\n- **Result:** Dynamic range preserved, professional loudness\n\n**Remember:** Quiet during mixing = room for mastering to make it LOUD properly.\n\n---\n\n**Principle 4: Element Limit (Maximum 4-5 Simultaneous)**\n\n**Goal:** Never have more than 4-5 elements playing at the same time.\n\n---\n\n**Why This Rule Exists:**\n\n**Human Attention Limits:**\n- Brain can focus on 3-5 distinct sounds simultaneously\n- More than 5 = cognitive overload (sounds chaotic)\n\n**Frequency Masking:**\n- Each element occupies frequency space\n- 10 elements = 10x more masking = mud\n\n**Mixing Complexity:**\n- 5 elements = easy to balance\n- 20 elements = impossible to balance (something always gets buried)\n\n---\n\n**The Element Count Framework:**\n\n**Sparse Section (Verse, Breakdown):**\n- 2-3 elements max\n- Example: Vocal + guitar + light percussion\n\n**Medium Section (Pre-Chorus, Bridge):**\n- 3-4 elements\n- Example: Vocal + guitar + bass + drums\n\n**Full Section (Chorus, Drop):**\n- 4-5 elements max\n- Example: Vocal + guitar + bass + drums + synth\n\n**Maximum (Final Chorus, Climax):**\n- 6 elements (only in the biggest moment)\n- Example: Vocal + harmony + guitar + bass + drums + synth + strings\n\n**Never Exceed:** 6 elements (even in final chorus)\n\n---\n\n**How to Count Elements:**\n\n**Element = Distinct Musical Voice**\n\nCount as ONE element:\n- Lead vocal (even with doubles/harmonies, still one voice)\n- Drum kit (kick + snare + hi-hat = one \"drums\" element)\n- Guitar layers (rhythm + lead = one \"guitar\" element if same part)\n\nCount as SEPARATE elements:\n- Lead vocal + harmony vocal = 2 elements (different melodies)\n- Drums + percussion = 2 elements (different roles)\n- Rhythm guitar + lead guitar = 2 elements (different parts)\n\n---\n\n**Example: Element Count Audit**\n\n**Your Chorus:**\n1. Lead vocal\n2. Harmony vocal\n3. Kick\n4. Snare\n5. Hi-hat\n6. 808 bass\n7. Bass guitar\n8. Piano\n9. Synth pad\n10. Synth lead\n11. Strings\n12. Shaker\n\n**Total:** 12 elements (TOO MANY)\n\n**How to Reduce:**\n\n**Option A: Combine Drums**\n- Kick + Snare + Hi-hat = \"Drums\" (1 element)\n- **New count:** 10 elements (still too many)\n\n**Option B: Remove Redundant Elements**\n- Remove bass guitar (808 covers bass)\n- Remove synth pad (piano covers harmony)\n- **New count:** 8 elements (better, but still high)\n\n**Option C: Aggressive Cutting**\n- Keep: Lead vocal, harmony vocal, drums (kick+snare+hi-hat), 808 bass, synth lead\n- Remove: Piano, synth pad, strings, shaker, bass guitar\n- **New count:** 5 elements (PERFECT)\n\n**Result:** Clearer, punchier, more professional\n\n---\n\n**The \"Mute Test\":**\n\n1. Mute one element\n2. Does the track sound BETTER or WORSE?\n3. If BETTER: Keep it muted (it was clutter)\n4. If WORSE: Unmute (it's essential)\n\n**Repeat for every element. Be ruthless.**\n\n---\n\n**Principle 5: Mono Compatibility (No Phase Cancellation)**\n\n**Goal:** Track sounds great in both stereo AND mono.\n\n---\n\n**The Mono Compatibility Checklist:**\n\n✓ **Bass/sub-bass is mono** (centered, no stereo widening)\n✓ **Kick and snare are mono** (centered)\n✓ **No identical signals panned L/R** (causes phase cancellation)\n✓ **Mid/side balance** (strong mid content, not just sides)\n✓ **Tested in mono** (collapsed and listened)\n\n---\n\n**How to Test Mono Compatibility:**\n\n**Method 1: DAW Utility Plugin**\n- Most DAWs have \"Mono\" or \"Utility\" plugin\n- Place on master bus\n- Toggle stereo ↔ mono\n- Listen for:\n  - Elements disappearing\n  - Thin/hollow sound\n  - Loss of low-end\n\n**Method 2: Export and Collapse**\n- Export stereo mix\n- Import into new DAW session\n- Use mono track or collapse L+R\n- Compare to stereo version\n\n**Method 3: Phone Speaker Test**\n- Play on phone (most are mono)\n- Does it sound as good as on speakers?\n- If not, fix stereo imaging\n\n---\n\n**Common Mono Compatibility Issues:**\n\n**Issue 1: Stereo Bass Disappears in Mono**\n\n**Cause:** Bass was widened with stereo processing\n**Fix:** Keep bass mono (centered, no stereo widening)\n\n---\n\n**Issue 2: Vocals Sound Thin in Mono**\n\n**Cause:** Vocal doubles panned L/R with identical phase\n**Fix:** Use two different takes (not copies) OR delay one side by 10-20ms\n\n---\n\n**Issue 3: Mix Sounds Hollow in Mono**\n\n**Cause:** Too much side content, not enough mid\n**Fix:** Use mid/side EQ to boost mid content (center information)\n\n---\n\n**The Mid/Side Balance Rule:**\n\n**Mid (Center):** Should contain 60-70% of the mix energy\n**Side (Stereo Width):** Should contain 30-40% of the mix energy\n\n**If reversed (70% side, 30% mid):**\n- Sounds wide in stereo (good)\n- Sounds thin in mono (bad)\n\n**How to Check:**\n- Use mid/side analyzer plugin\n- Verify mid is stronger than side\n- Adjust stereo width plugins if needed\n        `\n      },\n      {\n        title: \"Practical Mix-Ready Arrangement Workflow\",\n        content: `\n**Step-by-Step: Arranging with Mixing in Mind**\n\n---\n\n**Step 1: Start with Element Limit (5 Max)**\n\n**Before producing anything, decide your element palette:**\n\n**Example: Pop-Trap Track**\n\n\\`\\`\\`\nFoundation Elements (Always Present):\n1. Lead vocal\n2. Drums (kick + snare + hi-hat as one element)\n\nVariable Elements (Added per section):\n3. Bass (808 or bass guitar)\n4. Harmony/melody (piano OR guitar OR synth, pick ONE)\n5. Texture/FX (pad OR strings OR atmosphere, pick ONE)\n\\`\\`\\`\n\n**That's 5 elements maximum. Lock this in before producing.**\n\n**Why This Works:**\n- Forces you to choose the BEST element for each role\n- Prevents clutter before it starts\n- Every element has purpose\n\n---\n\n**Step 2: Assign Frequency Zones (Before Production)**\n\n**Create a frequency assignment map:**\n\n\\`\\`\\`\nElement          | Primary Frequency Zone | EQ Strategy\n-----------------|------------------------|-------------\n808 Bass         | 40-80Hz (sub)          | High-pass at 30Hz\nKick             | 60-200Hz (bass)        | High-pass at 50Hz, cut at 300Hz\nLead Vocal       | 500Hz-3kHz (mids)      | Boost at 3kHz (presence)\nPiano            | 200Hz-6kHz (wide)      | Cut at 500-800Hz (vocal space)\nHi-Hats          | 8kHz+ (highs)          | High-pass at 8kHz, boost at 12kHz\n\\`\\`\\`\n\n**Notice:** Each element has a PRIMARY zone. Some overlap is OK, but each should dominate ONE zone.\n\n---\n\n**Step 3: Plan Stereo Field (Before Production)**\n\n**Create a panning map:**\n\n\\`\\`\\`\nElement          | Pan Position | Reasoning\n-----------------|--------------|----------\nLead Vocal       | Center (0)   | Main focus, must be centered\nKick             | Center (0)   | Low-end power, mono\nSnare            | Center (0)   | Backbeat anchor\n808 Bass         | Center (0)   | Sub frequencies, mono\nPiano            | Left (-40)   | Supporting harmony\nSynth Pad        | Right (+40)  | Balance piano\nHi-Hats (main)   | Right (+20)  | Off-center for width\nShaker           | Left (-60)   | Balance hi-hats\nHarmony Vocal    | Wide (±70)   | Stereo chorus effect\n\\`\\`\\`\n\n**During production, stick to this plan. Don't pan randomly—be intentional.**\n\n---\n\n**Step 4: Set Gain Staging (During Production)**\n\n**As you produce each element, set levels properly:**\n\n**Individual Track Levels:**\n- Peak at -18dB to -12dB (RMS around -24dB to -18dB)\n- Use gain/trim plugin before any processing\n- Never let individual tracks clip (0dB)\n\n**Master Bus Level:**\n- After all tracks playing: Peak at -12dB to -6dB\n- If peaking higher: Lower individual tracks, NOT master fader\n\n**Why This Matters:**\n- Gives you 6-12dB headroom for mixing\n- Prevents clipping throughout signal chain\n- Leaves room for mastering to add final loudness\n\n---\n\n**Step 5: Produce with Frequency Separation in Mind**\n\n**As you produce each element, think vertically (frequency):**\n\n**Example: Adding Piano**\n\n**Before adding:**\n- Check: What frequency zones are already occupied?\n- Answer: Vocals (500Hz-3kHz), 808 bass (40-80Hz), kick (60-200Hz)\n\n**Piano frequency zone:**\n- Natural range: 80Hz-4kHz (wide)\n- **Problem:** Overlaps with vocals (500Hz-3kHz)\n\n**Solution: EQ Piano DURING production:**\n- High-pass at 200Hz (remove low-end clash with kick)\n- Cut at 500-1kHz (make room for vocals)\n- Result: Piano occupies 200Hz-500Hz and 3kHz-6kHz (no vocal clash)\n\n**This is \"arrangement by frequency\"—you're EQing WHILE arranging, not after.**\n\n---\n\n**Step 6: Build Sections with Dynamic Contrast**\n\n**Use element count to create dynamic range:**\n\n**Intro: 1-2 Elements**\n- Piano only (sparse, intimate)\n- Peak level: -18dB\n\n**Verse: 2-3 Elements**\n- Piano + vocal + light hi-hat\n- Peak level: -15dB\n\n**Pre-Chorus: 3-4 Elements**\n- Piano + vocal + hi-hat + 808 bass\n- Peak level: -12dB\n\n**Chorus: 4-5 Elements**\n- Piano + vocal + full drums + 808 bass + synth pad\n- Peak level: -9dB\n\n**Bridge: 2 Elements**\n- Vocal + synth pad only (stripped back)\n- Peak level: -18dB\n\n**Final Chorus: 5-6 Elements**\n- Everything + harmony vocals\n- Peak level: -6dB\n\n**Notice the peak level progression:**\n- Intro: -18dB → Final Chorus: -6dB\n- That's 12dB of dynamic range (professional standard)\n\n**This dynamic arc is built into the ARRANGEMENT, not added in mixing.**\n\n---\n\n**Step 7: Test in Mono (Every 30 Minutes)**\n\n**Don't wait until the end to test mono—test constantly:**\n\n**Workflow:**\n\n1. **Produce for 30 minutes** (add elements, arrange sections)\n2. **Collapse to mono** (use utility plugin or mono button)\n3. **Listen critically:**\n   - Do any elements disappear?\n   - Does low-end vanish?\n   - Does it sound thin?\n4. **Fix issues immediately:**\n   - Adjust panning\n   - Check phase on stereo elements\n   - Re-record doubled vocals if needed\n5. **Return to stereo and continue producing**\n\n**Why This Workflow Works:**\n- Catches mono issues EARLY (easy to fix)\n- Prevents building entire track on flawed stereo imaging\n- Ensures final mix works on all playback systems\n\n---\n\n**Step 8: Apply the \"Mute Test\" to Every Element**\n\n**After producing a section, audit every element:**\n\n**Chorus Audit:**\n\n\\`\\`\\`\nElement          | Mute Test Result | Keep or Remove?\n-----------------|------------------|----------------\nLead Vocal       | WORSE without    | KEEP (essential)\nHarmony Vocal    | Better without   | REMOVE (clutter)\nKick             | WORSE without    | KEEP (essential)\nSnare            | WORSE without    | KEEP (essential)\nHi-Hat           | WORSE without    | KEEP (essential)\n808 Bass         | WORSE without    | KEEP (essential)\nPiano            | Same with/without| REMOVE (not adding value)\nSynth Pad        | Better without   | REMOVE (muddying the mix)\nShaker           | Slightly worse   | KEEP (adds subtle texture)\n\\`\\`\\`\n\n**Result:** Removed harmony vocal, piano, and synth pad. Chorus now has 5 elements (down from 8).\n\n**Track sounds CLEARER and PUNCHIER after removing elements.**\n\n---\n\n**Step 9: Check Frequency Spectrum Visually**\n\n**Use spectrum analyzer to verify frequency separation:**\n\n**Good Spectrum (Chorus):**\n\\`\\`\\`\n20-60Hz:   Strong peak (808 bass)\n60-200Hz:  Strong peak (kick body)\n200-500Hz: Moderate energy (piano low notes)\n500Hz-2kHz: Strong peak (vocals dominant)\n2-6kHz:    Moderate energy (vocal clarity, piano highs)\n6-12kHz:   Strong peak (hi-hats)\n12-20kHz:  Light energy (air, reverb)\n\\`\\`\\`\n\n**Each frequency band has distinct activity. Balanced, separated.**\n\n---\n\n**Bad Spectrum (Muddy Chorus):**\n\\`\\`\\`\n20-60Hz:   Weak (no sub-bass)\n60-500Hz:  MASSIVE PEAK (everything piled up)\n500Hz-2kHz: MASSIVE PEAK (everything piled up)\n2-12kHz:   Weak (no highs)\n12-20kHz:  Nothing (no air)\n\\`\\`\\`\n\n**All energy concentrated in low-mids/mids. This will sound muddy no matter how much you mix.**\n\n**Fix:** Remove elements from 60Hz-2kHz, spread them vertically.\n\n---\n\n**Step 10: Reference Against Professional Track**\n\n**Import a professional track in your genre:**\n\n**A/B Comparison:**\n\n1. **Your Track:**\n   - Frequency balance (spectrum analyzer)\n   - Stereo width (stereo analyzer)\n   - Peak level (-12dB to -6dB)\n   - Element count (5 max)\n\n2. **Professional Reference:**\n   - Frequency balance (note: probably similar to yours if done right)\n   - Stereo width (note: vocals centered, sides filled)\n   - Peak level (probably -12dB to -6dB)\n   - Element count (count audible elements—usually 4-6)\n\n3. **Adjust Your Track to Match:**\n   - If your mids are too loud: Remove mid-heavy elements\n   - If your stereo width is too narrow: Pan more elements L/R\n   - If your levels are too hot: Lower all faders\n\n**Goal:** Your arrangement should have similar frequency balance, stereo width, and element density as the professional reference.\n\n---\n\n**Common Mix-Ready Arrangement Mistakes (And Fixes):**\n\n**❌ Mistake: \"My mix sounds muddy no matter what I do\"**\n\n**✓ Fix:**\n- Too many elements in the mid-range (200Hz-2kHz)\n- Remove 2-3 mid-heavy elements (piano, rhythm guitar, pad)\n- High-pass non-bass elements at 100-200Hz\n- Result: Instant clarity\n\n---\n\n**❌ Mistake: \"My track has no low-end punch\"**\n\n**✓ Fix:**\n- Bass/kick are stereo (should be mono)\n- Low frequencies panned L/R (should be center)\n- Collapse bass/kick to mono, center-pan them\n- Result: Focused, powerful low-end\n\n---\n\n**❌ Mistake: \"Everything sounds squashed and lifeless\"**\n\n**✓ Fix:**\n- No dynamic range in arrangement (everything loud)\n- Master bus hitting 0dB (no headroom)\n- Lower all faders by 6-12dB\n- Create dynamic contrast (sparse verse, full chorus)\n- Result: Breathing room, dynamic impact\n\n---\n\n**❌ Mistake: \"My mix sounds great in stereo but terrible in mono\"**\n\n**✓ Fix:**\n- Phase cancellation (identical doubled signals panned L/R)\n- Re-record doubles (two different takes, not copies)\n- OR: Delay one side by 10-20ms (Haas effect)\n- Test in mono after every stereo processing\n- Result: Mono-compatible, works on all playback systems\n\n---\n\n**❌ Mistake: \"I can't hear the lead vocal clearly\"**\n\n**✓ Fix:**\n- Too many elements competing in the mid-range (500Hz-3kHz)\n- EQ competing elements: Cut at 1-3kHz (make room for vocal)\n- OR: Remove elements entirely (piano, rhythm guitar)\n- Result: Vocal clarity\n\n---\n\n**❌ Mistake: \"My arrangement sounds narrow and small\"**\n\n**✓ Fix:**\n- Everything panned center (no stereo width)\n- Pan supporting elements L/R (guitars, keys, harmonies)\n- Keep only lead vocal, kick, snare, bass centered\n- Result: Wide, spacious, professional\n\n---\n\n**Final Mix-Ready Arrangement Checklist:**\n\nBefore moving to mixing, verify:\n\n✓ **Element count: 4-5 max per section** (never more than 6)\n✓ **Frequency zones assigned** (each element has primary zone)\n✓ **Stereo field planned** (not everything centered)\n✓ **Headroom: -12dB to -6dB peak** (room for mixing/mastering)\n✓ **Mono compatible** (tested, no phase cancellation)\n✓ **Dynamic range: 10-15dB** (quietest section to loudest section)\n✓ **Mute test passed** (every element adds value)\n✓ **Spectrum balanced** (no massive peaks in one frequency range)\n✓ **Reference-matched** (similar to professional track)\n\n**If all boxes checked:** Your arrangement is mix-ready. Mixing will be fast and effortless.\n\n---\n\n**What's Next:**\n\nIn Lesson 20 (Final Capstone), you'll apply ALL arrangement techniques (lessons 1-19) to create a complete, professional, radio-ready track from scratch. Mix-ready arrangement principles will be essential for your capstone project.\n        `\n      }\n    ]\n  }\n};\n\nif (typeof window !== 'undefined') window.LESSON_CONFIG = lessonConfig;\n",
    "number": 19,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "arrangement-18",
      "arrangement-17"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Arranging for the Mix:",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-19",
    "filename": "lesson-bass-19.config.js",
    "title": "Bass Expression & Automation:",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 19 - Bass Expression & Automation\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-19-progress\",\n  lessonNumber: 19,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-bass-20.html\",\n  prevLessonUrl: \"lesson-bass-18.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 19, categoryLabel: \"Bass & Low End\" }),\n    title: \"Bass Expression & Automation:\",\n    titleHighlight: \"Bass Expression & Automation\",\n    subtitle: \"Bring bass to life with automation, pitch glides, portamento, and expression control. Add movement and emotion. Learn professional techniques used in industry-standard productions.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    bars: 2,\n    noteRange: { min: 36, max: 60 },\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Complete the Bass Exercise\",\n    description: \"Bring bass to life with automation, pitch glides, portamento, and expression control. Add movement and emotion. This lesson covers professional techniques for Bass Expression & Automation.\",\n    tip: \"Focus on the foundational elements and build complexity gradually. Listen critically to how each technique affects the overall bass sound.\",\n    steps: [\n      '<strong>Step 1</strong> — Study the theory sections to understand the concepts.',\n      '<strong>Step 2</strong> — Analyze the target pattern and identify key characteristics.',\n      '<strong>Step 3</strong> — Program the bass pattern following the guidelines.',\n      '<strong>Step 4</strong> — Listen critically and compare to reference tracks.',\n      '<strong>Step 5</strong> — Experiment with variations while maintaining the core technique.',\n      'Check when ready to validate your work.'\n    ]\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Core Concepts',\n        content: `This lesson explores Bass Expression & Automation with focus on professional production techniques.\n\n**Key Learning Points:**\n- Understanding the characteristic sound and feel\n- Rhythm and timing considerations\n- Frequency management and sonic characteristics\n- Genre-specific applications\n- Professional mixing and processing techniques\n\nMaster these concepts to create bass that sits perfectly in any mix and serves the song effectively.`\n      },\n      {\n        title: 'Professional Application',\n        content: `Apply Bass Expression & Automation techniques in your productions:\n\n**Production Workflow:**\n1. Start with a clear sonic goal\n2. Choose appropriate synthesis or sample method\n3. Program the rhythm with intention\n4. Process for clarity and power\n5. Mix in context with other elements\n\n**Common Use Cases:**\n- Genre-specific productions\n- Creative sound design\n- Professional mixing scenarios\n- Live performance considerations\n\nStudy reference tracks to hear these techniques in action.`\n      }\n    ]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [\n      { pitch: 40, step: 0, duration: 2, velocity: 100 },\n      { pitch: 47, step: 2, duration: 2, velocity: 90 },\n      { pitch: 40, step: 4, duration: 2, velocity: 95 },\n      { pitch: 43, step: 6, duration: 2, velocity: 85 }\n    ],\n    highlightScale: [40, 42, 43, 45, 47, 48, 50, 52],\n    showChordDetection: false,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master Bass Expression & Automation techniques and concepts\",\n    \"Apply professional production workflows\",\n    \"Understand genre-specific bass characteristics\",\n    \"Develop critical listening skills for bass\",\n    \"Create industry-standard bass productions\"\n  ],\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete the bass exercise to master this technique.\",\n    success: \"Excellent! You've mastered Bass Expression & Automation. Professional-level skills!\",\n    error: \"Review the theory and target pattern. Pay attention to the key characteristics.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these professional techniques!\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 19,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "bass-18",
      "bass-17"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Bass Expression & Automation:",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-19",
    "filename": "lesson-drums-19.config.js",
    "title": "Drum Mixing Basics:",
    "category": "Drums & Rhythm",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Drums 19 - Professional Drum Mixing\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-drums-19-progress\",\n  lessonNumber: 19,\n  lessonCategory: \"Drums & Rhythm\",\n  depthLevel: 10,\n\n  nextLessonUrl: \"lesson-drums-20.html\",\n  prevLessonUrl: \"lesson-drums-14.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 19, categoryLabel: \"Drums & Rhythm\" }),\n    title: \"Drum Mixing Basics:\",\n    titleHighlight: \"Balance & Panning\",\n    subtitle: \"Learn the <strong>fundamentals of drum mixing</strong>. Understand what <strong>volume</strong> and <strong>pan</strong> do, and how to <strong>balance drum elements</strong> for a cohesive, stereophonic sound. This is about getting your levels right before adding any processing—the foundation of a great mix.\"\n  },\n  \n  sequencer: {\n    tempo: 110,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    enableVelocity: true,\n    requiredTempo: 110\n  },\n\n  exercise: {\n    title: \"Balance Your Drum Mix\",\n    description: \"In this exercise, you'll learn to <strong>balance drum elements using volume and panning</strong>. Before adding EQ, compression, or effects, the single most important step in mixing is getting your relative levels right and placing sounds in the stereo field. A well-balanced mix with good panning will sound clear and powerful even without processing.\",\n    tip: \"Start with all faders at 0 dB. Bring up the kick first (usually loudest), then add the snare, then layer in the rest. Use panning to create width and separation!\",\n    steps: [\n      { text: \"<strong>Set the tempo to 110 BPM</strong> using the Tempo slider.\" },\n      { text: \"<strong>Program a basic drum pattern</strong> using the step sequencer (kick on beats 1, 5, 9, 13; snare on beats 5, 13; hi-hats every other step).\" },\n      { text: \"<strong>Adjust volume faders</strong> in the mixer below to balance your drums (kick and snare usually loudest, hi-hats and percussion quieter).\" },\n      { text: \"<strong>Pan your drums</strong> to create stereo width (kick/snare center, hi-hats and toms slightly left/right).\" },\n      { text: \"<strong>Listen critically</strong> and refine until you have a balanced, cohesive drum mix with good stereo imaging.\" }\n    ]\n  },\n  \n  // Instruments with specific samples from different folders\n  instruments: [\n    {\n      id: \"kick\",\n      label: \"Kick\",\n      color: \"linear-gradient(135deg, #e17055, #d63031)\",\n      samplePath: \"samples/drums/kick/Ghosthack-AC23_Kick_Clean.wav\",\n      targetSteps: [0, 4, 8, 12],\n      defaultVolume: 0.9,  // 0.0 to 1.0\n      defaultPan: 0,       // -1 (left) to 1 (right), 0 = center\n      instructionText: \"Kick drum - the foundation. Keep it centered and loud.\"\n    },\n    {\n      id: \"snare\",\n      label: \"Snare\",\n      color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\",\n      samplePath: \"samples/drums/snare/Ghosthack-AC23_Cobra Snare.wav\",\n      targetSteps: [4, 12],\n      defaultVolume: 0.85,\n      defaultPan: 0,\n      instructionText: \"Snare - the backbeat. Usually center, almost as loud as kick.\"\n    },\n    {\n      id: \"hihat\",\n      label: \"Hi-Hat\",\n      color: \"linear-gradient(135deg, #00cec9, #0984e3)\",\n      samplePath: \"samples/drums/hihat/Ghosthack-AC23_Central Hihat.wav\",\n      targetSteps: [2, 6, 10, 14],\n      defaultVolume: 0.6,\n      defaultPan: 0.3,  // Slightly right\n      instructionText: \"Hi-hats - add rhythm. Pan slightly for width, keep quieter than kick/snare.\"\n    },\n    {\n      id: \"clap\",\n      label: \"Clap\",\n      color: \"linear-gradient(135deg, #fd79a8, #e84393)\",\n      samplePath: \"samples/drums/clap/Ghosthack-AC23_Lo_Fi Clap.wav\",\n      targetSteps: [],\n      defaultVolume: 0.7,\n      defaultPan: -0.2,  // Slightly left\n      instructionText: \"Clap/rimshot - adds texture. Can layer with snare or use independently.\"\n    },\n    {\n      id: \"tom\",\n      label: \"Tom\",\n      color: \"linear-gradient(135deg, #a29bfe, #6c5ce7)\",\n      samplePath: \"samples/drums/tom/Ghosthack-AC23_Tom_Dreamy.wav\",\n      targetSteps: [],\n      defaultVolume: 0.75,\n      defaultPan: -0.5,  // Left\n      instructionText: \"Tom - for fills and transitions. Pan left or right for stereo interest.\"\n    },\n    {\n      id: \"rim\",\n      label: \"Rim\",\n      color: \"linear-gradient(135deg, #74b9ff, #0984e3)\",\n      samplePath: \"samples/drums/rim/Rimshot LM1 18.wav\",\n      targetSteps: [],\n      defaultVolume: 0.65,\n      defaultPan: 0.4,  // Right\n      instructionText: \"Rimshot - percussive accent. Great for adding rhythmic detail.\"\n    },\n    {\n      id: \"crash\",\n      label: \"Crash\",\n      color: \"linear-gradient(135deg, #fab1a0, #ff7675)\",\n      samplePath: \"samples/drums/crash/crash.wav\",\n      targetSteps: [],\n      defaultVolume: 0.7,\n      defaultPan: -0.6,  // Far left\n      instructionText: \"Crash cymbal - for emphasis and transitions. Pan wide for impact.\"\n    }\n  ],\n  \n  messages: applyMessagePreset(\"drums\", {\n    initial: \"Program a drum pattern and use the mixer to balance your drums!\",\n    success: \"🎛️ Excellent balance! Your drums have clarity and stereo width.\",\n    error: \"Try adjusting your volume levels and panning for better balance.\"\n  }),\n\n  mode: {\n    sandbox: true,\n    showVelocityLane: true,\n    enableMixer: true  // Enable the mixer component\n  },\n\n  learningObjectives: [\n    \"Understand what volume (gain) does and how to set relative levels\",\n    \"Learn what panning is and how it creates stereo width\",\n    \"Balance drum elements for clarity and power\",\n    \"Create stereophonic drum mixes using panning techniques\",\n    \"Develop critical listening skills for mixing\"\n  ],\n\n  // Educational content about mixing\n  mixingTheory: {\n    title: \"Mixing Fundamentals: Volume & Pan\",\n    sections: [\n      {\n        heading: \"What is Volume (Gain)?\",\n        content: `<strong>Volume</strong> (also called <strong>gain</strong> or <strong>level</strong>) controls how loud a sound is. In mixing, it's not just about \"loudness\"—it's about <strong>relative balance</strong>.\n\nThe most important element should be loudest, supporting elements should be quieter. In drums:\n• <strong>Kick & Snare:</strong> Usually loudest (foundation + backbeat)\n• <strong>Hi-hats:</strong> Quieter, providing rhythm without overpowering\n• <strong>Percussion:</strong> Even quieter, adding texture and detail\n\nThink of volume like layers in a painting—some elements are foreground (loud), others are background (quiet). Getting this balance right is 80% of a good mix.`\n      },\n      {\n        heading: \"What is Panning?\",\n        content: `<strong>Panning</strong> controls where a sound sits in the <strong>stereo field</strong>—from left speaker to right speaker. Your ears hear slightly different signals from each speaker, creating a sense of width and space.\n\n• <strong>Center (0):</strong> Equal in both speakers—powerful, focused\n• <strong>Left (-1) / Right (+1):</strong> More in one speaker—creates width\n• <strong>Slight pan (±0.2 to ±0.4):</strong> Subtle width without losing focus\n\n<strong>Why pan?</strong> When all drums are centered, they fight for the same space. Panning separates them, making each element clearer and creating a more engaging, \"3D\" listening experience.`\n      },\n      {\n        heading: \"Basic Drum Panning Strategy\",\n        content: `Here's a classic approach to panning drums for a balanced stereo mix:\n\n<strong>Center (0):</strong>\n• Kick drum (foundation—needs power)\n• Snare (backbeat—needs focus)\n• Bass (sub frequencies work best in center)\n\n<strong>Slightly Off-Center (±0.2 to ±0.4):</strong>\n• Hi-hats (add width without losing focus)\n• Rim shots / snaps\n• Shakers and light percussion\n\n<strong>Wide (±0.5 to ±0.8):</strong>\n• Toms (left to right like a drum kit)\n• Crashes and cymbals (dramatic width)\n• Ambient percussion\n\n<strong>Tip:</strong> Imagine you're sitting in front of a drummer. Kick and snare are center, hi-hat is to one side, toms spread left to right. This creates a natural, realistic stereo image.`\n      },\n      {\n        heading: \"Mixing Tips for Drums\",\n        content: `<strong>1. Start with the foundation:</strong> Bring up the kick first, then add snare, then layer everything else on top.\n\n<strong>2. Leave headroom:</strong> Don't make everything loud! Quieter elements add depth and let the important sounds breathe.\n\n<strong>3. Check in mono:</strong> A mix that sounds good in mono (one speaker) will sound amazing in stereo. If it's muddy in mono, adjust volumes.\n\n<strong>4. Use panning for separation:</strong> If two sounds clash (e.g., hi-hat and shaker), pan them apart slightly.\n\n<strong>5. Trust your ears:</strong> Numbers are guides, but your ears are the final judge. If it sounds good, it is good.\n\n<strong>Remember:</strong> Great mixes start with great balance. Before reaching for EQ or compression, get your levels and panning right. Processing can't fix a poorly balanced mix!`\n      }\n    ]\n  }\n};\n\nif (typeof window !== 'undefined') window.LESSON_CONFIG = lessonConfig;\n",
    "number": 19,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "drums-18",
      "drums-17"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Drum Mixing Basics:",
      "Prepararsi alla lezione successiva del modulo Drums & Rhythm"
    ]
  },
  {
    "slug": "harmony-19",
    "filename": "lesson-harmony-19.config.js",
    "title": "Reharmonize a Melody:",
    "category": "Expert Techniques",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 19 - Reharmonize a Melody: 3 Different Backings\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-19-progress\",\n  lessonNumber: 19,\n  lessonCategory: \"Expert Techniques\",\n\n  nextLessonUrl: \"lesson-harmony-20.html\",\n  prevLessonUrl: \"lesson-harmony-18.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 19, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Reharmonize a Melody:\",\n    titleHighlight: \"3 Different Backings\",\n    subtitle: \"Take one melody and support it with three different chord progressions. You'll learn reharmonization - the art of changing the chords under a melody to create different moods. This is how producers create remixes, bridge sections, and harmonic variations.\"\n  },\n\n  sequencer: {\n    tempo: 100,\n    key: \"C\",\n    scale: \"Major\",\n    stepCount: 96,\n    bars: 6,\n    pitchRange: {\n      low: 48,\n      high: 84\n    }\n  },\n\n  exercise: {\n    title: \"Reharmonize the Same Melody Three Ways\",\n    description: \"You'll be given a simple melody: <strong>C-D-E-D-C-G-E-C</strong>. Harmonize it three different ways: (1) Simple major chords, (2) Modal minor approach, (3) Jazz reharmonization. Same melody, completely different emotional impact based on chord choices.\",\n    tip: \"Reharmonization is choosing different chords that fit the same melody notes. A melody note can be supported by multiple chords - C works over C major, F major, Am, Dm, etc. By changing chords, you change the emotional color without changing the melody. This is how jazz musicians take standards and make them their own!\",\n    steps: [\n      { text: \"Bars 1-2: Melody <strong>C-D-E-D-C-G-E-C</strong> over <strong>C → G</strong> (simple, bright)\" },\n      { text: \"Bars 3-4: SAME melody over <strong>Am → Em</strong> (darker, minor feel)\" },\n      { text: \"Bars 5-6: SAME melody over <strong>Fmaj7 → Em7 → Dm7 → G7</strong> (jazz movement)\" },\n      { text: \"Keep the melody identical - only chords change!\" },\n      { text: \"Listen how the same notes feel completely different with different harmony\" },\n      { text: \"This is reharmonization - harmonic transformation\" }\n    ]\n  },\n\n  validation: {\n    type: \"reharmonization_exercise\",\n    fixedMelody: {\n      notes: [60, 62, 64, 62, 60, 67, 64, 60],  // C-D-E-D-C-G-E-C\n      positions: [0, 4, 8, 12, 16, 20, 24, 28]\n    },\n    harmonizations: [\n      {\n        bars: [0, 1],\n        chords: [\n          { time: 0, pitches: [48, 52, 55], chordName: \"C\" },\n          { time: 16, pitches: [55, 59, 62], chordName: \"G\" }\n        ]\n      },\n      {\n        bars: [2, 3],\n        chords: [\n          { time: 32, pitches: [57, 60, 64], chordName: \"Am\" },\n          { time: 48, pitches: [52, 55, 59], chordName: \"Em\" }\n        ]\n      },\n      {\n        bars: [4, 5],\n        chords: [\n          { time: 64, pitches: [53, 57, 60, 64], chordName: \"Fmaj7\" },\n          { time: 72, pitches: [52, 55, 59, 62], chordName: \"Em7\" },\n          { time: 80, pitches: [50, 53, 57, 60], chordName: \"Dm7\" },\n          { time: 88, pitches: [55, 59, 62, 65], chordName: \"G7\" }\n        ]\n      }\n    ],\n    mustPreserveMelody: true\n  },\n\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Melody: C-D-E-D-C-G-E-C (repeated 3 times). Bars 1-2: C→G. Bars 3-4: Am→Em. Bars 5-6: Fmaj7→Em7→Dm7→G7. Same melody, different chords!\",\n    success: \"Brilliant! You've mastered reharmonization - the art of harmonic transformation. Notice how the same melody feels completely different with different chord choices!\",\n    error: \"Keep the melody IDENTICAL in all 3 sections: C-D-E-D-C-G-E-C. Only change the chords underneath. Section 1: C→G, Section 2: Am→Em, Section 3: Fmaj7→Em7→Dm7→G7.\"\n  }),\n\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 19,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "harmony-18",
      "harmony-17"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Reharmonize a Melody:",
      "Prepararsi alla lezione successiva del modulo Expert Techniques"
    ]
  },
  {
    "slug": "mixing-19",
    "filename": "lesson-mixing-19.config.js",
    "title": "Stem Mixing &",
    "category": "Mixing",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-19-progress\",\n  lessonNumber: 19,\n  lessonCategory: \"Mixing\",\n  depthLevel: 10,\n  \n  nextLessonUrl: \"lesson-mixing-20.html\",\n  prevLessonUrl: \"lesson-mixing-18.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-mixing-19\", categoryLabel: \"Mixing\" }),\n    title: \"Stem Mixing &\",\n    titleHighlight: \"Bus Processing\",\n    subtitle: \"Organize complex mixes with <strong>stem groups, bus compression, and group processing</strong> for cohesive, professional sound. Master signal flow, routing, and how to glue elements together like the pros.\"\n  },\n  \n  sequencer: {\n    tempo: 125,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true,\n    requiredTempo: 125\n  },\n  \n  exercise: {\n    title: \"Build Stem Groups Architecture\",\n    description: \"Create a <strong>multi-layered pattern representing different stem groups</strong>: drums, bass, melodic elements, and effects. Understand how professional mixers organize complex sessions into manageable buses for group processing.\",\n    tip: \"Each instrument color represents a different stem bus. Drums bus (red), Bass bus (purple), Melodic bus (blue), FX bus (yellow). In real mixes, each bus gets compression, EQ, and glue processing.\",\n    steps: [\n      { text: \"<strong>Set tempo to 125 BPM</strong> for a punchy, energetic feel.\" },\n      { text: \"<strong>Program drums bus</strong> (kick + snare pattern) on steps 1, 5, 9, 13 with velocity 110-120.\" },\n      { text: \"<strong>Add bass bus</strong> on steps 3, 7, 11, 15 with velocity 90-100.\" },\n      { text: \"<strong>Layer melodic bus</strong> (chords/melody) on steps 1, 3, 5, 7, 9, 11, 13, 15 with velocity 80-90.\" },\n      { text: \"<strong>Add FX bus</strong> (hi-hats/cymbals) on all 16 steps with velocity 50-60.\" },\n      { text: \"<strong>Listen</strong> to how different buses create an organized, layered mix architecture.\" }\n    ]\n  },\n  \n  instruments: [\n    {\n      id: \"drums-bus\",\n      label: \"Drums Bus\",\n      color: \"linear-gradient(135deg, #e17055, #d63031)\",\n      targetSteps: [0, 4, 8, 12],\n      oscillator: { type: \"sine\", detune: 0 },\n      envelope: { attack: 0.001, decay: 0.15, sustain: 0, release: 0.05 },\n      filter: { type: \"lowpass\", frequency: 150, Q: 2.0 }\n    },\n    {\n      id: \"bass-bus\",\n      label: \"Bass Bus\",\n      color: \"linear-gradient(135deg, #6c5ce7, #5f27cd)\",\n      targetSteps: [2, 6, 10, 14],\n      oscillator: { type: \"sawtooth\", detune: 0 },\n      envelope: { attack: 0.01, decay: 0.2, sustain: 0.6, release: 0.15 },\n      filter: { type: \"lowpass\", frequency: 400, Q: 1.5 }\n    },\n    {\n      id: \"melodic-bus\",\n      label: \"Melodic Bus\",\n      color: \"linear-gradient(135deg, #74b9ff, #0984e3)\",\n      targetSteps: [0, 2, 4, 6, 8, 10, 12, 14],\n      oscillator: { type: \"triangle\", detune: 7 },\n      envelope: { attack: 0.05, decay: 0.3, sustain: 0.5, release: 0.4 },\n      filter: { type: \"lowpass\", frequency: 2400, Q: 1.0 }\n    },\n    {\n      id: \"fx-bus\",\n      label: \"FX Bus\",\n      color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\",\n      targetSteps: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],\n      oscillator: { type: \"noise\", detune: 0 },\n      envelope: { attack: 0.001, decay: 0.05, sustain: 0, release: 0.02 },\n      filter: { type: \"highpass\", frequency: 8000, Q: 1.0 }\n    }\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Understanding Stem Mixing & Signal Flow',\n        content: `**What Are Stems?**\n**Stems** are grouped submixes of related tracks sent to a single bus for processing:\n- **Drums Stem:** All drum tracks (kick, snare, hi-hats, toms, cymbals, percussion)\n- **Bass Stem:** All bass elements (sub bass, bass guitar, bass synth)\n- **Melodic Stem:** Chords, pads, arpeggios, lead synths\n- **Vocal Stem:** Lead vocals, backing vocals, harmonies, ad-libs\n- **FX Stem:** Reverb returns, delay throws, risers, impacts\n\n**Why Use Stem Mixing?**\n- **Organization:** Manage 100+ tracks as 10-15 stem buses\n- **Efficiency:** Process groups instead of individual tracks\n- **Cohesion:** Glue elements together with bus compression\n- **Flexibility:** Automate entire groups at once\n- **Collaboration:** Send stems to mastering engineer or remix artists\n\n**Signal Flow:**\nIndividual Tracks → Stem Buses → Mix Bus → Master Fader\n\nExample:\n- **Kick track** → **Drums Bus** → **Mix Bus** → **Master**\n- **Snare track** → **Drums Bus** → **Mix Bus** → **Master**\n- **Hi-hat track** → **Drums Bus** → **Mix Bus** → **Master**\n\n**Standard Stem Groups:**\n\n**1. Drums:**\n- Kick (sub-group)\n- Snare + claps\n- Hi-hats + cymbals\n- Toms\n- Percussion\n- Room mics\n\n**2. Bass:**\n- Sub bass\n- Mid bass\n- Bass guitar\n- Bass synths\n\n**3. Melodic:**\n- Chords / pads\n- Lead synth / guitar\n- Arpeggios\n- Plucks\n- Strings / brass\n\n**4. Vocals:**\n- Lead vocal\n- Doubles\n- Harmonies / backing vocals\n- Ad-libs / shouts\n\n**5. FX / Ambience:**\n- Reverb returns\n- Delay returns\n- Risers / sweeps\n- Impacts / hits\n- Atmospheric FX\n\n**6. Mix Bus:**\nAll stems → Mix Bus (final processing before master)\n\n**7. Master Fader:**\nFinal output (no processing here—leave headroom for mastering)`\n      },\n      {\n        title: 'Bus Compression & Glue',\n        content: `**What Is Bus Compression?**\nCompression applied to a **group of tracks** (a bus) to glue them together and control their collective dynamics.\n\n**Goals:**\n- **Cohesion:** Make individual elements feel like one instrument\n- **Control:** Tame peaks across the group\n- **Character:** Add analog warmth and color\n- **Energy:** Increase sustain and perceived loudness\n\n**Bus Compression Settings (General):**\n- **Ratio:** 2:1 to 4:1 (gentle to moderate)\n- **Attack:** 10-30ms (let transients through)\n- **Release:** Auto or 100-300ms (natural recovery)\n- **Threshold:** Light gain reduction (2-4dB)\n- **Makeup Gain:** Compensate for lost level\n- **Knee:** Soft knee for smooth compression\n\n**Drum Bus Compression:**\n**Purpose:** Glue drums together, add punch and sustain\n\n**Settings:**\n- **Compressor Type:** VCA (SSL Bus Comp, API 2500) or FET (1176)\n- **Ratio:** 4:1\n- **Attack:** 10-30ms (slower = more punch, faster = more control)\n- **Release:** 100-300ms (or auto)\n- **Threshold:** 2-4dB gain reduction\n- **Knee:** Soft\n- **Output:** Makeup gain to match bypass level\n\n**Pro Tip:** Use **parallel drum bus compression** for even more power without squashing transients.\n\n**Bass Bus Compression:**\n**Purpose:** Even out bass dynamics, add sustain\n\n**Settings:**\n- **Compressor Type:** Opto (LA-2A) or VCA\n- **Ratio:** 3:1 to 6:1\n- **Attack:** 20-50ms (let sub transient through)\n- **Release:** 100-200ms\n- **Threshold:** 3-6dB gain reduction\n- **Result:** Consistent, powerful bass that doesn't poke out\n\n**Melodic Bus Compression:**\n**Purpose:** Glue synths/guitars/keys together, control dynamics\n\n**Settings:**\n- **Compressor Type:** VCA or Tube (Fairchild, Manley Vari-Mu)\n- **Ratio:** 2:1 to 3:1\n- **Attack:** 20-40ms\n- **Release:** 200-500ms (slower, maintain atmosphere)\n- **Threshold:** 2-3dB gain reduction\n- **Result:** Smooth, cohesive melodic layer\n\n**Vocal Bus Compression:**\n**Purpose:** Consistent vocal level, add presence\n\n**Settings:**\n- **Compressor Type:** Opto (LA-2A) or Tube\n- **Ratio:** 3:1 to 4:1\n- **Attack:** 10-20ms\n- **Release:** Auto or 150-300ms\n- **Threshold:** 3-5dB gain reduction\n- **Result:** Vocal sits consistently in the mix\n\n**Mix Bus Compression (Final Glue):**\n**Purpose:** Glue the entire mix together, add cohesion and \"finished\" sound\n\n**Settings:**\n- **Compressor Type:** VCA (SSL Bus Comp) or Tube (Fairchild, Manley)\n- **Ratio:** 2:1 to 3:1 (very gentle)\n- **Attack:** 30ms (slow, preserve transients)\n- **Release:** Auto or 300-500ms\n- **Threshold:** 1-3dB gain reduction MAX\n- **Knee:** Soft\n- **Result:** Cohesive, \"glued\" mix without losing dynamics\n\n**⚠️ Critical Rule:**\nMix bus compression should be **subtle**. If you hear obvious pumping or loss of transients, you're compressing too much.\n\n**When to Add Mix Bus Compression:**\n- **Option 1:** Add it early in the mix process and mix into it (helps you hear the final sound)\n- **Option 2:** Add it at the end as final glue\n- **Pro preference:** Most pros add it early and mix into it`\n      },\n      {\n        title: 'Bus EQ & Processing Chains',\n        content: `**Bus EQ Philosophy:**\nUse EQ on buses to **shape the overall tone** of a group, not to fix individual problems (do that on individual tracks).\n\n**Drum Bus EQ:**\n**Purpose:** Shape overall drum tone, add weight or brightness\n\n**Common Moves:**\n- **High-pass:** 30-40 Hz (remove sub rumble)\n- **Low boost:** +1 to +3dB at 60-100 Hz (add weight and power)\n- **Mid cut:** -1 to -2dB at 200-400 Hz (reduce boxiness)\n- **Presence boost:** +1 to +3dB at 3-5 kHz (add crack and attack)\n- **Air boost:** +1 to +2dB at 10-12 kHz (add sparkle to cymbals)\n\n**Bass Bus EQ:**\n**Purpose:** Tighten low-end, add clarity\n\n**Common Moves:**\n- **Sub focus:** Slight boost at 40-60 Hz (sub weight)\n- **Mud cut:** -2 to -4dB at 200-300 Hz (clarity)\n- **Presence:** +1 to +2dB at 800 Hz - 1.5 kHz (mid-range punch)\n- **High-pass:** Everything above 5 kHz (bass doesn't need highs)\n\n**Melodic Bus EQ:**\n**Purpose:** Carve space for vocals, create air\n\n**Common Moves:**\n- **High-pass:** 80-150 Hz (leave room for bass and kick)\n- **Notch cut:** -2 to -3dB at vocal presence range (2-4 kHz) to make space\n- **Air boost:** +1 to +3dB at 8-12 kHz (sparkle and width)\n\n**Vocal Bus EQ:**\n**Purpose:** Enhance presence, reduce harshness\n\n**Common Moves:**\n- **High-pass:** 80-120 Hz (remove low-end rumble)\n- **Warmth:** +1 to +2dB at 200-400 Hz (if vocals are thin)\n- **Presence:** +2 to +4dB at 3-5 kHz (intelligibility, cut through mix)\n- **Air:** +2 to +4dB at 10-12 kHz (modern, expensive sound)\n- **De-harsh:** -1 to -3dB at 2-3 kHz or 6-8 kHz (if needed)\n\n**Mix Bus EQ:**\n**Purpose:** Final tone shaping, add polish\n\n**Common Moves:**\n- **High-pass:** 20-30 Hz (remove inaudible sub rumble that eats headroom)\n- **Low-end tightness:** Gentle shelf or cut at 40-60 Hz (-0.5 to -1dB)\n- **Warmth:** +0.5 to +1dB at 200-400 Hz (if mix feels thin)\n- **Presence:** +0.5 to +1.5dB at 3-5 kHz (if mix feels dull)\n- **Air:** +1 to +2dB shelving above 10 kHz (sparkle and openness)\n\n**⚠️ Critical Rule:**\nMix bus EQ should be **subtle** (±1-2dB max). Large EQ moves on the mix bus indicate problems in individual tracks or buses.\n\n**Complete Bus Processing Chain Order:**\n1. **High-pass filter** (clean up low end)\n2. **Corrective EQ** (problem frequencies)\n3. **Compression** (dynamics control and glue)\n4. **Creative EQ** (tone shaping, air, presence)\n5. **Saturation** (harmonic richness, optional)\n6. **Stereo imaging** (widening, optional)\n7. **Send to reverb/delay** (if using aux sends)\n\n**Example: Professional Drum Bus Chain**\n1. High-pass at 40 Hz\n2. EQ: -2dB at 300 Hz (reduce boxiness)\n3. VCA compression: 4:1, 30ms attack, auto release, 3dB GR\n4. EQ: +2dB at 4 kHz (add crack), +1dB at 12 kHz (air)\n5. Saturation: Subtle tape or analog color\n6. **Result:** Powerful, cohesive, punchy drums`\n      },\n      {\n        title: 'Advanced Stem Organization & Workflow',\n        content: `**Color Coding & Naming:**\nOrganize your DAW session for speed and clarity:\n\n**Color Scheme:**\n- **Red:** Drums\n- **Orange:** Percussion\n- **Purple:** Bass\n- **Blue:** Synths / melodic elements\n- **Green:** Vocals\n- **Yellow:** FX / ambience\n- **Gray:** Buses and groups\n\n**Naming Convention:**\nUse consistent prefixes:\n- **DRM-** Kick, Snare, Hi-Hat, etc.\n- **PERC-** Shaker, Tambourine, Claps\n- **BASS-** Sub, Mid, Synth Bass\n- **SYN-** Lead, Pad, Pluck, Arp\n- **VOX-** Lead, Double, Harmony, Ad-Lib\n- **FX-** Riser, Impact, Sweep, Atmosphere\n- **BUS-** Drums, Bass, Melodic, Vocal, FX\n- **RTN-** Reverb Return, Delay Return\n\n**Example Session Layout:**\n```\n[BUS-DRUMS]\n  ├─ DRM-Kick\n  ├─ DRM-Snare\n  ├─ DRM-Hi-Hat Closed\n  ├─ DRM-Hi-Hat Open\n  └─ DRM-Ride\n[BUS-BASS]\n  ├─ BASS-Sub\n  ├─ BASS-Mid\n[BUS-MELODIC]\n  ├─ SYN-Lead\n  ├─ SYN-Pad\n  ├─ SYN-Pluck\n[BUS-VOCAL]\n  ├─ VOX-Lead\n  ├─ VOX-Double\n  ├─ VOX-Harmony\n[BUS-FX]\n  ├─ RTN-Reverb\n  ├─ RTN-Delay\n[BUS-MIX]\n  └─ All stems → Mix Bus\n[MASTER]\n```\n\n**Gain Staging on Buses:**\nCritical for clean mixes:\n1. **Individual tracks:** Peak at -18dB to -12dB\n2. **Stem buses:** Peak at -6dB to -3dB before processing\n3. **Mix bus:** Peak at -6dB before mastering\n4. **Master fader:** Leave at 0dB (unity gain)\n\n**If a bus is clipping:**\n- Turn down individual tracks feeding the bus (NOT the bus fader)\n- This maintains proper gain structure\n\n**Stem Export for Mastering:**\nMany mastering engineers request stems for maximum flexibility:\n\n**How to Export Stems:**\n1. **Mute all buses except one** (e.g., Drums Bus)\n2. **Export** from start to end of song\n3. **Repeat** for each bus: Bass, Melodic, Vocal, FX\n4. **Name files clearly:** \"Song-Title_Drums.wav,\" \"Song-Title_Bass.wav\"\n5. **Specs:** 24-bit WAV, same sample rate as project, -6dB headroom\n\n**What to Include in Stems:**\n- All bus processing (EQ, compression, saturation)\n- No limiter on individual stems\n- No mix bus processing (mastering engineer will apply)\n\n**Alternative: Send Individual Tracks:**\nFor full flexibility, export every individual track (not stems):\n- More control for mastering/remix\n- Larger file size\n- More work for recipient\n\n**Sub-Buses (Buses Within Buses):**\nFor complex mixes, create hierarchies:\n\n**Example: Drum Sub-Buses**\n```\n[BUS-DRUMS] (Master drum bus with glue compression)\n  ├─ [SUB-KICK] (Kick compression)\n  │   ├─ DRM-Kick Top\n  │   └─ DRM-Kick Sub\n  ├─ [SUB-SNARE] (Snare layering + processing)\n  │   ├─ DRM-Snare Top\n  │   ├─ DRM-Snare Bottom\n  │   └─ DRM-Clap\n  └─ [SUB-HATS-CYMBALS] (High-end drum elements)\n      ├─ DRM-Hi-Hat Closed\n      ├─ DRM-Hi-Hat Open\n      └─ DRM-Ride\n```\n\n**Benefits:**\n- Process kick elements together before sending to drum bus\n- Compress snare layers as one before drum bus compression\n- Separate control over different drum frequency ranges\n\n**Automation on Buses:**\nAutomate bus levels for dynamic mixing:\n- **Verse:** Melodic bus -2dB (intimate)\n- **Chorus:** Melodic bus 0dB (full energy)\n- **Breakdown:** Drums bus -6dB (stripped back)\n- **Drop:** All buses to full level (maximum impact)\n\n**This is more efficient than automating 20 individual tracks.**`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Understand stem mixing: grouping related tracks into buses for organized, efficient mixing\",\n    \"Apply bus compression for glue: drum bus, bass bus, melodic bus, vocal bus, mix bus techniques\",\n    \"Use bus EQ to shape overall tone: high-pass filtering, tone shaping, and carving frequency space\",\n    \"Organize sessions with color coding, naming conventions, and hierarchical bus structures\",\n    \"Export stems for mastering: proper specs (24-bit WAV), headroom (-6dB), and file organization\"\n  ]\n};\n",
    "number": 19,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "mixing-18",
      "mixing-17"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Stem Mixing &",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-19",
    "filename": "lesson-sound-design-19.config.js",
    "title": "Spectral Processing &",
    "category": "Sound Design",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-sound-design-19-progress\",\n  lessonNumber: 19,\n  lessonCategory: \"Sound Design\",\n  depthLevel: 10,\n  \n  nextLessonUrl: \"lesson-sound-design-20.html\",\n  prevLessonUrl: \"lesson-sound-design-18.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-sound-design-19\", categoryLabel: \"Sound Design\" }),\n    title: \"Spectral Processing &\",\n    titleHighlight: \"Resynthesis\",\n    subtitle: \"Transform sounds at the spectral level with <strong>FFT processing, vocoding, and spectral resynthesis</strong>. Master frequency domain manipulation, cross-synthesis, and advanced spectral effects for otherworldly sounds.\"\n  },\n  \n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true,\n    requiredTempo: 120\n  },\n  \n  exercise: {\n    title: \"Build Spectral Layers\",\n    description: \"Create a <strong>pattern representing spectral processing layers</strong>: carrier (harmonic content), modulator (spectral shape), and vocoder bands. Understand how frequency domain manipulation creates hybrid, morphed sounds.\",\n    tip: \"Spectral processing works in frequency domain, not time domain. Each instrument represents a frequency band being analyzed, modified, and resynthesized.\",\n    steps: [\n      { text: \"<strong>Set tempo to 120 BPM</strong> for rhythmic spectral patterns.\" },\n      { text: \"<strong>Program carrier signal</strong> on all 16 steps with velocity 90-100 (provides harmonics).\" },\n      { text: \"<strong>Add modulator shape</strong> on steps 1, 5, 9, 13 with velocity 100-110 (imposes spectral envelope).\" },\n      { text: \"<strong>Layer low band</strong> on steps 1, 3, 5, 7 with velocity 80-90 (bass frequencies).\" },\n      { text: \"<strong>Add high band</strong> on steps 9, 11, 13, 15 with velocity 70-80 (treble frequencies).\" },\n      { text: \"<strong>Listen</strong> to how spectral analysis creates frequency-based transformations.\" }\n    ]\n  },\n  \n  instruments: [\n    {\n      id: \"carrier\",\n      label: \"Carrier\",\n      color: \"linear-gradient(135deg, #e17055, #d63031)\",\n      targetSteps: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],\n      oscillator: { type: \"sawtooth\", detune: 0 },\n      envelope: { attack: 0.01, decay: 0.2, sustain: 0.6, release: 0.3 },\n      filter: { type: \"lowpass\", frequency: 3000, Q: 0.8 }\n    },\n    {\n      id: \"modulator\",\n      label: \"Modulator\",\n      color: \"linear-gradient(135deg, #74b9ff, #0984e3)\",\n      targetSteps: [0, 4, 8, 12],\n      oscillator: { type: \"triangle\", detune: 0 },\n      envelope: { attack: 0.05, decay: 0.3, sustain: 0.4, release: 0.4 },\n      filter: { type: \"bandpass\", frequency: 1500, Q: 2.0 }\n    },\n    {\n      id: \"low-band\",\n      label: \"Low Band\",\n      color: \"linear-gradient(135deg, #6c5ce7, #5f27cd)\",\n      targetSteps: [0, 2, 4, 6],\n      oscillator: { type: \"sine\", detune: -12 },\n      envelope: { attack: 0.02, decay: 0.4, sustain: 0.5, release: 0.5 },\n      filter: { type: \"lowpass\", frequency: 400, Q: 1.5 }\n    },\n    {\n      id: \"high-band\",\n      label: \"High Band\",\n      color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\",\n      targetSteps: [8, 10, 12, 14],\n      oscillator: { type: \"sine\", detune: 12 },\n      envelope: { attack: 0.01, decay: 0.2, sustain: 0.3, release: 0.3 },\n      filter: { type: \"highpass\", frequency: 2000, Q: 1.0 }\n    }\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'FFT & Spectral Processing',\n        content: `**Fast Fourier Transform (FFT):**\nConverts time-domain signal (waveform) into frequency-domain (spectrum):\n- **Time Domain:** Amplitude over time\n- **Frequency Domain:** Amplitude per frequency\n\n**Why Use FFT?**\nEdit individual frequencies independently—impossible in time domain. Allows surgical, creative sound transformation.\n\n**Spectral Operations:**\n- **Freeze:** Sustain current spectrum indefinitely\n- **Blur:** Smear frequencies together (creates dreamy, reverb-like effect)\n- **Shift:** Move all frequencies up/down (creates dissonance)\n- **Filter:** Remove specific frequency bands surgically\n- **Gate:** Keep only loudest frequencies (creates sparse, glitchy sounds)\n\n**Spectral Delay:**\nDelay different frequencies by different amounts:\n- Low frequencies delayed more → bass lags behind highs\n- Creates comb filtering, phasing, surreal effects\n\n**Spectral Compression:**\nCompress individual frequency bands independently:\n- Bring up quiet harmonics\n- Tame harsh frequencies\n- More transparent than multiband compression`\n      },\n      {\n        title: 'Vocoding & Cross-Synthesis',\n        content: `**Vocoder Explained:**\nAnalyzes spectral envelope of modulator, applies to carrier:\n1. **Split both signals** into frequency bands (8-32 bands)\n2. **Analyze modulator** amplitude per band\n3. **Apply to carrier** frequency bands\n4. **Result:** Carrier speaks/sings like modulator\n\n**Classic Applications:**\n- **Robot voice:** Synth carrier + vocal modulator\n- **Talking instruments:** Any carrier + vocal modulator\n- **Rhythmic pads:** Pad carrier + drums modulator\n\n**Phase Vocoder:**\nAdvanced FFT-based vocoder:\n- Independent pitch and time manipulation\n- High-quality time-stretching\n- Formant preservation\n- Used in: Elastic Audio, Auto-Tune, spectral effects\n\n**Cross-Synthesis Techniques:**\n**Spectral Morphing:**\n- Interpolate between two spectra (A → B)\n- Creates smooth transformations between sounds\n- 0% = Sound A, 50% = hybrid, 100% = Sound B\n\n**Spectral Filtering:**\n- Use one sound as spectral filter for another\n- Drum loop filters synth = rhythmic, dynamic texture\n\n**Spectral Convolution:**\n- Multiply two spectra together\n- Creates hybrid timbres impossible by additive means`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Understand FFT and spectral processing: frequency-domain manipulation\",\n    \"Apply spectral operations: freeze, blur, shift, filter, gate, spectral delay\",\n    \"Master vocoding: carrier/modulator analysis, band splitting, envelope following\",\n    \"Use cross-synthesis: spectral morphing, filtering, and convolution for hybrid sounds\"\n  ]\n};\n",
    "number": 19,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "sound-design-18",
      "sound-design-17"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Spectral Processing &",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "arrangement-20",
    "filename": "lesson-arrangement-20.config.js",
    "title": "Arrangement Capstone:",
    "category": "Arrangement",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Arrangement 20 - Final Capstone Project\n *\n * This is the ultimate arrangement challenge. Apply everything learned\n * to create a professional, radio-ready arrangement from scratch.\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-arrangement-20-progress\",\n  lessonNumber: 20,\n  lessonCategory: \"Arrangement\",\n  depthLevel: 5,\n\n  nextLessonUrl: null,\n  prevLessonUrl: \"lesson-arrangement-19.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 20, categoryLabel: \"Arrangement\" }),\n    title: \"Arrangement Capstone:\",\n    titleHighlight: \"Your Masterpiece\",\n    subtitle: \"This is it. Apply <strong>everything you've learned</strong> to create a <strong>complete, professional arrangement</strong>. Use all 19 techniques to build a <strong>radio-ready track</strong> from scratch.\"\n  },\n\n  exercise: {\n    title: \"Create a Complete Professional Arrangement\",\n    description: \"Build a <strong>full 3-4 minute professional arrangement</strong> that demonstrates mastery of all arrangement techniques. This is your capstone project—make it count.\",\n    tip: \"Start with a clear vision. Choose your genre, tempo, and vibe first. Then apply the techniques systematically: structure → dynamics → layering → transitions → development. Reference a professional track you admire.\",\n    steps: [\n      { text: \"<strong>Choose genre and vibe</strong> - Clear artistic vision\" },\n      { text: \"<strong>Create strong structure</strong> - Use appropriate genre structure (Lessons 1-7)\" },\n      { text: \"<strong>Manage dynamics and energy</strong> - Build contrast and impact (Lesson 8)\" },\n      { text: \"<strong>Layer intelligently</strong> - Frequency separation, max 5 elements (Lesson 9)\" },\n      { text: \"<strong>Add musical conversation</strong> - Call-and-response patterns (Lesson 10)\" },\n      { text: \"<strong>Balance repetition and variation</strong> - 80/20 rule, rule of three (Lesson 11)\" },\n      { text: \"<strong>Build tension and release</strong> - Multiple tension-release cycles (Lesson 12)\" },\n      { text: \"<strong>Vary section density</strong> - Sparse verses, full choruses (Lesson 13)\" },\n      { text: \"<strong>Manage frequency content</strong> - Strategic frequency movement (Lesson 14)\" },\n      { text: \"<strong>Evolve rhythms</strong> - Groove variation across sections (Lesson 15)\" },\n      { text: \"<strong>Develop melodic themes</strong> - Theme and variation (Lesson 16)\" },\n      { text: \"<strong>Create pro transitions</strong> - Advanced techniques, stack 3-4 (Lesson 17)\" },\n      { text: \"<strong>Optional: Blend genres</strong> - Cross-genre elements (Lesson 18)\" },\n      { text: \"<strong>Make it mix-ready</strong> - Frequency space, headroom, separation (Lesson 19)\" },\n      { text: \"<strong>Polish and refine</strong> - Test, iterate, perfect\" }\n    ]\n  },\n\n  requirements: {\n    structure: {\n      minLength: \"2:30\",\n      maxLength: \"4:30\",\n      minSections: 5,\n      requiredSections: [\"intro\", \"verse\", \"chorus\", \"outro\"],\n      optionalSections: [\"pre-chorus\", \"bridge\", \"breakdown\", \"buildup\"]\n    },\n    dynamics: {\n      minEnergyRange: 50, // 50% difference between quietest and loudest\n      requiredDynamicContrast: true,\n      requiredSilence: 1\n    },\n    layering: {\n      maxSimultaneousElements: 5,\n      minFrequencyZones: 4,\n      requireStereoSeparation: true\n    },\n    development: {\n      requiredRepetitions: 2,\n      requiredVariations: 2,\n      melodicDevelopment: true\n    },\n    transitions: {\n      minTransitionTechniques: 3,\n      requiredAdvancedTransitions: 2\n    },\n    mixing: {\n      requiredHeadroom: 6, // 6dB minimum\n      monoCompatibility: true,\n      frequencySeparation: true\n    }\n  },\n\n  checklist: [\n    { category: \"Structure\", items: [\n      \"Clear intro-verse-chorus-outro structure\",\n      \"Appropriate length (2:30-4:30)\",\n      \"At least 5 distinct sections\",\n      \"Genre-appropriate structure\"\n    ]},\n    { category: \"Dynamics\", items: [\n      \"50%+ energy difference between sections\",\n      \"Strategic use of silence\",\n      \"Clear tension-release cycles\",\n      \"Dynamic contrast creates impact\"\n    ]},\n    { category: \"Layering\", items: [\n      \"Max 5 simultaneous elements\",\n      \"Each element in separate frequency zone\",\n      \"Stereo separation prevents clashing\",\n      \"Mono-compatible arrangement\"\n    ]},\n    { category: \"Development\", items: [\n      \"Core ideas repeated for familiarity\",\n      \"Variations added progressively\",\n      \"Melodic theme developed across sections\",\n      \"80/20 repetition-variation balance\"\n    ]},\n    { category: \"Transitions\", items: [\n      \"Pro transition techniques used\",\n      \"Multiple techniques stacked\",\n      \"Smooth section changes\",\n      \"At least one unexpected transition\"\n    ]},\n    { category: \"Mix-Ready\", items: [\n      \"6dB+ headroom on master\",\n      \"Clear frequency separation\",\n      \"Works in mono\",\n      \"Professional sound quality\"\n    ]}\n  ],\n\n  messages: applyMessagePreset(\"arrangement\", {\n    initial: \"Create your arrangement masterpiece using all 19 techniques!\",\n    success: \"INCREDIBLE! You've created a professional-grade arrangement. You've mastered the art of arrangement. This is radio-ready, mix-ready, and ready to share with the world. Congratulations!\",\n    error: \"Check the requirements—make sure you're applying all the techniques you've learned.\",\n    alreadyCompleted: \"You've completed the entire Arrangement course! You're now a master arranger. Go create something amazing!\"\n  }),\n\n  mode: {\n    type: \"structure-builder\",\n    sandbox: false,\n    showTimeline: true,\n    showEnergyGraph: true,\n    showFrequencyAnalyzer: true,\n    showStereoMeter: true,\n    showHeadroomMeter: true,\n    showChecklist: true,\n    enableAllFeatures: true\n  },\n\n  learningObjectives: [\n    \"Apply all 19 arrangement techniques in one complete track\",\n    \"Create radio-ready, professional arrangements from scratch\",\n    \"Demonstrate mastery of structure, dynamics, layering, and development\",\n    \"Build mix-ready arrangements with proper separation and headroom\",\n    \"Understand the complete arrangement process from vision to polish\"\n  ],\n\n  congratulations: {\n    message: \"You've completed the Arrangement & Songwriting module!\",\n    skillsAchieved: [\n      \"Song structure mastery (Pop, EDM, Hip-Hop)\",\n      \"Transition techniques (basic and advanced)\",\n      \"5 Elements framework\",\n      \"Dynamic contrast and energy management\",\n      \"Frequency-based arrangement\",\n      \"Layering without muddiness\",\n      \"Call-and-response techniques\",\n      \"Repetition-variation balance\",\n      \"Tension and release cycles\",\n      \"Section density control\",\n      \"Rhythmic variation\",\n      \"Melodic development\",\n      \"Genre blending\",\n      \"Mix-ready arrangement principles\"\n    ],\n    nextSteps: [\n      \"Apply these techniques to your own productions\",\n      \"Study professional tracks and identify these techniques\",\n      \"Experiment with genre blending and hybrid styles\",\n      \"Continue to Sound Design and Mixing modules\"\n    ]\n  },\n\n  // ====================\n  // THEORY CONTENT\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: \"Congratulations! Your Complete Arrangement Journey\",\n        content: `\n**You've Mastered Arrangement & Songwriting! **\n\nYou've completed **all 20 lessons** in the Arrangement & Songwriting category. This is a massive achievement. Let's reflect on your journey from basic structure to professional arrangement mastery.\n\n---\n\n**Your Journey: All 20 Lessons Conquered**\n\n**PHASE 1: Foundation (Lessons 1-7) - Song Structure Mastery**\n\n✓ **Lesson 1:** Pop Structure (Verse-Chorus-Bridge)\n✓ **Lesson 2:** EDM Structure (Intro-Build-Drop-Breakdown)\n✓ **Lesson 3:** Hip-Hop Structure (16-bar verses, hooks, beat breaks)\n✓ **Lesson 4:** The 5 Elements Framework (Never exceed 5 simultaneous elements)\n✓ **Lesson 5:** Energy Dynamics (Managing intensity across sections)\n✓ **Lesson 6:** Advanced Forms (AABA, Rondo, Through-Composed)\n✓ **Lesson 7:** Transition Techniques (Risers, fills, filter sweeps)\n\n**What You Learned:** You now understand how professional tracks are structured across genres. You can build cohesive song forms that follow industry standards while maintaining creative freedom.\n\n---\n\n**PHASE 2: Core Techniques (Lessons 8-14) - The Essential Skills**\n\n✓ **Lesson 8:** Dynamic Contrast (Loud vs quiet, dense vs sparse)\n✓ **Lesson 9:** Intelligent Layering (Frequency separation, stereo field management)\n✓ **Lesson 10:** Call and Response (Musical conversation, question-answer patterns)\n✓ **Lesson 11:** Repetition vs Variation (80/20 rule, rule of three)\n✓ **Lesson 12:** Tension and Release (Building suspense, delivering payoff)\n✓ **Lesson 13:** Section Density (Sparse verses, full choruses)\n✓ **Lesson 14:** Frequency-Based Arrangement (Vertical thinking, spectrum management)\n\n**What You Learned:** These are the fundamental techniques that separate amateur \"loops\" from professional arrangements. You can now create contrast, build energy, and manage complexity like a pro.\n\n---\n\n**PHASE 3: Advanced Development (Lessons 15-19) - Professional Polish**\n\n✓ **Lesson 15:** Rhythmic Variation (Groove evolution, beat switches, hi-hat variations)\n✓ **Lesson 16:** Melodic Development (Theme and variation, motivic transformation)\n✓ **Lesson 17:** Advanced Transitions (Reverse audio, automation, stacking 3-5 techniques)\n✓ **Lesson 18:** Genre Blending (Cross-genre fusion, 60/40 rule, signature elements)\n✓ **Lesson 19:** Arranging for the Mix (Mix-ready principles, frequency space, headroom)\n\n**What You Learned:** You've moved beyond basic technique into advanced professional skills. You can now evolve ideas, blend genres, and create arrangements that practically mix themselves.\n\n---\n\n**PHASE 4: Mastery (Lesson 20 - THIS LESSON) - Integration**\n\n✓ **Lesson 20:** Arrangement Capstone (Apply ALL 19 techniques in one complete track)\n\n**What You're Doing Now:** Integrating everything you've learned into one professional, radio-ready arrangement. This is where theory becomes practice, where knowledge becomes mastery.\n\n---\n\n**You Are No Longer a Beginner**\n\nThink about where you started:\n- **Before Lesson 1:** You might have been looping 8 bars and calling it a track\n- **Now:** You can craft 3-4 minute professional arrangements with proper structure, dynamics, development, and polish\n\n**You've gained:**\n- **Structural Knowledge:** How to build songs across multiple genres\n- **Technical Skills:** Managing density, frequency, dynamics, rhythm, melody\n- **Creative Tools:** Variation techniques, genre blending, call-and-response\n- **Professional Standards:** Mix-ready arrangements, proper headroom, frequency separation\n\n**This isn't just theoretical knowledge—this is practical, battle-tested, industry-standard arrangement wisdom.**\n\n---\n\n**What Makes You Different Now:**\n\n**Amateur Approach (Before This Course):**\n- Loops 8 bars endlessly\n- Adds every sound at once (no contrast)\n- No clear structure (verse blends into chorus)\n- Never varies hi-hats or percussion\n- Ignores frequency separation (everything in mids)\n- No dynamics (same volume start to finish)\n- No transitions (abrupt section changes)\n\n**Professional Approach (You, Now):**\n- ✓ Plans song structure before producing\n- ✓ Uses 5-element framework to prevent clutter\n- ✓ Creates density contrast (sparse verses, full choruses)\n- ✓ Manages frequency spectrum vertically\n- ✓ Applies 80/20 repetition-variation balance\n- ✓ Builds tension-release cycles\n- ✓ Varies rhythms while maintaining core groove\n- ✓ Uses advanced transitions to move smoothly between sections\n- ✓ Creates mix-ready arrangements with proper headroom\n\n**You now think like a professional arranger.**\n\n---\n\n**The Numbers:**\n\n**20 Lessons Completed**\n**19 Techniques Mastered**\n**100+ Real-World Examples Studied**\n**Countless Arrangement Principles Internalized**\n\n**And most importantly:**\n**You have the skills to create professional, radio-ready arrangements from scratch.**\n\n---\n\n**This Is Not the End—It's the Beginning**\n\nYou've completed the course, but your arrangement journey is just starting. Every track you produce from now on will benefit from these 20 lessons. You'll hear professional songs differently—you'll recognize the techniques, understand the choices, and apply them to your own work.\n\n**What happens next:**\n- You'll produce faster (you know what works)\n- Your arrangements will sound bigger (frequency-based thinking)\n- Your tracks will have better flow (tension-release cycles)\n- Your sections will contrast (density variation)\n- Your grooves will evolve (rhythmic variation)\n- Your melodies will develop (theme and variation)\n- Your arrangements will practically mix themselves (mix-ready principles)\n\n**You've built a foundation that will serve you for your entire production career.**\n        `\n      },\n      {\n        title: \"The Complete Professional Arrangement Workflow\",\n        content: `\nNow that you've mastered all 19 techniques, here's the complete professional workflow—from blank project to finished arrangement.\n\n---\n\n**STEP 1: Vision & Planning (Before Opening DAW)**\n\n**Choose Your Foundation:**\n- **Genre:** Pop, EDM, Hip-Hop, Rock, etc.\n- **Tempo:** 70 BPM (slow ballad) → 128 BPM (house) → 160 BPM (DnB)\n- **Key:** Major (happy, uplifting) or Minor (sad, dark)\n- **Vibe:** High-energy club track? Intimate singer-songwriter? Cinematic epic?\n\n**Reference Track:**\nFind one professional track in your target genre that has the vibe you want. This is your north star—not to copy, but to understand what \"professional\" sounds like in this genre.\n\n**Structure Planning:**\n- **Pop Track:** Intro → V1 → PC → C1 → V2 → PC → C2 → Bridge → C3 → Outro\n- **EDM Track:** Intro → Build → Drop → Breakdown → Build → Drop → Outro\n- **Hip-Hop Track:** Intro → V1 (16 bars) → Hook → V2 (16 bars) → Hook → V3 (16 bars) → Hook → Outro\n\n**Write it down before producing.** This prevents aimless noodling.\n\n---\n\n**STEP 2: Create the Core Elements (Open DAW, Start Producing)**\n\n**The 5 Elements Framework (Lesson 4):**\nNever exceed 5 simultaneous elements in any section. Choose:\n\n1. **Drums** (kick, snare, hi-hat, percussion)\n2. **Bass** (sub-bass, bass synth, or bass guitar)\n3. **Harmony** (chords: piano, guitar, pad, or synth chords)\n4. **Melody** (lead: vocals, synth lead, guitar lead, or top-line melody)\n5. **Texture** (atmosphere: pads, FX, reverb, background elements)\n\n**Core Groove (Lesson 15 - Rhythmic Variation):**\n- Create your main kick/snare pattern\n- This NEVER changes (dancers lock onto this)\n- Simple is better—complexity comes from variation, not the core groove\n\n**Core Chord Progression (Lesson 11 - Repetition):**\n- 4-chord progression (e.g., I-V-vi-IV or vi-IV-I-V)\n- This repeats throughout the track\n- Variations come later—establish the foundation first\n\n**Core Melody (Lesson 16 - Melodic Development):**\n- Write one 2-4 bar melodic motif\n- This becomes your main hook\n- You'll develop this across sections—for now, just establish the core idea\n\n---\n\n**STEP 3: Build the Song Structure**\n\n**Apply Lessons 1-7 (Structure Mastery):**\n\n**Intro (8-16 bars):**\n- Sparse: 2-3 elements only (Lesson 13 - Density)\n- Mid-frequencies only (Lesson 14 - Frequency)\n- Simple hi-hat pattern (Lesson 15 - Rhythmic Variation)\n- **Purpose:** Establish vibe, invite listener in\n\n**Verse 1 (8-16 bars):**\n- Add vocals/lead melody\n- Keep density at 40-50% (Lesson 13)\n- Simple accompaniment (Lesson 9 - Layering)\n- **Purpose:** Tell the story, set up the chorus\n\n**Pre-Chorus (4-8 bars):**\n- Build energy: add one layer (shaker, pad, or harmony vocal)\n- Increase hi-hat density (8ths → 16ths)\n- Add riser in final 2 bars (Lesson 7 - Transitions)\n- **Purpose:** Create anticipation for chorus\n\n**Chorus 1 (8-16 bars):**\n- **Maximum density:** All 5 elements present (Lesson 13)\n- **Full frequency spectrum:** Sub + mids + highs (Lesson 14)\n- **Rhythmic density:** 16th-note hi-hats, add percussion (Lesson 15)\n- **Harmonic fullness:** Add backing vocals or harmony layers (Lesson 9)\n- **Purpose:** Deliver the hook, payoff the build\n\n**Verse 2 (8-16 bars):**\n- **80% same as V1, 20% different** (Lesson 11 - Repetition/Variation)\n- Change: Different hi-hat pattern OR add subtle pad (Lesson 15)\n- **Purpose:** Advance the story, maintain interest\n\n**Pre-Chorus 2 (4-8 bars):**\n- Slightly more intense than PC1\n- Stack 2-3 transition techniques (riser + filter sweep + drum fill) (Lesson 17)\n- **Purpose:** Build even more anticipation for C2\n\n**Chorus 2 (8-16 bars):**\n- **Slightly bigger than C1:** Add one extra layer (tambourine, strings, or harmony)\n- **Purpose:** Exceed Chorus 1, escalate energy\n\n**Bridge (8-16 bars):**\n- **Maximum contrast:** Strip to 20-30% density OR beat switch (Lesson 12 - Tension)\n- **Frequency change:** Remove lows (just mids/highs) OR remove highs (just lows/mids)\n- **Rhythmic change:** Half-time feel OR completely different pattern (Lesson 15)\n- **Melodic change:** New melody OR inversion of main motif (Lesson 16)\n- **Purpose:** Reset attention, create tension before final release\n\n**Build to Final Chorus (4-8 bars):**\n- Stack 3-5 transition techniques (Lesson 17):\n  - Riser (pitch rising over 8 bars)\n  - Filter sweep (opening from 500Hz to 20kHz)\n  - Drum roll (building intensity)\n  - Automation (volume increasing)\n  - Silence (1 beat before drop)\n- **Purpose:** Create maximum anticipation\n\n**Final Chorus (8-16 bars, often extended to 16-24 bars):**\n- **Exceed all previous choruses:**\n  - Add orchestral element (strings, brass)\n  - Key modulation (up a half-step or whole-step)\n  - Extended length (extra 4-8 bars)\n  - Maximum rhythmic density (all percussion layers)\n- **Purpose:** Climax, emotional peak, memorable ending\n\n**Outro (8-16 bars):**\n- **Subtractive arrangement** (Lesson 13):\n  - Remove drums first (bars 1-4)\n  - Remove bass next (bars 5-8)\n  - Leave melody + harmony (bars 9-12)\n  - Fade to silence (bars 13-16)\n- **Purpose:** Graceful conclusion, wind down energy\n\n---\n\n**STEP 4: Apply Development Techniques**\n\n**Call-and-Response (Lesson 10):**\n- Intro: Piano phrase → Vocal response\n- Chorus: Lead vocal → Backing vocal response\n- **Where:** Between phrases, between sections\n\n**Tension-and-Release Cycles (Lesson 12):**\n- Verse (light tension) → Pre-chorus (building tension) → Chorus (RELEASE)\n- Bridge (maximum tension) → Final chorus (ultimate release)\n- **Multiple cycles throughout the track**\n\n**Repetition-Variation Balance (Lesson 11):**\n- Chorus 1: Simple, clean\n- Chorus 2: Add backing vocals (80% same, 20% new)\n- Chorus 3: Key modulation OR extra 8 bars (80% same, 20% dramatic)\n\n**Melodic Development (Lesson 16):**\n- Verse: Simple melodic motif\n- Chorus: Octave-displaced version of motif (higher register)\n- Bridge: Inverted or fragmented version of motif\n- Final Chorus: Return to original motif (familiarity + satisfaction)\n\n**Rhythmic Variation (Lesson 15):**\n- V1: 8th-note hi-hats\n- C1: 16th-note hi-hats\n- V2: Swung 8th-note hi-hats (different feel)\n- C2: 16th-note hi-hats + shaker\n- Bridge: Triplet feel OR half-time\n- C3: 16th-note hi-hats + shaker + tambourine (maximum)\n\n---\n\n**STEP 5: Refine for Mix-Readiness (Lesson 19)**\n\n**Frequency Separation:**\n- **Sub-bass (40-80Hz):** Only ONE element (kick OR bass, not both)\n- **Bass (80-250Hz):** Bass + kick body\n- **Mids (250Hz-4kHz):** Vocals, melody, chords\n- **Highs (4kHz-20kHz):** Hi-hats, cymbals, air\n\n**Headroom:**\n- Master fader should peak at **-6dB** (leave room for mixing/mastering)\n- If hitting 0dB, reduce individual element volumes—never push the master\n\n**Stereo Field:**\n- **Mono center:** Kick, bass, lead vocal, snare\n- **Stereo sides:** Hi-hats (30% L/R), pads (50% L/R), FX (70% L/R)\n- **Test in mono:** If it sounds good in mono, it'll sound great in stereo\n\n**Element Limit:**\n- Count simultaneous elements per section\n- **Verse:** 3-4 elements max\n- **Chorus:** 5 elements max\n- **If exceeding 5:** Remove one element OR combine two (e.g., merge two pad layers into one)\n\n---\n\n**STEP 6: Test and Iterate**\n\n**The Professional Checklist:**\n\n✓ **Does the structure make sense?** (Intro → Build → Peak → Resolution)\n✓ **Is there contrast between sections?** (Sparse verses, full choruses)\n✓ **Do transitions feel smooth?** (No jarring, abrupt changes unless intentional)\n✓ **Is there a clear climax?** (Final chorus should be the emotional peak)\n✓ **Does the mix have headroom?** (Master peaks at -6dB)\n✓ **Does it work in mono?** (Low-end stays centered, track still sounds full)\n✓ **Is the core groove locked in?** (Kick/snare pattern consistent throughout)\n✓ **Are there tension-release cycles?** (Build → payoff, multiple times)\n✓ **Does it sound \"finished\"?** (Or does it feel like a loop?)\n\n**If any answer is \"no\":** Return to the relevant lesson and apply the technique.\n\n---\n\n**STEP 7: Export and Move to Mixing**\n\n**Export Settings:**\n- **WAV or AIFF** (lossless)\n- **24-bit, 48kHz** (professional standard)\n- **Stems OR full mix:** Export individual elements for mixing, or full stereo mix for mastering\n\n**Congratulations!**\n\nYou've completed a professional arrangement using all 19 techniques from this course. This arrangement is:\n- ✓ Structurally sound\n- ✓ Dynamically interesting\n- ✓ Mix-ready\n- ✓ Radio-ready (with proper mixing/mastering)\n\n**This is what professional producers do. And now, so do you.**\n        `\n      },\n      {\n        title: \"Your Next Steps & Continued Growth\",\n        content: `\n**The Journey Continues: What's Next?**\n\nYou've completed Arrangement & Songwriting. This is a massive milestone. But arrangement is just one piece of music production. Here's how to continue growing:\n\n---\n\n**Immediate Next Steps (This Week):**\n\n**1. Create Your Capstone Track (RIGHT NOW)**\n\nDon't just read this lesson—**actually do the exercise**. Create a complete 3-4 minute arrangement using all 19 techniques. This is your proof of mastery.\n\n**Challenge yourself:**\n- Choose a genre you've never produced before\n- Use a professional reference track\n- Apply every technique from Lessons 1-19\n- Export stems and move to mixing\n\n**Why This Matters:** Knowledge without application is useless. This capstone project cements everything you've learned.\n\n---\n\n**2. Analyze 3 Professional Tracks**\n\nPick three of your favorite songs. Listen with your new knowledge and identify:\n\n✓ Song structure (verse-chorus, intro-build-drop, etc.)\n✓ 5-element framework (which 5 elements are present?)\n✓ Density contrast (sparse vs full sections)\n✓ Frequency movement (where do they add/remove lows and highs?)\n✓ Rhythmic variation (how do hi-hats evolve?)\n✓ Tension-release cycles (where are the builds and payoffs?)\n✓ Transitions (what techniques do they use?)\n\n**Why This Matters:** You'll never listen to music the same way again. You'll hear arrangements like a producer, not just a listener.\n\n---\n\n**3. Apply These Techniques to Your Existing Projects**\n\nGo back to your unfinished tracks. Apply ONE technique per track:\n- Track 1: Add call-and-response between elements\n- Track 2: Create density contrast (sparse verse, full chorus)\n- Track 3: Apply rhythmic variation (vary hi-hats between sections)\n\n**Why This Matters:** You'll immediately hear the improvement. These techniques transform good ideas into finished tracks.\n\n---\n\n**Suggested Learning Path (Next 3-6 Months):**\n\nYou've mastered **Arrangement & Songwriting**. Here's the logical progression for complete production mastery:\n\n**Option 1: Sound Design** (If you want to create unique sounds)\n- Learn synthesis (subtractive, FM, wavetable)\n- Design your own bass, leads, pads\n- Build a custom sound library\n- **Why:** Unique sounds = unique tracks. Stand out from producers using presets.\n\n**Option 2: Mixing** (If you want professional-sounding tracks)\n- Learn EQ, compression, reverb, delay\n- Master gain staging and headroom\n- Create depth and space in your mixes\n- **Why:** Great arrangements need great mixing. Your tracks will sound polished and radio-ready.\n\n**Option 3: Mastering** (If you want to finalize tracks for release)\n- Learn loudness standards (LUFS targeting)\n- Master stereo widening and imaging\n- Prepare tracks for streaming platforms\n- **Why:** The final 10% of polish that makes tracks sound \"pro.\"\n\n**Recommended Order:**\n1. **Arrangement** ← You just completed this! \n2. **Sound Design** ← Learn to create unique sounds\n3. **Mixing** ← Make it sound professional\n4. **Mastering** ← Final polish before release\n\n**OR, if you already have sound design and mixing experience:**\n- Jump straight to **advanced courses** (e.g., genre-specific production, film scoring, advanced synthesis)\n\n---\n\n**Pro Tips for Continued Growth:**\n\n**1. Produce Regularly (Daily if Possible)**\n\nMastery comes from repetition. Produce something—even just 8 bars—every single day.\n\n**2. Finish Tracks**\n\nDon't get stuck in \"loop hell.\" Use your new arrangement skills to finish tracks. Finished tracks teach you more than 100 unfinished loops.\n\n**3. Study Genres Outside Your Comfort Zone**\n\nProduced hip-hop your whole life? Try EDM. Always made pop? Try DnB. Cross-genre learning makes you a more versatile producer.\n\n**4. Collaborate with Others**\n\nFind vocalists, instrumentalists, or other producers. Collaboration forces you to adapt and grow.\n\n**5. Get Feedback (But Take It with a Grain of Salt)**\n\nShare your work with trusted producers or online communities. Listen to constructive criticism, ignore negativity.\n\n---\n\n**The Mindset of a Professional Arranger:**\n\n**Before This Course:**\n- \"I'll just loop this 8-bar idea.\"\n- \"I don't know how to make sections sound different.\"\n- \"Why do my tracks sound empty or cluttered?\"\n- \"My arrangements feel random, not intentional.\"\n\n**After This Course (You, Now):**\n- \"I'll structure this as verse-chorus-bridge with clear density contrast.\"\n- \"I'll vary hi-hats and percussion to keep it fresh while maintaining the core groove.\"\n- \"I'll use frequency-based thinking to fill the spectrum without clutter.\"\n- \"I'll build tension-release cycles to keep listeners engaged.\"\n\n**You think like a professional arranger now.**\n\n---\n\n**Celebrate Your Achievement**\n\nTake a moment to appreciate what you've accomplished:\n\n**✓ 20 Lessons Completed**\n**✓ 19 Techniques Mastered**\n**✓ Hundreds of Concepts Internalized**\n**✓ Professional Arrangement Workflow Learned**\n\nThis is not easy. Most producers never learn proper arrangement. They loop 8 bars endlessly and wonder why their tracks don't sound \"pro.\"\n\n**You now have the knowledge and skills that separate amateurs from professionals.**\n\n---\n\n**Final Words**\n\nArrangement is the backbone of music production. You can have the best sounds, the cleanest mix, the loudest master—but if the arrangement is weak, the track fails.\n\n**You've mastered the backbone.**\n\nFrom this point forward, every track you produce will benefit from these 20 lessons. You'll:\n- Structure songs with intention (not random sections)\n- Create contrast and dynamics (not flat, boring loops)\n- Develop ideas across sections (not static repetition)\n- Build tension and release (not constant energy)\n- Make mix-ready arrangements (not muddy frequency clashes)\n\n**You're no longer guessing. You're applying proven, professional techniques.**\n\n---\n\n**This Is Your Moment**\n\nGo create something incredible. Apply these 19 techniques. Build a track that showcases everything you've learned. And when you're done, start the next one.\n\n**Welcome to the world of professional arrangement.**\n\n**You've earned this.**\n\n**Now go make something amazing. **\n\n---\n\n**What's Next:**\n\n✓ **Complete your capstone project** (Create a full 3-4 minute arrangement using all 19 techniques)\n✓ **Analyze professional tracks** (Identify the techniques in songs you love)\n✓ **Explore other modules:** Sound Design, Mixing, Mastering\n✓ **Keep producing, keep growing, keep learning**\n\n**The journey continues. But you're no longer a beginner.**\n\n**You're a professional arranger.**\n\n**Congratulations! **\n        `\n      }\n    ]\n  }\n};\n\nif (typeof window !== 'undefined') window.LESSON_CONFIG = lessonConfig;\n",
    "number": 20,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "arrangement-19",
      "arrangement-18"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Arrangement Capstone:",
      "Prepararsi alla lezione successiva del modulo Arrangement"
    ]
  },
  {
    "slug": "bass-20",
    "filename": "lesson-bass-20.config.js",
    "title": "Masterclass:",
    "category": "Bass & Low End",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Bass 20 - Masterclass: Complete Bass Production\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  // ====================\n  // LESSON METADATA\n  // ====================\n  lessonKey: \"mpl-bass-20-progress\",\n  lessonNumber: 20,\n  lessonCategory: \"Bass & Low End\",\n\n  // ====================\n  // NAVIGATION\n  // ====================\n  nextLessonUrl: \"lesson-arrangement-1.html\",\n  prevLessonUrl: \"lesson-bass-19.html\",\n  overviewUrl: \"labs.html\",\n\n  // ====================\n  // HERO SECTION\n  // ====================\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 20, categoryLabel: \"Bass & Low End\" }),\n    title: \"Masterclass:\",\n    titleHighlight: \"Complete Bass Production\",\n    subtitle: \"Final project: create a professional multi-genre bass production from synthesis to mixing. Showcase all techniques learned. Learn professional techniques used in industry-standard productions.\"\n  },\n\n  // ====================\n  // SEQUENCER SETTINGS\n  // ====================\n  sequencer: {\n    tempo: 120,\n    stepCount: 16,\n    bars: 2,\n    noteRange: { min: 36, max: 60 },\n  },\n\n  // ====================\n  // EXERCISE INFO\n  // ====================\n  exercise: {\n    title: \"Complete the Bass Exercise\",\n    description: \"Final project: create a professional multi-genre bass production from synthesis to mixing. Showcase all techniques learned. This lesson covers professional techniques for Masterclass: Complete Bass Production.\",\n    tip: \"Focus on the foundational elements and build complexity gradually. Listen critically to how each technique affects the overall bass sound.\",\n    steps: [\n      '<strong>Step 1</strong> — Study the theory sections to understand the concepts.',\n      '<strong>Step 2</strong> — Analyze the target pattern and identify key characteristics.',\n      '<strong>Step 3</strong> — Program the bass pattern following the guidelines.',\n      '<strong>Step 4</strong> — Listen critically and compare to reference tracks.',\n      '<strong>Step 5</strong> — Experiment with variations while maintaining the core technique.',\n      'Check when ready to validate your work.'\n    ]\n  },\n\n  // ====================\n  // THEORY SECTIONS\n  // ====================\n  theory: {\n    sections: [\n      {\n        title: 'Core Concepts',\n        content: `This lesson explores Masterclass: Complete Bass Production with focus on professional production techniques.\n\n**Key Learning Points:**\n- Understanding the characteristic sound and feel\n- Rhythm and timing considerations\n- Frequency management and sonic characteristics\n- Genre-specific applications\n- Professional mixing and processing techniques\n\nMaster these concepts to create bass that sits perfectly in any mix and serves the song effectively.`\n      },\n      {\n        title: 'Professional Application',\n        content: `Apply Masterclass: Complete Bass Production techniques in your productions:\n\n**Production Workflow:**\n1. Start with a clear sonic goal\n2. Choose appropriate synthesis or sample method\n3. Program the rhythm with intention\n4. Process for clarity and power\n5. Mix in context with other elements\n\n**Common Use Cases:**\n- Genre-specific productions\n- Creative sound design\n- Professional mixing scenarios\n- Live performance considerations\n\nStudy reference tracks to hear these techniques in action.`\n      }\n    ]\n  },\n\n  // ====================\n  // PIANO ROLL CONFIG\n  // ====================\n  pianoRoll: {\n    targetNotes: [\n      { pitch: 40, step: 0, duration: 2, velocity: 100 },\n      { pitch: 47, step: 2, duration: 2, velocity: 90 },\n      { pitch: 40, step: 4, duration: 2, velocity: 95 },\n      { pitch: 43, step: 6, duration: 2, velocity: 85 }\n    ],\n    highlightScale: [40, 42, 43, 45, 47, 48, 50, 52],\n    showChordDetection: false,\n    allowPolyphony: false,\n    bassMode: true,\n    waveform: 'sawtooth'\n  },\n\n  // ====================\n  // LEARNING OBJECTIVES\n  // ====================\n  learningObjectives: [\n    \"Master Masterclass: Complete Bass Production techniques and concepts\",\n    \"Apply professional production workflows\",\n    \"Understand genre-specific bass characteristics\",\n    \"Develop critical listening skills for bass\",\n    \"Create industry-standard bass productions\"\n  ],\n\n  // ====================\n  // COMPLETION MESSAGES\n  // ====================\n  messages: applyMessagePreset(\"default\", {\n    initial: \"Complete the bass exercise to master this technique.\",\n    success: \"Excellent! You've mastered Masterclass: Complete Bass Production. Professional-level skills!\",\n    error: \"Review the theory and target pattern. Pay attention to the key characteristics.\",\n    alreadyCompleted: \"You've completed this lesson. Keep practicing these professional techniques!\"\n  }),\n\n  // ====================\n  // MODE FLAGS\n  // ====================\n  mode: {\n    sandbox: false,\n    sequencerType: 'piano-roll',\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 20,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "bass-19",
      "bass-18"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Masterclass:",
      "Prepararsi alla lezione successiva del modulo Bass & Low End"
    ]
  },
  {
    "slug": "drums-20",
    "filename": "lesson-drums-20.config.js",
    "title": "Live Drum Recording",
    "category": "Drums & Rhythm",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-drums-20-progress\",\n  lessonNumber: 20,\n  lessonCategory: \"Drums & Rhythm\",\n  depthLevel: 9,\n  nextLessonUrl: \"lesson-drums-21.html\",\n  prevLessonUrl: \"lesson-drums-19.html\",\n  overviewUrl: \"labs.html\",\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-drums-20\", categoryLabel: \"Drums & Rhythm\" }),\n    title: \"Live Drum Recording\",\n    titleHighlight: \"Simulation\",\n    subtitle: \"Program drums that <strong>sound like a real drummer playing</strong>. Master <strong>room ambience</strong>, <strong>overhead mic bleed</strong>, and <strong>natural dynamics</strong> that make programmed drums feel human. This is the secret to rock, indie, and organic electronic productions.\"\n  },\n  sequencer: { tempo: 115, stepCount: 16, swing: 12, showBeatMarkers: true, showStepNumbers: true, autoSaveState: true, enableVelocity: true, enableHumanization: true, requiredTempo: 115 },\n  exercise: {\n    title: \"Simulate Live Rock Drum Take\",\n    description: \"Create a <strong>rock drum pattern with human feel</strong>. Use <strong>swing</strong>, <strong>velocity variation</strong>, and <strong>humanization</strong> to make it sound like a drummer, not a machine.\",\n    tip: \"Real drummers never hit every note at the same velocity. Vary hi-hat velocities between 70-100, and add 15-20% humanization!\",\n    steps: [\n      { text: \"<strong>Set tempo to 115 BPM, swing to 12%</strong>.\" },\n      { text: \"<strong>Kick:</strong> Steps 1, 5, 9, 13, velocity 115-120.\" },\n      { text: \"<strong>Snare:</strong> Steps 5, 13, velocity 110-118 (slight variation).\" },\n      { text: \"<strong>Hi-Hat:</strong> 8th notes, varying velocities 70-100.\" },\n      { text: \"<strong>Enable humanization:</strong> Timing 15ms, Velocity 20%.\" },\n      { text: \"<strong>Listen:</strong> It should groove like a human performance.\" }\n    ]\n  },\n  instruments: [\n    { id: \"kick\", label: \"Kick\", color: \"linear-gradient(135deg, #e17055, #d63031)\", targetSteps: [0, 4, 8, 12], targetVelocities: { 0: 118, 4: 115, 8: 120, 12: 117 }, instructionText: \"Kick with velocity variation.\", patternHint: { enabled: true } },\n    { id: \"snare\", label: \"Snare\", color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\", targetSteps: [4, 12], targetVelocities: { 4: 112, 12: 116 }, instructionText: \"Snare backbeat, varied velocity.\", patternHint: { enabled: true } },\n    { id: \"hihat\", label: \"Hi-Hat\", color: \"linear-gradient(135deg, #00cec9, #0984e3)\", targetSteps: [0,2,4,6,8,10,12,14], targetVelocities: { 0: 85, 2: 75, 4: 90, 6: 70, 8: 88, 10: 78, 12: 95, 14: 72 }, instructionText: \"8th notes with human velocity variation.\", patternHint: { enabled: true } }\n  ],\n  theory: { sections: [{ title: \"Human Simulation Techniques\", content: \"**Velocity Variation:** Real drummers vary every hit (±10-20 velocity). **Timing:** Slight rushing/dragging (5-20ms humanization). **Swing:** 10-15% swing adds natural groove. **Overhead Bleed:** Subtle room ambience/reverb simulates live recording. **Performance Arcs:** Drummers get louder in choruses, softer in verses.\" }] },\n  learningObjectives: [\"Simulate live drummer performance dynamics\", \"Use humanization settings effectively\", \"Create natural velocity variations\", \"Apply swing for organic groove\", \"Understand mic bleed and room ambience\"],\n  validation: applyMessagePreset(\"drumSequencer\", \"correct-placement\")\n};\n",
    "number": 20,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "drums-19",
      "drums-18"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Live Drum Recording",
      "Prepararsi alla lezione successiva del modulo Drums & Rhythm"
    ]
  },
  {
    "slug": "harmony-20",
    "filename": "lesson-harmony-20.config.js",
    "title": "Pro Voicing Pack:",
    "category": "Expert Techniques",
    "content": "/**\n * Music Producer Lab - Lesson Configuration\n * Lesson: Harmony 20 - Pro Voicing Pack: Spread, Stack, and Control\n */\n\nimport { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-20-progress\",\n  lessonNumber: 20,\n  lessonCategory: \"Expert Techniques\",\n\n  nextLessonUrl: \"harmony-playground.html\",\n  prevLessonUrl: \"lesson-harmony-19.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 20, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Pro Voicing Pack:\",\n    titleHighlight: \"Spread, Stack, and Control\",\n    subtitle: \"Build professional chord voicings with controlled top notes and counter-melodies. You'll learn how to voice chords across multiple octaves, create smooth top-line motion, and layer harmony like a pro. This final lesson brings together everything for record-ready harmony.\"\n  },\n\n  sequencer: {\n    tempo: 92,\n    key: \"F\",\n    scale: \"Major\",\n    stepCount: 64,\n    bars: 4,\n    pitchRange: {\n      low: 36,\n      high: 84\n    }\n  },\n\n  exercise: {\n    title: \"Voice a Progression with Top-Note Control\",\n    description: \"Create a <strong>Fmaj9 → Gm7 → Cmaj9 → Am7</strong> progression with professional voicing: bass in low register, chord tones in mid register, and a <strong>controlled top note melody</strong> (9th and 7th) that moves smoothly. This is how session players and arrangers voice chords.\",\n    tip: \"Pro voicing separates registers: bass (root), body (3rd, 5th, 7th in middle octaves), and top voice (melody/color tone like 9th). The top note creates a counter-melody while lower notes provide harmonic support. Spread chords wide - low bass, mid harmony, high melody. This creates clarity, space, and professional sound!\",\n    steps: [\n      { text: \"Bar 1: <strong>Fmaj9</strong> - Bass F2, Body A3-C4-E4, Top G4 (9th)\" },\n      { text: \"Bar 2: <strong>Gm7</strong> - Bass G2, Body Bb3-D4-F4, Top F4 (7th)\" },\n      { text: \"Bar 3: <strong>Cmaj9</strong> - Bass C2, Body E3-G3-B3, Top D4 (9th)\" },\n      { text: \"Bar 4: <strong>Am7</strong> - Bass A1, Body C3-E3-G3, Top C4 (3rd)\" },\n      { text: \"Notice: Top notes (G-F-D-C) create a descending melody!\" },\n      { text: \"This is professional voicing - separation, space, and top-line control\" }\n    ]\n  },\n\n  validation: {\n    type: \"professional_voicing\",\n    requiredChords: [\n      {\n        time: 0,\n        chordName: \"Fmaj9\",\n        voicing: {\n          bass: [41],  // F2\n          body: [57, 60, 64],  // A3, C4, E4\n          top: [67]  // G4 (9th)\n        }\n      },\n      {\n        time: 16,\n        chordName: \"Gm7\",\n        voicing: {\n          bass: [43],  // G2\n          body: [58, 62, 65],  // Bb3, D4, F4\n          top: [65]  // F4 (7th)\n        }\n      },\n      {\n        time: 32,\n        chordName: \"Cmaj9\",\n        voicing: {\n          bass: [48],  // C3\n          body: [52, 55, 59],  // E3, G3, B3\n          top: [62]  // D4 (9th)\n        }\n      },\n      {\n        time: 48,\n        chordName: \"Am7\",\n        voicing: {\n          bass: [45],  // A2\n          body: [48, 52, 55],  // C3, E3, G3\n          top: [60]  // C4 (3rd)\n        }\n      }\n    ],\n    topNoteMotion: {\n      pitches: [67, 65, 62, 60],  // G-F-D-C descending\n      mustMoveSmooth: true\n    }\n  },\n\n  messages: applyMessagePreset(\"harmony\", {\n    initial: \"Voice Fmaj9 → Gm7 → Cmaj9 → Am7 with separated registers: low bass, mid body, high melody. Top notes should move smoothly: G→F→D→C.\",\n    success: \"Congratulations! You've completed the Harmony & Melody curriculum and mastered professional voicing! You now have the harmonic skills of a professional producer and arranger. Ready to explore the Harmony Playground!\",\n    error: \"Separate registers: Bass in low octave (roots), body in middle (3rd/5th/7th), top voice high (9th or color tone). Top notes create melody: G→F→D→C.\"\n  }),\n\n  mode: {\n    sandbox: false,\n    showTargetHint: true,\n    enablePresets: false,\n    enableExport: false,\n    sequencerType: \"piano-roll\"\n  }\n};\n\nif (typeof window !== 'undefined') {\n  window.LESSON_CONFIG = lessonConfig;\n}\n",
    "number": 20,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "harmony-19",
      "harmony-18"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Pro Voicing Pack:",
      "Prepararsi alla lezione successiva del modulo Expert Techniques"
    ]
  },
  {
    "slug": "mixing-20",
    "filename": "lesson-mixing-20.config.js",
    "title": "Advanced Automation",
    "category": "Mixing",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-mixing-20-progress\",\n  lessonNumber: 20,\n  lessonCategory: \"Mixing\",\n  depthLevel: 10,\n  \n  nextLessonUrl: \"labs.html\",\n  prevLessonUrl: \"lesson-mixing-19.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-mixing-20\", categoryLabel: \"Mixing\" }),\n    title: \"Advanced Automation\",\n    titleHighlight: \"Techniques\",\n    subtitle: \"Master dynamic mixing with <strong>volume rides, effect automation, and movement</strong> for engaging, professional mixes. Learn how to create excitement, build tension, and guide listeners through your productions with strategic automation.\"\n  },\n  \n  sequencer: {\n    tempo: 140,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true,\n    requiredTempo: 140\n  },\n  \n  exercise: {\n    title: \"Design Dynamic Automation Pattern\",\n    description: \"Create a <strong>pattern that demonstrates dynamic automation</strong> with volume changes (velocity variations) that simulate professional automation curves. Understand how builds, drops, and dynamic contrast create emotional impact.\",\n    tip: \"Velocity represents automation: Low velocity (50-70) = quiet/buildup section, Medium (80-100) = verse/groove, High (110-120) = chorus/drop. Professional mixes use constant micro-automation for movement.\",\n    steps: [\n      { text: \"<strong>Set tempo to 140 BPM</strong> for an energetic, build-drop structure.\" },\n      { text: \"<strong>Program quiet build</strong> (steps 1-4) with low velocity (50-70) simulating automation ramp-up.\" },\n      { text: \"<strong>Add moderate groove</strong> (steps 5-8) with medium velocity (80-90) for verse energy.\" },\n      { text: \"<strong>Create pre-drop tension</strong> (steps 9-12) with velocity drop (60-70) simulating breakdown.\" },\n      { text: \"<strong>Layer massive drop</strong> (steps 13-16) with max velocity (110-120) for climax.\" },\n      { text: \"<strong>Listen</strong> to how dynamic velocity changes create excitement and movement.\" }\n    ]\n  },\n  \n  instruments: [\n    {\n      id: \"build-element\",\n      label: \"Build Element\",\n      color: \"linear-gradient(135deg, #74b9ff, #0984e3)\",\n      targetSteps: [0, 1, 2, 3],\n      oscillator: { type: \"sawtooth\", detune: 0 },\n      envelope: { attack: 0.1, decay: 0.3, sustain: 0.6, release: 0.5 },\n      filter: { type: \"lowpass\", frequency: 800, Q: 1.0 }\n    },\n    {\n      id: \"groove-element\",\n      label: \"Groove Element\",\n      color: \"linear-gradient(135deg, #a29bfe, #6c5ce7)\",\n      targetSteps: [4, 5, 6, 7],\n      oscillator: { type: \"triangle\", detune: 5 },\n      envelope: { attack: 0.02, decay: 0.2, sustain: 0.5, release: 0.3 },\n      filter: { type: \"lowpass\", frequency: 1800, Q: 1.2 }\n    },\n    {\n      id: \"tension-element\",\n      label: \"Tension Element\",\n      color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\",\n      targetSteps: [8, 9, 10, 11],\n      oscillator: { type: \"sine\", detune: 12 },\n      envelope: { attack: 0.05, decay: 0.3, sustain: 0.4, release: 0.6 },\n      filter: { type: \"bandpass\", frequency: 1200, Q: 2.0 }\n    },\n    {\n      id: \"drop-element\",\n      label: \"Drop Element\",\n      color: \"linear-gradient(135deg, #e17055, #d63031)\",\n      targetSteps: [12, 13, 14, 15],\n      oscillator: { type: \"square\", detune: 0 },\n      envelope: { attack: 0.001, decay: 0.15, sustain: 0.7, release: 0.2 },\n      filter: { type: \"lowpass\", frequency: 3000, Q: 0.8 }\n    }\n  ],\n  \n  theory: {\n    sections: [\n      {\n        title: 'Automation Fundamentals & Philosophy',\n        content: `**What Is Automation?**\n**Automation** is recording parameter changes over time to create movement, dynamics, and emotional impact in your mix.\n\n**Common Automated Parameters:**\n- **Volume (Level):** Bring elements in/out, balance sections\n- **Panning:** Create movement, stereo interest\n- **EQ:** Filter sweeps, frequency builds\n- **Effects (Send Level):** Delay throws, reverb swells\n- **Plugin Parameters:** Filter cutoff, resonance, distortion amount\n- **Mutes:** Remove elements strategically\n\n**Why Automate?**\n- **Static mixes are boring:** Automation creates excitement and movement\n- **Emotional storytelling:** Guide the listener through the song's arc\n- **Fix balance issues:** Adjust levels that don't work throughout the song\n- **Create builds & drops:** Essential for EDM, pop, and modern production\n- **Professional polish:** Separates amateur from pro mixes\n\n**Types of Automation:**\n\n**1. Latch Mode:**\nStarts recording when you touch a parameter, keeps recording until you stop playback.\n- **Best for:** Smooth, continuous changes (volume rides, filter sweeps)\n\n**2. Touch Mode:**\nOnly records while you're actively touching the parameter, returns to previous value when released.\n- **Best for:** Quick adjustments, surgical edits\n\n**3. Write Mode:**\nRecords all movements and overwrites existing automation.\n- **Best for:** Starting fresh automation passes\n\n**4. Read Mode:**\nPlays back existing automation without recording new changes.\n- **Best for:** Listening to your automation work\n\n**Automation Workflow:**\n1. **Mix statically first:** Get a solid balance without automation\n2. **Identify problems:** Note sections that need adjustment\n3. **Automate strategically:** Focus on problem areas and creative moments\n4. **Refine:** Smooth out automation curves, adjust timing\n5. **A/B test:** Bypass automation to ensure it's helping, not hurting`\n      },\n      {\n        title: 'Volume Automation Techniques',\n        content: `**Micro-Level Volume Automation:**\n\n**Syllable-Level Vocal Automation:**\nThe most tedious but impactful automation:\n- Boost quiet consonants (+1 to +3dB) so every word is intelligible\n- Reduce loud peaks (-1 to -3dB) that poke out awkwardly\n- Smooth out breaths, plosives, and harsh \"s\" sounds\n\n**How To Do It:**\n1. Loop a vocal section\n2. Draw automation (or use clip gain) to even out dynamics\n3. Zoom in to syllable-level detail\n4. Adjust +/- 1-3dB as needed\n5. **Result:** Every word sits perfectly, sounds natural\n\n**Pro Tip:** Use **clip gain** for this (non-destructive level adjustment before fader) to keep fader automation clean for section-level moves.\n\n**Macro-Level Volume Automation:**\n\n**Sectional Balancing:**\nAdjust entire sections for dynamic contrast:\n- **Intro:** -3 to -5dB (intimate, draw listeners in)\n- **Verse 1:** -2 to -3dB (intimate, storytelling)\n- **Pre-Chorus:** -1 to -2dB (building energy)\n- **Chorus:** 0dB (reference level, maximum energy)\n- **Verse 2:** -2 to -3dB (back to intimate)\n- **Bridge:** -4 to -6dB (stripped back, tension)\n- **Final Chorus:** +1 to +2dB (climax, biggest moment)\n\n**This creates a dynamic \"rollercoaster\" that keeps listeners engaged.**\n\n**Element-Specific Volume Rides:**\n\n**Kick Automation:**\n- Quiet during sparse sections\n- Loud during drops\n- **Example:** Drop kick by -3dB during breakdown, bring back to 0dB for drop\n\n**Snare Automation:**\n- Increase velocity/volume on key hits (last snare before drop)\n- Reduce during verses if snare feels too aggressive\n\n**Hi-Hat Automation:**\n- Automate closed hi-hats louder (+1 to +2dB) during choruses for energy\n- Drop them down during verses for intimacy\n\n**Bass Automation:**\n- Drop bass -3 to -6dB during pre-drops for tension\n- Bring bass to full level on the drop for maximum impact\n\n**Melodic Elements:**\n- Pad volume up during choruses for fullness\n- Drop pads down during verses to leave space for vocals\n\n**Automation Curves:**\n- **Linear:** Straight line (mechanical, good for precise moves)\n- **Logarithmic:** Gradual start, fast finish (natural feel)\n- **Exponential:** Fast start, gradual finish (dramatic)\n- **S-Curve:** Smooth ramp up, smooth ramp down (most natural)\n\n**Most DAWs default to linear—manually adjust curves for natural feel.**`\n      },\n      {\n        title: 'Effect Automation & Movement',\n        content: `**Filter Automation (Sweeps & Builds):**\n\n**Low-Pass Filter Sweep:**\nClassic build-up technique:\n1. Insert EQ or filter on element (synth, drums, full mix)\n2. Automate low-pass filter from 200 Hz → 20 kHz over 8-16 bars\n3. **Creates tension** as frequency range opens up\n4. Pair with volume automation for maximum impact\n\n**High-Pass Filter Sweep:**\nOpposite effect (removes lows gradually):\n1. Automate high-pass filter from 20 Hz → 500 Hz during breakdown\n2. **Creates tension** by thinning out the mix\n3. Drop filter back to 20 Hz on the drop for **massive impact**\n\n**Bandpass Filter Automation:**\nCreates \"telephone\" or \"radio\" effect:\n- Automate bandpass from 300 Hz - 3 kHz (narrow) during verse\n- Open to full range (20 Hz - 20 kHz) on chorus\n- Classic for vocals, synths, drums\n\n**Resonance Automation:**\nPair with filter sweeps for dramatic effect:\n- Automate resonance from Q: 0.5 → Q: 8 during filter sweep\n- Creates whistling, resonant buildup (iconic EDM sound)\n\n**Delay Automation (Throws):**\n\n**Vocal Delay Throw:**\n1. Automate delay send level on vocal track\n2. **Verse:** 0% (dry vocal)\n3. **Last word of phrase:** 100% (full delay)\n4. **Next phrase starts:** 0% (back to dry)\n5. Set delay feedback to 40-70% for multiple echoes\n\n**Instrument Delay Throws:**\n- Automate delay on snare (last snare before drop)\n- Automate delay on synth lead (end of phrases)\n- Creates space and rhythmic interest\n\n**Reverb Automation (Swells):**\n\n**Reverb Send Automation:**\n1. Create reverb bus (100% wet)\n2. Automate send level to reverb bus\n3. **Normal:** 20-30% reverb send\n4. **Swell moment (sustained note):** Ramp up to 80-100% over 2-4 bars\n5. **Drop:** Back to 20-30%\n\n**Reverb Decay Time Automation:**\n- Short reverb (0.8s) during verses for clarity\n- Long reverb (3-5s) during choruses for space\n- Automate reverb plugin's decay parameter\n\n**Reverb Pre-Delay Automation:**\n- Automate pre-delay from 0ms → 100ms during sustained notes\n- Creates \"swell\" effect that builds into the note\n\n**Distortion/Saturation Automation:**\n\n**Drive Automation:**\n- Clean sound during verse\n- Automate distortion drive up during chorus for aggression\n- Classic on bass, synths, vocals\n\n**Chorus/Flanger/Phaser Automation:**\n\n**Depth/Rate Automation:**\n- Subtle modulation during verses\n- Ramp up depth/rate during builds\n- Automate to 0% on drop for clean impact\n\n**Stereo Width Automation:**\n\n**Width Expansion:**\n- Narrow stereo width (50%) during verses (focused, intimate)\n- Widen to 100-120% during chorus (huge, enveloping)\n- Automate stereo imaging plugin width parameter\n\n**Pan Automation:**\n\n**Auto-Pan Effect:**\n- Automate panning L → R → L rhythmically (1/4 notes, 1/8 notes)\n- Creates movement on hi-hats, synths, pads\n- Use sparingly (can be distracting)\n\n**Static to Wide Pan:**\n- Start with element centered (pan: 0%)\n- Automate to hard left (pan: 100% L) or right during chorus\n- Widens the mix dramatically`\n      },\n      {\n        title: 'Advanced Automation Strategies',\n        content: `**Build-Up Automation Chains:**\n\nProfessional producers stack multiple automation parameters for maximum impact:\n\n**Classic EDM Build (8-16 Bars Before Drop):**\n1. **Volume:** Gradually increase by +3 to +6dB\n2. **High-Pass Filter:** 20 Hz → 500 Hz (removes lows)\n3. **Reverb Send:** 20% → 80% (add space and depth)\n4. **White Noise Riser:** Fade in from -∞ to -6dB\n5. **Snare Roll:** Increase frequency (1/4 → 1/8 → 1/16 notes)\n6. **Drum Mute:** Mute kick last 2 bars before drop (tension)\n7. **Vocal Delay Throw:** 100% send on last vocal word\n8. **Impact/Cymbal:** Hit on downbeat of drop\n\n**Result:** Maximum tension → explosive release\n\n**Breakdown Automation (Tension Before Drop):**\n\n**Remove Energy Strategically:**\n1. **Mute drums** (or filter them heavily)\n2. **Drop bass** -6 to -12dB\n3. **Reduce melodic elements** -3 to -6dB\n4. **Increase reverb/delay** (create space)\n5. **Leave one focal element** (vocal, lead synth)\n6. **White noise reverse riser** (builds anticipation)\n7. **Optional: Pitch automation** (pitch down -1 semitone last bar)\n\n**Result:** Stark contrast → massive impact on drop\n\n**Dynamic Panning Automation:**\n\n**Call-and-Response Panning:**\n- Automate lead synth: L (bar 1) → R (bar 2) → L (bar 3) → R (bar 4)\n- Creates conversation between left and right speakers\n- Adds movement and interest\n\n**Circular Panning:**\n- Automate element in circular motion: Center → R → Rear R → Rear L → L → Front → Center\n- Requires surround or stereo imaging plugin\n- Creates immersive, 3D movement\n\n**Automation for Fixing Mix Issues:**\n\n**De-Masking with Automation:**\nIf guitar and vocal clash in frequency range:\n1. Automate guitar EQ: Cut -3dB at 2-4 kHz when vocal is present\n2. Return to flat EQ when vocal stops\n3. **Result:** Guitar stays present but doesn't mask vocal\n\n**Dynamic Sidechain Automation:**\nInstead of constant sidechain ducking:\n1. Automate sidechain threshold: Low (aggressive ducking) during busy sections\n2. High threshold (subtle ducking) during sparse sections\n3. **Result:** Dynamic mix that breathes naturally\n\n**Automation Smoothing & Refinement:**\n\n**Avoid Zipper Noise:**\nFast automation can cause clicking/zipper noise:\n- **Solution:** Use automation smoothing/interpolation in DAW settings\n- Or draw smoother curves manually\n\n**Automation Thinning:**\nRecording with mouse/controller creates hundreds of automation points:\n- **Solution:** Use DAW's \"thin automation\" function to reduce points while maintaining shape\n- Makes editing easier\n\n**Backup Automation:**\nBefore making drastic changes:\n- Duplicate track with automation\n- Mute duplicate (backup)\n- Edit original freely\n\n**Automation Layers:**\nSome DAWs support multiple automation lanes:\n- **Lane 1:** Volume automation (sectional)\n- **Lane 2:** Volume automation (micro-adjustments)\n- **Lane 3:** Pan automation\n- **Result:** Non-destructive, easy to edit independently\n\n**Automation Best Practices:**\n\n1. **Less is More:** Don't automate everything—use strategically\n2. **Listen in Context:** Solo automation changes sound different than in full mix\n3. **Smooth Transitions:** Abrupt automation jumps sound unnatural (unless intentional)\n4. **A/B Test:** Bypass automation to ensure it's improving the mix\n5. **Commit or Preserve:** Print automation to audio if happy (saves CPU), or keep live for flexibility\n\n**Genre-Specific Automation:**\n\n**EDM/Electronic:**\n- Heavy filter automation (builds, drops)\n- Volume automation for dynamics\n- Effect throws (delay, reverb)\n- Frequent builds and drops\n\n**Hip-Hop:**\n- Subtle vocal level adjustments\n- Hi-hat velocity automation\n- Delay/reverb throws on ad-libs\n- Bass level adjustments\n\n**Pop:**\n- Vocal automation (syllable-level precision)\n- Chorus vocal doubling (automate doubles up during chorus)\n- Pre-chorus build (volume, reverb)\n- Backing vocal automation (fade in/out)\n\n**Rock:**\n- Guitar solo automation (bring up +2 to +3dB)\n- Drum overhead automation (cymbals louder during chorus)\n- Vocal doubles (automate stereo doubles during chorus only)\n\n**Automation Checklist (Before Finalizing Mix):**\n✅ Vocal syllables all audible\n✅ Sectional volume rides create dynamic contrast\n✅ Build-ups have multiple automated parameters\n✅ Drops have maximum impact (filter, volume, effects)\n✅ Transitions are smooth (no abrupt jumps)\n✅ Effects automation adds excitement (delay throws, reverb swells)\n✅ A/B tested all automation (helps vs. hurts)\n✅ Automation curves are natural (smooth, not linear)\n✅ Automation saved/backed up (in case of crash)`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Master volume automation: micro-level (syllable adjustments) and macro-level (sectional balancing) for dynamics\",\n    \"Apply effect automation: filter sweeps, delay throws, reverb swells for builds, drops, and emotional impact\",\n    \"Create advanced automation chains: multi-parameter builds and breakdowns for maximum tension and release\",\n    \"Use automation to fix mix issues: de-masking, dynamic sidechain, and frequency management over time\",\n    \"Refine automation: smooth curves, thin automation points, A/B testing, and genre-specific techniques\"\n  ]\n};\n",
    "number": 20,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "mixing-19",
      "mixing-18"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Advanced Automation",
      "Prepararsi alla lezione successiva del modulo Mixing"
    ]
  },
  {
    "slug": "sound-design-20",
    "filename": "lesson-sound-design-20.config.js",
    "title": "Sound Design for",
    "category": "Sound Design",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-sound-design-20-progress\",\n  lessonNumber: 20,\n  lessonCategory: \"Sound Design\",\n  depthLevel: 10,\n  \n  nextLessonUrl: \"labs.html\",\n  prevLessonUrl: \"lesson-sound-design-19.html\",\n  overviewUrl: \"labs.html\",\n  \n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-sound-design-20\", categoryLabel: \"Sound Design\" }),\n    title: \"Sound Design for\",\n    titleHighlight: \"Visual Media\",\n    subtitle: \"Master cinematic sound design with <strong>impacts, risers, transitions, and atmospheric textures</strong> for film, trailers, games, and visual media. Learn professional techniques for creating emotional, powerful soundscapes.\"\n  },\n  \n  sequencer: {\n    tempo: 140,\n    stepCount: 16,\n    swing: 0,\n    showBeatMarkers: true,\n    showStepNumbers: true,\n    autoSaveState: true,\n    enableVelocity: true,\n    requiredTempo: 140\n  },\n  \n  exercise: {\n    title: \"Design Cinematic Build-Impact\",\n    description: \"Create a <strong>cinematic build-to-impact pattern</strong> with riser (tension), whoosh (transition), impact (hit), and tail (decay). Understand professional film sound design structure and timing.\",\n    tip: \"Cinematic sound design is all about tension → release. Build anticipation with risers, deliver impact with hits, sustain emotion with tails.\",\n    steps: [\n      { text: \"<strong>Set tempo to 140 BPM</strong> for dramatic, high-energy pacing.\" },\n      { text: \"<strong>Program riser build</strong> on steps 1-12 with increasing velocity (60 → 100) for tension.\" },\n      { text: \"<strong>Add whoosh transition</strong> on steps 13-14 with velocity 90-100 (movement).\" },\n      { text: \"<strong>Layer massive impact</strong> on step 15 with max velocity (120) for climax.\" },\n      { text: \"<strong>Add reverb tail</strong> on step 16 with velocity 70-80 (sustains emotion).\" },\n      { text: \"<strong>Listen</strong> to how build → whoosh → impact → tail creates cinematic drama.\" }\n    ]\n  },\n  \n  instruments: [\n    {\n      id: \"riser\",\n      label: \"Riser\",\n      color: \"linear-gradient(135deg, #74b9ff, #0984e3)\",\n      targetSteps: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],\n      oscillator: { type: \"noise\", detune: 0 },\n      envelope: { attack: 2.0, decay: 0.5, sustain: 0.8, release: 0.3 },\n      filter: { type: \"highpass\", frequency: 100, Q: 0.8 }\n    },\n    {\n      id: \"whoosh\",\n      label: \"Whoosh\",\n      color: \"linear-gradient(135deg, #a29bfe, #6c5ce7)\",\n      targetSteps: [12, 13],\n      oscillator: { type: \"noise\", detune: 0 },\n      envelope: { attack: 0.01, decay: 0.15, sustain: 0, release: 0.1 },\n      filter: { type: \"bandpass\", frequency: 2000, Q: 3.0 }\n    },\n    {\n      id: \"impact\",\n      label: \"Impact\",\n      color: \"linear-gradient(135deg, #e17055, #d63031)\",\n      targetSteps: [14],\n      oscillator: { type: \"sine\", detune: 0 },\n      envelope: { attack: 0.001, decay: 0.5, sustain: 0.2, release: 1.0 },\n      filter: { type: \"lowpass\", frequency: 80, Q: 2.0 }\n    },\n    {\n      id: \"tail\",\n      label: \"Tail\",\n      color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\",\n      targetSteps: [15],\n      oscillator: { type: \"triangle\", detune: 7 },\n      envelope: { attack: 0.1, decay: 2.0, sustain: 0.3, release: 3.0 },\n      filter: { type: \"lowpass\", frequency: 1200, Q: 0.5 }\n    }\n  },\n  \n  theory: {\n    sections: [\n      {\n        title: 'Cinematic Sound Design Elements',\n        content: `**Core Elements:**\n\n**1. Impacts/Hits:**\nPowerful, punchy sounds for dramatic moments:\n- **Layering:** Sub (30-60 Hz) + Mid (200-500 Hz) + High (2-8 kHz)\n- **Transient shaping:** Fast attack (1-5ms), moderate decay (100-500ms)\n- **Saturation:** Add harmonics for power\n- **Reverb:** Short plate or chamber for size\n- **Sources:** Bass drum, metal hits, explosions, door slams\n\n**2. Risers/Builds:**\nCreate tension and anticipation:\n- **White noise sweep:** High-pass filter automation (20 Hz → 20 kHz)\n- **Reverse cymbal:** Reverse crash, pitch up over time\n- **Synth build:** Saw wave with filter opening + volume increasing\n- **Duration:** 2-8 seconds (match to video edit)\n- **Automation:** Volume, filter, pitch all increasing\n\n**3. Whooshes/Transitions:**\nMovement between scenes:\n- **Doppler effect:** Pitch down as sound \"passes by\"\n- **Stereo movement:** Pan L → R or R → L\n- **Duration:** 0.5-2 seconds (quick)\n- **Layering:** Wind + tonal element + noise\n- **Use:** Scene changes, camera movements, time skips\n\n**4. Drones/Atmospheres:**\nSustained emotional textures:\n- **Long evolving pads:** No clear beginning or end\n- **Pitch:** Often atonal or dissonant for tension\n- **Movement:** Slow filter/volume automation\n- **Layering:** 3-5 layers (low, mid, high frequencies)\n- **Use:** Background emotional tone, establishes mood`\n      },\n      {\n        title: 'Professional Film Sound Techniques',\n        content: `**Hybrid Sound Design:**\nCombine organic + synthetic for rich, complex sounds:\n- **Organic:** Real recordings (metals, woods, water, fire)\n- **Synthetic:** Synths, processed noise, granular\n- **Example Impact:** Real bass drum + 808 sub + distorted sine\n\n**Layering Strategy:**\n- **Low (20-150 Hz):** Weight and power (sub bass, kick)\n- **Mid (150 Hz - 5 kHz):** Body and character (tonal content)\n- **High (5-20 kHz):** Air and detail (noise, cymbals, glass)\n- **Rule:** Each layer occupies different frequency range\n\n**Emotional Sound Design:**\nMatch sound to emotion:\n- **Tension:** Dissonant drones, rising pitch, increasing volume\n- **Release:** Bright impacts, major chords, clear tones\n- **Sadness:** Minor keys, slow attacks, low frequencies\n- **Fear:** Unpredictable, sudden, harsh sounds\n- **Wonder:** Shimmering highs, evolving pads, major harmonies\n\n**Sync to Picture:**\n- **Hit Points:** Align impacts to visual edits (frame-accurate)\n- **Build Duration:** Match riser length to shot duration\n- **Tempo:** Match internal rhythm to pacing of visuals\n- **Silence:** Use negative space for dramatic effect\n\n**Reverb for Space:**\n- **Tight room:** Intimate, close, personal\n- **Hall:** Grand, epic, larger-than-life\n- **Cathedral:** Majestic, spiritual, overwhelming\n- **Plate:** Musical, smooth, polished\n- **Match reverb size to visual environment**`\n      },\n      {\n        title: 'Game Audio & Interactive Sound',\n        content: `**Adaptive Music Layers:**\nChange music based on game state:\n- **Explore:** Ambient pad layer only\n- **Combat:** Add drums + bass + melody\n- **Boss Fight:** Full orchestral intensity\n- **Implementation:** Crossfade between layers seamlessly\n\n**One-Shot Sound Design:**\nSounds triggered by player actions:\n- **Footsteps:** Vary pitch/volume per step (avoid machine gun)\n- **Weapon fire:** Multiple variations (5-10 samples)\n- **UI sounds:** Clear, short, non-fatiguing\n- **3D positioning:** Sounds come from correct direction\n\n**Looping Ambiences:**\nSeamless environmental audio:\n- **No transients at loop point:** Fade in/out\n- **Long enough:** 30-120 seconds (avoid obvious looping)\n- **Layering:** Multiple loops at different lengths (avoid sync)\n- **Randomization:** Pitch/volume variation per playback\n\n**Procedural Audio:**\nGenerate sound algorithmically:\n- **Footsteps:** Synthesize based on surface type + speed\n- **Engine sounds:** Granular synthesis controlled by RPM\n- **Wind:** Filtered noise with randomized modulation\n- **Advantage:** Infinite variation, low memory usage\n\n**Middleware Integration:**\n- **Wwise, FMOD:** Industry-standard game audio engines\n- **Parameters:** Game state → audio parameters\n- **Interactive mixing:** Dynamic ducking, layering, effects\n- **Memory:** Compressed audio, streaming vs. loaded\n\n**Spatial Audio:**\n- **Stereo:** Basic left/right panning\n- **5.1/7.1 Surround:** Multi-channel speaker arrays\n- **Binaural (HRTF):** 3D audio for headphones\n- **Ambisonics:** Spherical surround (VR/AR)`\n      }\n    ]\n  },\n  \n  learningObjectives: [\n    \"Design cinematic elements: impacts, risers, whooshes, drones for film and trailers\",\n    \"Apply professional techniques: hybrid layering, emotional sound design, sync to picture\",\n    \"Master game audio: adaptive layers, one-shots, looping ambiences, procedural synthesis\",\n    \"Implement spatial audio: stereo, surround, binaural, and ambisonics for immersive experiences\"\n  ]\n};\n",
    "number": 20,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "sound-design-19",
      "sound-design-18"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Sound Design for",
      "Prepararsi alla lezione successiva del modulo Sound Design"
    ]
  },
  {
    "slug": "drums-21",
    "filename": "lesson-drums-21.config.js",
    "title": "Advanced Polyrhythms &",
    "category": "Drums & Rhythm",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-drums-21-progress\",\n  lessonNumber: 21,\n  lessonCategory: \"Drums & Rhythm\",\n  depthLevel: 9,\n  nextLessonUrl: \"lesson-drums-22.html\",\n  prevLessonUrl: \"lesson-drums-20.html\",\n  overviewUrl: \"labs.html\",\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-drums-21\", categoryLabel: \"Drums & Rhythm\" }),\n    title: \"Advanced Polyrhythms &\",\n    titleHighlight: \"Cross-Rhythms\",\n    subtitle: \"Master <strong>complex independent rhythms</strong> layered across drums. Create <strong>5/4 over 4/4</strong>, <strong>metric displacement</strong>, and <strong>phase shifting patterns</strong>. These techniques are used in prog rock, math rock, IDM, and experimental electronic music.\"\n  },\n  sequencer: { tempo: 96, stepCount: 20, swing: 0, showBeatMarkers: true, showStepNumbers: true, autoSaveState: true, enableVelocity: true, requiredTempo: 96 },\n  exercise: {\n    title: \"Create 5:4 Polyrhythm (20-step grid)\",\n    description: \"Layer a <strong>5-pulse pattern</strong> against a <strong>4-pulse pattern</strong> using a 20-step grid (LCM of 4 and 5). The kick divides 20 into 4 parts (every 5 steps), while the hi-hat divides into 5 parts (every 4 steps).\",\n    tip: \"The patterns align only on step 1, then drift apart creating hypnotic tension. This is the polyrhythm used in King Crimson's 'Frame by Frame'!\",\n    steps: [\n      { text: \"<strong>Set tempo to 96 BPM</strong>.\" },\n      { text: \"<strong>Kick:</strong> Steps 1, 6, 11, 16 (four pulses = 20÷4).\" },\n      { text: \"<strong>Hi-Hat:</strong> Steps 1, 5, 9, 13, 17 (five pulses = 20÷5).\" },\n      { text: \"<strong>Snare:</strong> Step 11 (middle anchor point).\" },\n      { text: \"<strong>Listen:</strong> The cyclical tension and resolution every 20 steps.\" }\n    ]\n  },\n  instruments: [\n    { id: \"kick\", label: \"Kick\", color: \"linear-gradient(135deg, #e17055, #d63031)\", targetSteps: [0, 5, 10, 15], instructionText: \"4-pulse kick.\", patternHint: { enabled: true } },\n    { id: \"snare\", label: \"Snare\", color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\", targetSteps: [10], instructionText: \"Anchor snare.\", patternHint: { enabled: true } },\n    { id: \"hihat\", label: \"Hi-Hat\", color: \"linear-gradient(135deg, #00cec9, #0984e3)\", targetSteps: [0, 4, 8, 12, 16], instructionText: \"5-pulse hi-hat.\", patternHint: { enabled: true } }\n  ],\n  theory: { sections: [{ title: \"Advanced Polyrhythmic Concepts\", content: \"**5:4 Polyrhythm:** Most complex common polyrhythm. **7:4 Polyrhythm:** Needs 28-step grid (very advanced). **Metric Displacement:** Shifting patterns by offsets. **Cross-Rhythms:** Implied subdivisions that conflict with meter. **Phase Shifting:** Gradually delaying one pattern relative to another (Steve Reich).\" }] },\n  learningObjectives: [\"Program 5:4 polyrhythms\", \"Understand LCM (lowest common multiple) for grid sizing\", \"Create metric displacement patterns\", \"Apply phase shifting techniques\", \"Use polyrhythms musically, not just mathematically\"],\n  validation: applyMessagePreset(\"drumSequencer\", \"correct-placement\")\n};\n",
    "number": 21,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "drums-20",
      "drums-19"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Advanced Polyrhythms &",
      "Prepararsi alla lezione successiva del modulo Drums & Rhythm"
    ]
  },
  {
    "slug": "harmony-21",
    "filename": "lesson-harmony-21.config.js",
    "title": "Secondary Dominants:",
    "category": "Harmony & Melody",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-21-progress\",\n  lessonNumber: 21,\n  lessonCategory: \"Harmony & Melody\",\n\n  nextLessonUrl: \"lesson-harmony-22.html\",\n  prevLessonUrl: \"lesson-harmony-20.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 21, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Secondary Dominants:\",\n    titleHighlight: \"Tonicization Techniques\",\n    subtitle: \"Master V/ii, V/iii, V/IV, V/V, and V/vi. Learn how to temporarily tonicize any chord in a progression for harmonic richness.\"\n  },\n\n  exercise: {\n    title: \"Build Secondary Dominant Progressions\",\n    description: \"Secondary dominants are dominant 7th chords that resolve to diatonic chords other than the tonic. They temporarily 'tonicize' a target chord, making it feel like a temporary I chord. For example, A7 (V/ii) resolves to Dm in C major, treating Dm as a temporary tonic.\",\n    tip: \"To find a secondary dominant: identify the target chord, go up a perfect 5th (or down a perfect 4th), and make that a dominant 7th chord.\",\n    steps: [\n      '<strong>V/ii in C major</strong> — A7 → Dm. A7 is the V chord of D minor, creating temporary tonicization.',\n      '<strong>V/iii in C major</strong> — B7 → Em. B7 leads strongly to E minor with chromatic voice leading.',\n      '<strong>V/IV in C major</strong> — C7 → F. The tonic chord becomes dominant when targeting the IV!',\n      '<strong>V/V in C major</strong> — D7 → G7. Sets up a strong ii-V-I by approaching the dominant.',\n      '<strong>V/vi in C major</strong> — E7 → Am. Creates a deceptive resolution feel, jazzy and sophisticated.',\n      '<strong>Practice</strong> — Program C - A7 - Dm - G7 - C to hear secondary dominants in action.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Secondary Dominants',\n        content: `\n**What Are Secondary Dominants?**\n\nA secondary dominant is a dominant 7th chord that resolves to a diatonic chord other than the tonic. It temporarily establishes a new key center (tonicization) before returning to the original key.\n\n**Formula:**\n1. Identify your target chord (ii, iii, IV, V, or vi in major)\n2. Find the chord a perfect 5th above (or perfect 4th below)\n3. Make it a dominant 7th chord\n4. Resolve it to your target\n\n**Secondary Dominants in C Major:**\n\n**V/ii (A7 → Dm):**\n- Tonicizes ii (Dm becomes temporary \"i\")\n- Notes: A-C#-E-G (introduces C#, not in C major)\n- Usage: Very common in jazz and classical\n- Progression: I-V/ii-ii-V-I (C-A7-Dm-G7-C)\n\n**V/iii (B7 → Em):**\n- Tonicizes iii (Em becomes temporary \"i\")\n- Notes: B-D#-F#-A (introduces D# and F#)\n- Usage: Less common, adds exotic color\n- Progression: I-V/iii-iii-vi (C-B7-Em-Am)\n\n**V/IV (C7 → F):**\n- Tonicizes IV (F becomes temporary \"I\")\n- The tonic chord itself becomes dominant!\n- Notes: C-E-G-Bb (introduces Bb, creates blues feel)\n- Usage: Blues, rock, gospel\n- Progression: I-V/IV-IV (C-C7-F) - very common in blues\n\n**V/V (D7 → G7 or G):**\n- Tonicizes V (G becomes temporary \"I\")\n- Sets up extended dominant approach\n- Notes: D-F#-A-C (introduces F#)\n- Usage: Classical, jazz turnarounds\n- Progression: I-V/V-V-I (C-D7-G7-C)\n\n**V/vi (E7 → Am):**\n- Tonicizes vi (Am becomes temporary \"i\")\n- Creates deceptive, jazzy feel\n- Notes: E-G#-B-D (introduces G#)\n- Usage: Jazz, sophisticated pop\n- Progression: I-V/vi-vi-ii-V-I (C-E7-Am-Dm-G7-C)\n\n**Voice Leading:**\n- The 3rd of the secondary dominant (leading tone) resolves up by half step to the root of target\n- The 7th of the secondary dominant resolves down by half step to the 3rd of target\n- Example in V/ii → ii: C# (3rd of A7) → D (root of Dm), G (7th of A7) → F (3rd of Dm)\n        `\n      },\n      {\n        title: 'Practical Application of Secondary Dominants',\n        content: `\n**Common Progressions Using Secondary Dominants:**\n\n**Jazz Standard Pattern:**\n- Imaj7 - V/ii - ii7 - V7 - Imaj7\n- Cmaj7 - A7 - Dm7 - G7 - Cmaj7\n- The \"Sweet Georgia Brown\" progression\n\n**Blues Approach:**\n- I - V/IV - IV - V/V - V - I\n- C - C7 - F - D7 - G7 - C\n- Classic blues with chromatic approach to IV\n\n**Deceptive Resolution:**\n- I - V/vi - vi - V/ii - ii - V - I\n- C - E7 - Am - A7 - Dm - G7 - C\n- Extended turnaround with multiple tonicizations\n\n**Circle of Fifths with Secondary Dominants:**\n- V/V - V/ii - V/vi - V/iii - V - I\n- D7 - A7 - E7 - B7 - G7 - C\n- Descending fifths, each as secondary dominant\n\n**Recognizing Secondary Dominants:**\n\n**Accidentals:**\n- Look for sharps or flats not in the key\n- These often indicate secondary dominants\n- C major seeing F# or C# → likely V/V or V/ii\n\n**Quality:**\n- Diatonic chords in major: I, ii, iii, IV, V, vi, vii°\n- If you see a major or dominant 7th where there should be minor → secondary dominant\n- Example: A major or A7 in C major (should be Am) → V/ii\n\n**Resolution:**\n- Secondary dominants almost always resolve down a perfect 5th\n- A7 → Dm, E7 → Am, etc.\n- If it doesn't resolve as expected, it might be borrowed or passing\n\n**Writing with Secondary Dominants:**\n\n**Step 1: Choose Target Chord**\n- Pick any diatonic chord except I (ii, iii, IV, V, vi)\n- More common targets: ii, IV, V, vi\n\n**Step 2: Build Secondary Dominant**\n- Go perfect 5th above target\n- Make it dominant 7th quality\n- Add chromatic notes as needed\n\n**Step 3: Voice Leading**\n- Lead 3rd of secondary dominant up by half step\n- Lead 7th down by half step\n- Keep other voices smooth (common tones, stepwise)\n\n**Step 4: Context**\n- Place secondary dominant before target chord\n- Can extend with ii-V approach: V/V/V → V/V → V → I\n\n**Common Mistakes:**\n- Forgetting the 7th (using major triad instead of dom7)\n- Wrong resolution (secondary dominant should resolve to its target)\n- Ignoring voice leading (creates awkward jumps)\n- Overusing (too many secondary dominants = weak tonic)\n\n**Genre Applications:**\n- **Jazz**: Heavy use of V/ii-ii-V-I, V/vi for color\n- **Blues**: V/IV (the tonic becomes dominant 7th)\n- **Classical**: V/V for extended dominant approach\n- **Pop**: Occasional V/vi or V/IV for interest\n- **Gospel**: V/IV very common, bluesy feel\n\n**Pro Tip:**\nYou can chain secondary dominants in the circle of fifths:\n- V/V/V → V/V → V → I\n- In C: A7 → D7 → G7 → C\n- Creates strong forward motion and harmonic momentum\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Build secondary dominants for any diatonic chord\",\n    \"Recognize V/ii, V/iii, V/IV, V/V, and V/vi by ear and notation\",\n    \"Apply proper voice leading to secondary dominant resolutions\",\n    \"Use secondary dominants to create harmonic interest and tonicization\",\n    \"Understand the difference between diatonic and chromatic harmony\"\n  ]\n\n  mode: {\n    sandbox: false,\n    sequencerType: 'none'  // Theory-only lesson, no sequencer\n  }\n};\n",
    "number": 21,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "harmony-20",
      "harmony-19"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Secondary Dominants:",
      "Prepararsi alla lezione successiva del modulo Harmony & Melody"
    ]
  },
  {
    "slug": "drums-22",
    "filename": "lesson-drums-22.config.js",
    "title": "Mixing for Loudness &",
    "category": "Drums & Rhythm",
    "content": "import { applyMessagePreset, buildHeroEyebrow } from \"./config-presets.js\";\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-drums-22-progress\",\n  lessonNumber: 22,\n  lessonCategory: \"Drums & Rhythm\",\n  depthLevel: 10,\n  nextLessonUrl: \"drum-playground.html\",\n  prevLessonUrl: \"lesson-drums-21.html\",\n  overviewUrl: \"labs.html\",\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonSlug: \"lesson-drums-22\", categoryLabel: \"Drums & Rhythm\" }),\n    title: \"Mixing for Loudness &\",\n    titleHighlight: \"Punch\",\n    subtitle: \"Achieve <strong>competitive loudness</strong> without losing dynamics. Master <strong>compression</strong>, <strong>saturation</strong>, and <strong>limiting techniques</strong> for modern drum sounds. Learn how to make drums cut through dense mixes while maintaining impact and clarity.\"\n  },\n  sequencer: { tempo: 128, stepCount: 16, swing: 0, showBeatMarkers: true, showStepNumbers: true, autoSaveState: true, enableVelocity: true, requiredTempo: 128 },\n  exercise: {\n    title: \"Build Mix-Ready Drum Pattern\",\n    description: \"Create a <strong>loud, punchy drum pattern</strong> optimized for modern mixing standards. Use <strong>proper velocity balance</strong>, <strong>frequency separation</strong>, and <strong>dynamic range</strong>.\",\n    tip: \"Loudness comes from RMS (average level), not peak level. Consistent velocities (100-120) create more perceived loudness than random dynamics!\",\n    steps: [\n      { text: \"<strong>Set tempo to 128 BPM</strong> (EDM/house standard).\" },\n      { text: \"<strong>Kick:</strong> Steps 1, 5, 9, 13, velocity 127 (maximum impact).\" },\n      { text: \"<strong>Snare:</strong> Steps 5, 13, velocity 120 (loud backbeat).\" },\n      { text: \"<strong>Hi-Hat:</strong> 16th notes, velocity 95-105 (consistent energy).\" },\n      { text: \"<strong>Clap layer:</strong> Steps 5, 13, velocity 110 (adds thickness to snare).\" },\n      { text: \"<strong>Result:</strong> Dense, loud pattern ready for compression/limiting.\" }\n    ]\n  },\n  instruments: [\n    { id: \"kick\", label: \"Kick\", color: \"linear-gradient(135deg, #e17055, #d63031)\", targetSteps: [0, 4, 8, 12], targetVelocities: { 0: 127, 4: 127, 8: 127, 12: 127 }, instructionText: \"Maximum impact kicks.\", patternHint: { enabled: true } },\n    { id: \"snare\", label: \"Snare\", color: \"linear-gradient(135deg, #ffeaa7, #fdcb6e)\", targetSteps: [4, 12], targetVelocities: { 4: 120, 12: 120 }, instructionText: \"Loud backbeat.\", patternHint: { enabled: true } },\n    { id: \"clap\", label: \"Clap\", color: \"linear-gradient(135deg, #a29bfe, #6c5ce7)\", targetSteps: [4, 12], targetVelocities: { 4: 110, 12: 110 }, instructionText: \"Clap layer.\", patternHint: { enabled: true } },\n    { id: \"hihat\", label: \"Hi-Hat\", color: \"linear-gradient(135deg, #00cec9, #0984e3)\", targetSteps: [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15], targetVelocities: { 0:100, 1:95, 2:102, 3:98, 4:105, 5:97, 6:103, 7:99, 8:101, 9:96, 10:104, 11:98, 12:100, 13:97, 14:102, 15:99 }, instructionText: \"Consistent 16ths.\", patternHint: { enabled: true } }\n  ],\n  theory: { sections: [{ title: \"Loudness Concepts\", content: \"**Peak vs RMS:** Peak = momentary spikes, RMS = average loudness. **Compression:** Reduces dynamic range, increases RMS. **Saturation:** Adds harmonics, increases perceived loudness. **Limiting:** Prevents peaks from exceeding 0dB. **LUFS:** Integrated Loudness Unit (streaming standard: -14 LUFS). **Punch:** Transient + body balance. Fast attack preserves punch, slow attack preserves body.\" }] },\n  learningObjectives: [\"Program drums optimized for competitive loudness\", \"Understand peak vs RMS loudness\", \"Use velocity consistency for maximum impact\", \"Apply compression/limiting concepts\", \"Balance loudness with punch and dynamics\"],\n  validation: applyMessagePreset(\"drumSequencer\", \"correct-placement-and-velocity\")\n};\n",
    "number": 22,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "drums-21",
      "drums-20"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Mixing for Loudness &",
      "Prepararsi alla lezione successiva del modulo Drums & Rhythm"
    ]
  },
  {
    "slug": "harmony-22",
    "filename": "lesson-harmony-22.config.js",
    "title": "Tritone Substitution:",
    "category": "Harmony & Melody",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-22-progress\",\n  lessonNumber: 22,\n  lessonCategory: \"Harmony & Melody\",\n\n  nextLessonUrl: \"lesson-harmony-23.html\",\n  prevLessonUrl: \"lesson-harmony-21.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 22, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Tritone Substitution:\",\n    titleHighlight: \"Jazz Reharmonization\",\n    subtitle: \"Replace dominant chords with their tritone substitutes. Master the most powerful reharmonization technique in jazz.\"\n  },\n\n  exercise: {\n    title: \"Apply Tritone Substitution\",\n    description: \"Tritone substitution replaces a dominant 7th chord with another dominant 7th chord a tritone (6 semitones) away. Both chords share the same 3rd and 7th (enharmonically), creating smooth voice leading while adding chromatic bass movement. G7 can be replaced by Db7, both resolving to C.\",\n    tip: \"The tritone sub shares the critical tension notes (3rd and 7th) with the original dominant. G7 (B-F) = Db7 (F-Cb/B).\",\n    steps: [\n      '<strong>Original: ii-V-I</strong> — Dm7-G7-Cmaj7. Standard jazz progression.',\n      '<strong>Substitute V with tritone</strong> — Replace G7 with Db7 (tritone away). Result: Dm7-Db7-Cmaj7.',\n      '<strong>Why it works</strong> — G7 = G-B-D-F. Db7 = Db-F-Ab-Cb(B). They share F and B, the tension notes!',\n      '<strong>Bass movement</strong> — Instead of G→C (up P4), you get Db→C (down half step). Smooth chromatic descent.',\n      '<strong>Extended sub</strong> — You can also sub secondary dominants: V/ii becomes bII7/ii (Eb7 instead of A7).',\n      '<strong>Full progression</strong> — Try: Dm7-Db7-Cmaj7-E7(or Bb7)-Am7-A7(or Eb7)-Dm7-Db7-Cmaj7'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Understanding Tritone Substitution',\n        content: `\n**What Is Tritone Substitution?**\n\nTritone substitution replaces a dominant 7th chord with another dominant 7th chord located a tritone (augmented 4th / diminished 5th) away. Both chords share the same 3rd and 7th (enharmonically), making the substitution harmonically valid.\n\n**The Math:**\n- **Original**: G7 = G-B-D-F\n  - 3rd: B\n  - 7th: F\n  - Tritone: B-F (defines dominant quality)\n\n- **Substitute**: Db7 = Db-F-Ab-Cb (enharmonic: Db-F-Ab-B)\n  - 3rd: F\n  - 7th: Cb (=B)\n  - Tritone: F-B (same interval, flipped!)\n\n**Why It Works:**\n1. **Shared tension notes**: The 3rd and 7th create the dominant sound\n2. **Smooth voice leading**: 3rd and 7th are already in place, just switch roles\n3. **Chromatic bass motion**: Instead of G→C (perfect 4th), Db→C (half step down)\n4. **Adds color**: Introduces chromatic notes (Db, Ab) not in the key\n\n**Tritone Substitution Formula:**\n1. Identify the dominant 7th chord (e.g., G7)\n2. Go up/down a tritone (6 semitones or 3 whole steps)\n3. Build a dominant 7th chord there (Db7)\n4. Substitute freely!\n\n**Common Applications:**\n\n**ii-V-I Progression:**\n- **Original**: Dm7 - G7 - Cmaj7\n- **Tritone Sub**: Dm7 - Db7 - Cmaj7\n- **Result**: Smooth chromatic bass line (D-Db-C)\n\n**V7 in Blues:**\n- **Original**: C7 - F7 - C7 (I-IV-I)\n- **Tritone Sub**: C7 - B7 - C7 or C7 - Cb7 - C7\n- **Result**: Bebop blues feel\n\n**Turnarounds:**\n- **Original**: Cmaj7 - A7 - Dm7 - G7\n- **Tritone Sub**: Cmaj7 - Eb7 - Dm7 - Db7\n- **Result**: Chromatic descent (C-Eb-D-Db-C)\n\n**Extended Subs (Secondary Dominants):**\n- V/ii = A7 can become Eb7 (bII7/ii)\n- V/iii = B7 can become F7 (bII7/iii)\n- V/V = D7 can become Ab7 (bII7/V)\n\n**Notation:**\n- Tritone sub of V7 is often written as bII7\n- In C major: Db7 is the bII7 (flat-two-seven)\n- Symbol: G7 → Db7 or V7 → bII7\n        `\n      },\n      {\n        title: 'Practical Tritone Substitution Techniques',\n        content: `\n**Voice Leading with Tritone Subs:**\n\n**Smooth Resolution:**\n- Original G7 → Cmaj7:\n  - G (root) → C (root) - up P4\n  - B (3rd) → C (root) or E (3rd) - resolves up or common tone\n  - F (7th) → E (3rd) - down by half step\n\n- Tritone Sub Db7 → Cmaj7:\n  - Db (root) → C (root) - down by half step (chromatic!)\n  - F (3rd) → E (3rd) - down by half step\n  - Cb/B (7th) → C (root) or E (3rd) - smooth resolution\n\n**Key Difference:**\n- Bass moves chromatically (Db→C) instead of by 5th (G→C)\n- Adds forward momentum and jazz sophistication\n- 3rd and 7th resolve the same way!\n\n**When to Use Tritone Subs:**\n\n**Jazz Standards:**\n- Replace any V7 in a ii-V-I with bII7\n- Creates smooth chromatic bass lines\n- Adds harmonic sophistication\n\n**Bebop:**\n- Frequent tritone subs in fast tempos\n- Creates linear chromatic movement\n- Example: \"Tune Up\" uses tritone subs extensively\n\n**Modal Jazz:**\n- Less common (modes avoid strong V-I)\n- Use sparingly for color, not resolution\n\n**Blues:**\n- Substitute IV7 or V7 with tritone subs\n- Creates bebop blues feel\n- Example: Bb7 instead of F7 in C blues\n\n**Funk/R&B:**\n- Occasional tritone sub for chromatic fills\n- Usually kept simple (straight dominants)\n\n**Pop:**\n- Rare, but can add sophistication\n- Use on turnarounds or pre-chorus\n\n**Advanced Techniques:**\n\n**Tritone Sub with Extensions:**\n- Db7(#11) instead of plain Db7\n- Adds Lydian color (G natural over Db)\n- Very jazzy, modern sound\n\n**Tritone Sub with Alterations:**\n- Db7(b9, #9) for maximum tension\n- Resolves powerfully to Cmaj7\n- Common in bebop\n\n**Double Tritone Sub:**\n- Chain tritone subs in sequence\n- Example: Dm7 - Db7 - Cmaj7 - B7 (sub for F7) - Bbmaj7\n- Creates continuous chromatic descent\n\n**Tritone Sub of Secondary Dominants:**\n- V/ii = A7 becomes Eb7 (bII7/ii)\n- Full progression: C - Eb7 - Dm7 - Db7 - C\n- Advanced reharmonization technique\n\n**Recognizing Tritone Subs:**\n\n**Look for:**\n- Dominant 7th chord not in the key\n- Bass moving down by half step to next chord\n- bII7 symbols in jazz charts\n\n**Example in C Major:**\n- See Db7 → likely tritone sub for G7\n- See Ab7 → likely tritone sub for D7 (V/V)\n- See Eb7 → likely tritone sub for A7 (V/ii)\n\n**Common Mistakes:**\n- Using tritone sub on chords other than dominants (doesn't work!)\n- Forgetting the 7th (must be dominant 7th, not major 7th)\n- Overusing (loses impact, sounds cliché)\n- Wrong resolution (tritone sub should still resolve like a dominant)\n\n**Practice Exercises:**\n1. Take any ii-V-I and substitute V with bII7\n2. Find all V7 chords in a jazz standard and try tritone subs\n3. Create chromatic bass lines using tritone subs\n4. Combine tritone subs with secondary dominants\n\n**Pro Tip:**\nYou can think of tritone sub as a \"lazy dominant\" - it wants to resolve down by half step to the tonic instead of up by 4th. This creates smoother, more linear bass motion perfect for walking bass lines in jazz!\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Understand the theory behind tritone substitution\",\n    \"Replace any V7 chord with its tritone substitute (bII7)\",\n    \"Apply tritone subs to ii-V-I progressions for chromatic bass lines\",\n    \"Use tritone substitution on secondary dominants\",\n    \"Recognize tritone subs in jazz standards and lead sheets\"\n  ]\n\n  mode: {\n    sandbox: false,\n    sequencerType: 'none'  // Theory-only lesson, no sequencer\n  }\n};\n",
    "number": 22,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "harmony-21",
      "harmony-20"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Tritone Substitution:",
      "Prepararsi alla lezione successiva del modulo Harmony & Melody"
    ]
  },
  {
    "slug": "harmony-23",
    "filename": "lesson-harmony-23.config.js",
    "title": "Chromatic Reharmonization:",
    "category": "Harmony & Melody",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-23-progress\",\n  lessonNumber: 23,\n  lessonCategory: \"Harmony & Melody\",\n\n  nextLessonUrl: \"lesson-harmony-24.html\",\n  prevLessonUrl: \"lesson-harmony-22.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 23, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Chromatic Reharmonization:\",\n    titleHighlight: \"Passing Chords & Mediants\",\n    subtitle: \"Add chromatic passing chords, chromatic mediants, and augmented sixth chords. Create sophisticated harmonic movement.\"\n  },\n\n  exercise: {\n    title: \"Build Chromatic Chord Progressions\",\n    description: \"Chromatic reharmonization adds chords outside the diatonic scale for color, tension, and smooth voice leading. Techniques include chromatic passing chords (chords that connect two diatonic chords), chromatic mediants (chords a third away), and augmented sixth chords (leading powerfully to dominants).\",\n    tip: \"Chromatic passing chords often move by half step in the bass. Example: C-C#dim-Dm creates smooth chromatic ascent.\",\n    steps: [\n      '<strong>Chromatic Passing Chord</strong> — Insert diminished or dominant chords between diatonic chords. C-C#dim7-Dm7 (I-#Idim7-ii7).',\n      '<strong>Chromatic Mediant</strong> — Move to a major/minor chord a third away. C major to Ab major (bVI) or E major (III). Dramatic shift.',\n      '<strong>Augmented Sixth Chord</strong> — Italian/French/German sixth chords that resolve to V. Ab-C-D-F# (Ger+6) resolves to G7 in C major.',\n      '<strong>Chromatic Approach</strong> — Approach any chord from a half step above or below. Db7-C, B7-C, Ebm-Dm.',\n      '<strong>Full progression</strong> — Try C-Ab-F-Db7-C for chromatic mediant journey with tritone sub.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Chromatic Reharmonization Techniques',\n        content: `\n**Chromatic Passing Chords:**\n\n**Diminished Passing Chords:**\n- Connect two diatonic chords a whole step apart\n- Usually diminished 7th quality\n- Example: C - C#dim7 - Dm (I - #Idim7 - ii)\n- Bass moves chromatically: C → C# → D\n\n**Common Uses:**\n- I - #Idim7 - ii (C-C#dim7-Dm)\n- ii - bIIIdim7 - iii (Dm-Ebdim7-Em)\n- IV - #IVdim7 - V (F-F#dim7-G)\n- V - bVIdim7 - vi (G-Abdim7-Am)\n\n**Dominant Passing Chords:**\n- Insert dominant 7th between diatonic chords\n- Often creates secondary dominant effect\n- Example: Dm7 - Eb7 - Em7 (chromatic approach)\n\n**Chromatic Mediants:**\n\n**Definition:**\nChords whose roots are a third apart but NOT diatonic to the key. Creates dramatic harmonic shift.\n\n**Types:**\n1. **Lower chromatic mediant**: Chord a minor 3rd below (C to Ab)\n2. **Upper chromatic mediant**: Chord a major 3rd above (C to E major)\n3. **Parallel chromatic mediant**: Same quality, third away (C major to A major)\n\n**Examples in C Major:**\n- **C to Ab major (bVI)**: Common in film music, epic feel\n- **C to E major (III)**: Bright, surprising, used in prog rock\n- **C to Eb major (bIII)**: Common borrowed chord from C minor\n- **C to A major (VI)**: Dramatic shift, less common\n\n**Voice Leading:**\n- Often parallel motion (all voices move same direction)\n- Creates sudden tonal shift, less smooth than diatonic\n- Use for dramatic effect, not functional resolution\n\n**Augmented Sixth Chords:**\n\n**Three Types:**\n\n**Italian Augmented Sixth (It+6):**\n- In C major: Ab-C-F#\n- Resolves to G (dominant)\n- Interval: Augmented 6th (Ab to F#)\n\n**French Augmented Sixth (Fr+6):**\n- In C major: Ab-C-D-F#\n- Adds a major 2nd above root\n- Resolves to G7 (or I64 then V)\n\n**German Augmented Sixth (Ger+6):**\n- In C major: Ab-C-Eb-F#\n- Most common type\n- Resolves to G7 (via I64 to avoid parallel 5ths)\n\n**Function:**\n- Pre-dominant function (like IV or ii)\n- Strong pull to V\n- Contains augmented 6th interval (Ab-F#) that expands outward to octave (G-G)\n\n**Usage:**\n- Classical music: very common\n- Jazz: less common, but used for color\n- Film music: dramatic, tense moments\n        `\n      },\n      {\n        title: 'Advanced Chromatic Techniques',\n        content: `\n**Chromatic Voice Leading:**\n\n**Linear Motion:**\n- Each voice moves chromatically or by step\n- Creates smooth but chromatic harmonies\n- Example: C-B7-Bb7-Am (chromatic bass: C-B-Bb-A)\n\n**Parallel Motion:**\n- All voices move in same direction\n- Creates thick, powerful sound\n- Example: C major - Db major - D major (planing)\n- Common in impressionist music (Debussy)\n\n**Contrary Motion:**\n- Bass moves opposite to upper voices\n- Smoother than parallel motion\n- Example: C (bass C) to Ab (bass Ab, upper voices descend)\n\n**Common Chromatic Progressions:**\n\n**Backdoor Progression:**\n- iv-bVII7-I (in C: Fm-Bb7-C)\n- Chromatic alternative to ii-V-I\n- Jazz standard technique\n\n**Coltrane Changes:**\n- Rapid key changes by major thirds\n- Example: C - Eb7 - Ab - B7 - E - G7 - C\n- Very advanced, requires strong voice leading\n\n**Line Cliché:**\n- Chromatically moving inner voice while outer voices stay constant\n- Example: C-Cmaj7-C7-C6 (inner voice: C-B-Bb-A)\n- Common in jazz and standards (\"My Funny Valentine\")\n\n**Tri-Tone Cycle:**\n- Move by tritones (C-F#-C or C-Gb-C)\n- Symmetrical, no clear tonal center\n- Modern, experimental sound\n\n**When to Use Chromatic Reharmonization:**\n\n**Jazz:**\n- Passing chords in standards\n- Tritone subs and chromatic approaches\n- Line clichés in ballads\n\n**Classical:**\n- Augmented sixth chords approaching cadences\n- Chromatic passing tones and chords\n- Modulation preparation\n\n**Film Scores:**\n- Chromatic mediants for scene changes\n- Dramatic shifts (major to major a third away)\n- Building tension with chromatic motion\n\n**Prog Rock:**\n- Chromatic mediants for epic feel\n- Parallel major chord motion (planing)\n- Unpredictable harmonic journeys\n\n**Pop (Rare):**\n- Occasional chromatic passing chord\n- bVI borrowed from parallel minor\n- Usually kept simple\n\n**Common Mistakes:**\n- Overusing chromatic chords (loses tonal center)\n- Poor voice leading (awkward jumps between chromatic chords)\n- No resolution (chromatic tension needs release)\n- Using chromatic chords without understanding their function\n\n**Practice Exercises:**\n1. Add diminished passing chords between diatonic chords\n2. Experiment with chromatic mediants (C to Ab, C to E major)\n3. Build augmented sixth chords resolving to V\n4. Create line clichés with chromatic inner voices\n5. Reharmonize a standard with chromatic passing chords\n\n**Pro Tip:**\nChromatic reharmonization works best when:\n- Voice leading is smooth (half steps, common tones)\n- There's a clear resolution point (return to diatonic harmony)\n- Used sparingly for maximum impact\n- Serves the melody (doesn't clash with melodic notes)\n\nThink of chromatic harmony as \"spice\" - a little goes a long way!\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Add chromatic passing chords to smooth harmonic motion\",\n    \"Use chromatic mediants for dramatic tonal shifts\",\n    \"Build and resolve augmented sixth chords\",\n    \"Apply chromatic voice leading techniques\",\n    \"Balance chromatic and diatonic harmony effectively\"\n  ]\n\n  mode: {\n    sandbox: false,\n    sequencerType: 'none'  // Theory-only lesson, no sequencer\n  }\n};\n",
    "number": 23,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "harmony-22",
      "harmony-21"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Chromatic Reharmonization:",
      "Prepararsi alla lezione successiva del modulo Harmony & Melody"
    ]
  },
  {
    "slug": "harmony-24",
    "filename": "lesson-harmony-24.config.js",
    "title": "Jazz Harmony:",
    "category": "Harmony & Melody",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-24-progress\",\n  lessonNumber: 24,\n  lessonCategory: \"Harmony & Melody\",\n\n  nextLessonUrl: \"lesson-harmony-25.html\",\n  prevLessonUrl: \"lesson-harmony-23.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 24, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Jazz Harmony:\",\n    titleHighlight: \"Complex Extensions & Alterations\",\n    subtitle: \"Master 9ths, 11ths, 13ths, alterations (b9, #9, #11, b13), and upper structure triads. Build professional jazz voicings.\"\n  },\n\n  exercise: {\n    title: \"Voice Complex Jazz Chords\",\n    description: \"Jazz harmony extends basic triads and seventh chords with upper extensions (9, 11, 13) and alterations (b9, #9, #11, b13). These add color, tension, and sophistication. A Cmaj13 contains C-E-G-B-D-F-A (1-3-5-7-9-11-13), but voicings selectively omit notes for clarity.\",\n    tip: \"Extensions stack in thirds: root-3rd-5th-7th-9th-11th-13th. Alterations modify these extensions for added tension.\",\n    steps: [\n      '<strong>Cmaj9</strong> — C-E-G-B-D. Major 7th + major 9th. Lush, sophisticated tonic sound.',\n      '<strong>Dm11</strong> — D-F-A-C-E-G. Minor 7th + 11th. Often omit 3rd (F) to avoid dissonance with 11th.',\n      '<strong>G13</strong> — G-B-D-F-A-C-E. Dominant with all extensions. Typically voice as G-B-F-A-E (omit 5th, 11th).',\n      '<strong>G7b9</strong> — G-B-D-F-Ab. Dominant with flat 9. Tense, bebop sound. Resolves strongly to Cmaj7.',\n      '<strong>G7#11</strong> — G-B-D-F-A-C#. Lydian dominant. Bright, modern jazz sound.',\n      '<strong>Practice</strong> — Play Dm11-G13b9-Cmaj9 to hear extended ii-V-I progression.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Jazz Extensions and Alterations',\n        content: `\n**Extended Chord Theory:**\n\n**9th Chords:**\nAdd the 9th (2nd octave up) above the 7th:\n- **Cmaj9**: C-E-G-B-D (major 7th + major 9th)\n- **Cm9**: C-Eb-G-Bb-D (minor 7th + major 9th)\n- **C9** (dominant): C-E-G-Bb-D (minor 7th + major 9th)\n\n**11th Chords:**\nAdd the 11th (4th octave up) above the 9th:\n- **Cmaj11**: C-E-G-B-D-F (often omit 3rd or 5th)\n- **Cm11**: C-Eb-G-Bb-D-F (very common in jazz)\n- **C11** (dominant): C-(E)-G-Bb-D-F (usually omit 3rd)\n\n**Why omit the 3rd in 11th chords?**\nThe major 3rd (E) and perfect 11th (F) clash (minor 9th interval). Sounds dissonant. Either omit the 3rd or sharp the 11th (#11).\n\n**13th Chords:**\nAdd the 13th (6th octave up) above the 11th:\n- **Cmaj13**: C-E-G-B-D-F-A (full stack)\n- **Cm13**: C-Eb-G-Bb-D-F-A (rare in practice)\n- **C13** (dominant): C-E-G-Bb-D-(F)-A (common, often omit 11th)\n\n**Practical Voicing:**\nFull 13th chord = 7 notes. Piano/guitar can't play all comfortably. Typical voicing omits 5th and sometimes 11th:\n- C13: C-E-Bb-D-A (root-3-7-9-13)\n\n**Altered Dominant Chords:**\n\n**b9 (Flat Nine):**\n- Lowers the 9th by a half step\n- C7b9: C-E-G-Bb-Db\n- Sound: Tense, bebop, strong resolution\n- Use: V7 in minor keys, bebop jazz\n\n**#9 (Sharp Nine / \"Hendrix Chord\"):**\n- Raises the 9th by a half step\n- C7#9: C-E-G-Bb-D#\n- Sound: Blues-rock, funky, Purple Haze\n- Use: Blues, funk, R&B, Hendrix!\n\n**#11 (Sharp Eleven / Lydian Dominant):**\n- Raises the 11th by a half step (avoids 3rd clash)\n- C7#11: C-E-G-Bb-D-F#\n- Sound: Bright, modern jazz, lydian mode over dominant\n- Use: Jazz standards, modern jazz, V7 substitute\n\n**b13 (Flat Thirteen):**\n- Lowers the 13th by a half step\n- C7b13: C-E-G-Bb-D-F-Ab\n- Sound: Dark, descending tension\n- Use: Jazz, resolving to minor chords\n\n**Altered Chord (alt):**\nContains BOTH b9 and #9, OR #9 and b13, etc.\n- C7alt: C-E-G-Bb + any combo of b9, #9, #11, b13\n- Maximum tension dominant\n- Resolves powerfully to tonic\n\n**Common Alterations:**\n- **Dominant chords**: Can take ANY alteration\n- **Major 7th chords**: Usually only #11 (Lydian)\n- **Minor 7th chords**: Usually natural extensions, occasionally b13\n        `\n      },\n      {\n        title: 'Practical Jazz Voicing Techniques',\n        content: `\n**Voicing Principles:**\n\n**1. Omit Strategically:**\n- **5th**: Almost always safe to omit (doesn't define quality)\n- **Root**: Bass player covers it, piano can omit\n- **11th**: Omit on major/dominant chords (clashes with 3rd)\n\n**2. Essential Tones:**\n- **3rd**: Defines major vs minor\n- **7th**: Defines chord quality (maj7, dom7, min7)\n- **Alterations**: Define color (#9, b9, #11, etc.)\n\n**3. Rootless Voicings:**\nPiano/guitar often omit root, assume bass plays it:\n- Cmaj9 voiced as E-B-D-G (3-7-9-5)\n- Dm11 voiced as F-C-E-A (3-7-9-11, no root or 5th)\n\n**4. Drop Voicings:**\n- **Drop 2**: Lower 2nd highest note by octave\n- **Drop 3**: Lower 3rd highest note by octave\n- Creates spread-out, guitar-friendly voicings\n\n**Upper Structure Triads:**\n\n**Concept:**\nStack a major or minor triad on top of a 7th chord shell (root-3-7).\n\n**Examples:**\n- **G7 with D major triad on top**: G-B-F + D-F#-A = G7(9, #11, 13) - modern jazz sound\n- **G7 with Eb major triad on top**: G-B-F + Eb-G-Bb = G7(b9, #9, b13) - altered sound\n- **G7 with Ab major triad on top**: G-B-F + Ab-C-Eb = G7(b9, 11, b13)\n\n**Benefit:**\n- Easy to visualize (just play a triad in right hand)\n- Creates instant extended/altered sound\n- Common in modern jazz piano\n\n**Standard Jazz Voicings:**\n\n**ii-V-I in Cmaj:**\n\n**Diatonic (Natural Extensions):**\n- Dm11 - G13 - Cmaj9\n- Voiced: D-F-A-C-E-G | G-B-F-A-E | C-E-B-D\n\n**Altered:**\n- Dm11 - G7alt - Cmaj9\n- Voiced: D-F-A-C-E-G | G-B-F-Ab-Db | C-E-B-D-G\n\n**With Upper Structures:**\n- Dm11 - G7(with Ab triad) - Cmaj9\n- Right hand plays Ab-C-Eb over G-B-F bass = G7b9, 11, b13\n\n**So What Voicing (Quartal):**\nBill Evans popularized stacking 4ths instead of 3rds:\n- Dm11: D-G-C-F-A-E (4ths stacked)\n- Sound: Modern, modal, spacious\n- Use: Modal jazz, modern jazz\n\n**Genre Applications:**\n\n**Bebop:**\n- Heavy use of b9 on V7 chords\n- Fast ii-V-I with extensions\n- Example: Dm7 - G7b9 - Cmaj7\n\n**Cool Jazz:**\n- Natural extensions (9ths, 13ths)\n- Maj7#11 chords (Lydian)\n- Less altered, more consonant\n\n**Hard Bop:**\n- Mix of natural and altered extensions\n- Blues influence (#9 on dominants)\n- Example: Dm7 - G7#9 - Cmaj7\n\n**Modern Jazz:**\n- Heavy alterations (alt chords)\n- Upper structure triads\n- Quartal voicings\n\n**R&B/Neo-Soul:**\n- Extended major and minor chords (maj9, min9, min11)\n- Occasional altered dominants\n- Lush, rich harmony\n\n**Common Mistakes:**\n- Using maj7 instead of dominant 7 for extensions (Cmaj9 ≠ C9)\n- Forgetting to omit the 5th or root (too many notes)\n- Clash between 3rd and 11th (must omit one or sharp the 11th)\n- Overusing alterations (loses tonal clarity)\n- Not resolving altered dominants properly\n\n**Practice Plan:**\n1. Build all extension types on each chord quality (maj7, min7, dom7)\n2. Voice ii-V-I with natural extensions, then with alterations\n3. Learn upper structure triads over dominant 7ths\n4. Transcribe voicings from Bill Evans, McCoy Tyner, Herbie Hancock\n5. Apply extensions to standards (\"Autumn Leaves\", \"All The Things You Are\")\n\n**Pro Tip:**\nWhen improvising or composing, think in layers:\n1. **Foundation**: Root-3-7 (defines chord)\n2. **Color**: 9th (adds shimmer)\n3. **Tension**: Alterations (b9, #9, #11, b13)\n4. **Release**: Resolution to tonic (maj7, maj9)\n\nExtensions are spices - use tastefully!\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Build 9th, 11th, and 13th chords on all qualities (maj7, min7, dom7)\",\n    \"Apply alterations (b9, #9, #11, b13) to dominant chords\",\n    \"Voice extended chords efficiently by omitting unnecessary notes\",\n    \"Use upper structure triads for modern jazz sounds\",\n    \"Understand the difference between natural extensions and alterations\"\n  ]\n\n  mode: {\n    sandbox: false,\n    sequencerType: 'none'  // Theory-only lesson, no sequencer\n  }\n};\n",
    "number": 24,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "harmony-23",
      "harmony-22"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Jazz Harmony:",
      "Prepararsi alla lezione successiva del modulo Harmony & Melody"
    ]
  },
  {
    "slug": "harmony-25",
    "filename": "lesson-harmony-25.config.js",
    "title": "Blues Harmony:",
    "category": "Harmony & Melody",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-25-progress\",\n  lessonNumber: 25,\n  lessonCategory: \"Harmony & Melody\",\n\n  nextLessonUrl: \"lesson-harmony-26.html\",\n  prevLessonUrl: \"lesson-harmony-24.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 25, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Blues Harmony:\",\n    titleHighlight: \"12-Bar & Turnarounds\",\n    subtitle: \"Master blues progressions, quick-change patterns, turnarounds, and substitutions. From Delta blues to bebop blues.\"\n  },\n\n  exercise: {\n    title: \"Program Blues Progressions\",\n    description: \"The 12-bar blues is the foundation of blues, rock, jazz, and R&B. It follows a specific harmonic pattern: I7-I7-I7-I7-IV7-IV7-I7-I7-V7-IV7-I7-V7 (turnaround). Variations include quick-change blues, jazz blues with ii-V substitutions, and minor blues. Master this and you master a century of American music.\",\n    tip: \"Blues uses dominant 7th chords on ALL chords (I7, IV7, V7), not just V7. This creates the characteristic bluesy sound.\",\n    steps: [\n      '<strong>Basic 12-bar blues in C</strong> — C7(4 bars)-F7(2 bars)-C7(2 bars)-G7(1 bar)-F7(1 bar)-C7-G7(turnaround).',\n      '<strong>Quick-change blues</strong> — Goes to IV7 in bar 2, then back to I7. C7-F7-C7-C7-F7-F7-C7-C7-G7-F7-C7-G7.',\n      '<strong>Jazz blues</strong> — Add ii-V substitutions. C7-F7-C7-Gm7 C7-F7-Bb7-C7-Em7 A7-Dm7 G7-C7 A7-Dm7 G7.',\n      '<strong>Turnaround</strong> — Last 2 bars: I7-VI7-ii7-V7 or I7-V7. Sets up repeat. C7-A7-Dm7-G7.',\n      '<strong>Minor blues</strong> — Use minor chords: Cm7(4)-Fm7(2)-Cm7(2)-G7(1)-Fm7(1)-Cm7-G7.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Blues Harmony Structure',\n        content: `\n**12-Bar Blues Form (Basic):**\n\nBars 1-4: I7 (tonic)\nBars 5-6: IV7 (subdominant)\nBars 7-8: I7 (back to tonic)\nBar 9: V7 (dominant)\nBar 10: IV7 (subdominant)\nBar 11-12: I7 - V7 (tonic - turnaround)\n\n**In C Major:**\nC7 | C7 | C7 | C7 |\nF7 | F7 | C7 | C7 |\nG7 | F7 | C7 | G7 ||\n\n**Why Dominant 7ths Throughout?**\n- Creates bluesy, unresolved tension\n- All chords \"want\" to resolve but don't\n- Comes from blues scale (flat 3, flat 7)\n- Standard in Delta blues, Chicago blues, rock\n\n**Variations:**\n\n**Quick-Change Blues:**\nBar 2 changes to IV7, then back to I7 in bar 3:\nC7 | F7 | C7 | C7 |\nF7 | F7 | C7 | C7 |\nG7 | F7 | C7 | G7 ||\n\nMore harmonic movement, common in modern blues.\n\n**Jazz Blues:**\nAdd ii-V substitutions and passing chords:\nCmaj7 | F7 | Cmaj7 | Cm7 F7 |\nF7 | Fm7 Bb7 | Cmaj7 | Em7 A7 |\nDm7 | G7 | Cmaj7 A7 | Dm7 G7 ||\n\nMore sophisticated, used in bebop (\"Blues for Alice\").\n\n**Minor Blues:**\nUses minor chords instead of dominant 7ths:\nCm7 | Cm7 | Cm7 | Cm7 |\nFm7 | Fm7 | Cm7 | Cm7 |\nG7 | Fm7 | Cm7 | G7 ||\n\nDarker, more melancholic. Common in jazz blues.\n\n**Turnarounds:**\n\n**Function:**\nLast 2 bars (bars 11-12) set up the repeat. Creates harmonic motion back to bar 1.\n\n**Common Turnarounds:**\n\n**I-VI-ii-V:**\nC7-A7-Dm7-G7 (most common)\nChromatically descending bass: C-A-D-G\n\n**I-V7/ii-ii-V:**\nC7-A7-Dm7-G7 (same as above, analyzed differently)\n\n**I-bIII7-bVI7-bII7:**\nC7-Eb7-Ab7-Db7 (chromatic descent)\nBebop style, very jazzy\n\n**I-Idim-ii-V:**\nC7-Cdim7-Dm7-G7\nChromatic passing chord\n\n**Rhythm Changes Turnaround:**\nI-vi-ii-V: Cmaj7-Am7-Dm7-G7\nFrom \"I Got Rhythm\", lighter feel\n        `\n      },\n      {\n        title: 'Blues Substitutions and Advanced Techniques',\n        content: `\n**Blues Substitutions:**\n\n**Bars 9-10 (V7-IV7):**\n**Original**: G7-F7\n**Substitute**: Dm7-G7 (ii-V to I)\n**Substitute**: Db7-C7 (tritone subs)\n**Substitute**: D7-Ab7 (tritone sub chain)\n\n**Bar 8 (I7 before V7):**\n**Original**: C7\n**Substitute**: Em7-A7 (ii-V/ii, sets up next section)\n**Substitute**: Gm7-C7 (ii-V/IV, prepares IV7)\n\n**Bars 5-6 (IV7):**\n**Original**: F7-F7\n**Substitute**: F7-Fm7 (IV to iv, modal interchange)\n**Substitute**: F7-Bb7 (IV7 to bVII7)\n\n**Bird Blues (Charlie Parker Style):**\nVery sophisticated bebop blues changes:\n| Cmaj7 F7 | Bb7 A7 | Dm7 G7 | Em7 A7 |\n| Dm7 | G7 | Cmaj7 | Em7 A7 |\n| Dm7 | G7 | Cmaj7 A7 | Dm7 G7 ||\n\nRapid harmonic rhythm, ii-V substitutions everywhere.\n\n**Walking Bass Blues:**\nPlay root-3-5-6 or root-5-6-b7 on each chord:\n- C7: C-E-G-Bb\n- F7: F-A-C-Eb\n- G7: G-B-D-F\n\nCreates classic blues walking bass feel.\n\n**Blues Scale Integration:**\nBlues scale: C-Eb-F-F#-G-Bb-C (1-b3-4-#4-5-b7-1)\nWorks over ALL chords in blues progression.\n\n**Melodic Considerations:**\n\n**Blue Notes:**\n- Flat 3rd (Eb in C): Tension against major 3rd (E) in C7 chord\n- Flat 7th (Bb in C): Reinforces dominant 7th quality\n- Sharp 4th/Flat 5th (F# in C): Maximum tension, \"blues note\"\n\n**Call and Response:**\n- 2-bar phrases: Call (bars 1-2), Response (bars 3-4)\n- Leave space for answering licks\n- Traditional in blues vocals and guitar\n\n**Riff-Based:**\n- Repeat short melodic/harmonic riff\n- Example: \"Crossroads\", \"Sweet Home Chicago\"\n- Riff defines the song\n\n**Genre Applications:**\n\n**Delta Blues:**\n- Basic 12-bar, simple I-IV-V\n- Acoustic, slide guitar\n- Example: Robert Johnson\n\n**Chicago Blues:**\n- Electric guitar, walking bass\n- Quick-change blues common\n- Example: Muddy Waters, Howlin' Wolf\n\n**Jazz Blues:**\n- Complex substitutions, ii-V's\n- Walking bass, swing feel\n- Example: \"Blues for Alice\", \"Billie's Bounce\"\n\n**Rock Blues:**\n- Simplified 12-bar, power chords\n- Example: \"Red House\" (Hendrix), ZZ Top\n\n**R&B/Soul:**\n- Extended chords (9ths, 13ths)\n- Slower tempos, emotional\n- Example: Ray Charles, B.B. King ballads\n\n**Common Mistakes:**\n- Using major/minor triads instead of dominant 7ths\n- Forgetting the turnaround (bars 11-12)\n- Playing melody that doesn't work over IV7 chord (bar 5)\n- Not swinging or shuffling (blues = triplet feel usually)\n- Ignoring the form (12 bars must be exact)\n\n**Practice Exercises:**\n1. Program basic 12-bar blues in 12 keys\n2. Add quick-change to bar 2\n3. Substitute bars 9-10 with ii-V\n4. Create turnarounds using I-VI-ii-V\n5. Play blues scale over entire progression\n6. Transcribe blues solos to understand phrasing\n\n**Pro Tip:**\nBlues is about FEEL more than exact notes. The shuffle/swing rhythm, dynamics, and phrasing matter more than complex harmony. Start simple, add sophistication gradually. Even Clapton and Hendrix played basic 12-bar blues - it's all about the delivery!\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Program 12-bar blues progressions in any key\",\n    \"Understand quick-change blues and jazz blues variations\",\n    \"Create turnarounds using I-VI-ii-V and substitutions\",\n    \"Apply blues scale over blues progressions\",\n    \"Recognize blues form in different genres (Delta, Chicago, jazz, rock)\"\n  ]\n\n  mode: {\n    sandbox: false,\n    sequencerType: 'none'  // Theory-only lesson, no sequencer\n  }\n};\n",
    "number": 25,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "harmony-24",
      "harmony-23"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Blues Harmony:",
      "Prepararsi alla lezione successiva del modulo Harmony & Melody"
    ]
  },
  {
    "slug": "harmony-26",
    "filename": "lesson-harmony-26.config.js",
    "title": "Funk & Soul Harmony:",
    "category": "Harmony & Melody",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-26-progress\",\n  lessonNumber: 26,\n  lessonCategory: \"Harmony & Melody\",\n\n  nextLessonUrl: \"lesson-harmony-27.html\",\n  prevLessonUrl: \"lesson-harmony-25.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 26, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Funk & Soul Harmony:\",\n    titleHighlight: \"Groovy Sophisticated Chords\",\n    subtitle: \"Master funk chord voicings, slash chords, sus chords, and R&B progressions. Create groovy, sophisticated harmony.\"\n  },\n\n  exercise: {\n    title: \"Build Funk/Soul Chord Progressions\",\n    description: \"Funk and soul use extended chords (9ths, 11ths), sus chords, and slash chords to create rhythmic, groove-oriented harmony. Emphasis is on 16th-note stabs, syncopation, and rich voicings. Common progressions use ii-V-I with extensions, modal vamps, and chromatic movement.\",\n    tip: \"Funk chords are rhythmic instruments. Play them on the AND of beats for maximum groove. Sus chords create tension without major/minor commitment.\",\n    steps: [\n      '<strong>Dm9 voicing</strong> — D-F-A-C-E. Stack 9th on top for lush minor sound. Funk staple.',\n      '<strong>G7sus4</strong> — G-C-D-F. Replace 3rd (B) with 4th (C). Creates unresolved tension, groovy.',\n      '<strong>C/E (slash chord)</strong> — C major triad with E in bass. Creates smooth bass line, modern sound.',\n      '<strong>Funk progression</strong> — Dm9-G7sus4-G7-Cmaj9. Play on 16th notes with ghost note rhythm.',\n      '<strong>Modal vamp</strong> — Repeat Dm11 for 8 bars (Dorian mode). Let groove breathe, add melody on top.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Funk & Soul Chord Theory',\n        content: `\n**Key Chord Types:**\n\n**Extended Minor Chords:**\n- **Dm9**: D-F-A-C-E (1-b3-5-b7-9)\n- **Dm11**: D-F-A-C-E-G (adds 11th)\n- Usage: Tonic or ii chords in funk\n- Sound: Rich, sophisticated, mellow\n\n**Sus Chords:**\n- **Gsus4**: G-C-D (1-4-5, no 3rd)\n- **G7sus4**: G-C-D-F (adds b7)\n- **G9sus4**: G-C-D-F-A (adds 9th)\n- Function: Replaces 3rd with 4th, unresolved\n- Sound: Open, floating, tense\n- Resolution: Usually resolves to major/minor (sus4 → 3)\n\n**Slash Chords:**\n- **C/E**: C major triad, E in bass\n- **Dm7/G**: Dm7 chord, G in bass (creates G9sus sound)\n- **F/G**: F major over G (Gsus9 sound)\n- Function: Smooth bass lines, modern harmony\n- Sound: Contemporary, polychord feel\n\n**Dominant Chords with Extensions:**\n- **G13**: G-B-F-A-E (omit 5th, 11th)\n- **G7#9** (\"Hendrix chord\"): G-B-F-D# (Purple Haze)\n- **G7b9**: G-B-F-Ab (bebop, tense)\n- Function: V7 with color\n- Sound: Funky, bluesy, sophisticated\n\n**Modal Harmony:**\n**Dorian Vamps:**\n- Repeat Dm7 or Dm9 for extended sections\n- Use D Dorian scale (D-E-F-G-A-B-C)\n- Example: \"So What\" (Miles Davis)\n\n**Mixolydian Grooves:**\n- Repeat G7 or G9\n- Use G Mixolydian scale (G-A-B-C-D-E-F)\n- Example: \"Superstition\" (Stevie Wonder)\n        `\n      },\n      {\n        title: 'Funk & Soul Progressions and Techniques',\n        content: `\n**Common Funk Progressions:**\n\n**ii-V-I Funk:**\n- Dm9 - G13 - Cmaj9\n- Play with 16th-note rhythm, ghost notes\n- Example: Tower of Power style\n\n**Modal Funk (One-Chord):**\n- Dm11 (vamp for 8-16 bars)\n- Em11 (Phrygian funk)\n- Minimal harmony, maximum groove\n- Example: \"Chameleon\" (Herbie Hancock)\n\n**Chromatic Funk:**\n- Dm9 - Ebm9 - Em9 - F#m9\n- Chromatic chord slides\n- Example: \"Pick Up the Pieces\" (AWB)\n\n**Soul Progression (I-vi-ii-V):**\n- Cmaj9 - Am9 - Dm9 - G13\n- Extended version of doo-wop changes\n- Example: Motown, Stax Records\n\n**Gospel Changes:**\n- I - IV/vi - ii - V (C - F/A - Dm7 - G7)\n- Heavy use of slash chords\n- Example: Kirk Franklin, Aretha Franklin\n\n**Rhythm and Voicing Techniques:**\n\n**16th-Note Stabs:**\n- Play chords on AND of beats\n- Creates syncopated, funky feel\n- Example: \"Brick House\", \"Le Freak\"\n\n**Ghost Notes:**\n- Muted chords between main hits\n- Adds percussive element\n- Essential for funk guitar\n\n**Chord Hits on \"One\":**\n- Accent beat 1 heavily, then ghost notes\n- Creates rhythmic anchor\n- Example: James Brown, Parliament\n\n**Open Voicings:**\n- Spread chord across 2+ octaves\n- Use slash chords for smooth bass\n- Example: C/E - F/A - G/B (triads over bass)\n\n**Right-Hand Voicings (Piano/Keys):**\n- Play 3-7-9 in right hand, root in left\n- Or 7-9-3 (So What voicing)\n- Rootless, modern sound\n\n**Guitar Voicings:**\n- Omit root (bass plays it)\n- Favor 9ths, 13ths on top strings\n- Muted strings create percussive groove\n\n**Genre Applications:**\n\n**Classic Funk (70s):**\n- Extended minor chords, sus chords\n- Chromatic movement\n- Example: Earth Wind & Fire, Kool & the Gang\n\n**Neo-Soul (2000s):**\n- Heavy use of maj9, min11, 13ths\n- Slash chords for smooth bass lines\n- Example: D'Angelo, Erykah Badu, H.E.R.\n\n**Modern R&B:**\n- Extended chords, chromatic passing\n- Trap-influenced rhythm (slower, spacious)\n- Example: The Weeknd, SZA\n\n**Gospel:**\n- Slash chords, suspensions\n- Rhythmically dense, call-and-response\n- Example: Kirk Franklin, Tye Tribbett\n\n**Jazz-Funk:**\n- Modal vamps, complex extensions\n- Virtuosic solos over simple harmony\n- Example: Herbie Hancock, Tower of Power\n\n**Common Mistakes:**\n- Playing full chords (too dense, muddy)\n- Not syncopating rhythm (loses funk feel)\n- Ignoring ghost notes (sounds stiff)\n- Over-complicating harmony (groove > chords)\n- Playing on downbeats only (not funky!)\n\n**Practice Exercises:**\n1. Play Dm9 on 16th notes with ghost notes\n2. Build sus4 chords resolving to major/minor\n3. Create slash chord bass lines (C/E - F/A - G/B - C)\n4. Vamp on Dm11 for 8 bars, solo over it\n5. Analyze Tower of Power, James Brown, Stevie Wonder chord progressions\n\n**Pro Tip:**\nIn funk, RHYTHM is more important than harmony. A simple Dm9 with perfect 16th-note groove beats complex jazz chords with stiff rhythm every time. Lock with the bass and drums first, add harmonic complexity second!\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Build extended chords (9ths, 11ths, 13ths) for funk/soul\",\n    \"Use sus chords and slash chords effectively\",\n    \"Apply 16th-note rhythmic techniques to chord playing\",\n    \"Create modal vamps and groove-oriented progressions\",\n    \"Understand the relationship between rhythm and harmony in funk\"\n  ],\n\n  mode: {\n    sandbox: false,\n    sequencerType: 'none'  // Theory-only lesson, no sequencer\n  }\n};\n",
    "number": 26,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "harmony-25",
      "harmony-24"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Funk & Soul Harmony:",
      "Prepararsi alla lezione successiva del modulo Harmony & Melody"
    ]
  },
  {
    "slug": "harmony-27",
    "filename": "lesson-harmony-27.config.js",
    "title": "Counterpoint Basics:",
    "category": "Harmony & Melody",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-27-progress\",\n  lessonNumber: 27,\n  lessonCategory: \"Harmony & Melody\",\n\n  nextLessonUrl: \"lesson-harmony-28.html\",\n  prevLessonUrl: \"lesson-harmony-26.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 27, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Counterpoint Basics:\",\n    titleHighlight: \"Two-Voice Writing\",\n    subtitle: \"Learn species counterpoint, voice leading rules, and how to write independent melodic lines that work together harmonically.\"\n  },\n\n  exercise: {\n    title: \"Write Two-Voice Counterpoint\",\n    description: \"Counterpoint is the art of combining independent melodic lines that sound good together. Unlike chord-based harmony (vertical), counterpoint is linear (horizontal). Each voice has its own melodic integrity while creating pleasing harmony with other voices. Species counterpoint provides systematic rules for learning this craft.\",\n    tip: \"Counterpoint rule #1: Contrary or oblique motion is preferred over parallel motion. Avoid parallel 5ths and octaves at all costs!\",\n    steps: [\n      '<strong>Cantus Firmus</strong> — Fixed melody in whole notes: C-D-E-F-E-D-C. This is the foundation voice.',\n      '<strong>First Species (1:1)</strong> — Add second voice, one note against each cantus note. Use contrary motion.',\n      '<strong>Avoid parallel 5ths</strong> — If cantus goes C→D, and counterpoint goes G→A, that\\'s parallel 5ths (forbidden!).',\n      '<strong>Good intervals</strong> — Consonances: unison, 3rd, 5th, 6th, octave. Avoid 2nds, 7ths, 4ths (except as passing).',\n      '<strong>Start and end on octave/unison</strong> — C-C at beginning, C-C at end. Creates stability.'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Counterpoint Fundamentals',\n        content: `\n**What Is Counterpoint?**\n\nCounterpoint (\"point against point\" or \"note against note\") is the technique of writing multiple independent melodic lines that create harmony together. Unlike vertical chord-based thinking, counterpoint emphasizes horizontal melodic motion.\n\n**Key Principles:**\n\n**1. Independence of Voices:**\n- Each line should be melodically interesting on its own\n- Avoid voices moving in same rhythm constantly\n- Create contour: one rises while other falls\n\n**2. Consonance vs. Dissonance:**\n**Perfect Consonances:**\n- Unison (C-C), Octave (C-C'), Perfect 5th (C-G)\n- Very stable, but can sound empty if overused\n- Must not approach/leave in parallel motion\n\n**Imperfect Consonances:**\n- Major/Minor 3rd (C-E, C-Eb)\n- Major/Minor 6th (C-A, C-Ab)\n- Pleasant, can move freely\n\n**Dissonances:**\n- 2nd (C-D), 7th (C-B)\n- 4th (C-F) - treated as dissonance in two-voice counterpoint\n- Tritone (C-F#)\n- Require preparation and resolution\n\n**3. Motion Types:**\n\n**Contrary Motion (Best):**\n- Voices move in opposite directions\n- One ascends, other descends\n- Creates independence, smooth voice leading\n\n**Oblique Motion (Good):**\n- One voice stays, other moves\n- Creates stability with motion\n\n**Parallel Motion (Restricted):**\n- Voices move same direction, same interval\n- Parallel 3rds/6ths: OK\n- Parallel 5ths/octaves: FORBIDDEN\n\n**Similar Motion (Use Carefully):**\n- Same direction, different intervals\n- Can lead to hidden 5ths/octaves (avoid)\n\n**Species Counterpoint:**\n\n**First Species (1:1):**\n- One note against each cantus firmus note\n- Only consonances allowed\n- Must start/end on unison or octave\n- Example:\n  CF: C  - D  - E  - F  - E  - D  - C\n  CP: E  - F  - G  - A  - G  - F  - E\n  Int: 3rd-3rd-3rd-3rd-3rd-3rd-3rd\n\n**Second Species (2:1):**\n- Two notes against each cantus note\n- First note (downbeat) = consonance\n- Second note (upbeat) = can be dissonance (passing tone)\n- Introduces rhythmic variety\n\n**Third Species (4:1):**\n- Four notes against each cantus note\n- Allows more dissonances as passing/neighbor tones\n- Creates flowing, ornamental line\n\n**Fourth Species (Syncopation):**\n- Tied notes creating suspensions\n- Dissonance on strong beat (tied), resolves down on weak beat\n- Creates expressive tension\n\n**Fifth Species (Florid):**\n- Combines all species freely\n- Renaissance polyphony style\n- Most expressive, most complex\n\n**The \"Rules\" (First Species):**\n\n**DO:**\n- Start on unison or octave\n- End on unison or octave\n- Use contrary or oblique motion primarily\n- Prefer imperfect consonances (3rds, 6ths)\n- Create smooth melodic lines (mostly stepwise)\n\n**DON'T:**\n- Use parallel 5ths or octaves\n- Use parallel 4ths\n- Use direct/hidden 5ths or octaves\n- Have voices cross\n- Leap more than an octave\n- Use augmented or diminished intervals\n        `\n      },\n      {\n        title: 'Practical Counterpoint Application',\n        content: `\n**Writing Two-Voice Counterpoint:**\n\n**Step 1: Choose Cantus Firmus**\n- Usually 8-12 notes, whole notes\n- Stepwise motion mostly, few leaps\n- Starts and ends on tonic\n- Example: C-D-F-E-D-C-D-E-F-G-F-E-D-C\n\n**Step 2: Sketch Outer Framework**\n- First note: Unison or octave\n- Last note: Unison or octave\n- Penultimate: Leading tone relationship\n- Example: Start C-C, End C-C\n\n**Step 3: Fill Middle**\n- Use contrary motion when possible\n- Mix 3rds and 6ths (avoid too many same intervals)\n- Avoid parallel 5ths/octaves\n- Create smooth melodic line in counterpoint\n\n**Step 4: Check Voice Leading**\n- No parallel 5ths or octaves\n- No direct 5ths or octaves\n- Smooth melodic contour\n- No voice crossing\n\n**Common Contrapuntal Devices:**\n\n**Imitation:**\n- Second voice imitates first voice's melody\n- Can be exact (canon) or free (fugue)\n- Example: \"Row Row Row Your Boat\"\n\n**Sequence:**\n- Repeat melodic pattern at different pitch level\n- Creates coherent melodic development\n- Example: Bach sequences\n\n**Inversion:**\n- Flip the intervals (up becomes down)\n- Melodic inversion: mirror image\n- Harmonic inversion: swap voices\n\n**Retrograde:**\n- Play melody backwards\n- Used in canons, serial music\n- Example: crab canon\n\n**Augmentation/Diminution:**\n- Augmentation: slower (double note values)\n- Diminution: faster (half note values)\n- Creates rhythmic variation\n\n**Genre Applications:**\n\n**Baroque (Bach, Handel):**\n- Strict species counterpoint\n- Fugues, inventions, chorales\n- Very rule-based, mathematical\n\n**Classical (Mozart, Haydn):**\n- Looser counterpoint\n- Often in development sections\n- Balance with homophonic texture\n\n**Jazz (Modern):**\n- Contrapuntal improvisation (multiple horn lines)\n- Walking bass as countermelody\n- Example: Contrapunctus by Vijay Iyer\n\n**Film Music:**\n- Leitmotif counterpoint (combine themes)\n- Example: \"Duel of the Fates\" (John Williams)\n\n**Electronic Music:**\n- Layered synthesizer lines\n- Arpeggios as counterpoint\n- Example: Aphex Twin, Autechre\n\n**Practical Exercises:**\n\n**1. First Species:**\n- Given CF: C-D-E-D-C\n- Write counterpoint using only 3rds and 6ths\n- Check for parallel 5ths/octaves\n\n**2. Add Bass Line:**\n- Given melody: E-F-G-F-E\n- Write bass line in contrary motion\n- Use roots and chord tones\n\n**3. Two-Part Invention:**\n- Write 8-bar piece with two independent voices\n- Use imitation in first 2 bars\n- Maintain good voice leading throughout\n\n**4. Analyze Bach:**\n- Transcribe Bach Two-Part Invention No. 1\n- Identify motion types (contrary, oblique, parallel)\n- Study how he avoids parallel 5ths\n\n**Common Mistakes:**\n- Parallel 5ths or octaves (most common error!)\n- Too much parallel motion (sounds like chords, not counterpoint)\n- Voice crossing (confusing, avoid)\n- Unmelodic lines (too many leaps, awkward intervals)\n- Ignoring rhythmic independence\n\n**Pro Tip:**\nModern producers often ignore strict counterpoint rules, but the PRINCIPLES remain valuable:\n- Independent melodic lines create interest\n- Contrary motion prevents muddiness\n- Smooth voice leading sounds professional\n\nApply loosely: Drums + bass + melody = three-voice counterpoint in modern production!\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Understand the principles of counterpoint (horizontal vs. vertical thinking)\",\n    \"Write first species (1:1) counterpoint following strict rules\",\n    \"Avoid parallel 5ths, octaves, and voice crossing\",\n    \"Use contrary and oblique motion for independent voice leading\",\n    \"Apply contrapuntal thinking to modern music production\"\n  ]\n\n  mode: {\n    sandbox: false,\n    sequencerType: 'none'  // Theory-only lesson, no sequencer\n  }\n};\n",
    "number": 27,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "harmony-26",
      "harmony-25"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Counterpoint Basics:",
      "Prepararsi alla lezione successiva del modulo Harmony & Melody"
    ]
  },
  {
    "slug": "harmony-28",
    "filename": "lesson-harmony-28.config.js",
    "title": "Modal Interchange:",
    "category": "Harmony & Melody",
    "content": "import { buildHeroEyebrow } from '../lesson-engine.js';\n\nexport const lessonConfig = {\n  lessonKey: \"mpl-harmony-28-progress\",\n  lessonNumber: 28,\n  lessonCategory: \"Harmony & Melody\",\n\n  nextLessonUrl: \"labs.html\",\n  prevLessonUrl: \"lesson-harmony-27.html\",\n  overviewUrl: \"labs.html\",\n\n  hero: {\n    eyebrow: buildHeroEyebrow({ lessonNumber: 28, categoryLabel: \"Harmony & Melody\" }),\n    title: \"Modal Interchange:\",\n    titleHighlight: \"Borrowed Chords & Polytonality\",\n    subtitle: \"Borrow chords from parallel modes and combine multiple keys simultaneously. Master advanced modern harmony techniques.\"\n  },\n\n  exercise: {\n    title: \"Use Modal Interchange and Bitonality\",\n    description: \"Modal interchange (borrowed chords) takes chords from the parallel minor/major key and uses them in the current key for color. In C major, you can borrow chords from C minor (Fm, Ab, Bb, Eb). Polytonality layers two or more keys simultaneously, creating dense, modern harmony used in jazz and contemporary classical music.\",\n    tip: \"The most common borrowed chord in major keys is iv (minor four) from parallel minor. In C major, borrow Fm from C minor for emotional impact.\",\n    steps: [\n      '<strong>Borrowed chord: iv (minor four)</strong> — In C major, use Fm instead of F. Borrowed from C minor. Dark, emotional.',\n      '<strong>Borrowed chord: bVII (flat seven)</strong> — In C major, use Bb instead of Bdim. Mixolydian sound, rock.',\n      '<strong>Borrowed chord: bVI (flat six)</strong> — In C major, use Ab. Epic, cinematic (think film scores).',\n      '<strong>Modal interchange progression</strong> — C-Fm-Ab-Bb-C. All borrowed from C minor except tonic.',\n      '<strong>Bitonality</strong> — Play C major triad in left hand, F# major triad in right hand simultaneously. Polytonality!'\n    ]\n  },\n\n  theory: {\n    sections: [\n      {\n        title: 'Modal Interchange (Borrowed Chords)',\n        content: `\n**What Is Modal Interchange?**\n\nModal interchange (also called modal mixture or borrowed chords) is the technique of borrowing chords from parallel modes/keys. Most commonly: borrowing from parallel minor when in major, and vice versa.\n\n**Parallel Keys:**\n- **C major**: C-D-E-F-G-A-B\n- **C minor**: C-D-Eb-F-G-Ab-Bb\n\n**Chords Available in C Minor (to borrow):**\n- i: Cm\n- ii°: Ddim\n- bIII: Eb major\n- iv: Fm\n- v: Gm (or V: G major)\n- bVI: Ab major\n- bVII: Bb major\n\n**Common Borrowed Chords in Major:**\n\n**iv (minor four):**\n- In C major: Fm\n- Borrowed from: C minor\n- Sound: Sad, nostalgic, powerful\n- Usage: Pre-dominant function\n- Example: \"Creep\" (Radiohead) - C-E-F-Fm\n\n**bVII (flat seven):**\n- In C major: Bb major\n- Borrowed from: C Mixolydian or C minor\n- Sound: Rock, bluesy, modal\n- Usage: Pre-dominant, or direct to I\n- Example: \"Hey Jude\" (Beatles) - F-C-Bb\n\n**bVI (flat six):**\n- In C major: Ab major\n- Borrowed from: C minor\n- Sound: Epic, cinematic, dramatic\n- Usage: Often resolves to V or I\n- Example: Film scores, \"Bohemian Rhapsody\"\n\n**bIII (flat three):**\n- In C major: Eb major\n- Borrowed from: C minor\n- Sound: Bright major chord, unexpected\n- Usage: Chromatic mediant, dramatic shift\n- Example: \"Space Oddity\" (Bowie)\n\n**Common Borrowed Chords in Minor:**\n\n**IV (major four):**\n- In C minor: F major (instead of Fm)\n- Borrowed from: C major\n- Sound: Bright, hopeful, Dorian\n- Usage: Brightens minor key\n- Example: \"Scarborough Fair\"\n\n**I (major one / Picardy third):**\n- In C minor: C major (final chord)\n- Borrowed from: C major\n- Sound: Resolved, bright ending\n- Usage: Final cadence\n- Example: Baroque music endings\n\n**V (major five):**\n- In C minor: G major (instead of Gm)\n- Borrowed from: C harmonic minor\n- Sound: Strong dominant pull\n- Usage: Standard in classical minor\n\n**Modal Interchange Progressions:**\n\n**Major Key Progressions:**\n- **I-bVI-bVII-I**: C-Ab-Bb-C (epic, cinematic)\n- **I-IV-iv-I**: C-F-Fm-C (major to minor plagal cadence)\n- **I-bIII-bVI-bVII**: C-Eb-Ab-Bb (all borrowed, dramatic)\n- **I-V-vi-bVI**: C-G-Am-Ab (deceptive resolution twist)\n\n**Minor Key Progressions:**\n- **i-bVI-bVII-i**: Cm-Ab-Bb-Cm (Aeolian vamp)\n- **i-IV-V-i**: Cm-F-G-Cm (Dorian, brighter minor)\n- **i-bIII-bVI-V**: Cm-Eb-Ab-G (classical minor)\n        `\n      },\n      {\n        title: 'Polytonality and Advanced Techniques',\n        content: `\n**Polytonality (Bitonality):**\n\n**Definition:**\nSimultaneous use of two or more keys. Creates harmonic density, dissonance, and modern sound.\n\n**Bitonality Examples:**\n\n**C major + F# major:**\n- Left hand: C-E-G\n- Right hand: F#-A#-C# (Gb-Bb-Db enharmonic)\n- Result: Maximum dissonance (tritone apart)\n- Sound: Stravinsky, Bartók, modern classical\n\n**C major + Db major:**\n- Left hand: C-E-G\n- Right hand: Db-F-Ab\n- Result: Chromatic clash (half step apart)\n- Sound: Cluster harmony, impressionist\n\n**Polytonal Techniques:**\n\n**Polyrhythm + Polytonality:**\n- One hand in C major (3/4 time)\n- Other hand in G major (4/4 time)\n- Creates rhythmic AND harmonic complexity\n\n**Polytonal Chords:**\n- Stack triads: C major + E major = C-E-G + E-G#-B\n- Creates augmented/extended sound\n- Example: \"Petrushka chord\" (Stravinsky)\n\n**Upper Structure Triads (Jazz Polytonality):**\n- G7 chord (G-B-F) + Db major triad (Db-F-Ab)\n- Creates G7(b9, #9, b13) - altered dominant\n- Polytonal thinking applied to jazz\n\n**Genre Applications:**\n\n**Classical Modern (1900-1950):**\n- Stravinsky: \"Petrushka\", \"Rite of Spring\"\n- Bartók: Piano Concertos\n- Ives: \"The Unanswered Question\"\n\n**Jazz (Modern):**\n- McCoy Tyner: Polytonal piano voicings\n- Ornette Coleman: Harmolodics (free polytonality)\n- Brad Mehldau: Superimposed keys\n\n**Progressive Rock:**\n- King Crimson: Bitonal guitar/keyboard\n- Frank Zappa: Complex polytonal passages\n- Tool: Polyrhythmic and polytonal\n\n**Film Music:**\n- John Williams: Bitonal brass clusters\n- Hans Zimmer: Layered keys for tension\n- Thomas Newman: Polytonal ambience\n\n**Electronic:**\n- Aphex Twin: Polytonal layering\n- Autechre: Algorithmic polytonality\n\n**Combining Modal Interchange + Polytonality:**\n\n**Advanced Technique:**\n1. Establish key (C major)\n2. Borrow chord from parallel minor (Fm)\n3. Layer polytonal element (Fm + B major = polytonal)\n4. Resolve back to C major\n\n**Example:**\n- Bar 1-2: C major (tonic)\n- Bar 3: Fm (borrowed iv) + B major (tritone polytonal layer)\n- Bar 4: C major (resolution)\n\n**Voice Leading in Modal Interchange:**\n\n**Smooth Transitions:**\n- C major (C-E-G) → Fm (F-Ab-C)\n- Common tone: C stays\n- E→F (half step), G→Ab (half step)\n- Very smooth despite chromatic notes\n\n**Chromatic Lines:**\n- C-Cm-F-Fm-C (chromatic inner voices)\n- Creates \"line cliché\" effect\n- Example: \"My Funny Valentine\"\n\n**Common Mistakes:**\n- Overusing borrowed chords (loses tonal center)\n- Not preparing ear for chromatic shift (jarring)\n- Using polytonal\n\nity without purpose (sounds random)\n- Forgetting to resolve borrowed chords\n- Ignoring voice leading (awkward jumps)\n\n**Practice Exercises:**\n1. In C major, substitute IV with iv (F→Fm)\n2. Create progression using bVII and bVI borrowed chords\n3. Layer C major and F# major triads (bitonality)\n4. Analyze Beatles songs for borrowed chords\n5. Write 8-bar progression mixing diatonic and borrowed chords\n\n**Pro Tip:**\nModal interchange adds color WITHOUT leaving the key. You're not modulating, just borrowing. The tonic remains C, you're just using chords from C minor temporarily. This creates emotional depth while maintaining tonal stability - perfect for songwriting!\n\nPolytonality is advanced - use sparingly. Even Stravinsky used it for specific dramatic moments, not constantly.\n        `\n      }\n    ]\n  },\n\n  learningObjectives: [\n    \"Borrow chords from parallel minor/major keys (modal interchange)\",\n    \"Use common borrowed chords: iv, bVII, bVI in major keys\",\n    \"Understand the difference between modulation and borrowing\",\n    \"Experiment with polytonality and bitonality for modern sounds\",\n    \"Apply modal interchange to create emotional depth in progressions\"\n  ]\n\n  mode: {\n    sandbox: false,\n    sequencerType: 'none'  // Theory-only lesson, no sequencer\n  }\n};\n",
    "number": 28,
    "access": "paid",
    "difficulty": "expert",
    "prerequisites": [
      "harmony-27",
      "harmony-26"
    ],
    "outcomes": [
      "Applicare i concetti chiave di Modal Interchange:",
      "Prepararsi alla lezione successiva del modulo Harmony & Melody"
    ]
  }
]
