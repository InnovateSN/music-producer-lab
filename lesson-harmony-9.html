<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title id="mpl-page-title">Lesson 9 · Harmony & Melody · Dominant 7 | Music Producer Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" id="mpl-meta-description" content="Free Lesson 9 from Music Producer Lab: master the dominant 7th chord (G7) and learn how tension resolves to home. The foundation of functional harmony." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>

    <main class="main-content container">

        <!-- HERO SECTION -->
        <section class="hero" id="mpl-hero" aria-label="Lesson hero">
          <div class="hero-copy">
            <div class="hero-copy-eyebrow">Harmony & Melody · Lesson 9</div>
            <h1 class="hero-title">
              <span>Create Pull:</span>
              <span id="mpl-hero-title-highlight">Dominant 7</span>
            </h1>
            <p class="hero-subtitle">
              Master the G7 chord - the most powerful tension-and-release tool in harmony. You'll learn how dominant 7th chords create an irresistible pull to resolve back home. This is the secret behind satisfying chord progressions in pop, blues, jazz, and virtually all Western music.
            </p>
          </div>

          <aside class="hero-visual" aria-hidden="true">
            <div class="hero-visual-header">
              <div class="hero-visual-title">Free lesson</div>
              <div class="hero-visual-pill">Functional harmony</div>
            </div>
            <div class="hero-visual-grid">
              <div class="hero-visual-main">
                <div class="hero-visual-main-title"><span>V7 → I Resolution</span> · 100 BPM</div>
                <div class="hero-visual-waves">
                  <div class="hero-visual-wave"></div>
                  <div class="hero-visual-wave" style="background: var(--accent-primary);"></div>
                  <div class="hero-visual-wave"></div>
                </div>
                <div class="hero-visual-metrics">
                  <div class="hero-visual-metric">
                    <span>Chord</span>
                    <strong>G7 → C</strong>
                  </div>
                  <div class="hero-visual-metric">
                    <span>Time</span>
                    <strong>12–16 min</strong>
                  </div>
                </div>
              </div>
              <div class="hero-visual-side-card">
                <div class="hero-visual-side-label">Goal</div>
                <div class="hero-visual-pill-list">
                  <div class="hero-visual-pill-tag">Master tension</div>
                  <div class="hero-visual-pill-tag">Feel resolution</div>
                </div>
                <div class="hero-visual-footer">
                  <span>Works in any DAW</span>
                  <span>Ableton · FL · Logic · others</span>
                </div>
              </div>
            </div>
          </aside>
        </section>

        <!-- THEORY CONTENT SECTION -->
        <section class="theory-section" style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);">
          <div class="section-eyebrow">Theory</div>
          <h2 class="section-title">The Power of Tension: Understanding Dominant 7th</h2>
          <p class="section-body" style="margin-bottom: var(--space-xl);">
            The <strong>dominant 7th chord</strong> is the most important chord in Western music harmony. It creates <strong>tension</strong> that demands <strong>resolution</strong>. Every time you hear a satisfying chord progression that "comes home," you're hearing dominant 7th resolution. This lesson teaches you how to harness this power in your productions.
          </p>

          <!-- Theory Cards Grid -->
          <div style="display: grid; gap: var(--space-lg); margin-bottom: var(--space-xl);">

            <!-- Card: What makes dominant 7 different -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Dominant 7 vs Major 7: The Critical Difference</h3>
              <p class="section-body">
                Both are seventh chords built on major triads, but they sound completely different:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0;">
                <div style="margin-bottom: var(--space-md);">
                  <strong style="color: var(--accent-cyan);">Major 7th (Cmaj7):</strong> C-E-G-<strong style="color: var(--accent-primary);">B</strong><br>
                  <div style="margin-top: var(--space-xs); padding-left: var(--space-sm); color: rgba(255,255,255,0.8);">
                    The B is 11 semitones above C (major 7th interval)<br>
                    Sound: Dreamy, stable, no tension<br>
                    Function: Sounds "at home"
                  </div>
                </div>
                <div>
                  <strong style="color: var(--accent-purple);">Dominant 7th (G7):</strong> G-B-D-<strong style="color: var(--accent-primary);">F</strong><br>
                  <div style="margin-top: var(--space-xs); padding-left: var(--space-sm); color: rgba(255,255,255,0.8);">
                    The F is 10 semitones above G (minor 7th interval)<br>
                    Sound: Tense, unstable, demands movement<br>
                    Function: Wants to resolve to C
                  </div>
                </div>
              </div>
              <p class="section-body" style="margin-bottom: 0;">
                The key difference is the <strong>seventh</strong>: major 7th uses a natural 7th (stable), dominant 7th uses a flat 7th (unstable). That one semitone creates all the tension. When you play G7, it feels like it's pulling toward C - and when it resolves, it's deeply satisfying.
              </p>
            </div>

            <!-- Card: Why G7 resolves to C -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(95,77,255,0.08), rgba(138,155,255,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Why G7 Desperately Wants to Go to C</h3>
              <p class="section-body">
                G7 contains two notes that create powerful tension:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0;">
                <div style="margin-bottom: var(--space-sm);">
                  <strong style="color: var(--accent-cyan);">F (the flat 7th)</strong> wants to fall down to <strong>E</strong><br>
                  <div style="margin-left: var(--space-sm); color: rgba(255,255,255,0.7); margin-top: var(--space-xs);">
                    F is unstable, only a half-step above E (which is in C major chord)
                  </div>
                </div>
                <div>
                  <strong style="color: var(--accent-purple);">B (the major 3rd)</strong> wants to rise up to <strong>C</strong><br>
                  <div style="margin-left: var(--space-sm); color: rgba(255,255,255,0.7); margin-top: var(--space-xs);">
                    B is the "leading tone" - only a half-step below C (the root)
                  </div>
                </div>
              </div>
              <p class="section-body">
                When G7 resolves to C:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-sm); border-radius: 8px; margin: var(--space-md) 0; font-family: monospace; text-align: center; font-size: 1.1em;">
                <div style="margin-bottom: var(--space-xs);">G7: <strong>G - B - D - F</strong></div>
                <div style="color: var(--accent-primary); margin-bottom: var(--space-xs);">↓&nbsp;&nbsp;&nbsp;↑&nbsp;&nbsp;&nbsp;↓&nbsp;&nbsp;&nbsp;↓</div>
                <div>C: <strong>G - C - E - E</strong></div>
              </div>
              <p class="section-body">
                Notice:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-xs);">
                <li><strong>G</strong> stays (common tone)</li>
                <li><strong>B</strong> rises to <strong>C</strong> (resolution!)</li>
                <li><strong>D</strong> falls to <strong>C</strong> or stays as the fifth</li>
                <li><strong>F</strong> falls to <strong>E</strong> (tension released!)</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                This voice-leading motion - B rising to C and F falling to E - is what creates that satisfying "coming home" feeling. Your ear expects it, and when it happens, it feels right.
              </p>
            </div>

            <!-- Card: Building G7 -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Building G7: Step by Step</h3>
              <p class="section-body">
                Let's construct the <strong>G dominant 7th chord (G7)</strong>:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0; font-family: monospace;">
                <div style="margin-bottom: var(--space-xs);"><strong style="color: var(--accent-cyan);">Step 1:</strong> Start with G major triad</div>
                <div style="padding-left: var(--space-lg); margin-bottom: var(--space-sm);">
                  Root: <strong>G</strong><br>
                  Third: <strong>B</strong> (4 semitones up)<br>
                  Fifth: <strong>D</strong> (7 semitones from root)
                </div>
                <div style="margin-bottom: var(--space-xs);"><strong style="color: var(--accent-primary);">Step 2:</strong> Add the FLAT seventh (NOT major seventh!)</div>
                <div style="padding-left: var(--space-lg);">
                  Flat seventh: <strong>F</strong> (10 semitones from root)<br>
                  <span style="color: rgba(255,255,255,0.6);">NOT F# (that would be major 7th)</span>
                </div>
              </div>
              <p class="section-body">
                <strong>Final chord: G7 = G-B-D-F</strong>
              </p>
              <p class="section-body" style="margin-bottom: 0;">
                Critical: The F (not F#) is what makes this a dominant 7th. F# would make it Gmaj7 (stable). F (flat 7th) makes it G7 (unstable, wants to resolve). In your piano roll, stack G-B-D-F vertically. When you play it, it should sound tense and unfinished.
              </p>
            </div>

            <!-- Card: V7 to I progression -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(95,77,255,0.08), rgba(138,155,255,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">The V7 → I Progression: The Core of Harmony</h3>
              <p class="section-body">
                In music theory, chords are numbered by their position in the scale:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0;">
                <div style="margin-bottom: var(--space-xs);">I = C (tonic, home)</div>
                <div style="margin-bottom: var(--space-xs);">ii = Dm</div>
                <div style="margin-bottom: var(--space-xs);">iii = Em</div>
                <div style="margin-bottom: var(--space-xs);">IV = F</div>
                <div style="margin-bottom: var(--space-xs);"><strong style="color: var(--accent-purple);">V = G (dominant)</strong></div>
                <div style="margin-bottom: var(--space-xs);">vi = Am</div>
                <div>vii° = Bdim</div>
              </div>
              <p class="section-body">
                The <strong>V chord</strong> (G in key of C) is called the <strong>"dominant"</strong> because it dominates the harmonic motion - it's the strongest pull back to I (home). When you add the 7th to make V7 (G7), that pull becomes even more powerful.
              </p>
              <p class="section-body">
                <strong>V7 → I</strong> is the most fundamental progression in Western music:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-xs);">
                <li>Blues turnarounds</li>
                <li>Jazz cadences</li>
                <li>Classical period endings</li>
                <li>Pop song choruses resolving</li>
                <li>Rock power ballads climaxing</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                When you understand V7 → I, you understand the engine that drives most harmony. Everything else is elaboration on this basic tension-and-release principle.
              </p>
            </div>

            <!-- Card: Extended V7 to I progressions -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Building Toward the Resolution</h3>
              <p class="section-body">
                Professional progressions build up to the V7 → I resolution. Common patterns:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0;">
                <div style="margin-bottom: var(--space-sm);">
                  <strong style="color: var(--accent-cyan);">I → IV → V7 → I</strong> (classic pattern)<br>
                  <div style="margin-left: var(--space-sm); color: rgba(255,255,255,0.7);">
                    C → F → G7 → C (thousands of songs use this)
                  </div>
                </div>
                <div style="margin-bottom: var(--space-sm);">
                  <strong style="color: var(--accent-purple);">I → vi → V7 → I</strong> (smooth approach)<br>
                  <div style="margin-left: var(--space-sm); color: rgba(255,255,255,0.7);">
                    C → Am → G7 → C (our exercise!)
                  </div>
                </div>
                <div>
                  <strong style="color: var(--accent-primary);">ii → V7 → I</strong> (jazz standard)<br>
                  <div style="margin-left: var(--space-sm); color: rgba(255,255,255,0.7);">
                    Dm → G7 → C (smooth, sophisticated)
                  </div>
                </div>
              </div>
              <p class="section-body" style="margin-bottom: 0;">
                The idea is to create a journey: start at home (I), move through other chords, hit the dominant 7th (V7) which creates maximum tension, then resolve back home (I) for satisfaction. The longer you delay the resolution, the more satisfying it feels when it finally arrives.
              </p>
            </div>

            <!-- Card: Production usage -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(0,240,255,0.08), rgba(138,255,255,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Using Dominant 7th in Production</h3>
              <p class="section-body">
                Dominant 7th chords work best when:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>Ending phrases:</strong> Use V7 → I to create satisfying conclusions</li>
                <li><strong>Building tension before drops:</strong> Sit on V7 for bars before dropping to I</li>
                <li><strong>Pre-chorus to chorus:</strong> V7 creates anticipation for the chorus</li>
                <li><strong>Blues and jazz:</strong> V7 is the foundation of blues progressions (I7 → IV7 → V7)</li>
                <li><strong>Turnarounds:</strong> End your 4 or 8-bar loop with V7 to pull back to the start</li>
              </ul>
              <p class="section-body">
                Genre tips:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-xs);">
                <li><strong>House/Techno:</strong> Often skip dominant 7th for simpler major/minor vamps</li>
                <li><strong>Jazz/Neo-Soul:</strong> Dominant 7th is essential, often with extensions (G9, G13)</li>
                <li><strong>Pop/Rock:</strong> Use V7 → I at chorus starts and song endings</li>
                <li><strong>Hip-Hop/R&B:</strong> Subtle V7 → I in chord loops adds sophistication</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                The dominant 7th gives you control over tension. When you want listeners to feel "this needs to resolve," reach for V7. When it finally resolves to I, you've created a moment of satisfaction.
              </p>
            </div>

            <!-- Card: Common mistake -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(255,90,61,0.08), rgba(255,178,138,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Common Mistake: Major 7 vs Dominant 7</h3>
              <p class="section-body">
                The #1 mistake beginners make:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0;">
                <div style="margin-bottom: var(--space-sm);">
                  <strong style="color: rgba(255,100,100,1);"><img src="images/X.png" alt="X" style="width: 28px; height: 28px; display: inline-block; vertical-align: middle;"> Wrong:</strong> Using Gmaj7 (G-B-D-F#) expecting tension<br>
                  <div style="margin-left: var(--space-sm); color: rgba(255,255,255,0.7);">
                    Gmaj7 is stable and dreamy - it won't create the pull to C
                  </div>
                </div>
                <div>
                  <strong style="color: rgba(100,255,100,1);">✓ Correct:</strong> Using G7 (G-B-D-F) for tension<br>
                  <div style="margin-left: var(--space-sm); color: rgba(255,255,255,0.7);">
                    G7 has the flat 7th (F) that creates the pull to C
                  </div>
                </div>
              </div>
              <p class="section-body">
                Remember:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-xs);">
                <li><strong>Major 7th chord (Gmaj7):</strong> Stable, no tension, doesn't demand resolution</li>
                <li><strong>Dominant 7th chord (G7):</strong> Unstable, full of tension, demands resolution to C</li>
              </ul>
              <p class="section-body">
                In the key of C major:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-xs);">
                <li>Use <strong>Cmaj7, Fmaj7</strong> for stability (I and IV chords)</li>
                <li>Use <strong>G7</strong> for tension (V chord)</li>
                <li>Use <strong>Dm7, Em7, Am7</strong> for smooth minor color (ii, iii, vi chords)</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                If your V chord isn't creating tension, check: are you accidentally using major 7th (F#) instead of dominant 7th (F)? That one note makes all the difference.
              </p>
            </div>

          </div>
        </section>

        <!-- EXERCISE INSTRUCTIONS -->
        <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
          <div class="exercise-box">
            <div class="section-eyebrow">Exercise</div>
            <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
            <p class="section-body" id="mpl-exercise-description"></p>

            <div class="exercise-steps" id="mpl-exercise-steps-wrap">
              <h3>What to do:</h3>
              <ol class="exercise-checklist" id="mpl-exercise-steps"></ol>
            </div>

            <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;">
              <strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span>
            </div>
          </div>
        </section>

        <!-- PIANO ROLL SEQUENCER SECTION -->
        <section class="sequencer-section" id="mpl-sequencer-section" style="margin-top: var(--space-xl);">
          <div class="section-eyebrow" style="margin-bottom: var(--space-sm);">Interactive Piano Roll</div>
          <h2 class="section-title" style="margin-bottom: var(--space-lg);">Build Your Progression</h2>

          <div class="sequencer" id="mpl-sequencer-collection">
            <!-- Piano roll will be created by JS -->
          </div>

          <div class="sequencer-controls" style="display:flex;gap:0.75rem;margin-top:1.5rem;flex-wrap:wrap;align-items:center;">
            <button id="mpl-seq-play" class="btn btn-primary" style="min-width:100px;"><img src="images/PLAY.png" alt="Play" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 6px;"> Play</button>
            <button id="mpl-seq-stop" class="btn btn-secondary" style="min-width:100px;"><img src="images/STOP.png" alt="Stop" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 6px;"> Stop</button>
            <button id="mpl-seq-clear-all" class="btn btn-secondary" style="min-width:100px;"><img src="images/CLEAR.png" alt="Clear" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 6px;"> Clear</button>
          </div>

          <div class="sequencer-status" id="mpl-seq-status" aria-live="polite" style="margin-top:1rem;">
            <span>Click on the piano roll to place notes. Build the progression with G7 resolving to C.</span>
          </div>
        </section>

        <!-- COMPLETION SECTION -->
        <section class="completion-section" id="mpl-completion-section" style="display:none; margin-top: var(--space-2xl);">
          <div class="completion-card">
            <div class="completion-icon"><img src="images/mplstellinaesagono.png" alt="Success" style="width: 3em; height: 3em;"></div>
            <h2 class="completion-title">Lesson Complete!</h2>
            <p class="completion-message" id="mpl-completion-message"></p>
            <div class="completion-actions">
              <a href="#" id="mpl-next-lesson-btn" class="btn btn-primary">Next Lesson →</a>
              <a href="labs.html" class="btn btn-secondary">All Lessons</a>
            </div>
          </div>
        </section>

    </main>

    <!-- SCRIPTS -->
    <script type="module">
      import { lessonConfig } from './configs/lesson-harmony-9.config.js';
      import { initLessonFromConfig } from './lesson-engine.js';

      initLessonFromConfig(lessonConfig);
    </script>

  <script src="theme-registry.js"></script>
  <script src="theme-manager.js"></script>
    <script src="navbar.js"></script>

  </body>
</html>
