<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title id="mpl-page-title">Lesson · Music Producer Lab</title>
    <meta name="viewport" content="width=1200, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" id="mpl-meta-description" content="Interactive music production lesson from Music Producer Lab." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>

    <main class="main-content container">

        <!-- HERO SECTION (populated by JS) -->
        <section class="hero" id="mpl-hero" aria-label="Lesson hero" style="display: flex; align-items: center; gap: var(--space-3xl);">
          <div class="hero-copy" style="flex: 1; max-width: none;">
            <div class="hero-copy-eyebrow" id="mpl-hero-eyebrow">Loading...</div>
            <h1 class="hero-title" id="mpl-hero-title">
              <span id="mpl-hero-title-main">Lesson</span>
              <span id="mpl-hero-title-highlight"></span>
            </h1>
            <p class="hero-subtitle" id="mpl-hero-subtitle"></p>
            <div id="mpl-hero-nav-btns" style="margin-top:1rem;display:flex;gap:0.6rem;flex-wrap:wrap;"></div>
          </div>

          <div class="hero-visual" style="flex: 1; display: flex; align-items: center; justify-content: center;">
            <img src="images/mpl_hero_rightside.png" alt="Music Production" style="width: 100%; max-width: 500px; height: auto; object-fit: contain; filter: drop-shadow(0 0 40px rgba(0, 212, 255, 0.3));">
          </div>
          </div>
        </section>

        <!-- EDUCATIONAL CONTENT -->
        <section style="margin-top: var(--space-3xl); margin-bottom: var(--space-3xl);">
          <div class="card" style="padding: var(--space-2xl); background: var(--bg-card); border: 1px solid var(--border-subtle);">

            <!-- INTRODUCTION -->
            <div class="section-eyebrow" style="margin-bottom: var(--space-md);">What You'll Learn</div>
            <h2 style="font-size: 2rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Half-Time Patterns: The Illusion of Tempo</h2>

            <p style="font-size: 1.1rem; line-height: 1.8; color: var(--text-secondary); margin-bottom: var(--space-xl);">
              <strong>Half-time</strong> is one of the most powerful rhythmic techniques in modern electronic music. By placing the <a href="glossary.html#snare-drum" style="color: var(--accent-cyan); text-decoration: underline;">snare</a> on <strong>beat 3</strong> (instead of beats 2 & 4), you create the illusion that <strong>140 BPM feels like 70 BPM</strong>—twice as slow. This creates a <strong>laid-back, heavy groove</strong> that defines trap, dubstep, future bass, and countless modern genres. Combined with rolling <a href="glossary.html#hi-hat" style="color: var(--accent-cyan); text-decoration: underline;">hi-hats</a>, powerful <strong>808 bass</strong> on the downbeat, and syncopated percussion, half-time patterns create massive, head-nodding drops that hit hard without sounding rushed. This technique is essential for creating build-ups, drops, and genre-defying hybrid beats. In this lesson, you'll program the classic half-time pattern at 140 BPM and understand why it feels so powerful and different from standard <a href="glossary.html#backbeat" style="color: var(--accent-cyan); text-decoration: underline;">backbeat</a> rhythms.
            </p>

            <!-- KEY CONCEPTS GRID -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-lg); margin-bottom: var(--space-2xl);">

              <!-- Concept 1: What is Half-Time -->
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(255, 90, 61, 0.1), rgba(255, 178, 138, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(255, 90, 61, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/clock_anticlockwise.png" alt="Half-Time" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-orange); margin: 0;">What is Half-Time?</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">
                  Half-time puts the <strong>snare on beat 3</strong> (step 9 in a 16-step grid) instead of beats 2 & 4. This makes the brain perceive the tempo as <strong>half as fast</strong>—140 BPM feels like 70 BPM. The snare is the rhythmic anchor our brains use to identify tempo, so moving it to beat 3 creates a powerful <strong>tempo illusion</strong>. Everything else (kick, hi-hats) stays at 140 BPM, creating a contrast between fast and slow that's incredibly groovy.
                </p>
              </div>

              <!-- Concept 2: The Math -->
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(95, 77, 255, 0.1), rgba(138, 155, 255, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(95, 77, 255, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/notamusicale.png" alt="Math" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-purple); margin: 0;">The Math: 140 → 70 BPM</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">
                  In standard <a href="glossary.html#4-4-time" style="color: var(--accent-cyan); text-decoration: underline;">4/4 time</a>, the snare hits twice per <a href="glossary.html#bar" style="color: var(--accent-cyan); text-decoration: underline;">bar</a> (beats 2 & 4). In half-time, it hits <strong>once per bar</strong> (beat 3), effectively doubling the perceived bar length. This is why 140 BPM half-time feels identical to 70 BPM normal time. The same principle applies to 170 BPM drum & bass → 85 BPM half-time. It's musical <strong>time dilation</strong>.
                </p>
              </div>

              <!-- Concept 3: Genre Applications -->
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(184, 255, 221, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(0, 212, 255, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/mixer.png" alt="Genres" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-cyan); margin: 0;">Genre Applications</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">
                  <strong>Trap</strong> (135-145 BPM): rolling hi-hats, 808 bass, sparse snare. <strong>Dubstep</strong> (138-142 BPM): heavy wobble bass, aggressive snare. <strong>Future Bass</strong> (140-150 BPM): melodic, wide synths, chopped vocals. <strong>Half-Time DnB</strong> (85 BPM, perceived): DnB tempo with half-time feel. All share the snare-on-3 backbone.
                </p>
              </div>

              <!-- Concept 4: 808 Bass -->
              <div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(179, 102, 255, 0.1), rgba(255, 102, 178, 0.1)); border-radius: var(--radius-md); border: 1px solid rgba(179, 102, 255, 0.2);">
                <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                  <img src="images/planet.png" alt="808" style="width: 2rem; height: 2rem;">
                  <h3 style="font-size: 1.25rem; color: var(--accent-magenta); margin: 0;">808 Bass Power</h3>
                </div>
                <p style="color: var(--text-secondary); line-height: 1.7;">
                  The <strong>Roland TR-808</strong> kick/bass sound is essential to half-time. Its long, sub-bass tail creates <strong>massive low-end presence</strong> on the downbeat. In trap and dubstep, the 808 is tuned to a musical note and sustained, blending rhythm and bass. This creates that <strong>chest-vibrating drop</strong> that defines modern bass music. The 808 on step 1 + snare on step 9 = perfect half-time foundation.
                </p>
              </div>

            </div>

            <!-- VISUAL PATTERN COMPARISON -->
            <div style="padding: var(--space-xl); background: var(--bg-secondary); border-radius: var(--radius-lg); margin-bottom: var(--space-2xl);">
              <h3 style="font-size: 1.5rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Standard Time vs. Half-Time</h3>

              <div style="margin-bottom: var(--space-xl);">
                <h4 style="color: var(--text-muted); margin-bottom: var(--space-md); font-size: 0.9rem;">Standard Backbeat (2 snares per bar)</h4>
                <div style="background: rgba(95, 77, 255, 0.05); padding: var(--space-md); border-radius: var(--radius-md); border: 1px solid rgba(95, 77, 255, 0.3);">

                  <!-- Kick row -->
                  <div style="margin-bottom: var(--space-sm);">
                    <div style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 4px;">Kick</div>
                    <div style="display: grid; grid-template-columns: repeat(16, 1fr); gap: 2px;">
                      <div style="background: linear-gradient(135deg,#e17055,#d63031); height: 28px; border-radius: 2px; box-shadow: 0 0 8px rgba(225,112,85,0.5);"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                    </div>
                    <div style="margin-top: 4px; font-size: 0.7rem; color: var(--text-muted);">Step 1 (downbeat)</div>
                  </div>

                  <!-- Snare row (standard backbeat) -->
                  <div style="margin-bottom: var(--space-sm);">
                    <div style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 4px;">Snare (Standard Backbeat)</div>
                    <div style="display: grid; grid-template-columns: repeat(16, 1fr); gap: 2px;">
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#fdcb6e,#f39c12); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#fdcb6e,#f39c12); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                    </div>
                    <div style="margin-top: 4px; font-size: 0.7rem; color: var(--text-muted);">Steps 5, 13 (beats 2 & 4) - feels like normal tempo</div>
                  </div>

                  <!-- Hi-Hat row -->
                  <div>
                    <div style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 4px;">Hi-Hat (8th Notes)</div>
                    <div style="display: grid; grid-template-columns: repeat(16, 1fr); gap: 2px;">
                      <div style="background: linear-gradient(135deg,#00cec9,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#00cec9,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#00cec9,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#00cec9,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#00cec9,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#00cec9,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#00cec9,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#00cec9,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                    </div>
                    <div style="margin-top: 4px; font-size: 0.7rem; color: var(--text-muted);">Every 8th note</div>
                  </div>

                </div>
              </div>

              <div>
                <h4 style="color: var(--accent-cyan); margin-bottom: var(--space-md);">Half-Time Pattern (1 snare per bar - 140 BPM feels like 70 BPM)</h4>
                <div style="background: rgba(0, 212, 255, 0.05); padding: var(--space-md); border-radius: var(--radius-md); border: 1px solid var(--accent-cyan);">

                  <!-- 808 row -->
                  <div style="margin-bottom: var(--space-sm);">
                    <div style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 4px;">808 Bass/Kick</div>
                    <div style="display: grid; grid-template-columns: repeat(16, 1fr); gap: 2px;">
                      <div style="background: linear-gradient(135deg,#e17055,#d63031); height: 28px; border-radius: 2px; box-shadow: 0 0 12px rgba(225,112,85,0.7);"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                    </div>
                    <div style="margin-top: 4px; font-size: 0.7rem; color: var(--text-muted);">Step 1 - heavy 808 on downbeat with long sub-bass tail</div>
                  </div>

                  <!-- Snare row (half-time) -->
                  <div style="margin-bottom: var(--space-sm);">
                    <div style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 4px;">Snare (Half-Time Backbeat)</div>
                    <div style="display: grid; grid-template-columns: repeat(16, 1fr); gap: 2px;">
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#fdcb6e,#f39c12); height: 28px; border-radius: 2px; box-shadow: 0 0 12px rgba(253,203,110,0.7);"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                    </div>
                    <div style="margin-top: 4px; font-size: 0.7rem; color: var(--text-muted);">Step 9 ONLY (beat 3) - creates perceived tempo halving</div>
                  </div>

                  <!-- Closed Hi-Hat row -->
                  <div style="margin-bottom: var(--space-sm);">
                    <div style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 4px;">Hi-Hat Closed (8th Notes)</div>
                    <div style="display: grid; grid-template-columns: repeat(16, 1fr); gap: 2px;">
                      <div style="background: linear-gradient(135deg,#00cec9,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#00cec9,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#00cec9,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#00cec9,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#00cec9,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#00cec9,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#00cec9,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#00cec9,#0984e3); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                    </div>
                    <div style="margin-top: 4px; font-size: 0.7rem; color: var(--text-muted);">Every 8th note (1, 3, 5, 7...)</div>
                  </div>

                  <!-- Open Hi-Hat row -->
                  <div>
                    <div style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 4px;">Hi-Hat Open (Rolling Accents)</div>
                    <div style="display: grid; grid-template-columns: repeat(16, 1fr); gap: 2px;">
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#a29bfe,#6c5ce7); height: 28px; border-radius: 2px;"></div>
                      <div style="background: var(--bg-card); height: 28px; border-radius: 2px; opacity: 0.3;"></div>
                      <div style="background: linear-gradient(135deg,#a29bfe,#6c5ce7); height: 28px; border-radius: 2px;"></div>
                    </div>
                    <div style="margin-top: 4px; font-size: 0.7rem; color: var(--text-muted);">Steps 14, 16 - creates rolling, building tension before snare</div>
                  </div>

                </div>
              </div>

              <p style="margin-top: var(--space-lg); color: var(--text-secondary); line-height: 1.7; font-size: 0.95rem;">
                Notice the magic: standard backbeat has <strong>snare twice per bar</strong> (beats 2 & 4), while half-time has <strong>snare once per bar</strong> (beat 3 only). This single change makes 140 BPM feel twice as slow. The brain uses the snare to measure tempo, so halving the snare frequency halves the perceived tempo. The 808 on step 1 anchors the downbeat, while open hi-hats on steps 14-16 create rolling tension before the snare drop. This is the blueprint for modern trap and bass music.
              </p>
            </div>

            <!-- COMMON MISTAKES -->
            <div style="margin-bottom: var(--space-2xl);">
              <h3 style="font-size: 1.5rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Common Mistakes to Avoid</h3>

              <div style="display: grid; gap: var(--space-lg);">

                <!-- Mistake 1 -->
                <div style="padding: var(--space-lg); background: rgba(255, 90, 61, 0.05); border-left: 4px solid var(--accent-orange); border-radius: var(--radius-md);">
                  <h4 style="color: var(--accent-orange); margin-bottom: var(--space-sm);">Adding Extra Snares (Beats 2 & 4)</h4>
                  <p style="color: var(--text-secondary); line-height: 1.7;">
                    The most common mistake is adding snare hits on beats 2 and/or 4 in addition to beat 3. This <strong>destroys the half-time illusion</strong> and makes it sound like normal backbeat with an extra snare. Half-time requires <strong>discipline</strong>—snare on beat 3 ONLY. Every other snare placement you add weakens the effect. If you want fills or variations, use percussion, rim shots, or claps instead, but keep the main snare on beat 3 exclusively.
                  </p>
                </div>

                <!-- Mistake 2 -->
                <div style="padding: var(--space-lg); background: rgba(95, 77, 255, 0.05); border-left: 4px solid var(--accent-purple); border-radius: var(--radius-md);">
                  <h4 style="color: var(--accent-purple); margin-bottom: var(--space-sm);">Weak 808 Without Sub-Bass</h4>
                  <p style="color: var(--text-secondary); line-height: 1.7;">
                    Half-time patterns rely on <strong>massive low-end presence</strong> from the 808 kick/bass on the downbeat. Using a weak kick without sub-bass frequency content makes the pattern feel thin and powerless. The 808 should be <strong>tuned to a musical note</strong> (often root note of the key), sustained with a long tail, and processed with saturation/distortion to add harmonics. This creates that chest-vibrating drop impact. Without proper 808 presence, half-time loses its power.
                  </p>
                </div>

                <!-- Mistake 3 -->
                <div style="padding: var(--space-lg); background: rgba(0, 212, 255, 0.05); border-left: 4px solid var(--accent-cyan); border-radius: var(--radius-md);">
                  <h4 style="color: var(--accent-cyan); margin-bottom: var(--space-sm);">Overcomplicating the Hi-Hat Pattern</h4>
                  <p style="color: var(--text-secondary); line-height: 1.7;">
                    Half-time works best with <strong>simple, steady hi-hats</strong> (8th notes on closed hi-hat). Overcomplicating the hi-hat pattern with complex <a href="glossary.html#hi-hat-roll" style="color: var(--accent-cyan); text-decoration: underline;">rolls</a>, 32nd notes, or random syncopation can distract from the half-time groove. Keep hi-hats simple and use <strong>strategic open hi-hat accents</strong> (like steps 14-16) to create tension before the snare drop. The power of half-time comes from simplicity and space, not complexity.
                  </p>
                </div>

              </div>
            </div>

            <!-- WHY THIS MATTERS -->
            <div style="padding: var(--space-xl); background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(179, 102, 255, 0.1)); border-radius: var(--radius-lg); margin-bottom: var(--space-2xl);">
              <h3 style="font-size: 1.5rem; margin-bottom: var(--space-lg); color: var(--text-primary);">Why This Matters</h3>

              <div style="display: grid; gap: var(--space-md);">
                <div style="display: flex; gap: var(--space-sm); align-items: start;">
                  <div style="color: var(--accent-cyan); font-size: 1.5rem; line-height: 1; margin-top: 2px;">01</div>
                  <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;">
                    <strong>Modern Genre Essential:</strong> Half-time is the rhythmic foundation for trap, dubstep, future bass, and countless modern electronic subgenres. Mastering this pattern is non-negotiable for producing contemporary bass music. It's used in build-ups, drops, breakdowns, and bridges across all BPM ranges.
                  </p>
                </div>
                <div style="display: flex; gap: var(--space-sm); align-items: start;">
                  <div style="color: var(--accent-cyan); font-size: 1.5rem; line-height: 1; margin-top: 2px;">02</div>
                  <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;">
                    <strong>Tempo Flexibility:</strong> Half-time lets you create powerful, slow-feeling drops at high <a href="glossary.html#bpm" style="color: var(--accent-cyan); text-decoration: underline;">BPM</a>. You can make a 140 BPM track feel like 70 BPM without actually slowing down, giving you the energy of fast tempo with the weight of slow tempo. This is why modern bass music hits so hard—it combines both.
                  </p>
                </div>
                <div style="display: flex; gap: var(--space-sm); align-items: start;">
                  <div style="color: var(--accent-cyan); font-size: 1.5rem; line-height: 1; margin-top: 2px;">03</div>
                  <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;">
                    <strong>Arrangement Tool:</strong> Half-time creates dramatic contrast in arrangements. Switching from standard backbeat to half-time (or vice versa) creates instant energy shifts perfect for transitions, drops, and breakdowns. Producers like Skrillex, RL Grime, and Flume use this technique constantly to create dynamic, evolving tracks.
                  </p>
                </div>
                <div style="display: flex; gap: var(--space-sm); align-items: start;">
                  <div style="color: var(--accent-cyan); font-size: 1.5rem; line-height: 1; margin-top: 2px;">04</div>
                  <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;">
                    <strong>Rhythmic Illusion:</strong> Understanding half-time teaches you how rhythm and perception work. The brain uses the snare as a tempo reference, so manipulating snare placement manipulates perceived tempo. This same principle can be applied to create other rhythmic illusions and creative patterns in all genres of music production.
                  </p>
                </div>
              </div>
            </div>

            <!-- WHAT'S NEXT -->
            <div style="border-top: 1px solid var(--border-subtle); padding-top: var(--space-xl);">
              <h3 style="font-size: 1.25rem; margin-bottom: var(--space-md); color: var(--text-primary);">What's Next?</h3>
              <p style="color: var(--text-secondary); line-height: 1.7;">
                Congratulations on completing <strong>Phase 1</strong> of the Drums & Rhythm module! You've mastered fundamental patterns from basic <a href="glossary.html#backbeat" style="color: var(--accent-cyan); text-decoration: underline;">backbeats</a> to advanced half-time techniques. In the next lessons, you'll explore even more advanced concepts like polyrhythms, odd time signatures, and genre-specific drum programming that will take your production skills to the next level.
              </p>
            </div>

          </div>
        </section>

        <!-- EXERCISE INSTRUCTIONS (populated by JS) -->
        <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
          <div class="exercise-box">
            <div class="section-eyebrow">Exercise</div>
            <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
            <p class="section-body" id="mpl-exercise-description"></p>
            
            <div class="exercise-steps" id="mpl-exercise-steps-wrap">
              <h3>What to do:</h3>
              <ol class="exercise-checklist" id="mpl-exercise-steps"></ol>
            </div>

            <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;">
              <strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span>
            </div>

            <!-- PATTERN HINT (populated by JS) -->
            <div class="pattern-hint" id="mpl-pattern-hint" style="display:none;">
              <div class="pattern-hint-label">Target Pattern:</div>
              <div id="mpl-pattern-hint-grid"></div>
              <div class="pattern-note" id="mpl-pattern-hint-note"></div>
            </div>
          </div>
        </section>

        <!-- SEQUENCER SECTION -->
        <section class="sequencer-section" id="mpl-sequencer-section" style="margin-top: var(--space-xl);">
          <div class="section-eyebrow" style="margin-bottom: var(--space-sm);">Interactive Sequencer</div>
          <h2 class="section-title" style="margin-bottom: var(--space-lg);"><span id="mpl-step-count-label">16</span>-Step Grid</h2>
          
          <div class="sequencer" id="mpl-sequencer-collection">
            <!-- Sequencer will be created by JS -->
          </div>

          <!-- CONTROLS -->
          <div class="sequencer-controls" style="display:flex;gap:0.75rem;margin-top:1.5rem;flex-wrap:wrap;align-items:center;">
            <button type="button" class="btn btn-outline" id="mpl-seq-play-all">
              <img src="images/PLAY.png" alt="Play" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Play</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-stop-all">
              <img src="images/STOP.png" alt="Stop" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Stop</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-clear-all" style="display:none;">
              <img src="images/CLEAR.png" alt="Clear" style="width: 16px; height: 16px; margin-right: 4px; filter: brightness(1.2);">
              <span>Clear</span>
            </button>
            <button type="button" class="btn btn-primary" id="mpl-seq-check-all">
              <span>Check Exercise</span>
            </button>

            <!-- PRESET CONTROLS (hidden by default) -->
            <div id="mpl-preset-controls" style="display:none;gap:0.5rem;margin-left:0.5rem;">
              <button type="button" class="btn btn-outline btn-sm" id="mpl-preset-save">Save</button>
              <button type="button" class="btn btn-outline btn-sm" id="mpl-preset-load">Load</button>
            </div>

            <div style="margin-left:auto;display:flex;gap:0.75rem;">
              <div id="mpl-seq-prev-lesson-wrap">
                <button class="btn btn-secondary" id="mpl-prev-lesson">
                  <span>&larr; Previous Lesson</span>
                </button>
              </div>
              <div id="mpl-seq-next-lesson-wrap">
                <button class="btn btn-primary" id="mpl-next-lesson" disabled title="Complete exercise to unlock">
                  <span>Next Lesson &rarr;</span>
                </button>
              </div>
            </div>
          </div>

          <!-- TEMPO/SWING CONTROLS (for sandbox mode) -->
          <div id="mpl-advanced-controls" style="display:none;margin-top:1rem;padding:1rem;background:var(--bg-secondary);border-radius:var(--radius-md);gap:1.5rem;flex-wrap:wrap;align-items:center;">
            <div style="display:flex;align-items:center;gap:0.5rem;">
              <label for="mpl-tempo-slider" style="font-size:0.85rem;color:var(--text-muted);">Tempo:</label>
              <input type="range" id="mpl-tempo-slider" min="60" max="180" value="120" style="width:100px;">
              <span id="mpl-tempo-value" style="font-family:var(--font-mono);font-size:0.85rem;min-width:50px;">120 BPM</span>
            </div>
            <div style="display:flex;align-items:center;gap:0.5rem;">
              <label for="mpl-swing-slider" style="font-size:0.85rem;color:var(--text-muted);">Swing:</label>
              <input type="range" id="mpl-swing-slider" min="0" max="100" value="0" style="width:100px;">
              <span id="mpl-swing-value" style="font-family:var(--font-mono);font-size:0.85rem;min-width:40px;">0%</span>
            </div>
          </div>

          <div class="sequencer-status" id="mpl-seq-status" aria-live="polite" style="margin-top:1rem;">
            <span>Complete the exercise to unlock the next lesson.</span>
          </div>
        </section>

        <!-- FOOTER -->
        <footer class="footer" id="mpl-footer">
          <div>&copy; <span id="mpl-year"></span> Music Producer Lab</div>
          <div><a class="footer-link" id="mpl-footer-overview-link" href="labs.html">Back to overview</a></div>
        </footer>
      </div>
      
      <!-- LESSON ENGINE SCRIPT -->
      <script>document.getElementById("mpl-year").textContent = new Date().getFullYear();</script>

      <!--
        HOW TO USE THIS TEMPLATE:
        
        1. Create a config file (e.g., configs/lesson-drums-5.config.js)
        2. Copy this template to your lesson file (e.g., lesson-drums-5-new.html)
        3. Update the script import at the bottom to point to your config
        
        Example:

<script type="module">
          import { lessonConfig } from './configs/lesson-drums-5.config.js';
          import { initLessonFromConfig } from './lesson-engine.js';
          initLessonFromConfig(lessonConfig);
        </script>
      -->

      
      <script type="module">
      // Import lesson config and engine
      import { lessonConfig } from './configs/lesson-drums-10.config.js';
      import { initLessonFromConfig } from './lesson-engine.js';

      // Initialize lesson from config
      initLessonFromConfig(lessonConfig);

      // Set year in footer
      document.getElementById("mpl-year").textContent = new Date().getFullYear();
    </script>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-grid">
        <p class="copyright">© <span id="mpl-year">2025</span> Music Producer Lab</p>
        <nav class="footer-nav">
          <a href="labs.html">Labs</a>
          <a href="index.html">Home</a>
        </nav>
      </div>
    </footer>
    <script>document.getElementById("mpl-year").textContent = new Date().getFullYear();</script>
  <script src="theme-registry.js"></script>
  <script src="theme-manager.js"></script>
    <script src="navbar.js"></script>
  </body>
</html>
