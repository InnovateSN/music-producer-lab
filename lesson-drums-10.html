<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title id="mpl-page-title">Lesson 10 | Music Producer Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" id="mpl-meta-description" content="Interactive music production lesson from Music Producer Lab." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>

    <main class="main-content container">

        <!-- HERO SECTION (populated by JS) -->
        <section class="hero" id="mpl-hero" aria-label="Lesson hero">
          <div class="hero-copy">
            <div class="hero-copy-eyebrow" id="mpl-hero-eyebrow">Loading...</div>
            <h1 class="hero-title" id="mpl-hero-title">
              <span id="mpl-hero-title-main">Lesson</span>
              <span id="mpl-hero-title-highlight"></span>
            </h1>
            <p class="hero-subtitle" id="mpl-hero-subtitle"></p>
          </div>

          <!-- Hero visual section -->
        </section>

        <!-- THEORY CONTENT SECTION -->
        <section class="theory-section" style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);">
          <div class="section-eyebrow">Theory</div>
          <h2 class="section-title">Trap & 808s: Modern Hip-Hop Production</h2>
          <p class="section-body" style="margin-bottom: var(--space-xl);">
            Trap music revolutionized hip-hop in the 2010s with its distinctive sound: thunderous <strong>808 bass</strong>, rapid-fire <strong>hi-hat rolls</strong>, and sparse, minimalist arrangements. Born in Atlanta and popularized by producers like Metro Boomin, Southside, and Lex Luger, trap has become the dominant sound in modern mainstream music. Understanding trap production is essential for contemporary producers.
          </p>

          <!-- Theory Cards Grid -->
          <div style="display: grid; gap: var(--space-lg); margin-bottom: var(--space-xl);">

            <!-- Card: What defines trap -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">What Defines Trap?</h3>
              <p class="section-body">
                Trap has several signature characteristics that distinguish it from other hip-hop styles:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>808s:</strong> The Roland TR-808 kick/bass sound—deep, booming, often tuned to play melodies</li>
                <li><strong>Hi-hat rolls:</strong> Rapid <a href="glossary.html#sixteenth-notes" style="color: var(--accent-cyan); text-decoration: underline;">sixteenth-note</a> or <a href="glossary.html#subdivisions" style="color: var(--accent-cyan); text-decoration: underline;">triplet subdivisions</a> that create energy bursts</li>
                <li><strong>Sparse arrangements:</strong> Less is more—space between elements for impact</li>
                <li><strong>Layered percussion:</strong> <a href="glossary.html#snare-drum" style="color: var(--accent-cyan); text-decoration: underline;">Snares</a>, claps, and rimshots layered for texture</li>
                <li><strong>Half-time feel:</strong> Often produced at 130-150 <a href="glossary.html#bpm" style="color: var(--accent-cyan); text-decoration: underline;">BPM</a> but feels half as fast (65-75 BPM)</li>
              </ul>
              <p class="section-body" style="margin-top: var(--space-sm); margin-bottom: 0;">
                The key to trap is <strong>tension and release</strong>: minimal patterns create anticipation, then hi-hat rolls and 808 slides release energy.
              </p>
            </div>

            <!-- Card: The 808 bass -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">The 808: Kick Meets Bass</h3>
              <p class="section-body">
                The <strong>808</strong> is trap's most iconic element. It's a deep, sub-heavy sound from the Roland TR-808 drum machine that functions as both <a href="glossary.html#kick-drum" style="color: var(--accent-cyan); text-decoration: underline;">kick</a> and bass:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>Percussive attack:</strong> The initial "thump" acts like a kick drum</li>
                <li><strong>Sustained tail:</strong> The long, decaying sub-bass fills low-end space</li>
                <li><strong>Tuned/melodic:</strong> 808s can be pitched to create basslines and melodies</li>
              </ul>
              <p class="section-body" style="margin-top: var(--space-sm);">
                In trap, 808s are placed <strong>sparsely</strong>—often just on beat 1 and the "and" of beat 3 (steps 1 and 9 on a 16-step grid). This minimal approach lets each 808 hit with maximum impact and gives the low end space to breathe.
              </p>
              <p class="section-body" style="margin-bottom: 0;">
                <strong>Less is more:</strong> Unlike boom bap's syncopated kicks, trap 808s often follow simple patterns. The complexity comes from hi-hats, not the low end.
              </p>
            </div>

            <!-- Card: Hi-hat rolls -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Hi-Hat Rolls: Trap's Signature Move</h3>
              <p class="section-body">
                <strong>Hi-hat rolls</strong> are rapid-fire bursts of <a href="glossary.html#hi-hat" style="color: var(--accent-cyan); text-decoration: underline;">hi-hat</a> hits that create rhythmic excitement and fill space. They're trap's most recognizable element:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>16th-note rolls:</strong> Four hits per <a href="glossary.html#beat" style="color: var(--accent-cyan); text-decoration: underline;">beat</a> (every step on the grid)</li>
                <li><strong>Triplet rolls:</strong> Three evenly-spaced hits per beat (bouncy, shuffling)</li>
                <li><strong>32nd-note rolls:</strong> Ultra-fast fills for intensity</li>
              </ul>
              <p class="section-body" style="margin-top: var(--space-sm);">
                Hi-hat rolls often appear at the end of phrases (every 2 or 4 bars) to build tension before a drop or transition. They're programmed by filling multiple consecutive steps with hi-hats, often with <a href="glossary.html#velocity" style="color: var(--accent-cyan); text-decoration: underline;">velocity</a> increasing toward the end of the roll for crescendo effect.
              </p>
              <p class="section-body" style="margin-bottom: 0;">
                <strong>Pro tip:</strong> Alternate between <a href="glossary.html#closed-hi-hat" style="color: var(--accent-cyan); text-decoration: underline;">closed</a> and <a href="glossary.html#open-hi-hat" style="color: var(--accent-cyan); text-decoration: underline;">open hi-hats</a> within rolls to add texture and variation.
              </p>
            </div>

            <!-- Card: Half-time feel -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Half-Time Feel</h3>
              <p class="section-body">
                Trap beats are typically produced at <strong>130-150 BPM</strong>, but they <em>feel</em> half as fast because the <a href="glossary.html#snare-drum" style="color: var(--accent-cyan); text-decoration: underline;">snare</a> only hits every other <a href="glossary.html#beat" style="color: var(--accent-cyan); text-decoration: underline;">beat</a>:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>Actual tempo:</strong> 140 BPM (fast)</li>
                <li><strong>Perceived tempo:</strong> 70 BPM (slow and heavy)</li>
              </ul>
              <p class="section-body" style="margin-top: var(--space-sm);">
                This creates a paradox: the fast BPM allows for intricate hi-hat patterns and rolls, while the slow snare placement makes the beat feel laid-back and heavy. The <a href="glossary.html#groove" style="color: var(--accent-cyan); text-decoration: underline;">groove</a> has both energy (from hi-hats) and weight (from sparse 808s and snares).
              </p>
              <p class="section-body" style="margin-bottom: 0;">
                In this lesson, we use <strong>140 BPM</strong> with snares on beats 2 and 4 (steps 5 and 13), creating that characteristic trap half-time feel.
              </p>
            </div>

            <!-- Card: Layering percussion -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Layering: Claps + Snares + Rimshots</h3>
              <p class="section-body">
                Unlike boom bap's single snare sound, trap often <strong>layers</strong> multiple percussion elements on the <a href="glossary.html#backbeat" style="color: var(--accent-cyan); text-decoration: underline;">backbeat</a>:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>Snare:</strong> Provides the fundamental "crack"</li>
                <li><strong>Clap:</strong> Adds width and brightness</li>
                <li><strong>Rimshot:</strong> Adds attack and presence</li>
              </ul>
              <p class="section-body" style="margin-top: var(--space-sm); margin-bottom: 0;">
                By stacking 2-3 sounds on beats 2 and 4, producers create a thick, powerful backbeat that cuts through dense mixes. Each layer occupies different frequency ranges, creating a fuller, more professional sound.
              </p>
            </div>

          </div>
        </section>

        <!-- EXERCISE INSTRUCTIONS (populated by JS) -->
        <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
          <div class="exercise-box">
            <div class="section-eyebrow">Exercise</div>
            <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
            <p class="section-body" id="mpl-exercise-description"></p>

            <div class="exercise-steps" id="mpl-exercise-steps-wrap">
              <h3>What to do:</h3>
              <ol class="exercise-checklist" id="mpl-exercise-steps"></ol>
            </div>

            <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;">
              <strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span>
            </div>

            <!-- PATTERN HINT (populated by JS) -->
            <div class="pattern-hint" id="mpl-pattern-hint" style="display:none;">
              <div class="pattern-hint-label">Target Pattern:</div>
              <div id="mpl-pattern-hint-grid"></div>
              <div class="pattern-note" id="mpl-pattern-hint-note"></div>
            </div>
          </div>
        </section>

        <!-- SEQUENCER SECTION -->
        <section class="sequencer-section" id="mpl-sequencer-section" style="margin-top: var(--space-xl);">
          <div class="section-eyebrow" style="margin-bottom: var(--space-sm);">Interactive Sequencer</div>
          <h2 class="section-title" style="margin-bottom: var(--space-lg);"><span id="mpl-step-count-label">16</span>-Step Grid</h2>

          <div class="sequencer" id="mpl-sequencer-collection">
            <!-- Sequencer will be created by JS -->
          </div>

          <!-- CONTROLS -->
          <div class="sequencer-controls" style="display:flex;gap:0.75rem;margin-top:1.5rem;flex-wrap:wrap;align-items:center;">
            <button type="button" class="btn btn-outline" id="mpl-seq-play-all">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right:4px;"><polygon points="5 3 19 12 5 21 5 3"/></svg>
              <span>Play</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-stop-all">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right:4px;"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
              <span>Stop</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-clear-all">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right:4px;"><path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/></svg>
              <span>Clear</span>
            </button>
            <button type="button" class="btn btn-primary" id="mpl-seq-check-all">
              <span>Check Exercise</span>
            </button>

            <div id="mpl-seq-next-lesson-wrap" style="margin-left:auto;">
              <button class="btn btn-primary" id="mpl-next-lesson" disabled title="Complete exercise to unlock">
                <span>Next Lesson &rarr;</span>
              </button>
            </div>
          </div>

          <div class="sequencer-status" id="mpl-seq-status" aria-live="polite" style="margin-top:1rem;">
            <span>Complete the exercise to unlock the next lesson.</span>
          </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-grid">
        <p class="copyright">© <span id="mpl-year">2025</span> Music Producer Lab</p>
        <nav class="footer-nav">
          <a href="labs.html">Labs</a>
          <a href="index.html">Home</a>
        </nav>
      </div>
    </footer>

    <!-- MODULAR LESSON ENGINE -->

<script type="module">
      // Import lesson config and engine
      import { lessonConfig } from './configs/lesson-drums-10.config.js';
      import { initLessonFromConfig } from './lesson-engine.js';

      // Initialize lesson from config
      initLessonFromConfig(lessonConfig);

      // Set year in footer
      document.getElementById("mpl-year").textContent = new Date().getFullYear();
    </script>
    <script src="navbar.js"></script>
  </body>
</html>
