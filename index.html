<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Music Producer Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg" />
    <link rel="alternate icon" type="image/svg+xml" href="mpl-favicon-alt.svg" />
    <link rel="stylesheet" href="base.css" />
    <link rel="stylesheet" href="landing.css" />
        <script type="importmap">
    {
      "imports": {
        "@supabase/supabase-js": "https://esm.sh/@supabase/supabase-js@2"
      }
    }
    </script>

  </head>
  <body>
    <div class="landing">
      <header class="landing-nav">
        <div class="landing-status" id="landingAccessStatus" aria-live="polite">Stato: Free</div>
        <div class="landing-nav-actions">
          <a href="login.html" class="landing-login" id="landingCta">Log in</a>
          <a href="signup.html" class="landing-login" id="landingSecondaryCta">Acquista</a>
        </div>
      </header>
      <div class="bg">
        <div class="bg-layer bg-layer-back">
          <img id="bg-back" alt="Futuristic music production lab background" />
        </div>
        <div class="bg-layer bg-layer-front">
          <img id="bg-front" alt="Futuristic music production lab detail" />
        </div>
        <div class="bg-noise"></div>
      </div>

      <main class="content">
        <button class="logo-button" id="logoButton" aria-label="Enter Music Producer Lab">
          <div class="logo">
  <img src="assets/logo-clean.svg" alt="Music Producer Lab Logo" class="portal-logo" />
  

          </div>
        </button>
        <section class="magic-link-card" aria-labelledby="magicLinkTitle">
          <div>
            <p class="magic-link-kicker">Accedi con un clic</p>
            <h2 id="magicLinkTitle">Ricevi il Magic Link via email</h2>
            <p class="magic-link-copy">
              Inserisci la tua email: ti invieremo un link magico per accedere subito, senza password.
            </p>
          </div>
          <form class="magic-link-form" data-magic-link-form>
            <label class="sr-only" for="magicLinkEmail">Email</label>
            <div class="magic-link-inputs">
              <input
                id="magicLinkEmail"
                name="email"
                type="email"
                placeholder="you@example.com"
                autocomplete="email"
                required
              />
              <button type="submit">Invia Magic Link</button>
            </div>
            <p class="magic-link-status" data-magic-link-status aria-live="polite"></p>
          </form>
        </section>
      </main>

      <div class="loading" id="loadingOverlay">
        <div class="loading-spinner"></div>
      </div>
    </div>

    <script
      src="websim-loader.js"
      data-websim-src="https://cdn.websim.ai/websim.min.js"
      defer
    ></script>
    <script 
        src="./supabase-config.js"
        data-supabase-url="https://nmhmrucvsrhfnajagdyv.supabase.co"
        data-supabase-anon-key="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5taG1ydWN2c3JoZm5hamFnZHl5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYwMTYxNjIsImV4cCI6MjA4MTU5MjE2Mn0.kHqe6kz1AhJ5l_4Gh5aSk4B5s6ip_IdUQfqNwWiPjb4"
    ></script>
    <script type="module" src="main.js"></script>
    <script type="module">
      import { initMagicLinkRequest } from "./magic-link-auth.js";
      initMagicLinkRequest();
    </script>
  </body>
</html>

