<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title id="mpl-page-title">Lesson 2 · Harmony & Melody · Major vs Minor | Music Producer Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="description" id="mpl-meta-description" content="Change one note and transform the emotion: compare C major (bright) with C minor (melancholic). Understand how the third determines a chord's character." />
    <meta name="theme-color" content="#030508">
    <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="navbar-placeholder"></div>

    <main class="main-content container">

        <!-- HERO SECTION -->
        <section class="hero" id="mpl-hero" aria-label="Lesson hero">
          <div class="hero-copy">
            <div class="hero-copy-eyebrow">Harmony & Melody · Lesson 2</div>
            <h1 class="hero-title">
              <span>Flip the Emotion:</span>
              <span id="mpl-hero-title-highlight">Major vs Minor</span>
            </h1>
            <p class="hero-subtitle">
              Change just one note in a chord and completely transform its emotional color. You'll build C major (bright, happy) and C minor (darker, melancholic) side by side, hearing how a single note shift changes everything. This teaches you the most powerful variable in chord construction.
            </p>
          </div>

          <aside class="hero-visual" aria-hidden="true">
            <div class="hero-visual-header">
              <div class="hero-visual-title">Free lesson</div>
              <div class="hero-visual-pill">Chord quality</div>
            </div>
            <div class="hero-visual-grid">
              <div class="hero-visual-main">
                <div class="hero-visual-main-title"><span>Major vs Minor</span> · 90 BPM</div>
                <div class="hero-visual-waves">
                  <div class="hero-visual-wave"></div>
                  <div class="hero-visual-wave"></div>
                  <div class="hero-visual-wave"></div>
                </div>
                <div class="hero-visual-metrics">
                  <div class="hero-visual-metric">
                    <span>Chords</span>
                    <strong>C / Cm</strong>
                  </div>
                  <div class="hero-visual-metric">
                    <span>Time</span>
                    <strong>8–10 min</strong>
                  </div>
                </div>
              </div>
              <div class="hero-visual-side-card">
                <div class="hero-visual-side-label">Goal</div>
                <div class="hero-visual-pill-list">
                  <div class="hero-visual-pill-tag">Build major and minor</div>
                  <div class="hero-visual-pill-tag">Hear the difference</div>
                </div>
                <div class="hero-visual-footer">
                  <span>Works in any DAW</span>
                  <span>Ableton · FL · Logic · others</span>
                </div>
              </div>
            </div>
          </aside>
        </section>

        <!-- THEORY CONTENT SECTION -->
        <section class="theory-section" style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);">
          <div class="section-eyebrow">Theory</div>
          <h2 class="section-title">The Power of the Third: Major vs Minor</h2>
          <p class="section-body" style="margin-bottom: var(--space-xl);">
            In the last lesson, you built a C major triad (C-E-G). In this lesson, you'll discover that <strong>changing just the middle note</strong> from E to E♭ transforms the entire emotional character of the chord. This single-note difference is what separates bright, uplifting chords from darker, introspective ones.
          </p>

          <!-- Theory Cards Grid -->
          <div style="display: grid; gap: var(--space-lg); margin-bottom: var(--space-xl);">

            <!-- Card: What makes major vs minor -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">What Makes a Chord Major or Minor?</h3>
              <p class="section-body">
                The answer is surprisingly simple: <strong>the third</strong>. Remember, a triad has three notes - root, third, and fifth. The root and fifth stay the same, but the third determines the chord's quality:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0;">
                <div style="margin-bottom: var(--space-sm);">
                  <strong style="color: var(--accent-cyan);">C Major:</strong> C (root) + E (major third) + G (fifth)
                </div>
                <div>
                  <strong style="color: var(--accent-purple);">C Minor:</strong> C (root) + E♭ (minor third) + G (fifth)
                </div>
              </div>
              <p class="section-body" style="margin-bottom: 0;">
                That's it. The difference between "happy" and "sad" chords is literally one semitone (one piano key) in the middle note.
              </p>
            </div>

            <!-- Card: The interval difference -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(95,77,255,0.08), rgba(138,155,255,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Major Third vs Minor Third</h3>
              <p class="section-body">
                The technical explanation (you don't need to memorize this, but it helps):
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0;">
                <div style="margin-bottom: var(--space-sm);">
                  <strong style="color: var(--accent-cyan);">Major third:</strong> 4 semitones above the root (C → E)
                </div>
                <div>
                  <strong style="color: var(--accent-purple);">Minor third:</strong> 3 semitones above the root (C → E♭)
                </div>
              </div>
              <p class="section-body">
                On a piano keyboard:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0; font-family: monospace;">
                <div style="margin-bottom: var(--space-sm); color: rgba(255,255,255,0.7);">
                  C → C# → D → D# → <strong style="color: var(--accent-cyan);">E</strong> (major third, 4 steps)
                </div>
                <div>
                  C → C# → D → <strong style="color: var(--accent-purple);">E♭</strong> (minor third, 3 steps)
                </div>
              </div>
              <p class="section-body" style="margin-bottom: 0;">
                Notice that E♭ and D# are the same key on a piano (enharmonic equivalents). The point is: E is one semitone higher than E♭.
              </p>
            </div>

            <!-- Card: How they sound different -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">How They Sound Different</h3>
              <p class="section-body">
                When you play both chords, you'll hear a clear emotional shift:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>C Major (C-E-G):</strong> Bright, stable, optimistic, resolved. Often described as "happy" or "uplifting."</li>
                <li><strong>C Minor (C-E♭-G):</strong> Darker, introspective, melancholic, sometimes tense. Often described as "sad" or "serious."</li>
              </ul>
              <p class="section-body">
                Neither is "better" - they serve different purposes. Pop and house music often use major chords for energy and positivity. Hip-hop, R&B, and cinematic scores frequently use minor chords for depth and emotion.
              </p>
              <p class="section-body" style="margin-bottom: 0;">
                Professional producers switch between major and minor constantly, sometimes even within the same chord progression, to create emotional movement.
              </p>
            </div>

            <!-- Card: Visual comparison -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(0,240,255,0.08), rgba(138,255,255,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Side-by-Side Comparison</h3>
              <p class="section-body">
                Here's what these two chords look like in your piano roll:
              </p>
              <div style="background: rgba(0,0,0,0.3); padding: var(--space-md); border-radius: 8px; margin: var(--space-md) 0; font-family: monospace;">
                <div style="margin-bottom: var(--space-md); padding-bottom: var(--space-md); border-bottom: 1px solid rgba(255,255,255,0.1);">
                  <div style="color: var(--accent-cyan); margin-bottom: var(--space-xs);"><strong>C Major (bright)</strong></div>
                  <div>G  ●────</div>
                  <div style="color: var(--accent-cyan);">E  ●────</div>
                  <div>C  ●────</div>
                </div>
                <div>
                  <div style="color: var(--accent-purple); margin-bottom: var(--space-xs);"><strong>C Minor (darker)</strong></div>
                  <div>G  ●────</div>
                  <div style="color: var(--accent-purple);">E♭ ●────</div>
                  <div>C  ●────</div>
                </div>
              </div>
              <p class="section-body" style="margin-bottom: 0;">
                Notice that only the middle note changes. The root (C) and fifth (G) stay exactly the same.
              </p>
            </div>

            <!-- Card: Real-world examples -->
            <div class="exercise-box">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Hear It in Real Music</h3>
              <p class="section-body">
                Listen for major vs minor in professional tracks:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li><strong>Pop music:</strong> Often starts with major chords for energy, then drops to a minor chord for contrast in the pre-chorus</li>
                <li><strong>House music:</strong> Many tracks use major chords exclusively for that uplifting dancefloor vibe</li>
                <li><strong>Hip-hop:</strong> Frequently uses minor chords for that moody, introspective sound</li>
                <li><strong>Film scores:</strong> Action scenes = major, emotional scenes = minor (oversimplified, but often true)</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                Once you start listening for this, you'll hear it everywhere. Songs don't pick major or minor randomly - it's an intentional emotional choice.
              </p>
            </div>

            <!-- Card: Why this matters -->
            <div class="exercise-box" style="background: linear-gradient(135deg, rgba(255,90,61,0.08), rgba(255,178,138,0.08));">
              <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-sm); color: var(--accent-primary);">Why This Lesson Is Critical</h3>
              <p class="section-body">
                Understanding major vs minor unlocks powerful production skills:
              </p>
              <ul class="section-body" style="margin-left: var(--space-md); margin-top: var(--space-sm);">
                <li>You can <strong>change the mood of a chord progression</strong> by swapping major/minor</li>
                <li>You can <strong>match your chords to the emotion</strong> you want listeners to feel</li>
                <li>You understand why some songs feel bright while others feel dark</li>
                <li>You can build <em>any</em> major or minor chord in <em>any</em> key using the root-third-fifth pattern</li>
              </ul>
              <p class="section-body" style="margin-bottom: 0;">
                This is not abstract theory - it's a practical tool you'll use in every single track you produce.
              </p>
            </div>

          </div>
        </section>

        <!-- EXERCISE INSTRUCTIONS (populated by JS) -->
        <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
          <div class="exercise-box">
            <div class="section-eyebrow">Exercise</div>
            <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
            <p class="section-body" id="mpl-exercise-description"></p>

            <div class="exercise-steps" id="mpl-exercise-steps-wrap">
              <h3>What to do:</h3>
              <ol class="exercise-checklist" id="mpl-exercise-steps"></ol>
            </div>

            <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;">
              <strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span>
            </div>
          </div>
        </section>

        <!-- PIANO ROLL SEQUENCER SECTION -->
        <section class="sequencer-section" id="mpl-sequencer-section" style="margin-top: var(--space-xl);">
          <div class="section-eyebrow" style="margin-bottom: var(--space-sm);">Interactive Piano Roll</div>
          <h2 class="section-title" style="margin-bottom: var(--space-lg);">Build Your Chord</h2>

          <div class="sequencer" id="mpl-sequencer-collection">
            <!-- Piano roll will be created by JS -->
          </div>

          <!-- CONTROLS -->
          <div class="sequencer-controls" style="display:flex;gap:0.75rem;margin-top:1.5rem;flex-wrap:wrap;align-items:center;">
            <button type="button" class="btn btn-outline" id="mpl-seq-play-all">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right:4px;"><polygon points="5 3 19 12 5 21 5 3"/></svg>
              <span>Play</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-stop-all">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right:4px;"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
              <span>Stop</span>
            </button>
            <button type="button" class="btn btn-outline" id="mpl-seq-clear-all">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right:4px;"><path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/></svg>
              <span>Clear</span>
            </button>
            <button type="button" class="btn btn-primary" id="mpl-seq-check-all">
              <span>Check Exercise</span>
            </button>

            <div style="margin-left:auto;display:flex;gap:0.75rem;">
              <div id="mpl-seq-prev-lesson-wrap">
                <button class="btn btn-secondary" id="mpl-prev-lesson">
                  <span>&larr; Previous Lesson</span>
                </button>
              </div>
              <div id="mpl-seq-next-lesson-wrap">
                <button class="btn btn-primary" id="mpl-next-lesson" disabled title="Complete exercise to unlock">
                  <span>Next Lesson &rarr;</span>
                </button>
              </div>
            </div>
          </div>

          <div class="sequencer-status" id="mpl-seq-status" aria-live="polite" style="margin-top:1rem;">
            <span>Click on the piano roll to place notes.</span>
          </div>
        </section>

        <!-- NAVIGATION -->
        <section style="margin-top: var(--space-2xl); margin-bottom: var(--space-2xl);">
          <div style="display: flex; gap: var(--space-md); justify-content: space-between; flex-wrap: wrap;">
            <a href="lesson-harmony-1.html" class="btn btn-secondary">
              &larr; Previous: Major Triad
            </a>
            <a href="lesson-harmony-3.html" class="btn btn-primary">
              Next Lesson: Tension & Resolution &rarr;
            </a>
          </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-grid">
        <p class="copyright">© <span id="mpl-year">2025</span> Music Producer Lab</p>
        <nav class="footer-nav">
          <a href="labs.html">Labs</a>
          <a href="index.html">Home</a>
        </nav>
      </div>
    </footer>

    <!-- MODULAR LESSON ENGINE -->
    <script type="module">
      // Import lesson config and engine
      import { lessonConfig } from './configs/lesson-harmony-2.config.js';
      import { initLessonFromConfig } from './lesson-engine.js';

      // Initialize lesson from config
      initLessonFromConfig(lessonConfig);

      // Set year in footer
      document.getElementById("mpl-year").textContent = new Date().getFullYear();
    </script>
    <script src="navbar.js"></script>
  </body>
</html>
