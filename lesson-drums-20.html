<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Lesson 20 ¬∑ Drums & Rhythm | Music Producer Lab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="description" content="Free Lesson 20 from Music Producer Lab: advanced drums & rhythm production techniques." />
  <meta name="theme-color" content="#030508">
  <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="navbar-placeholder"></div>
  <main class="main-content container">
    <section class="hero" id="mpl-hero" aria-label="Lesson hero" style="display: flex; align-items: center; gap: var(--space-3xl);">
      <div class="hero-copy" style="flex: 1; max-width: none;">
        <div class="hero-copy-eyebrow">Drums & Rhythm ¬∑ Lesson 20</div>
        <h1 class="hero-title"><span id="mpl-hero-title">Loading...</span><span id="mpl-hero-title-highlight"></span></h1>
        <p class="hero-subtitle" id="mpl-hero-subtitle">Loading lesson content...</p>
      </div>
      <aside class="hero-visual" aria-hidden="true">
        <div class="hero-visual-header"><div class="hero-visual-title">Free lesson</div><div class="hero-visual-pill">Advanced drums</div></div>
        <div class="hero-visual-grid">
          <div class="hero-visual-main">
            <div class="hero-visual-main-title"><span>Lesson 20</span></div>
            <div class="hero-visual-waves"><div class="hero-visual-wave"></div><div class="hero-visual-wave"></div><div class="hero-visual-wave"></div></div>
            <div class="hero-visual-metrics"><div class="hero-visual-metric"><span>Level</span><strong>Advanced</strong></div><div class="hero-visual-metric"><span>Time</span><strong>20-25 min</strong></div></div>
          </div>
        </div>
      </aside>
    </section>

    <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
      <div class="exercise-box">
        <div class="section-eyebrow">Exercise</div>
        <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
        <p class="section-body" id="mpl-exercise-description"></p>
        <div class="exercise-steps" id="mpl-exercise-steps-wrap"><h3>What to do:</h3><ol class="exercise-checklist" id="mpl-exercise-steps"></ol></div>
        <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;"><strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span></div>
      </div>
    </section>

    <section class="sequencer-section" id="mpl-sequencer-section" style="margin-top: var(--space-xl);">
      <div class="section-eyebrow" style="margin-bottom: var(--space-sm);">Interactive Drum Sequencer</div>
      <h2 class="section-title" style="margin-bottom: var(--space-lg);">Build Your Pattern</h2>
      <div class="sequencer" id="mpl-sequencer-collection"></div>
      <div class="sequencer-controls" style="display:flex;gap:0.75rem;margin-top:1.5rem;flex-wrap:wrap;">
        <button id="mpl-seq-play-all" class="btn btn-primary" style="min-width:100px;"><img src="images/PLAY.png" alt="Play" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 6px;"> Play</button>
        <button id="mpl-seq-stop-all" class="btn btn-secondary" style="min-width:100px;"><img src="images/STOP.png" alt="Stop" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 6px;"> Stop</button>
        <button id="mpl-seq-clear-all" class="btn btn-secondary" style="min-width:100px;"><img src="images/CLEAR.png" alt="Clear" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 6px;"> Clear</button>
        <button id="mpl-seq-check" class="btn btn-primary" style="min-width:140px;"><img src="images/mplscudo_check.png" alt="‚úì" style="width: 16px; height: 16px; vertical-align: middle; margin-right: 6px;"> Check Pattern</button>
      </div>
      <div class="sequencer-status" id="mpl-seq-status" aria-live="polite" style="margin-top:1rem;"><span>Click steps to activate them.</span></div>
    </section>

    <section class="completion-section" id="mpl-completion-section" style="display:none; margin-top: var(--space-2xl);">
      <div class="completion-card">
        <div class="completion-icon"><img src="images/check_green.png" alt="Completed" style="width: 3rem;"></div>
        <h2 class="completion-title">Lesson Complete!</h2>
        <p class="completion-message" id="mpl-completion-message"></p>
        <div class="completion-actions">
          <a href="#" id="mpl-next-lesson-btn" class="btn btn-primary">Next Lesson ‚Üí</a>
          <a href="labs.html" class="btn btn-secondary">All Lessons</a>
        </div>
      </div>
    </section>

    <!-- ==================================================== -->
    <!-- EDUCATIONAL CONTENT: Live Drum Recording Simulation -->
    <!-- ==================================================== -->
    <section style="margin-top: var(--space-3xl); margin-bottom: var(--space-3xl);">
      <div class="card" style="padding: var(--space-2xl); background: var(--bg-card);">

        <h2 style="font-size: 2rem; font-weight: 700; margin-bottom: var(--space-lg); background: linear-gradient(135deg, #00b894, #00cec9); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Live Drum Simulation: The Human Touch</h2>

        <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: var(--space-lg); color: var(--text-primary);">
          Programming drums that sound like a <strong>real drummer playing in a room</strong> requires more than just velocity variation‚Äîyou need <strong>room ambience</strong>, <strong>overhead mic bleed</strong>, <strong>natural dynamics</strong>, and <strong>performance arcs</strong>. This is the difference between robotic MIDI drums and the organic, breathing feel of rock, indie, and live-sounding electronic productions.
        </p>

        <p style="font-size: 1rem; line-height: 1.8; margin-bottom: var(--space-lg); color: var(--text-secondary);">
          Real drum recordings capture <em>more than just the drums</em>‚Äîthey capture the <strong>room</strong>. Overhead mics pick up <em>bleed</em> from all drums, creating a cohesive, glued-together sound. Close mics capture individual hits with <strong>varying dynamics</strong>. This lesson teaches you how to <em>fake</em> these characteristics with programmed drums.
        </p>

        <div style="background: linear-gradient(135deg, rgba(0, 184, 148, 0.1), rgba(0, 206, 201, 0.1)); padding: var(--space-lg); border-radius: var(--radius-md); border-left: 4px solid #00b894; margin-bottom: var(--space-xl);">
          <p style="font-style: italic; color: var(--text-primary); margin: 0;">
            <strong>Key Principle:</strong> Real drummers <em>never</em> play the same velocity twice. They rush slightly in choruses, drag in verses, and build energy through dynamic performance. Programming this requires <strong>intentional imperfection</strong>.
          </p>
        </div>

        <h3 style="font-size: 1.5rem; font-weight: 600; margin-top: var(--space-2xl); margin-bottom: var(--space-md);">Key Concepts</h3>

        <div style="background: var(--bg-secondary); padding: var(--space-lg); border-radius: var(--radius-md); margin-bottom: var(--space-lg); border-left: 4px solid #00b894;">
          <h4 style="font-size: 1.2rem; font-weight: 600; margin-bottom: var(--space-sm); color: #00b894;">1. Velocity Variation: The ¬±10-20 Rule</h4>
          <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
            Real drummers vary <em>every hit</em> by <strong>¬±10-20 velocity points</strong>. Even when playing "consistently," their hi-hats range from v70 to v90, snares from v95 to v115. This micro-variation is what makes drums feel <strong>alive</strong> instead of robotic.
          </p>
          <p style="line-height: 1.7; color: var(--text-secondary); margin: 0;">
            <strong>How to apply:</strong> Set baseline velocities (kick: v110, snare: v105, hats: v80), then manually vary each hit by <strong>¬±10-15 points</strong>. Or use humanization at <strong>15-20% randomization</strong>.
          </p>
        </div>

        <div style="background: var(--bg-secondary); padding: var(--space-lg); border-radius: var(--radius-md); margin-bottom: var(--space-lg); border-left: 4px solid #00cec9;">
          <h4 style="font-size: 1.2rem; font-weight: 600; margin-bottom: var(--space-sm); color: #00cec9;">2. Micro-Timing: Rush & Drag (5-15ms)</h4>
          <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
            Drummers <strong>rush</strong> (play slightly ahead) during energetic sections and <strong>drag</strong> (play slightly behind) during laid-back grooves. Hi-hats might drift <strong>5-15ms</strong> ahead or behind the grid. This timing variation creates the <em>pocket</em>‚Äîthe groove that makes people move.
          </p>
          <p style="line-height: 1.7; color: var(--text-secondary); margin: 0;">
            <strong>Programming:</strong> Keep <strong>kick mostly on grid</strong> (¬±2-5ms) for stability. Let <strong>snare drift 5-10ms behind</strong> for laid-back feel. Apply <strong>10-15ms randomization to hi-hats</strong>.
          </p>
        </div>

        <div style="background: var(--bg-secondary); padding: var(--space-lg); border-radius: var(--radius-md); margin-bottom: var(--space-lg); border-left: 4px solid #74b9ff;">
          <h4 style="font-size: 1.2rem; font-weight: 600; margin-bottom: var(--space-sm); color: #74b9ff;">3. Room Ambience & Overhead Bleed</h4>
          <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
            Live drums are recorded with <strong>overhead mics</strong> that capture the entire kit plus the <strong>room sound</strong>. This creates a <em>cohesive, glued-together</em> sound. In contrast, close-mic'd samples sound <strong>isolated and sterile</strong>.
          </p>
          <p style="line-height: 1.7; color: var(--text-secondary); margin: 0;">
            <strong>Simulation technique:</strong> Add subtle <strong>room reverb</strong> (0.3-0.8s decay) to all drums at <strong>20-30% wet</strong>. This creates the illusion of drums recorded in the same space. Use a <em>plate or room reverb</em>, not a massive hall.
          </p>
        </div>

        <div style="background: var(--bg-secondary); padding: var(--space-lg); border-radius: var(--radius-md); margin-bottom: var(--space-xl); border-left: 4px solid #fdcb6e;">
          <h4 style="font-size: 1.2rem; font-weight: 600; margin-bottom: var(--space-sm); color: #fdcb6e;">4. Performance Arcs: Verse vs. Chorus</h4>
          <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
            Real drummers play <strong>quieter in verses</strong> (v70-90) and <strong>louder in choruses</strong> (v100-120). This dynamic arc <em>supports the song structure</em>, building energy where needed and laying back where appropriate.
          </p>
          <p style="line-height: 1.7; color: var(--text-secondary); margin: 0;">
            <strong>Programming:</strong> Program verse drums at <strong>-6dB</strong> overall, then boost chorus drums by <strong>+3dB to +6dB</strong>. Or increase all velocities by <strong>15-20 points</strong> in the chorus.
          </p>
        </div>

        <h3 style="font-size: 1.5rem; font-weight: 600; margin-top: var(--space-2xl); margin-bottom: var(--space-md);">Common Mistakes</h3>

        <div style="background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(255, 107, 107, 0.05)); padding: var(--space-lg); border-radius: var(--radius-md); margin-bottom: var(--space-lg); border-left: 4px solid #ff6b6b;">
          <h4 style="font-size: 1.1rem; font-weight: 600; color: #ff6b6b; margin-bottom: var(--space-sm);">‚ùå Perfect Quantization</h4>
          <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
            Locking everything to the grid creates <em>robotic</em> drums. Real drummers are <strong>imperfect</strong>‚Äîthat's what gives drums groove and soul.
          </p>
          <p style="line-height: 1.7; color: var(--text-primary); margin: 0;">
            <strong>Fix:</strong> Apply <strong>5-15ms timing humanization</strong>. Let hi-hats and percussion drift slightly, while keeping kick mostly on grid for stability.
          </p>
        </div>

        <div style="background: linear-gradient(135deg, rgba(254, 202, 87, 0.1), rgba(254, 202, 87, 0.05)); padding: var(--space-lg); border-radius: var(--radius-md); margin-bottom: var(--space-lg); border-left: 4px solid #feca57;">
          <h4 style="font-size: 1.1rem; font-weight: 600; color: #feca57; margin-bottom: var(--space-sm);">‚ùå Dry Samples with No Room</h4>
          <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
            Using completely <strong>dry samples</strong> makes drums sound disconnected‚Äîlike each drum is in a different room. Real drum recordings have <em>room ambience</em> that glues everything together.
          </p>
          <p style="line-height: 1.7; color: var(--text-primary); margin: 0;">
            <strong>Fix:</strong> Add <strong>subtle room reverb</strong> (0.3-0.8s) to all drums at <strong>20-30% wet</strong>. Keep it subtle‚Äîyou want <em>cohesion</em>, not a swimming pool.
          </p>
        </div>

        <div style="background: linear-gradient(135deg, rgba(162, 155, 254, 0.1), rgba(162, 155, 254, 0.05)); padding: var(--space-lg); border-radius: var(--radius-md); margin-bottom: var(--space-xl); border-left: 4px solid #a29bfe;">
          <h4 style="font-size: 1.1rem; font-weight: 600; color: #a29bfe; margin-bottom: var(--space-sm);">‚ùå Same Dynamics Through Entire Song</h4>
          <p style="line-height: 1.7; color: var(--text-secondary); margin-bottom: var(--space-sm);">
            Programming verse and chorus at <strong>identical velocities</strong> makes the song feel flat. Real drummers <em>build energy</em> through dynamics.
          </p>
          <p style="line-height: 1.7; color: var(--text-primary); margin: 0;">
            <strong>Fix:</strong> Verse: v70-90 (quieter, laid-back). Chorus: v100-120 (louder, aggressive). This dynamic arc <strong>supports the song structure</strong>.
          </p>
        </div>

        <h3 style="font-size: 1.5rem; font-weight: 600; margin-top: var(--space-2xl); margin-bottom: var(--space-md);">Why This Matters</h3>

        <div style="background: linear-gradient(135deg, rgba(0, 184, 148, 0.1), rgba(0, 206, 201, 0.1)); padding: var(--space-xl); border-radius: var(--radius-md); margin-bottom: var(--space-xl); border: 1px solid rgba(0, 184, 148, 0.3);">
          <ul style="list-style: none; padding: 0; margin: 0; display: grid; gap: var(--space-lg);">
            <li style="display: flex; align-items: flex-start; gap: var(--space-md);">
              <span style="font-size: 1.5rem;">ü•Å</span>
              <div>
                <strong>Organic Sound:</strong> Live simulation techniques make programmed drums feel <strong>human and natural</strong>‚Äîessential for rock, indie, and organic electronic genres.
              </div>
            </li>
            <li style="display: flex; align-items: flex-start; gap: var(--space-md);">
              <span style="font-size: 1.5rem;">üé∏</span>
              <div>
                <strong>Emotional Connection:</strong> Humans respond to <strong>imperfection and dynamics</strong>. Perfect drums sound cold; slightly imperfect drums sound <em>alive</em>.
              </div>
            </li>
            <li style="display: flex; align-items: flex-start; gap: var(--space-md);">
              <span style="font-size: 1.5rem;">üéµ</span>
              <div>
                <strong>Professional Trick:</strong> Even <em>electronic</em> genres benefit from subtle humanization. A little imperfection makes beats groove harder.
              </div>
            </li>
          </ul>
        </div>

        <h3 style="font-size: 1.5rem; font-weight: 600; margin-top: var(--space-2xl); margin-bottom: var(--space-md);">What's Next?</h3>

        <p style="line-height: 1.8; color: var(--text-secondary); margin-bottom: var(--space-md);">
          You've completed the core drum programming curriculum! The final lesson explores <strong>advanced polyrhythms and cross-rhythms</strong>‚Äîcomplex independent rhythms for prog, math rock, and experimental music.
        </p>

        <div style="background: var(--bg-secondary); padding: var(--space-lg); border-radius: var(--radius-md); border-left: 4px solid #0984e3;">
          <p style="margin: 0;">
            <strong>Up Next:</strong> <strong>Lesson 21</strong> covers <strong>Advanced Polyrhythms & Cross-Rhythms</strong>‚Äîmastering 5:4 polyrhythms, metric displacement, and phase shifting for complex, hypnotic grooves.
          </p>
        </div>

      </div>
    </section>
    <!-- END EDUCATIONAL CONTENT -->

  </main>

  <script type="module">
    import { lessonConfig } from './configs/lesson-drums-20.config.js';
    import { initLessonFromConfig } from './lesson-engine.js';
    initLessonFromConfig(lessonConfig);
  </script>
  <script src="theme-registry.js"></script>
  <script src="theme-manager.js"></script>
  <script src="navbar.js"></script>
</body>
</html>
