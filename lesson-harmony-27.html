<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Lesson 27 · Harmony & Melody · Counterpoint Basics | Music Producer Lab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="description" content="Free Lesson 27 from Music Producer Lab: learn species counterpoint, voice leading rules, and two-voice writing techniques." />
  <meta name="theme-color" content="#030508">
  <link rel="icon" type="image/svg+xml" href="mpl-favicon.svg">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="navbar-placeholder"></div>
  <main class="main-content container">
    <section class="hero" id="mpl-hero" aria-label="Lesson hero" style="display: flex; align-items: center; gap: var(--space-3xl);">
      <div class="hero-copy" style="flex: 1; max-width: none;">
        <div class="hero-copy-eyebrow">Harmony & Melody · Lesson 27</div>
        <h1 class="hero-title"><span>Counterpoint Basics:</span><span id="mpl-hero-title-highlight">Two-Voice Writing</span></h1>
        <p class="hero-subtitle" id="mpl-hero-subtitle">Loading lesson content...</p>
      </div>
      <aside class="hero-visual" aria-hidden="true">
        <div class="hero-visual-header"><div class="hero-visual-title">Free lesson</div><div class="hero-visual-pill">Expert harmony</div></div>
        <div class="hero-visual-grid">
          <div class="hero-visual-main">
            <div class="hero-visual-main-title"><span>Lesson 27</span></div>
            <div class="hero-visual-waves"><div class="hero-visual-wave"></div><div class="hero-visual-wave"></div><div class="hero-visual-wave"></div></div>
            <div class="hero-visual-metrics"><div class="hero-visual-metric"><span>Level</span><strong>Expert</strong></div><div class="hero-visual-metric"><span>Time</span><strong>20–25 min</strong></div></div>
          </div>
        </div>
      </aside>
    </section>

    <section class="exercise-instructions" id="mpl-exercise-section" style="margin-top: var(--space-2xl);">
      <div class="exercise-box">
        <div class="section-eyebrow">Exercise</div>
        <h2 class="section-title" id="mpl-exercise-title">Loading exercise...</h2>
        <p class="section-body" id="mpl-exercise-description"></p>
        <div class="exercise-steps" id="mpl-exercise-steps-wrap"><h3>What to do:</h3><ol class="exercise-checklist" id="mpl-exercise-steps"></ol></div>
        <div class="exercise-tip" id="mpl-exercise-tip" style="display:none;"><strong>Tip:</strong> <span id="mpl-exercise-tip-text"></span></div>
      </div>
    </section>

    <section class="sequencer-section" id="mpl-sequencer-section" style="margin-top: var(--space-xl);">
      <div class="section-eyebrow" style="margin-bottom: var(--space-sm);">Interactive Piano Roll</div>
      <h2 class="section-title" style="margin-bottom: var(--space-lg);">Build Your Progression</h2>
      <div class="sequencer" id="mpl-sequencer-collection"></div>
      <div class="sequencer-controls" style="display:flex;gap:0.75rem;margin-top:1.5rem;flex-wrap:wrap;">
        <button id="mpl-seq-play" class="btn btn-primary" style="min-width:100px;"><img src="images/PLAY.png" alt="Play" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 6px;"> Play</button>
        <button id="mpl-seq-stop" class="btn btn-secondary" style="min-width:100px;"><img src="images/STOP.png" alt="Stop" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 6px;"> Stop</button>
        <button id="mpl-seq-clear-all" class="btn btn-secondary" style="min-width:100px;"><img src="images/CLEAR.png" alt="Clear" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 6px;"> Clear</button>
      </div>
      <div class="sequencer-status" id="mpl-seq-status" aria-live="polite" style="margin-top:1rem;"><span>Click on the piano roll to place notes.</span></div>
    </section>

    <section class="completion-section" id="mpl-completion-section" style="display:none; margin-top: var(--space-2xl);">
      <div class="completion-card">
        <div class="completion-icon"><img src="images/mplstellinaesagono.png" alt="Success" style="width: 3em; height: 3em;"></div>
        <h2 class="completion-title">Lesson Complete!</h2>
        <p class="completion-message" id="mpl-completion-message"></p>
        <div class="completion-actions">
          <a href="#" id="mpl-next-lesson-btn" class="btn btn-primary">Next Lesson →</a>
          <a href="labs.html" class="btn btn-secondary">All Lessons</a>
        </div>
      </div>
    </section>
  </main>

  <section class="theory-section" style="margin-top: var(--space-2xl);">
    <div class="section-eyebrow">Theory</div>
    <h2 class="section-title">Counterpoint Basics: Two-Voice Writing</h2>

    <div class="exercise-box">
      <h3>What You're Actually Making</h3>
      <p>You are learning <strong>counterpoint</strong> — the art of combining independent melodic lines that sound good together harmonically. Counterpoint literally means "point against point" or "note against note."</p>
      <p>Unlike chord-based harmony (vertical thinking), counterpoint emphasizes <strong>horizontal (linear) melodic motion</strong>. Each voice has its own melodic integrity while creating pleasing harmony with other voices. This is the foundation of Bach fugues, classical music, and sophisticated modern arrangements.</p>
    </div>

    <div class="exercise-box">
      <h3>Horizontal vs. Vertical Thinking</h3>
      <p><strong>Vertical Harmony (Chord-Based)</strong>:</p>
      <ul>
        <li>Think in stacked notes: C-E-G = C major chord</li>
        <li>Focus on chord progressions: I-IV-V-I</li>
        <li>Voices move to create chords</li>
        <li>Example: Strumming a guitar, piano chords</li>
      </ul>

      <p><strong>Horizontal Harmony (Counterpoint)</strong>:</p>
      <ul>
        <li>Think in melodic lines: Each voice has its own melody</li>
        <li>Focus on voice leading: Smooth motion between notes</li>
        <li>Chords emerge from independent lines</li>
        <li>Example: Bach two-part inventions, fugues</li>
      </ul>

      <p><strong>The Key Principle</strong>: In counterpoint, you write <strong>melodies first, harmony second</strong>. The harmony is a byproduct of independent melodic lines moving together.</p>
    </div>

    <div class="exercise-box">
      <h3>Consonance vs. Dissonance</h3>
      <p>Counterpoint distinguishes between <strong>stable intervals (consonances)</strong> and <strong>unstable intervals (dissonances)</strong>:</p>

      <p><strong>Perfect Consonances</strong>:</p>
      <pre>
Unison:       C - C   (0 semitones)
Perfect 5th:  C - G   (7 semitones)
Octave:       C - C'  (12 semitones)

Sound: Very stable, pure, can sound empty
Rules: Must NOT approach or leave in parallel motion
      </pre>

      <p><strong>Imperfect Consonances</strong>:</p>
      <pre>
Major 3rd:   C - E   (4 semitones)
Minor 3rd:   C - Eb  (3 semitones)
Major 6th:   C - A   (9 semitones)
Minor 6th:   C - Ab  (8 semitones)

Sound: Pleasant, warm, flexible
Rules: Can move freely, including parallel motion
      </pre>

      <p><strong>Dissonances</strong>:</p>
      <pre>
Major 2nd:   C - D   (2 semitones)
Minor 2nd:   C - Db  (1 semitone)
Major 7th:   C - B   (11 semitones)
Minor 7th:   C - Bb  (10 semitones)
Perfect 4th: C - F   (5 semitones) - treated as dissonance in 2-voice!
Tritone:     C - F#  (6 semitones)

Sound: Tense, unstable, requires resolution
Rules: Must be prepared and resolved carefully
      </pre>

      <p><strong>Important Note</strong>: The perfect 4th (C-F) is considered <strong>consonant in 3+ voice counterpoint</strong> but <strong>dissonant in 2-voice counterpoint</strong>. This is because without a bass note below, the 4th sounds unstable.</p>
    </div>

    <div class="exercise-box">
      <h3>Types of Motion</h3>
      <p>How two voices move relative to each other:</p>

      <p><strong>Contrary Motion (Best)</strong>:</p>
      <pre>
Voice 1: C → E  (up)
Voice 2: G → F  (down)

Voices move in opposite directions
Creates independence and smooth voice leading
Most desirable motion in counterpoint
      </pre>

      <p><strong>Oblique Motion (Good)</strong>:</p>
      <pre>
Voice 1: C → C  (stays)
Voice 2: E → F  (moves)

One voice stays, the other moves
Creates stability with motion
Common and effective
      </pre>

      <p><strong>Parallel Motion (Restricted)</strong>:</p>
      <pre>
Voice 1: C → D  (up)
Voice 2: E → F  (up)

Both voices move same direction, same interval

Parallel 3rds/6ths: OK (sounds pleasant)
Parallel 5ths/octaves: FORBIDDEN (destroys independence)
      </pre>

      <p><strong>Similar Motion (Use Carefully)</strong>:</p>
      <pre>
Voice 1: C → E  (up 4 semitones)
Voice 2: G → B  (up 4 semitones)

Same direction, different intervals
Can lead to "hidden" parallel 5ths/octaves
Avoid when approaching perfect intervals
      </pre>

      <p><strong>The Golden Rule</strong>: Prefer <strong>contrary or oblique motion</strong>. Avoid <strong>parallel 5ths and octaves</strong> at all costs.</p>
    </div>

    <div class="exercise-box">
      <h3>Species Counterpoint</h3>
      <p><strong>Species counterpoint</strong> is a systematic method for learning contrapuntal writing, developed in the 18th century:</p>

      <p><strong>First Species (1:1 - Note Against Note)</strong>:</p>
      <pre>
Cantus Firmus:  C  - D  - E  - F  - E  - D  - C
Counterpoint:   E  - F  - G  - A  - G  - F  - E

Rules:
- One note against each cantus firmus note
- Only consonances allowed
- Must start on unison or octave
- Must end on unison or octave
- Prefer contrary or oblique motion
- Avoid parallel 5ths and octaves
      </pre>

      <p><strong>Second Species (2:1 - Two Notes Against One)</strong>:</p>
      <pre>
Cantus Firmus:  C        D        E        F
Counterpoint:   E  - F - G  - A - G  - F - E  - D

Rules:
- Two notes against each cantus note
- First note (downbeat) must be consonance
- Second note (upbeat) can be dissonance (passing tone)
- Introduces rhythmic variety
      </pre>

      <p><strong>Third Species (4:1 - Four Notes Against One)</strong>:</p>
      <ul>
        <li>Four notes against each cantus note</li>
        <li>Allows more dissonances as passing tones, neighbor tones</li>
        <li>Creates flowing, ornamental melodic line</li>
      </ul>

      <p><strong>Fourth Species (Syncopation)</strong>:</p>
      <ul>
        <li>Tied notes creating suspensions</li>
        <li>Dissonance on strong beat (tied), resolves down on weak beat</li>
        <li>Creates expressive tension and resolution</li>
      </ul>

      <p><strong>Fifth Species (Florid - Free Style)</strong>:</p>
      <ul>
        <li>Combines all species freely</li>
        <li>Renaissance polyphony style (Palestrina)</li>
        <li>Most expressive and most complex</li>
      </ul>
    </div>

    <div class="exercise-box">
      <h3>The Rules of First Species Counterpoint</h3>
      <p>These are the essential rules for writing strict first species (1:1) counterpoint:</p>

      <p><strong>DO:</strong></p>
      <ul>
        <li><strong>Start on unison or octave</strong>: First interval must be C-C or C-C' (perfect consonance)</li>
        <li><strong>End on unison or octave</strong>: Final interval must be perfect consonance for closure</li>
        <li><strong>Use contrary or oblique motion primarily</strong>: Creates independence between voices</li>
        <li><strong>Prefer imperfect consonances (3rds, 6ths)</strong>: More interesting than perfect consonances</li>
        <li><strong>Create smooth melodic lines</strong>: Mostly stepwise motion, occasional leaps (3rd, 4th, 5th)</li>
        <li><strong>Approach final note by step</strong>: Leading tone (B) → tonic (C) or supertonic (D) → tonic (C)</li>
      </ul>

      <p><strong>DON'T:</strong></p>
      <ul>
        <li><strong>Use parallel 5ths or octaves</strong>: C-G moving to D-A is forbidden!</li>
        <li><strong>Use parallel 4ths</strong>: Treated as parallel perfect intervals</li>
        <li><strong>Use direct/hidden 5ths or octaves</strong>: Similar motion into perfect interval from non-perfect</li>
        <li><strong>Have voices cross</strong>: Upper voice should stay above lower voice</li>
        <li><strong>Leap more than an octave</strong>: Keep melodies singable and smooth</li>
        <li><strong>Use augmented or diminished intervals melodically</strong>: Avoid tritones, augmented 2nds</li>
      </ul>

      <p><strong>Example of Correct First Species</strong>:</p>
      <pre>
CF:  C  - D  - F  - E  - D  - C
CP:  C  - B  - D  - C  - B  - C
Int: U  - 6  - 3  - 6  - 6  - U

Motion: oblique, contrary, contrary, oblique, oblique
No parallel 5ths/octaves ✓
Starts and ends on unison ✓
      </pre>
    </div>

    <div class="exercise-box">
      <h3>Contrapuntal Devices and Techniques</h3>

      <p><strong>Imitation</strong>:</p>
      <ul>
        <li>Second voice imitates first voice's melody</li>
        <li>Can be exact (canon) or free (fugue subject/answer)</li>
        <li>Example: "Row Row Row Your Boat" (round/canon)</li>
      </ul>

      <p><strong>Sequence</strong>:</p>
      <ul>
        <li>Repeat melodic pattern at different pitch level</li>
        <li>Creates coherent melodic development</li>
        <li>Example: Bach sequences in inventions</li>
      </ul>

      <p><strong>Inversion (Melodic)</strong>:</p>
      <ul>
        <li>Flip the intervals: upward motion becomes downward</li>
        <li>Mirror image of original melody</li>
        <li>Example: C-D-E becomes C-Bb-Ab (inverted)</li>
      </ul>

      <p><strong>Retrograde</strong>:</p>
      <ul>
        <li>Play melody backwards (last note to first)</li>
        <li>Used in canons, 12-tone music</li>
        <li>Example: Crab canon (Bach's Musical Offering)</li>
      </ul>

      <p><strong>Augmentation/Diminution</strong>:</p>
      <ul>
        <li><strong>Augmentation</strong>: Slower (double note values)</li>
        <li><strong>Diminution</strong>: Faster (half note values)</li>
        <li>Creates rhythmic variation while preserving melody</li>
      </ul>
    </div>

    <div class="exercise-box">
      <h3>Writing Your Own Two-Voice Counterpoint</h3>
      <p><strong>Step 1: Choose Cantus Firmus</strong></p>
      <ul>
        <li>8-12 notes, mostly stepwise motion, few leaps</li>
        <li>Starts and ends on tonic</li>
        <li>Example: C-D-F-E-D-C-D-E-F-G-F-E-D-C</li>
      </ul>

      <p><strong>Step 2: Sketch Outer Framework</strong></p>
      <ul>
        <li>First note: Unison or octave above/below</li>
        <li>Last note: Unison or octave</li>
        <li>Penultimate note: Leading tone relationship (B-C or D-C)</li>
      </ul>

      <p><strong>Step 3: Fill the Middle</strong></p>
      <ul>
        <li>Use contrary motion when possible</li>
        <li>Mix 3rds and 6ths (avoid too many identical intervals)</li>
        <li>Check for parallel 5ths/octaves after every note</li>
        <li>Create smooth, singable counterpoint melody</li>
      </ul>

      <p><strong>Step 4: Check Voice Leading</strong></p>
      <ul>
        <li>✓ No parallel 5ths or octaves</li>
        <li>✓ No direct 5ths or octaves</li>
        <li>✓ Smooth melodic contour in counterpoint</li>
        <li>✓ No voice crossing</li>
        <li>✓ Mostly conjunct (stepwise) motion</li>
      </ul>
    </div>

    <div class="exercise-box">
      <h3>Genre Applications: Counterpoint in Modern Music</h3>

      <p><strong>Baroque Music (Bach, Handel)</strong>:</p>
      <ul>
        <li>Strict species counterpoint foundation</li>
        <li>Fugues (imitative counterpoint), inventions, chorales</li>
        <li>Mathematical, rule-based, deeply expressive</li>
        <li>Example: Bach Two-Part Inventions, Well-Tempered Clavier</li>
      </ul>

      <p><strong>Classical Music (Mozart, Haydn)</strong>:</p>
      <ul>
        <li>Looser counterpoint mixed with homophonic texture</li>
        <li>Often in development sections, transitions</li>
        <li>Balance between counterpoint and melody+accompaniment</li>
        <li>Example: Mozart string quartets, Haydn symphonies</li>
      </ul>

      <p><strong>Jazz (Modern)</strong>:</p>
      <ul>
        <li>Contrapuntal improvisation: multiple horn lines</li>
        <li>Walking bass as countermelody to melody</li>
        <li>Example: Contrapunctus (Vijay Iyer), Gerry Mulligan pianoless quartet</li>
      </ul>

      <p><strong>Film Music</strong>:</p>
      <ul>
        <li>Leitmotif counterpoint: combine character themes</li>
        <li>Creates complexity and narrative depth</li>
        <li>Example: "Duel of the Fates" (John Williams), Hans Zimmer layered themes</li>
      </ul>

      <p><strong>Electronic Music</strong>:</p>
      <ul>
        <li>Layered synthesizer lines (counterpoint of timbres)</li>
        <li>Arpeggios as counterpoint to main melody</li>
        <li>Example: Aphex Twin, Autechre, Jon Hopkins</li>
      </ul>

      <p><strong>Modern Production (Practical Counterpoint)</strong>:</p>
      <ul>
        <li>Drums + bass + melody = three-voice counterpoint</li>
        <li>Independent melodic lines prevent frequency masking</li>
        <li>Contrary motion keeps arrangement clear and separated</li>
      </ul>
    </div>

    <div class="exercise-box">
      <h3>Common Mistakes to Avoid</h3>
      <ul>
        <li><strong>Parallel 5ths or octaves</strong>: The most common error! C-G moving to D-A destroys voice independence. Always check for this.</li>
        <li><strong>Too much parallel motion</strong>: Parallel 3rds/6ths are OK in moderation, but constant parallel motion sounds like chords, not counterpoint.</li>
        <li><strong>Voice crossing</strong>: Upper voice dipping below lower voice is confusing and breaks the linear clarity.</li>
        <li><strong>Unmelodic lines</strong>: Too many leaps, awkward intervals (augmented 2nd, tritone), or lack of contour makes counterpoint sound disjointed.</li>
        <li><strong>Ignoring rhythmic independence</strong>: In modern counterpoint, voices should have rhythmic variety, not just move in lockstep.</li>
      </ul>
    </div>

    <div class="exercise-box">
      <h3>Why This Matters</h3>
      <p>Counterpoint is essential for music production because it teaches you:</p>
      <ul>
        <li><strong>How melodies interact</strong>: Understanding voice leading helps you layer melodies, harmonies, and bass lines without muddiness</li>
        <li><strong>Smooth voice leading</strong>: Contrary motion and proper interval choices create professional-sounding progressions</li>
        <li><strong>Arrangement clarity</strong>: Independent lines (counterpoint) prevent frequency masking and keep mixes clear</li>
        <li><strong>How to avoid parallel 5ths</strong>: Even in modern music, parallel 5ths sound amateurish unless used intentionally for effect</li>
        <li><strong>Linear thinking</strong>: Counterpoint trains you to think horizontally (melodies) instead of just vertically (chords)</li>
      </ul>
      <p>Modern producers often ignore strict counterpoint rules, but the <strong>principles</strong> remain valuable. Independent melodic lines, contrary motion, and smooth voice leading make your productions sound professional and sophisticated.</p>
    </div>

    <div class="exercise-box">
      <h3>What's Next</h3>
      <p>Now that you understand counterpoint and voice leading, you're ready for <strong>Lesson 28: Modal Interchange</strong> — the final lesson in the Harmony & Melody category. You'll learn how to borrow chords from parallel modes (modal interchange) and experiment with polytonality (combining multiple keys simultaneously) for modern, sophisticated harmony.</p>
      <p>Modal interchange builds on everything you've learned — combining reharmonization, voice leading, and chromatic harmony into advanced techniques used in film scoring, jazz, and progressive rock.</p>
    </div>

  </section>

  <script type="module">
    import { lessonConfig } from './configs/lesson-harmony-27.config.js';
    import { initLessonFromConfig } from './lesson-engine.js';
    initLessonFromConfig(lessonConfig);
  </script>
  <script src="theme-registry.js"></script>
  <script src="theme-manager.js"></script>
  <script src="navbar.js"></script>
</body>
</html>
